<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0 Level 1//EN">
<HTML>
  <HEAD>
    <TITLE>Getting and Building CapROS</TITLE>
  </HEAD>
  <BODY BGCOLOR="#fff4ff" text="#000000" link="#0000ee" vlink="#551a8b" alink="#ff0000">
    <table>
      <tr valign="top">
	<td width="10%">&nbsp;</td>
	<td>
	  <div class=nocss>
	    <br class=nocss>&nbsp;
	      <br class=nocss>&nbsp;
	  </div>
	  <center>
	    <H1>Getting and Building CapROS</H1>
	  </center>
	  <h1>1. Obtaining CapROS</h1>
	  <p>
	    If you just want to have a
	    look at the code, you can simply go to the 
	    <a href="http://sourceforge.net/projects/capros/">
	    Project page</a>
            and click on "Browse CVS".
            SourceForge also has instructions for getting
            anonymous access to CVS. 
	  </p>
	  <h1>2. Building CapROS</h1>
	  <p>
            This has been tested on the Fedora Core 2 version of Linux.
            You may need to obtain and install the xfig and transfig
            packages, if you don't already have them. 
            I found them
            <a href="ftp://epb.lbl.gov/xfig/alpha">here</a>.
	  </p>
	  <h2>2.1. Building the Cross Compilation Tools</h2>
	  <p>
            CapROS uses its own Gnu-based cross-compilation tools 
            for stability.
            Go to the 
	    <a href="http://sourceforge.net/projects/capros/">
	    Project page</a>
            and under "Latest File Releases", click on the download link for
            the "capros-xenv" package. This will get you a .tgz file with the
            cross-compilation tools needed to build CapROS. To build the tools:
	  </p>
	  <ul>
<pre>
cd somewhere
zcat capros-xenv-src-1.tgz | tar -xv
cd eros-xenv-src
make
</pre>
	  </ul>
	  <p>
            and follow the instructions.
	  </p>
	  <p>
	    If you have a number of people at your site who are all
	    building CapROS, you may wish to place the cross compilers
	    in a commonly shared directory. This can be done by
	    setting the environment variable <tt>EROS_XENV</tt> to the
	    directory name <em>before</em> building the cross
	    compilers.
	  </p>
	  <p>
	    Once the <b>make</b> command has completed, you are done
	    with the cross compiler source code, and you can delete
	    the <tt>eros-xenv-src</tt> directory. Note that 
            the cross compiler tools are not currently in the CVS
            repository, as we don't anticipate needing to change them.
	  </p>
	  <h2>2.2. Building CapROS</h2>
	  <p>
            Follow the instructions on SourceForge for accessing 
            and downloading the CapROS CVS repository.
	  </p>
	  <p>
	    Now you can build CapROS by
	  </p>
	  <ul>
<pre>
cd somewhere/eros/src
make
</pre>
	  </ul>
	  <h1>3. Run-Time Requirements</h1>
	  <p>
	    The current status is that CapROS does not run on the hardware
            I have for testing. It has run on Vmware but I haven't tested that.
            The following notes give an idea of what we expect
            will be needed.
	  </p>
	  <h2>3.1 Disk Space</h2>
	  <p>
	    CapROS <em>can</em> run in as little as 20
	    Mbytes.  Doing anything interesting with it will certainly
	    require more.  At the moment we are suggesting a 100 Mbyte
	    partition if you just want to fiddle with it, or a 250
	    Mbyte partition if you have something more serious in
	    mind.
	  </p>
	  <p> 
	    If you feel like planning ahead, use your handy
	    <tt>fdisk</tt> equivalent to create a partition, and give it
	    type 0x95.
	  </p>
	  To boot from the hard disk, the CapROS partition
	  must fall within the bootable range of your machine.  It is
	  also possible (even straightforward) to boot CapROS from a
	  floppy, which allows non-bootable partitions to be used.
	  The kernel theoretically groks extended partitions, but we
	  have never tested this.
	</p>
	  <h2>3.2 Hardware</h2>
	  <p>
	    CapROS will support the following hardware (all
	    trademarks belong to their respective owners):
	  </p>
	  <table>
	    <tr valign="top">
	      <td><strong>Processor</strong></td>
	      <td>486, Pentium, Pentium Pro.  There's nothing we're aware of
		that would prevent clone processors from working, but we have
		no way to test them and they are not a priority for us. If you
		have them, we would be glad to hear what luck you have.  Up to
		a point, we'll try to help get them working.
		<p> CapROS runs on all of the multiprocessor boards we have
		  tried, but the first research release will not provide SMP
		  support.
	      </td>
	    </tr>
	    <tr valign="top">
	      <td><strong>BIOS</strong></td>
	      <td>We are not aware of any BIOS-specific dependencies. We have
		not tested large drives on BIOS's that do not support extended
		drive size information.
	      </td>
	    </tr>
	    <tr valign="top">
	      <td><strong>Motherboard</strong></td>
	      <td>We are not aware of specific dependencies.  We use the TYAN
		family of motherboards, but have also run successfully on a
		number of clone boards.
	      </td>
	    </tr>
	    <tr valign="top">
	      <td><strong>Memory</strong></td>
	      <td>We have run CapROS successfully (albeit unintentionally) on a
		machine with only 640K of memory.  This is not a recommended
		configuration.  8M should be fine for now, but 16M is better.
	      </td>
	    </tr>
	    <tr valign="top">
	      <td><strong>Disk</strong></td>
	      <td>The first research release will <em>not</em> support SCSI
		disks.  There are a great many SCSI controllers, and we have
		found that the <em>sustainable</em> throughput for IDE is as
		good or better than we see from SCSI.  We are aware that many
		people want to run SCSI devices.  
		<p> When we do get to SCSI (which should be soon -- it's
		  necessary for the MIPS port we are doing), our first attention
		  will go to the Adaptec 2940 family, because that is what we
		  have.  Support for other adaptors will be guided by demand and
		  availability.  Your chances of getting us to support a card
		  are greatly improved if you have one to loan us.
	      </td>
	    </tr>
	    <tr valign="top">
	      <td><strong>Video</strong></td>
	      <td> The kernel assumes a VGA or better adaptor, but the system
		does not (yet) provide a bitmapped graphics interface.
		<p> We hope to change this in the near future, but are still
		  debating the proper graphics model for this class of system.
		  The Mach32, Mach64, and Diamond cards are high on our priority
		  list.  Our group favors the Toshiba portables, so we'll
		  probably get the C&amp;T chipset family working early as well.
	      </td>
	    </tr>
	    <tr valign="top">
	      <td><strong>Network</strong></td> <td> The current
		implementation includes drivers for the 3COM 3c509 and 3c590XL
		network cards.  Regrettably, these drivers have been well hacked 
		over, so it is not clear that the current implementations actually work.
	      </td>
	    </tr>
	  </table>
	</td>
	<td width="10%">&nbsp;</td>
      </tr>
    </table>
  </BODY>
</HTML>
