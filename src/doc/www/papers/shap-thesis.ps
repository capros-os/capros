%!PS-Adobe-2.0
%%Creator: dvips(k) 5.85 Copyright 1999 Radical Eye Software
%%Title: twoside.dvi
%%Pages: 206
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Roman Times-Bold Times-Italic Times-BoldItalic
%%+ Courier
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -o tmp.ps twoside.dvi
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 1999.10.13:1932
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "1 July 1998",
%   filename = "8r.enc",
%   email = "tex-fonts@@tug.org",
%   docstring = "Encoding for TrueType or Type 1 fonts
%                to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both 
% ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (twoside.dvi)
@start /Fa 171[32 6[48 77[{TeXBase1Encoding ReEncodeFont}2
58.1154 /Times-Italic rf
%DVIPSBitmapFont: Fb cmmi5 5 3
/Fb 3 111 df<0003B612C0A239003C000FED03801501A25BEC0181A2140301F090C7FC
5C90B5FCA23801E00E1406A2ED01803A03C00C030014001506A248485B151C5DEC01F8B6
FC5D221C7B9B2A>69 D<137013F0A213601300A7EA0F80EA1FC0EA31E01261A2EAC3C012
03EA0780A3EA0F001308EA1E18A213301370EA0FE0EA07800D1D7D9C16>105
D<380F03F0383F87FC3833DC1EEA63F8EAC3F013E0EA03C0A248485AA3EC7820D80F0013
6014F015C014F1001EEB7F80000CEB3E001B127D9125>110 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fc cmr5 5 3
/Fc 3 51 df<EA01FCEA07FF380F0780381C01C0383800E0A2007813F000701370A200F0
1378AB00701370A2007813F0003813E0A2381C01C0380F07803807FF00EA01FC151D7D9B
1C>48 D<1360EA01E0120F12FF12F11201B3A3387FFF80A2111C7B9B1C>I<EA03FCEA0F
FF383C0FC0387003E0387801F0EAFC0014F8A214781278C712F814F0A2EB01E0EB03C0EB
0780EB0F00131C5B13E03801C018EA0380EA0600481338383FFFF05AB5FCA2151C7D9B1C
>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fd cmsy5 5 2
/Fd 2 83 df<B612FEA31F037A8B2D>0 D<90383FFFFC48B67E0007813A1F07803FE000
38EB00074848130300F0140112E000805D000014035E010E49C7FC011E130E157CEC1FF0
90381C3FC090383C7F80EC1FC0140F90383807E0EB780301707F9026F001F81380160390
3AE000FC07000001EC7E1E49EB7FF80003EC3FE090C7EA1F80291D7C9B32>82
D E
%EndDVIPSBitmapFont
/Fe 139[19 9[19 4[26 1[26 32 18[45 79[{TeXBase1Encoding ReEncodeFont}6
58.1154 /Times-Bold rf
%DVIPSBitmapFont: Ff cmex10 10 5
/Ff 5 92 df<EC01F01407140F143F147F903801FFC0491380491300495A495A495A495A
5C495A485B5A91C7FC485AA2485AA2485AA2123F5BA2127F5BA412FF5BB3B3A71C4B607E
4A>56 D<EAFFC0B3B3A77F127FA47F123FA27F121FA26C7EA26C7EA26C7E807E6C7F6D7E
806D7E6D7E6D7E6D7E6D13806D13C09038007FF0143F140F140714011C4B60804A>58
D<EC1FF8B3B3A7143F15F0A4EC7FE0A315C014FFA2491380A215005B5C1307495A5C131F
495A5C495A495A4890C7FC485A485A485A485AEA7FE0EAFF8090C8FC12FCB4FC7FEA7FE0
EA1FF06C7E6C7E6C7E6C7E6C7F6D7E6D7E806D7E130F806D7E1303807F1580A26D13C0A2
147F15E0A3EC3FF0A415F8141FB3B3A71D9773804A>60 D<EAFFC0B3A90A1B60804A>62
D<00381A0E007C1A1F00FEF23F80B3B3B3B3A86C1A7F6C1B00A36D61003F62A26D180100
1F626D1803000F626D18076C6C4E5AA26C6C4E5A6D183F6C6C4E5A6C6D4D5A6E5E6D6C4C
90C7FC6D6C4C5AD91FFCEE1FFC6D6C4C5A6D6C6CEDFFF06D01E002035B6D01FC021F5B90
28007FFFE003B5C8FC6E90B65A020F16F8020316E002001680033F4AC9FC030714F09226
003FFECAFC51747B7F5C>91 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fg cmbx8 8 3
/Fg 3 120 df<3907E01FF000FFEB7FFC01E1B5FCD9E7E013809038EF807F260FFE0013
C049133FA25BA25BB0B53803FFFCA4261E7C9D2D>110 D<EB07FE90387FFFE048B512F8
3903FC03FC3907F000FE4848137F4848EB3F80003F15C049131F007F15E0A200FF15F0A8
007F15E0A26D133F003F15C0001F15806D137F6C6CEBFF003903FC03FC6CB55A6C6C13E0
D907FEC7FC241E7E9D29>I<3CFFFE0FFFC03FFCA43C0FF000FE0003C06D017F13070007
4A1480EE800F6C6C16005CD801FEECC01E5C01FF9038CFE03E6C163CDA0787137CD97F87
EBF078148F9139CF03F8F8D93FDF5C9138DE01FDD91FFE5CA26D486CB45AA24A137F0107
5D4A133F010392C7FCA26D48131E361E7E9D3B>119 D E
%EndDVIPSBitmapFont
/Fh 140[39 4[55 78 3[28 55 16[89 3[55 14[72 68[{
TeXBase1Encoding ReEncodeFont}8 99.6264 /Times-BoldItalic
rf
%DVIPSBitmapFont: Fi cmsy7 7 10
/Fi 10 107 df<B712FEA327037A8F34>0 D<1238127C12FEA3127C123807077A9114>I<
1338A50060130C00F8133E00FC137E00FE13FE383FBBF83807FFC000011300EA007C48B4
FC000713C0383FBBF838FE38FE00FC137E00F8133E0060130C00001300A517197B9A22>
3 D<13E0EA01F0EA03F8A3EA07F0A313E0A2120F13C0A3EA1F80A21300A25A123EA35AA3
127812F8A25A12100D1E7D9F13>48 D<49B5FC130F133F01FFC7FCEA01F8EA03E0EA0780
48C8FC121E121C123C123812781270A212F05AA2B7FCA300E0C8FCA27E1270A212781238
123C121C121E7E6C7EEA03E0EA01F86CB4FC013FB5FC130F130120277AA12D>50
D<1406140EB3B2007FB712E0B8FC7E2B287CA734>63 D<0103B512F8011FECFF80017F15
E02701F078007F260780F8EB0FF8D80E001403481501003C15005A12705AC7485CA20101
4A5AA24C5A4A5C4CC7FC0103140E163C9138C003F0EDFFC0D907C190C8FCECC3FEEC80FF
81010F6D7EEC001F82496D7E131E6F7E013E1303013C6E1370030114E0499138FC01C092
3900FE038001F89138FF0F0049EC7FFC49EC3FF04848EC1FC034297EA739>82
D<147EEB03FEEB0FE0EB1F00133E5BB35BA2485AEA07E0EAFF8000FCC7FCB47EEA07E0EA
01F06C7EA2137CB37F7FEB0FE0EB03FEEB007E173B7BAB22>102
D<12FCB47EEA0FE0EA01F06C7E137CB37FA27FEB0FC0EB03FEEB007EEB03FEEB0FC0EB1F
00133EA25BB35B485AEA0FE0EAFF8000FCC7FC173B7BAB22>I<12E0B3B3B3A5033B78AB
14>106 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fj cmbx7 7 21
/Fj 21 121 df<DA0FFC133849B5EAC0780107ECF0F890391FFC01FD90397FE0003F2601
FF80131F4848C7120F4848140748481403001F15015B003F15005B007F1678A25B00FF16
00AA127F6D1578A2123F7F001F16F86D15F0000F15016C6CEC03E06C6CEC07C06C6C6CEB
0F8026007FE0EB3F0090391FFC01FE0107B512F8010114E09026000FFEC7FC2D2A7CA836
>67 D<EBFFF0000713FE486D7E391FE03FE06E7E140F6E7EA2EA0780C7FCA2EB3FFF0003
B5FC380FFE07EA3FE0EA7F80EAFF005AA36C130F141F387FC07F3A3FFFFBFFC0000F13E1
00011300221A7E9925>97 D<EAFFF0A3120FABEC7FC09038F3FFF890B512FE913880FF80
9039FC003FC049EB1FE049130F16F0150716F8A8ED0FF0A216E06D131F01FEEB3FC06DEB
FF009038CFFFFE018313F89038007FC025287EA72A>I<EB1FFC90B51280000314C0390F
F81FE0EA1FE0EA3FC01380127FEC078048C8FCA86C7EA26C6C13F0EBE001D81FF013E038
0FFC070003B512C0C61400EB1FF81C1A7E9921>I<913807FF80A3EC007FABEB1FF890B5
FC000314FF380FF807381FE00148487E49137F127FA248C7FCA87E7F003F14FF6D5A6C6C
5A380FF80F0003B612F8C6EBFE7FEB1FF025287EA72A>I<EB3FF83801FFFE48EBFF8039
0FF83FC0391FE007E0383FC003018013F0007F1301010013F85AA290B5FCA390C8FCA36C
7EA2003F14786C7E6C6C13F83907F807F06CB512E0C614C090381FFE001D1A7E9922>I<
EB03FE90381FFF80017F13C03901FF1FE0EA03FE13FCEA07F8A2EC0FC091C7FCA5B512F0
A3D807F8C7FCB3A2387FFFC0A31B287EA717>I<151E90393FE07F803A01FFFDFFC00007
EBFFCF390FE03F8F391FC01FCFEB800F003FECE30015E0A4001F5CEBC01F6C6C485A6CB5
C7FC4813FC380E3FE0001EC9FCA2121F90B5FC15E06C14F815FE6C805A003F158048C7FC
00FE143F48141FA26C143F007E1500D87F8013FF393FE003FE000FB512F8000314E02600
3FFEC7FC22277E9A26>I<EA0780EA0FC0EA1FE0EA3FF0A4EA1FE0EA0FC0EA0780C7FCA5
EAFFF0A3120FB3A2EAFFFEA30F297DA815>105 D<EAFFF0A3120FAB913803FFC0A39138
01FE00EC03F8EC0FE04A5A4A5A02FEC7FCEBF1FCEBF7F8EBFFFC8080A201F87F496C7E49
6C7E6E7E6E7E6E7E816E7E26FFFE0713E0A323287EA728>107 D<EAFFF0A3120FB3B0B5
FCA310287DA715>I<27FFE01FE013FF9126FFFC0713E001E16D487F3C0FE7C1FF3E0FF8
D9EF00EB780701EE6D486C7E01FC14E04914C0A2491480AEB53B07FFF83FFFC0A33A1A7D
993F>I<39FFE01FE0ECFFFC01E17F390FE7C1FFEBEF0001EEEB7F8013FC5BA25BAEB538
07FFF8A3251A7D992A>I<39FFF07FC09038F3FFF890B512FE000F903880FF809039FC00
7FC049EB3FE049131FED0FF0A216F81507A6150F16F0A2ED1FE06D133F01FEEB7FC09039
FF01FF00ECFFFE01F313F89038F07FC091C8FCA8B5FCA325257E992A>112
D<38FFE0FCEBE1FF01E71380000FEBBFC0EBEE3F13FCA213F8EC0F0091C7FC5BADB57EA3
1A1A7E991F>114 D<3801FFCE000F13FE123F387E007E007C133E48131EA26C90C7FCEA
FFE0EBFF8014F06C7F6C13FE000F7F1203C66C1380130138F0001F140F7E7E6CEB1F0038
FF807EEBFFFC14F000E013C0191A7E991E>I<1378A413F8A21201A212031207121FB512
FCA33807F800AD141EA5143E3803FC7C3801FFF86C13F0EB3FC017257FA41D>I<3AFFF0
07FF80A3000FEB007FB015FFA25C3807F8076CB5EA7FF86C13FC38003FF0251A7D992A>
I<D8FFFEEBFFE0A3D80FF0EB3F006D133E0007143C6D137C000314786D13F800015CEBFF
016C5C1483017F5B14C7013F5B14EF011F90C7FC14FF6D5AA26D5AA26D5AA26D5A231A7E
9928>I<3CFFFC1FFF03FF80A33C1FE003F8007C00D80FF06D1378140701F86D13F80007
5ED9FC0F13010003027F5B141F9039FE1E3F8300015E9039FF3C1FC76C5E027C13CF9027
7FF80FEFC7FCA24A6CB4FC013F5CA26D486C5AA2ECC001010F5C6D486C5A311A7E9936>
I<3AFFFE07FFC0A33A07F801F8006D485A6C6C485A6C6C485A6CEB9F806DB4C7FC6D5A6D
5A6D5A6D7E6D7E1307497E496C7E013E7F496C7E496C7E48486C7E48486C7E00076D7E3A
FFF007FFE0A3231A7E9928>I E
%EndDVIPSBitmapFont
/Fk 139[33 47 47 3[66 93 1[60 1[33 66 2[53 3[60 9[106
2[73 66 11[86 2[86 22[40 45[{TeXBase1Encoding ReEncodeFont}16
119.552 /Times-BoldItalic rf /Fl 140[80 4[115 161 1[103
1[57 115 2[92 3[103 9[184 2[126 115 14[149 22[69 45[{
TeXBase1Encoding ReEncodeFont}13 206.559 /Times-BoldItalic
rf /Fm 133[26 5[18 4[33 1[52 18 2[18 3[29 2[33 98[{
TeXBase1Encoding ReEncodeFont}8 66.4176 /Times-BoldItalic
rf /Fn 103[50 30[50 50 50 50 50 50 50 50 1[50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 1[50 5[50 4[50 50
50 1[50 50 50 4[50 2[50 1[50 50 5[50 1[50 50 1[50 3[50
1[50 1[50 50 50 50 1[50 50 50 50 40[{TeXBase1Encoding ReEncodeFont}51
83.022 /Courier rf
%DVIPSBitmapFont: Fo cmsy8 8 1
/Fo 1 1 df<B812C0A32A037A9137>0 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fp cmr6 6 2
/Fp 2 57 df<13FF000313C0380781E0380F00F0001E137848133CA248131EA400F8131F
AD0078131EA2007C133E003C133CA26C13786C13F0380781E03803FFC0C6130018227DA0
1E>48 D<137F3803FFC0380781E0380E00704813380018131C1238A3123C003F1338381F
C078EBE0F0380FF9E03807FF80120114C0000713F0380F0FF8381C03FC383801FE387000
7E141F48130F1407A314060070130E0078130C6C1338001F13F03807FFC0C6130018227D
A01E>56 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fq cmr8 8 2
/Fq 2 51 df<130C133C137CEA03FC12FFEAFC7C1200B3B113FE387FFFFEA2172C7AAB23
>49 D<EB7F803801FFF0380780FC380E003F48EB1F8048EB0FC05A0060EB07E012F000FC
14F07E1403A3007C1307C7FCA215E0140F15C0141F1580EC3F00147E147C5C495A495A49
5A495A011EC7FC5B5B4913305B485A4848136048C7FC000E14E0001FB5FC5A4814C0B6FC
A21C2C7DAB23>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fr cmmi8 8 3
/Fr 3 117 df<EB01F8EB0FFF90383F078090387C03C0D801F813E03903F001F0EA07E0
D80FC013F8EB8000121F48C7FC14015A127EA2140300FE14F05AA2EC07E0A2EC0FC0A200
7CEB1F801500143E6C5B6C485A380F83E03803FF80D800FCC7FC1D1F7D9D22>111
D<90387C01F89038FE07FE3901CF8E0F3A03879C0780D907B813C0000713F000069038E0
03E0EB0FC0000E1380120CA2D8081F130712001400A249130F16C0133EA2017EEB1F80A2
017C14005D01FC133E5D15FC6D485A3901FF03E09038FB87C0D9F1FFC7FCEBF0FC000390
C8FCA25BA21207A25BA2120FA2EAFFFCA2232B829D24>I<130E131FA25BA2133EA2137E
A2137CA213FCA2B512F8A23801F800A25BA21203A25BA21207A25BA2120FA25BA2001F13
10143013001470146014E0381E01C0EB0380381F0700EA0F0EEA07FCEA01F0152B7EA919
>116 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fs cmr7 7 10
/Fs 10 58 df<1306130C13181330136013E0EA01C0EA0380A2EA07005A120E121EA212
1C123CA35AA512F85AAB7E1278A57EA3121C121EA2120E120F7EEA0380A2EA01C0EA00E0
136013301318130C13060F3B7AAB1A>40 D<12C012607E7E7E120E7EEA0380A2EA01C013
E0120013F0A213701378A3133CA5133E131EAB133E133CA51378A3137013F0A213E01201
13C0EA0380A2EA0700120E120C5A5A5A5A0F3B7DAB1A>I<140EB3A2B812E0A3C7000EC8
FCB3A22B2B7DA333>43 D<EB3F803801FFF03803E0F83807803C48487E001E7F003E1480
A2003C1307007C14C0A400FC14E0AE007C14C0A36CEB0F80A36CEB1F006C131E6C6C5A38
03E0F86CB45A38003F801B277EA521>48 D<13381378EA01F8121F12FE12E01200B3AB48
7EB512F8A215267BA521>I<13FF000313E0380E03F0381800F848137C48137E00787F12
FC6CEB1F80A4127CC7FC15005C143E147E147C5C495A495A5C495A010EC7FC5B5B903870
018013E0EA0180390300030012065A001FB5FC5A485BB5FCA219267DA521>I<13FF0003
13E0380F01F8381C007C0030137E003C133E007E133FA4123CC7123E147E147C5C495AEB
07E03801FF8091C7FC380001E06D7E147C80143F801580A21238127C12FEA21500485B00
78133E00705B6C5B381F01F03807FFC0C690C7FC19277DA521>I<0018130C001F137CEB
FFF85C5C1480D819FCC7FC0018C8FCA7137F3819FFE0381F81F0381E0078001C7F001813
3EC7FC80A21580A21230127C12FCA3150012F00060133E127000305B001C5B380F03E038
03FFC0C648C7FC19277DA521>53 D<EB0FE0EB3FF8EBF81C3801E0063803C01F48485AEA
0F005A121E003E131E91C7FC5AA21304EB3FC038FCFFF038FDC078EB003CB4133E48131E
141FA2481480A4127CA4003C1400123E001E131E143E6C133C6C6C5A3803C1F03801FFC0
6C6CC7FC19277DA521>I<137F3801FFC03807C1E0380F0070001E1378003E7F003C133E
007C131EA200FC131FA41580A4007C133FA2123C003E137F001E135F380F01DF3807FF9F
3801FE1FD8001013001300A2143E123C007E133CA25C5C007C5B383003C0381C0780D80F
FFC7FCEA03F819277DA521>57 D E
%EndDVIPSBitmapFont
/Ft 136[48 1[37 22 1[29 3[37 4[18 3[29 37 2[33 51[22
45[{TeXBase1Encoding ReEncodeFont}10 66.4176 /Times-Bold
rf /Fu 138[33 18 26 26 2[33 33 2[29 18 18 1[33 18 29
33 29 33 33 51[22 45[{TeXBase1Encoding ReEncodeFont}17
66.4176 /Times-Italic rf
%DVIPSBitmapFont: Fv cmmi7 7 22
/Fv 22 121 df<EB0FE0EB7FFCD9F83E13602603C01F13C03907800F80390F0007C0001E
ECC180123E003CECE300007C130315E65A15EC15F8A25D485CA300781307141D6C903879
F0C03A1E03E0F180390FFF807F3A03FC003E0023197C982B>11 D<1238127C12FE12FFA2
127F123B1203A31206A3120C121812381270122008127A8614>59
D<013FB612FCA2903901FC00014AEB007C173C0103153817185CA21307A24A13C0A2010F
010113005E14C01503011F130F91B5C7FCA2EC800F013F7F15061400A249010E13E0030C
13C0017E90C7FC160101FEEC0380A249EC0700A20001150E161E495C16FC0003EC07F8B7
FC5E2E287DA731>69 D<013FB612F0A2903901FC00074A1301160001031560A25CA21307
A25CED0180010F0103130093C7FC14C05D131F151EECFFFEA290383F801E150C1400A249
131C1518137E92C8FC13FEA25BA21201A25BA21203B512F0A22C287DA72A>I<91381FE0
089138FFFC18903903E01E3890390780077090390E0003F0491301491300017814E01370
13F0A2000115C0A216007F7F6CB47E14F86DB47E6D13F06D7F01077F01007F1407EC00FF
153F81A3001880A20038141E12300038141C153C00781438007C5C007E5C0077EB03C026
E3E00FC7FC38C0FFFE38801FF0252A7CA829>83 D<EB1F80EB7FC73801F0EF3803C07F48
487E48487E121E003E133E123C127CA2485BA4485B1530A3903801F060EA7803010613C0
383C1CF8391FF87F803907E01F001C197C9824>97 D<EB0FE0EB7FF8EBF01C3803C03E38
07807EEA0F00001E137C123E003C1300127CA25AA55AA214040078130C14186C1370381E
03E0380FFF803803FC0017197C981E>99 D<15F8141FA2EC01F0A21403A215E0A21407A2
15C0A2140FA290381F8F80EB7FCF3801F0FF3803C07F3907803F0048487E001E5B123E00
3C133E127C147E5A147CA214FC5AECF830A3903801F060EA7803010613C0383C1CF8391F
F87F803907E01F001D287CA723>I<EB0FC0EB7FF03801F0783803C01CEA0780EA0F0012
1E003E1338481370EB03E0387FFFC038FFFC0000F8C7FCA600781304140C00381318003C
1370381E03E0380FFF803803FC0016197C981F>I<EC03E0EC0FF8EC1C38EC3C7CEC7CFC
1478ECF8F815701500A2495AA590B512E0A2903803E000A4495AA5495AA649C7FCA5133E
A4133C137C123CEA7C78127EEAFC705BEA79C0EA3F806CC8FC1E337CA720>I<137CEA0F
FCA2C65AA21201A25BA21203A25BA21207A2EBC1F8EBC7FE380FDE1F9038F80F8013E0EB
C007381F800FA21300A25AEC1F00123EA2007E133EA2007C140C147C00FC141814F84814
30147815E048EB3FC048EB1F001E287BA727>104 D<130E131F5BA2133E131C90C7FCA8
EA03E0EA0FF0EA1C78EA387C123012605B12C0A2EA01F0A3485AA2485AA2EBC180EA0F81
EB8300EA1F031306120F131CEA07F8EA03E011277DA617>I<137CEA0FFCA2EA00F8A212
01A213F0A21203A213E0A21207A213C0A2120FA21380A2121FA21300A25AA2123EA2127E
A2EA7C18A3EAF830A2EA7860EA7CE0EA3FC0EA0F000E287EA715>108
D<3B07801FC007E03B1FE07FF01FF83B19F0E0F8787C3B30FB807CE03E3A60FF007D8049
90387F001E49017E133EEAC1F849137C1201A24848495BA35F4848485A1830EE01F01860
3B0F8003E003E018C01601EFE38001009039C000FF00000E4A137C34197D983B>I<3907
801FC0391FE07FF03939F0E0F83930FB807C3860FF005B5BEAC1F85B1201A248485BA34A
5AEA07C01660EC03E016C0390F8007C0EDC1801403EDC70090380001FE000EEB00F82319
7D9829>I<EB0FE0EB7FF8EBF83C3803C00E3807800F390F000780121E123E123C127CA2
48130FA315005C48131E143E143C00785B5C6C485A381E07C06CB4C7FCEA03F819197C98
21>I<9038F00FC03903FC3FF090383E707839061FC03C000CEB801CEC001E5B1218013E
131F1200017E131E153E137CA201FC133C157C5B1578000114F0EC01E015C09038FC0380
3903FE0F00EBF7FEEBE1F001E0C7FC1207A25BA2120FA25B121FEAFFF8A22024809822>
I<3807807E381FE1FF3919F383803930FE03C03860FC07EBF80FA2D8C1F01380EC070000
0190C7FCA2485AA4485AA4485AA490C8FC120E1A197D981F>114
D<EB1FE0EB7FF83801F01C3803C01EEB803E1207143C000F1318EBE00013FF6C13C06C13
E06C13F06C13F8130F1301EA3C00007E137814704813F04813E0387001C038380780381F
FF00EA07F817197C981F>I<131C133C137CA45BA4485AB512E0A23801F000485AA4485A
A4485AA448C7FC1460A214C0EA3E011480381E0700EA1F0EEA0FF8EA03F013247EA319>
I<D803E01338D80FF0137CEA1C78D8387C5B123012605B00C0495AA2EA01F0A24A5AEA03
E0A34848485AEDC180A391380F83000003131F9038E03F863901F0F7C63900FFC3FC9038
3F00F821197D9827>I<9038FC07C03903FF0FE03907079870390C03F0780018EBE0F800
3013E1A2396007C1F0ECC0E000001400A2495AA449C7FC003C1430127C007E1460485A15
C039786F01803970C78700383F83FE381F01F81D197D9826>120
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fw cmsy10 10 28
/Fw 28 107 df<007FB81280B912C0A26C17803204799641>0 D<121C127FEAFF80A5EA
7F00121C0909799917>I<0060150600F0150F6C151F007C153E6C157C6C15F86C6CEB01
F06C6CEB03E06C6CEB07C06C6CEB0F806C6CEB1F00017C133E6D5B6D5B90380F81F09038
07C3E0903803E7C06DB45A6D90C7FC147EA214FF497F903803E7C0903807C3E090380F81
F049C67E013E137C497F497F4848EB0F804848EB07C04848EB03E04848EB01F048C812F8
003E157C48153E48151F48150F00601506282874A841>I<EB1FF0EB7FFC48B5FC481480
4814C04814E04814F04814F8A24814FCA2B612FEA96C14FCA26C14F8A26C14F06C14E06C
14C06C14806C140038007FFCEB1FF01F1F7BA42A>15 D<021FB6128091B712C01303010F
1680D93FF0C9FCEB7F8001FECAFCEA01F8EA03E0485A485A90CBFC5A121E123E123C127C
1278A212F85AAA7E1278A2127C123C123E121E121F7E7F6C7E6C7EEA01F8EA00FEEB7F80
EB3FF0010FB71280010316C01300021F158091CAFCAE001FB812804817C0A26C17803244
79B441>18 D<007FB512FEB712C016F06C15FCC8EA03FF9238007F80EE1FC0EE07E0EE01
F0707E177C173C173E171E171F8318801707A218C01703AA17071880A2170F18005F171E
173E173C177C5F4C5AEE07E0EE1FC0EE7F80DB03FFC7FC007FB612FCB712F016C06C4AC8
FCCCFCAE007FB712FEB9FCA26C5E324479B441>I<EF0180EF07C0171FEF7F80933801FF
00EE07FCEE1FF0EE7FC04B48C7FCED07FCED1FF0ED7FC04A48C8FCEC07FCEC1FF0EC7FC0
4948C9FCEB07FCEB1FF0EB7FC04848CAFCEA07FCEA3FF0EA7FC048CBFC5AEA7F80EA3FE0
EA0FF8EA03FEC66C7EEB3FE0EB0FF8EB03FE903800FF80EC3FE0EC0FF8EC03FE913800FF
80ED3FE0ED0FF8ED03FE923800FF80EE3FE0EE0FF8EE03FE933800FF80EF3FC0170FEF03
8094C7FCAE007FB81280B912C0A26C1780324479B441>I<021FB6128091B712C0130301
0F1680D93FF0C9FCEB7F8001FECAFCEA01F8EA03E0485A485A90CBFC5A121E123E123C12
7C1278A212F85AAA7E1278A2127C123C123E121E121F7E7F6C7E6C7EEA01F8EA00FEEB7F
80EB3FF0010FB71280010316C01300021F1580323279AD41>26 D<1478A414F85CA21301
5C1303495AA2495A49CCFC5B137E5B485A485AEA0FE0003FBA12FEBCFCA2003F19FED80F
E0CCFCEA03F06C7E6C7E137E7F7F6D7E6D7EA26D7E1301801300A2801478A4482C7BAA53
>32 D<181EA4181F84A285180785727EA2727E727E85197E85F11F80F10FC0F107F0007F
BA12FCBCFCA26C19FCCCEA07F0F10FC0F11F80F13F00197E61614E5A4E5AA24E5A61180F
96C7FCA260181EA4482C7BAA53>I<173CA2173E171E171F8384717E170384717E717E18
7C007FB812FEBAFC856C84CBEA03F0727EF000FEF13F80F11FE0F107F8F101FFA2F107F8
F11FE0F13F80F1FE00F001F84E5A007FB912C0BA5A96C7FC6C5FCB127C604D5A4D5A6017
074D5A95C8FC5F171E173E173CA248307BAC53>41 D<91381FFFFE91B6FC13074914FED9
3FF0C7FCEB7F8001FCC8FC485AEA03E0485A485A90C9FC5A121E123E123C127C1278A212
F85AA3B712FE16FFA216FE00F0C9FCA37E1278A2127C123C123E121E121F7E7F6C7E6C7E
EA01F86C7EEB7F80EB3FF0010FB512FE6D14FF1300021F13FE283279AD37>50
D<EE0180EE03C016071780160F17005E161E163E163C167C167816F85E15015E15035E15
075E150F93C7FC5D151E153E153C157C157815F85D14015D14035D14075D140F92C8FC5C
143E143C147C147814F85C13015C13035C13075C130F91C9FC5B131E133E133C137C1378
13F85B12015B12035B12075B120F90CAFC5A121E123E123C127C127812F85A12602A4E75
BB00>54 D<0060161800F0163CA26C167C00781678A2007C16F8003C16F0003E1501001E
16E0A2001F15036C16C0A26D1407000716806D140F00031600A26D5C6CB612FEA36C5D01
F8C7127C01781478A2017C14F8013C5CA2013E1301011E5C011F13036D5CA2EC80070107
5CA2ECC00F010391C7FC6E5A0101131EA2ECF03E0100133CA2ECF87CEC7878EC7CF8EC3C
F0A2143F6E5AA36E5AA26E5AA26EC8FC2E3C80B92F>56 D<007FB612F0B712F8A27EC912
78B3A5003FB612F85AA27EC91278B3A5007FB612F8B7FCA26C15F0253A7CB92E>I<1560
15F0A21401903807F1E0EB3FFFEB7C1FEBF00748486C5AD803C07F4848487ED80F007FA2
4880001EEB0FBC153C003E143E141F141E4880A2143E143CA2147C00FC01781380A314F8
14F0A2130114E0A3130314C0A313071480A2130F1400A3D87C1F1400131EA2D87E3E5B13
3C003E143EA2137C1378001F5C13F86C48137815F800075C0003495AEBE0033901F00780
2603FC1FC7FCEBFFFEEBC7F001C0C8FC12075BA26CC9FC21477CBF2A>59
D<007FB812F8B912FCA26C17F8C80078C8FCB3B3AD153036367BB541>62
D<15301578B3B3AD007FB812F8B912FCA26C17F836367BB541>I<1870EF01F017031707
A2170FA2171F60173F17371777176F17EF17CF04017F178F1603170FEE07071606160E16
1C161816381630167016E0A2ED01C016801503ED0700A2150E5DA25D157815705D020181
03CFB5FCEC03BF4AB6FCA2020EC71203141E5C143802788100205B386001E0EAF0036C48
48140126FE1F8081B5C8FC190C49EEFF3C496F13F06C4817E06C4817806C48EE7E00D807
8093C7FC3E407DBB42>65 D<0203B512F8027FECFF8049B712F001078290271FC3F00313
FED978039038003FFF01E0030713802603C0076E13C0D807801500D80F00167F48EF3FE0
003E4A141FA25A0070170F00C0130FC717C05DA21980181F021F16005D183EA2604AC812
78604D5A4D5A027E4A5A050EC7FC173C17704AEB03E0EE3F80DB1FFEC8FC9138F87FF801
01EBFFC0DAF9FCC9FC02F8CAFC495AA35C1307A25C130F5CA2131F91CBFC5BA2133E137E
137C13785B13C03B3D7FB83A>80 D<0203B512FE027FECFFF049B712FC010716FF90271F
C3F00080D9780302077F01E015012603C0076E6C7ED80780163FD80F00161F5A003E4A14
0FA25A00706000C0130FC7FC4B5D181F96C7FC181E021F153E4B5C1878604D5A4AC7EA03
80050FC8FC173CEE03F8027EEBFFE0030313804B48C9FC4B7EECFC036F7F6F7F4A137F01
0181163F4A6D7E1303707E5C01071407834A01031510010F6F1470F101E04A6D6CEB03C0
011F933880078091C8EC0F00F0C01E4992387FE038013E92383FF0F0017EEEFFE0017C6F
138001786F48C7FC01E0ED07F0443B7FB846>82 D<EE3FF0923803FFFE030FEBFF80033F
14C0DBFC0713E0913801C000DA0780EB3FF04AC7121F021E140F143E027EEC07E0147C14
FC1880EF0E00010192C7FCA280A280816D7F81EC7FF86E7E6EB4FC6E13C0020313F06E13
FC6E6C7E92381FFF8003077F03017F6F7FEE3FF8161F160F01706E7E48481403EA07C048
C8FC481501123E5F127E5F12FE4C5A7E4C5A6D5D6D4AC7FC6C6C141E6D1438D83FFC5C6C
B4EB03E06C9038E03F806CD9FFFEC8FC000114F86C6C13C0D90FFCC9FC343D7FBA32>I<
0060161800F0163CB3B27E0078167C1778007C16F8003C16F0003E15016CED03E0D80FC0
EC0FC0D807F0EC3F80D803FCECFF003A01FFC00FFE6C6CB512F8011F14E0010714809026
007FF8C7FC2E347CB137>91 D<EC7FF80107B57E011F14E0017F14F83A01FFC00FFED803
FCC77ED807F0EC3F80D80FC0EC0FC048C8EA03E0003EED01F0003C1500007C16F8007816
7812F848167C173CB3B2006016182E347CB137>I<14034A7EA24A7EA24A7EA24A7E143C
EC7CF8EC7878A2ECF87CECF03C0101133EECE01E0103131F4A7EA2010780EC8007010F80
EC00034980011E1301013E80013C1300A2017C800178147801F8147C49143C0001153E49
141EA20003151F498000071680491407000F16C090C812034816E0001E1501A2003E16F0
003C1500007C16F80078167800F8167C48163CA2006016182E347CB137>94
D<EC01F8140FEC3F80ECFC00495A495A495AA2130F5CB3A7131F5C133F49C7FC13FEEA03
F8EA7FE048C8FCEA7FE0EA03F8EA00FE137F6D7E131F80130FB3A7801307A26D7E6D7E6D
7EEC3F80EC0FF814011D537ABD2A>102 D<12FCEAFFC0EA07F0EA01FCEA007E7F80131F
80130FB3A7801307806D7E6D7EEB007EEC1FF0EC07F8EC1FF0EC7E00495A495A495A5C13
0F5CB3A7131F5C133F91C7FC137E485AEA07F0EAFFC000FCC8FC1D537ABD2A>I<126012
F0B3B3B3B3A91260045377BD17>106 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fx cmr10 10 11
/Fx 11 94 df<146014E0EB01C0EB0380EB0700130E131E5B5BA25B485AA2485AA21207
5B120F90C7FCA25A121EA2123EA35AA65AB2127CA67EA3121EA2121F7EA27F12077F1203
A26C7EA26C7E1378A27F7F130E7FEB0380EB01C0EB00E01460135278BD20>40
D<12C07E12707E7E7E120F6C7E6C7EA26C7E6C7EA21378A2137C133C133E131EA2131F7F
A21480A3EB07C0A6EB03E0B2EB07C0A6EB0F80A31400A25B131EA2133E133C137C1378A2
5BA2485A485AA2485A48C7FC120E5A5A5A5A5A13527CBD20>I<15301578B3A6007FB812
F8B912FCA26C17F8C80078C8FCB3A6153036367BAF41>43 D<EB03F8EB1FFF90387E0FC0
9038F803E03901E000F0484813780007147C48487FA248C77EA2481580A3007EEC0FC0A6
00FE15E0B3007E15C0A4007F141F6C1580A36C15006D5B000F143EA26C6C5B6C6C5B6C6C
485A6C6C485A90387E0FC0D91FFFC7FCEB03F8233A7DB72A>48 D<EB01C013031307131F
13FFB5FCA2131F1200B3B3A8497E007FB512F0A31C3879B72A>I<EB0FF0EB7FFE48B57E
3903E03FE0390F000FF0000E6D7E486D7E486D7E123000706D7E126012FCB4EC7F807FA5
6CC7FC121CC8FCEDFF00A34A5A5D14035D4A5A5D140F4A5A4A5A92C7FC147C5C495A495A
495A495A91C8FC011EEB01805B5B49130348481400485A485A000EC75A000FB6FC5A5A48
5CB6FCA321387CB72A>I<EB07F8EB3FFF4913C03901F80FF03903C007F848486C7E380E
0001000F80381FE0006D7FA56C5A6C5AC85A1401A25D4A5AA24A5A5DEC0F80027EC7FCEB
1FFCECFF809038000FE06E7EEC01FC816E7EED7F80A216C0A2153F16E0A2121EEA7F8048
7EA416C049137F007F1580007EC7FC0070ECFF006C495A121E390F8003F83907F00FF000
01B512C06C6C90C7FCEB0FF8233A7DB72A>I<121C127FEAFF80A5EA7F00121CC7FCB212
1C127FEAFF80A5EA7F00121C092479A317>58 D<007FB812F8B912FCA26C17F8CCFCAE00
7FB812F8B912FCA26C17F836167B9F41>61 D<EAFFF8A4EAF000B3B3B3B3A3EAFFF8A40D
5378BD17>91 D<EAFFF8A4EA0078B3B3B3B3A3EAFFF8A40D537FBD17>93
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fy cmmi10 10 43
/Fy 43 123 df<EC3FC0ECFFF8903807E07C90380F801FD93F00EB800C017E130F499038
07C01C4848ECE018485A484801031338000FEDF0305B001F16704848156017E0007F16C0
90C713F1178016F34816004815F716FE5EA2485D5EA4007E1407150F003E91381DF81800
3F14796C02E11338270F8007C013303B07E03F007CF02601FFF8EB3FC026003FC0EB0F80
2E267DA435>11 D<EB0380D907E01307010FEC0F80161F5CA2011F143FA24A1400A2013F
5CA291C7127EA24914FEA2017E5CA201FE1301A2495CA200011403A249ECF018A2000314
071738EEE030150F00071670031F1360153F6D017713E0486C9038E3E1C0903AFF03C1F3
80903ACFFF00FF00D9C3FC133ED81FC0C9FCA25BA2123FA290CAFCA25AA2127EA212FEA2
5AA212702D377EA432>22 D<121C127FEAFF80A5EA7F00121C0909798817>58
D<121C127FEAFF80A213C0A3127F121C1200A412011380A2120313005A1206120E5A5A5A
12600A19798817>I<150C151EA2153E153CA2157C1578A215F815F0A2140115E0A21403
15C0A214071580A2140F15005C141EA2143E143CA2147C1478A214F85CA213015CA21303
5CA213075CA2130F91C7FCA25B131EA2133E133CA2137C1378A213F85BA212015B12035B
A212075BA2120F90C8FCA25A121EA2123E123CA2127C1278A212F85AA212601F537BBD2A
>61 D<126012FCB4FCEA7FC0EA1FF0EA07FCEA01FF38007FC0EB1FF0EB07FCEB01FF9038
007FC0EC1FF0EC07FCEC01FF9138007FC0ED1FF0ED07FCED01FF9238007FC0EE1FF0EE07
FCEE01FF9338007F80EF1FC0A2EF7F80933801FF00EE07FCEE1FF0EE7FC04B48C7FCED07
FCED1FF0ED7FC04A48C8FCEC07FCEC1FF0EC7FC04948C9FCEB07FCEB1FF0EB7FC04848CA
FCEA07FCEA3FF0EA7FC048CBFC12FC1270323279AD41>I<1760177017F01601A21603A2
1607160FA24C7EA216331673166316C3A2ED0183A2ED0303150683150C160115181530A2
1560A215C014011580DA03007FA202061300140E140C5C021FB5FC5CA20260C7FC5C8349
5A8349C8FC1306A25BA25B13385B01F01680487E000716FFB56C013F13FF5EA2383C7DBB
3E>65 D<0103B77E4916F018FC903B0007F80003FE4BEB00FFF07F80020FED3FC0181F4B
15E0A2141FA25DA2143F19C04B143F1980027F157F190092C812FE4D5A4A4A5AEF0FF04A
EC1FC005FFC7FC49B612FC5F02FCC7B4FCEF3FC00103ED0FE0717E5C717E1307844A1401
A2130F17035CA2131F4D5A5C4D5A133F4D5A4A4A5A4D5A017F4BC7FC4C5A91C7EA07FC49
EC3FF0B812C094C8FC16F83B397DB83F>I<9339FF8001C0030F13E0037F9038F8038091
3A01FF807E07913A07F8000F0FDA1FE0EB079FDA3F80903803BF0002FFC76CB4FCD901FC
80495A4948157E495A495A4948153E017F163C49C9FC5B1201484816385B1207485A1830
121F4993C7FCA2485AA3127F5BA312FF90CCFCA41703A25F1706A26C160E170C171C5F6C
7E5F001F5E6D4A5A6C6C4A5A16076C6C020EC8FC6C6C143C6C6C5C6CB4495A90393FE00F
C0010FB5C9FC010313FC9038007FC03A3D7CBA3B>I<0103B812F05BA290260007F8C712
3F4B1407F003E0020F150118005DA2141FA25D19C0143FA24B1330A2027F1470190092C7
126017E05C16014A495A160F49B6FCA25F9138FC000F01031407A24A6DC8FCA201075C18
034A130660010F160693C7FC4A150E180C011F161C18184A1538A2013F5E18F04A4A5AA2
017F15074D5A91C8123F49913803FF80B9FCA295C7FC3C397DB83D>69
D<0103B812E05BA290260007F8C7123F4B140FF003C0140F18015DA2141FA25D1980143F
A25D1760027F14E095C7FC92C75AA24A1301A24A495A16070101141F91B6FC94C8FCA290
3903FC001F824A130EA21307A24A130CA2010F141CA24A90C9FCA2131FA25CA2133FA25C
A2137FA291CBFC497EB612C0A33B397DB835>I<0107B512FCA216F890390007F8005DA2
140FA25DA2141FA25DA2143FA25DA2147FA292C7FCA25CA25CA21301A25CA21303A25CA2
1307A25CA2130FA25CA2131FA25CA2133FA25CA2137FA291C8FC497EB6FCA326397DB824
>73 D<902603FFF893383FFF80496081D900079438FF80000206DC01BFC7FCA2020E4C5A
1A7E020C1606190CDA1C7E16FE4F5A02181630A20238166162023016C1F00181DA703F15
8395380303F002601506A202E0ED0C076202C01518183001016D6C140F06605B028015C0
A20103923801801FDD03005B140092380FC00649173F4D91C8FC01065DA2010E4B5B4D13
7E130C6F6C5A011C17FEDCE1805B011802E3C7FCA2013802E6130104EC5C1330ED03F801
7016034C5C01F05CD807FC4C7EB500E0D9C007B512F01680150151397CB851>77
D<902603FFF891381FFFF8496D5CA2D90007030113006FEC007C02061678DA0EFF157081
020C6D1460A2DA1C3F15E0705CEC181F82023815016F6C5C1430150702706D1303030392
C7FC02607FA2DAE0015C701306ECC0008201016E130EEF800C5C163F0103EDC01C041F13
1891C713E0160F49EDF03818300106140717F8010E02031370EFFC60130CEE01FE011C16
E004005B011815FF177F1338600130153FA20170151F95C8FC01F081EA07FCB512E01706
A245397DB843>I<4BB4FC031F13F09238FE01FC913903F0007EDA07C0EB1F80DA1F80EB
0FC0023EC7EA07E002FCEC03F0495A4948EC01F8495A4948EC00FC495A49C912FE49167E
13FE49167F1201485AA2485AA2120F5B001F17FFA2485AA34848ED01FEA400FFEE03FC90
C9FCA2EF07F8A2EF0FF0A218E0171F18C0EF3F806C167F180017FE4C5A6C6C5D1603001F
4B5A6D4A5A000FED1F806C6C4AC7FC6D147E0003EC01F8D801FC495AD8007EEB0FC09026
3F807FC8FC903807FFF801001380383D7CBA3F>I<0103B7FC4916E018F8903B0007F800
07FC4BEB00FE187F020FED3F80F01FC05DA2021F16E0A25DA2143FF03FC05DA2027FED7F
80A292C8130018FE4A4A5A604AEC07F04D5A0101ED3FC04CB4C7FC91B612FC17E0D903FC
CAFCA25CA21307A25CA2130FA25CA2131FA25CA2133FA25CA2137FA291CBFC497EB6FCA3
3B397DB835>I<92391FE00380DBFFFC130002036D5A91390FE01F8F91393F0007DF027E
EB01FE02F81300495A4948147E177C4948143C495AA2011F153891C8FCA3491530A28094
C7FC80806D7E14FEECFFE06D13FE6DEBFFC06D14F06D806D80021F7F02037FEC003F0303
7F1500167F163F161FA3120C160FA2001C151F94C7FCA3003C153EA25E003E5D127E007F
4A5A6D495A6DEB0FC0D8F9F0495AD8F0FE01FEC8FC39E03FFFF8010F13E0D8C00190C9FC
313D7CBA33>83 D<0003B812FEA25A903AF8003FC00101C0913880007E4848163C90C700
7F141C121E001C92C7FCA2485CA200305C007017180060130112E0485CA21403C716005D
A21407A25DA2140FA25DA2141FA25DA2143FA25DA2147FA292C9FCA25CA25CA21301A25C
A21303A25CEB0FFC003FB6FC5AA237397EB831>I<147E903803FF8090390FC1C3809039
1F00EFC0017E137F49133F485A4848EB1F8012075B000F143F48481400A2485A5D007F14
7E90C7FCA215FE485C5AA214015D48150CA21403EDF01C16181407007C1538007E010F13
30003E131F027B13706C01E113E03A0F83C0F9C03A03FF007F80D800FCEB1F0026267DA4
2C>97 D<133FEA1FFFA3C67E137EA313FE5BA312015BA312035BA31207EBE0FCEBE3FF90
38E707C0390FFE03E09038F801F001F013F8EBE000485A15FC5BA2123F90C7FCA214015A
127EA2140312FE4814F8A2140715F05AEC0FE0A215C0EC1F80143F00781400007C137E5C
383C01F86C485A380F07C06CB4C7FCEA01FC1E3B7CB924>I<EC3FC0903801FFF0903807
E03C90380F800E90383F0007017E131F49137F484813FF485A485A120F4913FE001F1438
48481300A2127F90C8FCA35A5AA45AA315031507007E1406150E003E143C003F14706C14
E0390F8007C03907C03F003801FFF838003FC020267DA424>I<163FED1FFFA3ED007F16
7EA216FEA216FCA21501A216F8A21503A216F0A21507A2027E13E0903803FF8790380FC1
CF90381F00EF017EEB7FC049133F485A4848131F000715805B000F143F485A1600485A5D
127F90C7127EA215FE5A485CA21401A248ECF80CA21403161CEDF0181407007C1538007E
010F1330003E131F027B13706C01E113E03A0F83C0F9C03A03FF007F80D800FCEB1F0028
3B7DB92B>I<EC3FC0903801FFF0903807E07890381F801C90387E001E49130E485A485A
1207485A49131E001F141C153C484813F8EC03E0007FEB3FC09038FFFE0014E090C8FC5A
5AA7007E140315071506003E140E153C6C14706C6C13E0EC07C03903E03F003801FFF838
003FC020267DA427>I<16F8ED03FEED0F8792381F0F80ED3E3F167F157CA215FC170016
1C4A48C7FCA414035DA414075DA20107B512F0A39026000FE0C7FC5DA4141F5DA4143F92
C8FCA45C147EA514FE5CA413015CA4495AA45C1307A25C121E123F387F8F80A200FF90C9
FC131E12FEEA7C3CEA7878EA1FF0EA07C0294C7CBA29>I<EC07E0EC1FF891387C1C3890
3901F80EFC903803F007903807E003EB0FC090381F8001D93F0013F85B017E130313FE16
F0485A150712034914E0A2150F12074914C0A2151FA2491480A2153FA2160000035C6D5B
00015B4A5A3900F8077E90387C1EFEEB1FF8903807E0FC90C7FC1401A25DA21403001E5C
123F387F80075D00FF495A49485A4849C7FC007C137E383C01F8381FFFE0000390C8FC26
367FA428>I<EB03F0EA01FFA3EA00075CA3130F5CA3131F5CA3133F91C9FCA35B90387E
03F8EC0FFF91383C0F809039FEF007C0D9FDC07FEBFF80EC0003485A5BA249130712035B
A2150F00075D5BA2151F000F5D5B153F93C7FC121F4990387F0180157EEDFE03003F02FC
130090C7FC5EEDF80648150E007E150C161C5E00FEEC787048EC3FE00038EC0F80293B7C
B930>I<14E0EB03F8A21307A314F0EB01C090C7FCAB13F8EA03FEEA070F000E1380121C
121812381230EA701F1260133F00E0130012C05BEA007EA213FE5B1201A25B12035BA200
07131813E01438000F133013C01470EB806014E014C01381EB838038078700EA03FEEA00
F815397EB71D>I<EB03F0EA01FFA3EA00075CA3130F5CA3131F5CA3133F91C8FCA35B01
7EEB07C0ED1FF0ED783801FEEBE0F89039FC01C1FCEC0383EC07070001130ED9F81C13F8
91383803F091387001E0000349C7FCEBF1C0EBF38001F7C8FCEA07FEA2EBFFE0EBE7F838
0FE0FEEBC07F6E7E141F001F80D9800F1330A21670003F011F136001001380A216E04815
C0007E1481020F1380158300FE903807870048EB03FE0038EB00F8263B7CB92B>107
D<EB0FC0EA03FF5AA2EA001F1480A2133FA21400A25BA2137EA213FEA25BA21201A25BA2
1203A25BA21207A25BA2120FA25BA2121FA25BA2123FA290C7FCA25AA2EA7E03A2EAFE07
130612FCA2130E130C131C1318EA7C38EA3C70EA1FE0EA0780123B7DB919>I<D803E001
7F14FE3D07F801FFE003FFC03D0E3C0781F00F03E03D1C3E1E00F83C01F026383F38D9FC
707F00304914E04A90387DC000007049EB7F8000604991C7FCA200E090C700FE1301485A
017E5CA200000201140301FE5F495CA203031407000160495C180F03075D1203494A011F
13601980030F023F13E00007F000C0495C1901031F023E1380000F1803494A150061033F
150E001FEF1E1C4991C7EA0FF80007C7000EEC03E043267EA449>I<D803E0137F3A07F8
01FFE03A0E3C0781F03A1C3E1E00F826383F387F00305B4A137C00705B00605BA200E090
C712FC485A137EA20000140101FE5C5BA2150300015D5B15075E120349010F133016C003
1F13700007ED80605B17E0EE00C0000F15014915801603EE0700001FEC0F0E49EB07FC00
07C7EA01F02C267EA432>I<EC1FC0ECFFF8903807E07E90380F801F90393F000F80017E
14C0491307484814E0485A4848EB03F0120F5B121F48481307A2127F90C7FCA2150F5A48
15E0A2151F16C0A248EC3F8016005D157E007E5C4A5A003E495A003F495A6C495A6C6C48
C7FC3807E07E3801FFF038003F8024267DA428>I<90390F8003F090391FE00FFC903939
F03C1F903A70F8700F80903AE0FDE007C09038C0FF80030013E00001491303018015F05C
EA038113015CA2D800031407A25CA20107140FA24A14E0A2010F141F17C05CEE3F80131F
EE7F004A137E16FE013F5C6E485A4B5A6E485A90397F700F80DA383FC7FC90387E1FFCEC
07E001FEC9FCA25BA21201A25BA21203A25B1207B512C0A32C3583A42A>I<02FC13C090
3803FF0190380F838390383F01C790397E00EF8049137F485A4848133F000715005B485A
001F5C157E485AA2007F14FE90C75AA3481301485CA31403485CA314075D140F127C141F
007E495A003E137F381F01EF380F839F3903FF1F80EA00FC1300143F92C7FCA35C147EA3
14FE5C130190387FFFF0A322357DA425>I<3903E001F83907F807FE390E3C1E07391C3E
381F3A183F703F800038EBE07F0030EBC0FF00705B00601500EC007E153CD8E07F90C7FC
EAC07EA2120013FE5BA312015BA312035BA312075BA3120F5BA3121F5B0007C9FC21267E
A425>I<14FF010313C090380F80F090383E00380178131C153C4913FC0001130113E0A3
3903F000F06D13007F3801FFE014FC14FF6C14806D13C0011F13E013039038003FF01407
1403001E1301127FA24814E0A348EB03C012F800E0EB07800070EB0F006C133E001E13F8
3807FFE0000190C7FC1E267CA427>I<EB01C0497E1307A4130F5CA3131F5CA3133F91C7
FC007FB51280A2B6FCD8007EC7FCA313FE5BA312015BA312035BA312075BA3120FEBC006
A2140E001F130CEB801C141814385C146014E0380F81C038078780D803FEC7FCEA00F819
357EB31E>I<13F8D803FE1438D8070F147C000E6D13FC121C1218003814011230D8701F
5C12601503EAE03F00C001005B5BD8007E1307A201FE5C5B150F1201495CA2151F120349
EC80C0A2153F1681EE0180A2ED7F0303FF130012014A5B3A00F8079F0E90397C0E0F1C90
393FFC07F8903907F001F02A267EA430>I<01F8EB03C0D803FEEB07E0D8070F130F000E
018013F0121C12180038140700301403D8701F130112601500D8E03F14E000C090C7FC5B
EA007E16C013FE5B1501000115805B150316001203495B1506150E150C151C151815385D
00015C6D485A6C6C485AD97E0FC7FCEB1FFEEB07F024267EA428>I<01F816F0D803FE91
38E001F8D8070F903801F003000ED9800314FC121C12180038020713010030EDE000D870
1F167C1260030F143CD8E03F163800C001005B5BD8007E131F183001FE5C5B033F147000
0117604991C7FCA218E000034A14C049137E17011880170318005F03FE1306170E000101
015C01F801BF5B3B00FC039F8070903A7E0F0FC0E0903A1FFC03FFC0902703F0007FC7FC
36267EA43B>I<903907E001F090391FF807FC9039783E0E0F9039E01F1C1FD801C09038
383F803A03800FF07F0100EBE0FF5A000E4A1300000C157E021F133C001C4AC7FC1218A2
C7123FA292C8FCA25CA2147EA214FEA24A130CA20101141C001E1518003F5BD87F811438
01835C00FF1560010714E03AFE0E7C01C0D87C1C495A2778383E0FC7FC391FF00FFC3907
C003F029267EA42F>I<13F8D803FE1470D8070F14F8000EEB8001121C12180038140300
3015F0EA701F1260013F130700E0010013E012C05BD8007E130F16C013FE5B151F000115
805BA2153F000315005BA25D157EA315FE5D1401000113033800F80790387C1FF8EB3FF9
EB0FE1EB00035DA2000E1307D83F805B007F495AA24A5A92C7FCEB003E007C5B00705B6C
485A381E07C06CB4C8FCEA01FC25367EA429>I<D901E01360D90FF813E0496C13C09038
3FFE0190397FFF038090B5EA07009038F81FFF3901E003FE9038C0001C495B5DC85A4A5A
4A5A4AC7FC140E5C5C14F0495AEB038049C8FC130E5B4913035B495B484813064848130E
48C75AD80FFC137C391FFF81F8381E0FFFD838075B486C5B00605CD8E00190C7FC38C000
7C23267DA427>I E
%EndDVIPSBitmapFont
/Fz 134[60 60 86 60 66 40 47 53 1[66 60 66 100 33 66
40 33 66 60 40 53 66 53 66 60 8[86 120 86 86 80 66 86
1[73 93 86 113 80 93 1[47 2[73 80 86 86 80 86 1[60 4[40
60 60 60 60 60 60 60 60 60 60 33 30 1[30 41[66 2[{
TeXBase1Encoding ReEncodeFont}60 119.552 /Times-Bold
rf /FA 105[33 1[29 29 24[29 33 33 48 33 33 18 26 22 33
33 33 33 52 18 33 18 18 33 33 22 29 33 29 33 29 3[22
1[22 1[48 48 63 48 48 41 37 44 1[37 48 48 59 41 48 1[22
48 1[37 41 48 44 44 48 5[18 18 33 33 33 33 33 33 33 33
33 33 18 17 22 17 2[22 22 22 1[55 33[37 37 2[{
TeXBase1Encoding ReEncodeFont}75 66.4176 /Times-Roman
rf /FB 198[25 25 25 25 25 25 25 25 25 25 48[{
TeXBase1Encoding ReEncodeFont}10 49.8132 /Times-Roman
rf /FC 198[29 29 29 29 29 29 29 29 29 29 48[{
TeXBase1Encoding ReEncodeFont}10 58.1154 /Times-Roman
rf /FD 135[86 3[57 1[76 1[96 1[96 4[48 96 2[76 96 2[86
10[124 5[105 6[67 5[124 1[124 7[86 86 86 86 86 86 86
86 86 86 48[{TeXBase1Encoding ReEncodeFont}25 172.188
/Times-Bold rf
%DVIPSBitmapFont: FE cmbx10 10 32
/FE 32 122 df<ED03E04B7EA24B7EA34B7EA24B7EA34B7EA292B57EA34A8015F3020380
15E1A202078015C0020F80ED807FA2021F80ED003F4A80023E131FA2027E80027C7F02FC
814A7FA20101824A7F49B77EA3498202C0C7FC010F824A147FA2011F8291C8123F498201
3E151FA2017E82017C8101FE83B500F80107B61280A4413A7DB948>65
D<DB3FFCEB01C00203B5EAC003021FECF00791B6EAFC0F01039039FC00FF3F4901C0EB1F
FFD91FFEC77E49481403D97FF080494880485B48177F4849153F4890C9FC181F485A180F
123F5B1807127FA24993C7FC12FFAD127F7FF003C0123FA27F001F1707A26C6C1780180F
6C6D16006C6D5D6C173E6C6D157ED97FF85D6D6C4A5A6DB44A5A010701C0EB0FE06D01FC
EBFF80010090B548C7FC021F14F8020314E09126003FFEC8FC3A3B7BB945>67
D<B87E17F817FF18C028007FF8000713F09338007FF8EF1FFE717E050313807113C0A271
13E0F07FF0A2F03FF8A219FC181FA219FEA419FFAC19FEA419FC183FA219F8187F19F0F0
FFE0A24D13C04D13804D1300EF1FFEEF7FFC933807FFF0B912C095C7FC17FC178040397D
B849>I<EDFFF8020FEBFF80027F14F0903A01FFC01FFC010790380007FFD91FFC010113
C0D93FF06D6C7E49486E7E49486E7E48496E7E48834890C86C7EA248486F1380A248486F
13C0A2003F18E0A348486F13F0A400FF18F8AC007F18F06D5DA3003F18E0A26D5D001F18
C0A26C6C4B13806C18006E5C6C6D4A5A6C5F6C6D4A5A6D6C4A5AD93FFC49485A6DB40107
5B0107D9C01F90C7FC010190B512FC6D6C14F0020F1480020001F8C8FC3D3B7BB948>79
D<B8FC17F017FEEFFF8028007FF8000F13C0040113E07013F0EF7FF8EF3FFCA2EF1FFEA2
18FFA818FEA2EF3FFCA2EF7FF8EFFFF04C13E0040F13C091B7120017FC17E002F8C9FCB3
A4B612FCA438397DB841>I<B712FCEEFFE017FC17FF28007FF8000F13C004017F707F71
7E717EA2717EA284A760A24D5A604D5A4D5A04035B041F90C8FC91B612FC17E0839139F8
003FFCEE0FFF707F707F8284A2707FA584A51A601AF084177F1901DD3FFE13E0B600FC01
1F130394390FFF87C071EBFF8005011400CBEA1FFC443A7DB848>82
D<D907FF130E013FEBE01E90B5EAF83E0003ECFE7E3A07FC01FFFE390FF0001F4848130F
48481303491301007F140090C8FC167E5A163EA27F161E7F7F6D91C7FC13FC387FFFE014
FEECFFF06C14FE6F7E6C816C15F06C816C81C681133F010F801301D9000F1480EC007F03
0F13C01503818100F0157FA3163FA27E17807E167F6C16007E6D14FE01E0495A01F81303
9039FF801FF800FC90B512E0D8F83F5CD8F00749C7FC39E0007FF02A3B7BB935>I<003F
B91280A4D9F800EBF003D87FC09238007FC049161F007EC7150FA2007C1707A200781703
A400F818E0481701A4C892C7FCB3AE010FB7FCA43B387DB742>I<EB3FFE0003B512E000
0F14F8391FF00FFE003FEB03FF6D6C7F6E7FA26F7EA26C5A6C5AEA0380C8FCA2EC3FFF01
0FB5FC137F3901FFF87F00071380380FFE00EA3FF85B485A12FF5BA415FF6D5A127F263F
F00713F83B1FFC1FBFFFC0390FFFFE1F0003EBF80F39003FE0032A257DA42E>97
D<13FFB5FCA412077EAF4AB47E020F13F0023F13FC9138FE03FFDAF00013804AEB7FC002
80EB3FE091C713F0EE1FF8A217FC160FA217FEAA17FCA3EE1FF8A217F06E133F6EEB7FE0
6E14C0903AFDF001FF80903AF8FC07FE009039F03FFFF8D9E00F13E0D9C00390C7FC2F3A
7EB935>I<903801FFC0010F13FC017F13FFD9FF8013802603FE0013C048485AEA0FF812
1F13F0123F6E13804848EB7F00151C92C7FC12FFA9127FA27F123FED01E06C7E15036C6C
EB07C06C6C14806C6C131FC69038C07E006DB45A010F13F00101138023257DA42A>I<EE
7F80ED7FFFA4150381AF903801FF81010F13F1013F13FD9038FFC07F0003EB001FD807FC
1307000F8048487F5B123FA2485AA312FFAA127FA27F123FA26C6C5B000F5C6C6C5B6C6C
4913C02701FF80FD13FE39007FFFF9011F13E1010313012F3A7DB935>I<903803FF8001
1F13F0017F13FC3901FF83FE3A03FE007F804848133F484814C0001FEC1FE05B003FEC0F
F0A2485A16F8150712FFA290B6FCA301E0C8FCA4127FA36C7E1678121F6C6C14F86D14F0
00071403D801FFEB0FE06C9038C07FC06DB51200010F13FC010113E025257DA42C>I<EC
1FF0903801FFFC010713FF90391FF87F8090383FE0FFD9FFC113C0A2481381A24813016E
1380A2ED3E0092C7FCA8B6FCA4000390C8FCB3ABB512FEA4223A7DB91D>I<161FD907FE
EBFFC090387FFFE348B6EAEFE02607FE07138F260FF801131F48486C138F003F15CF4990
387FC7C0EEC000007F81A6003F5DA26D13FF001F5D6C6C4890C7FC3907FE07FE48B512F8
6D13E0261E07FEC8FC90CAFCA2123E123F7F6C7E90B512F8EDFF8016E06C15F86C816C81
5A001F81393FC0000F48C8138048157F5A163FA36C157F6C16006D5C6C6C495AD81FF0EB
07FCD807FEEB3FF00001B612C06C6C91C7FC010713F02B377DA530>I<13FFB5FCA41207
7EAFED7FC0913803FFF8020F13FE91381F03FFDA3C01138014784A7E4A14C05CA25CA291
C7FCB3A3B5D8FC3F13FFA4303A7DB935>I<EA01F0EA07FC487EA2487EA56C5AA26C5AEA
01F0C8FCA913FF127FA412077EB3A9B512F8A4153B7DBA1B>I<141FEC7FC0ECFFE0A249
13F0A56D13E0A2EC7FC0EC1F0091C7FCA9EC0FF0EB0FFFA4EB007F143FB3B0121FEA3F80
EA7FC0EAFFE0EC7FE0A215C014FF6C481380903883FE006CB45A000F13F0000113801C4B
86BA1D>I<13FFB5FCA412077EAF92380FFFE0A4923803FC0016F0ED0FE0ED1F804BC7FC
157E5DEC03F8EC07E04A5A141FEC7FE04A7E8181A2ECCFFEEC0FFF496C7F806E7F6E7F82
157F6F7E6F7E82150F82B5D8F83F13F8A42D3A7EB932>I<13FFB5FCA412077EB3B3ACB5
12FCA4163A7DB91B>I<01FED97FE0EB0FFC00FF902601FFFC90383FFF80020701FF90B5
12E0DA1F81903983F03FF0DA3C00903887801F000749DACF007F00034914DE6D48D97FFC
6D7E4A5CA24A5CA291C75BB3A3B5D8FC1FB50083B512F0A44C257DA451>I<01FEEB7FC0
00FF903803FFF8020F13FE91381F03FFDA3C011380000713780003497E6D4814C05CA25C
A291C7FCB3A3B5D8FC3F13FFA430257DA435>I<903801FFC0010F13F8017F13FFD9FF80
7F3A03FE003FE048486D7E48486D7E48486D7EA2003F81491303007F81A300FF1680A900
7F1600A3003F5D6D1307001F5DA26C6C495A6C6C495A6C6C495A6C6C6CB45A6C6CB5C7FC
011F13FC010113C029257DA430>I<9039FF01FF80B5000F13F0023F13FC9138FE07FFDA
F00113800007496C13C06C0180EB7FE091C713F0EE3FF8A2EE1FFCA3EE0FFEAA17FC161F
A217F8163F17F06E137F6E14E06EEBFFC0DAF00313809139FC07FE0091383FFFF8020F13
E0020390C7FC91C9FCACB512FCA42F357EA435>I<9038FE03F000FFEB0FFEEC3FFF9138
7C7F809138F8FFC000075B6C6C5A5CA29138807F80ED3F00150C92C7FC91C8FCB3A2B512
FEA422257EA427>114 D<90383FF0383903FFFEF8000F13FF381FC00F383F0003007E13
01007C130012FC15787E7E6D130013FCEBFFE06C13FCECFF806C14C06C14F06C14F81203
C614FC131F9038007FFE140700F0130114007E157E7E157C6C14FC6C14F8EB80019038F0
07F090B512C000F8140038E01FF81F257DA426>I<130FA55BA45BA25B5BA25A1207001F
EBFFE0B6FCA3000390C7FCB21578A815F86CEB80F014816CEBC3E090383FFFC06D138090
3803FE001D357EB425>I<01FFEC3FC0B5EB3FFFA4000714016C80B3A35DA25DA26C5C6E
4813E06CD9C03E13FF90387FFFFC011F13F00103138030257DA435>I<B539F001FFF8A4
000390C7EA3F00161E6E133E6C153C6E137C6C15786E13F8017F5CECF001013F5C14F801
1F495AA2ECFC07010F5CECFE0F010791C7FC6E5A6D131E15BE6D13BC15FC6D5BA36E5AA2
6E5AA26E5AA26E5AA22D257EA432>I<B500F1B538803FFFA43D07FE000FF80003E06C6C
010715C082028015076C6E6C148015076C01C0ED0F00826E485C017FED801E5D90273FF0
1E7F5B17C0DAF83E147C011F90393C3FE078037C14F8903B0FFC781FF0F0A29139FEF00F
F10107EDF9E002FF14FB6D496CB45AA24B7E6D5EA26D496C90C7FCA292C7FC6E5CA2023E
147C023C143C40257EA445>I<B539F01FFFF0A4000390398003F8006C01C013E06C1407
D97FE05B6D6C485A6E48C7FC90381FFC3E010F5B903807FEFC6D6C5A5D6D5B6D5B6E7E6E
7E814A7EA24A7E903801F3FFD903E37FD907C17FEB0FC049486C7E4A6C7E013E80496D7E
49130F00016E7EB590383FFFF8A42D257EA432>I<B539F001FFF8A4000390C7EA3F0016
1E6E133E6C153C6E137C6C15786E13F8017F5CECF001013F5C14F8011F495AA2ECFC0701
0F5CECFE0F010791C7FC6E5A6D131E15BE6D13BC15FC6D5BA36E5AA26E5AA26E5AA26E5A
A292C8FCA25C141E003F133E387F803C38FFC07C147814F8EBC1F0EBC3E06C485A387D1F
80D83FFFC9FCEA1FFCEA07F02D357EA432>I E
%EndDVIPSBitmapFont
/FF 133[32 37 42 55 37 46 23 32 32 42 42 42 46 65 23
42 23 23 46 42 28 37 42 37 42 42 9[74 55 1[51 46 55 1[51
60 8[55 1[60 55 21[28 41[46 46 2[{TeXBase1Encoding ReEncodeFont}39
83.022 /Times-BoldItalic rf /FG 107[50 50 24[44 50 50
1[50 55 33 39 44 55 55 50 55 83 28 55 33 28 55 50 33
44 55 44 55 50 7[72 1[100 72 1[66 55 72 1[61 78 72 94
66 78 1[39 78 78 61 66 72 72 66 72 1[50 4[33 50 50 50
50 50 50 50 50 50 50 28 25 33 42[55 2[{TeXBase1Encoding ReEncodeFont}64
99.6264 /Times-Bold rf /FH 166[104 4[96 80 104 1[88 112
1[135 96 2[56 3[96 1[104 96 104 6[48 58[{TeXBase1Encoding ReEncodeFont}
14 143.462 /Times-Bold rf /FI 105[42 27[32 37 37 55 37
42 23 32 32 42 42 42 42 60 23 37 23 23 42 42 23 37 42
37 42 42 7[46 51 69 51 60 46 42 51 60 51 60 55 69 46
55 37 28 60 60 51 51 60 55 51 51 5[28 28 42 42 42 42
42 42 42 42 42 42 23 21 28 21 1[42 28 28 28 5[28 29[42
42 2[{TeXBase1Encoding ReEncodeFont}75 83.022 /Times-Italic
rf /FJ 105[42 27[37 42 42 60 42 46 28 32 37 46 46 42
46 69 23 46 28 23 46 42 28 37 46 37 46 42 8[60 83 60
60 55 46 60 65 51 65 60 78 55 65 42 32 65 65 51 55 60
60 55 60 6[28 42 42 42 42 42 42 42 42 42 42 23 21 28
3[28 28 36[46 46 2[{TeXBase1Encoding ReEncodeFont}69
83.022 /Times-Bold rf /FK 134[103 103 149 103 115 69
80 92 1[115 103 115 172 57 115 1[57 115 103 69 92 115
92 115 103 9[207 149 1[138 115 149 161 126 161 1[195
138 2[80 1[161 126 138 1[149 138 149 6[69 1[103 1[103
51[115 2[{TeXBase1Encoding ReEncodeFont}44 206.559 /Times-Bold
rf
%DVIPSBitmapFont: FL cmsy10 14.4 1
/FL 1 14 df<943807FFF094B67E040715F0043F15FE93B87E03039026FC001F13E0030F
0180010013F8DB3FFCC8EA1FFEDBFFE0923803FF804A018003007F4A48CAEA3FE0DA0FF8
EF0FF8DA1FE0EF03FC4A48717E4A48717E02FECCEA3F804948737E4948737E4948737E49
48737E4A19014948737E49CE127E491B7F017E8749757E491B0F000189491B0700038949
1B03000789491B01000F89491B00001F8990D0127CA2481D7E003E1D3EA3007E1D3F007C
89A400FC1E80481D0FAE6C1D1F007C1E00A4007E65003E1D3EA3003F1D7E6C1D7CA26D1C
FC000F656D1B010007656D1B030003656D1B070001656D1B0F0000656D1B1F017E51C7FC
017F636D1B7E6D6C626D6C4F5A6E19036D6C4F5A6D6C4F5A6D6C4F5A6D6C4F5ADA7F8006
FFC8FC6E6C4D5A6E6C4D5ADA0FF8EF0FF8DA03FEEF3FE06E6C6CEEFFC06E01E003035BDB
3FFCDB1FFEC9FC92260FFF80ECFFF8030301FC011F13E0030090B71280043F4BCAFC0407
15F004001580050701F0CBFC696E79D478>13 D E
%EndDVIPSBitmapFont
/FM 87[28 16[83 42 1[37 37 24[37 42 42 60 42 42 23 32
28 42 42 42 42 65 23 42 23 23 42 42 28 37 42 37 42 37
3[28 1[28 51 60 60 78 60 60 51 46 55 60 46 60 60 74 51
60 32 28 60 60 46 51 60 55 55 60 1[37 1[47 1[23 23 42
42 42 42 42 42 42 42 42 42 23 21 28 21 47 42 28 28 28
65 69 1[42 1[28 2[28 26[46 46 2[{TeXBase1Encoding ReEncodeFont}89
83.022 /Times-Roman rf /FN 134[60 3[60 33 47 40 1[60
60 60 4[33 60 60 3[53 60 53 7[86 3[86 73 66 80 1[66 86
86 106 73 1[47 40 86 1[66 73 86 80 80 86 6[33 60 7[60
49[{TeXBase1Encoding ReEncodeFont}36 119.552 /Times-Roman
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin

%%EndSetup
%%Page: 1 1
1 0 bop 1278 340 a FN(ER)-5 b(OS:)31 b(A)f(CAP)-11 b(ABILITY)31
b(SYSTEM)1266 670 y(JON)l(A)-13 b(THAN)31 b(STRA)-7 b(USS)32
b(SHAPIR)-5 b(O)1792 999 y FM(A)21 b(DISSER)-5 b(T)d(A)f(TION)2086
1148 y(in)958 1478 y FN(COMPUTER)31 b(AND)g(INFORMA)-13
b(TION)31 b(SCIENCE)367 1993 y FM(Presented)19 b(to)i(the)f(F)o
(aculties)g(of)g(the)g(Uni)n(v)o(ersity)f(of)h(Pennsylv)n(ania)e(in)j
(P)o(artial)f(Ful\002llment)g(of)g(the)g(Requirements)f(for)1518
2143 y(the)h(De)o(gree)g(of)f(Doctor)h(of)g(Philosophy)-5
b(.)2036 2292 y(1999)p 337 2980 1654 4 v 337 3097 a(Da)n(vid)20
b(J.)h(F)o(arber)337 3246 y(Supervisor)e(of)h(Dissertation)p
337 3699 V 337 3816 a(Jonathan)f(M.)i(Smith)337 3965
y(Supervisor)e(of)h(Dissertation)p 337 4418 V 337 4535
a(Jean)h(Gallier)337 4684 y(Graduate)f(Group)e(Chairperson)p
eop
%%Page: 2 2
2 1 bop 1401 2525 a FN(c)1368 2529 y FL(\015)29 b FN(Cop)o(yright)g
(1999)1759 2753 y(by)1218 2977 y(Jonathan)g(Strauss)g(Shapiro)p
eop
%%Page: 3 3
3 2 bop 337 904 a FK(Ackno)n(wledgements)337 1393 y FM(W)m(ithout)20
b(the)g(help)g(and)g(support)e(of)i(man)o(y)f(people,)g(this)i(w)o(ork)
e(w)o(ould)h(not)g(ha)n(v)o(e)f(been)h(possible.)462
1551 y FJ(J)o(onathan)f(M.)h(Smith)h FM(and)f FJ(Da)n(vid)f(J)n(.)i(F)n
(arber)p FM(,)e(my)h(advisors,)f(ha)n(v)o(e)g(shared)g(immeasurably)f
(of)i(their)g(kno)n(wledge,)337 1700 y(insights,)29 b(and)d(guidance)f
(throughout)f(this)j(process.)45 b(Jonathan,)27 b(by)g(setting)f
(consistently)g(high)h(standards,)g(has)g(had)337 1850
y(great)19 b(in\003uence)f(in)g(an)o(y)h(success)g(this)g(thesis)h(may)
e(achie)n(v)o(e.)23 b(Da)n(vid,)c(in)g(presenting)e(alternati)n(v)o
(es,)h(has)h(made)f(me)h(a)o(w)o(are)337 1999 y(of)h(man)o(y)f(issues)i
(that)g(I)f(w)o(ould)g(not)g(otherwise)f(ha)n(v)o(e)h(considered.)462
2156 y FJ(J)o(ean)j(Gallier)p FM(,)i FJ(Carl)f(Gunter)p
FM(,)g FJ(Insup)i(Lee)p FM(,)f(and)f FJ(Dennis)h(Allison)p
FM(,)g(my)f(dissertation)f(committee,)h(ha)n(v)o(e)f(of)n(fered)337
2306 y(advice,)d(patience,)f(insight,)g(and)h(support)f(throughout)e
(the)j(dissertation)g(process.)462 2463 y FJ(Sam)e(W)-5
b(eber)p FM(,)18 b(my)f(collaborator)e(in)j(the)g(proof)e(of)h
(con\002nement)f(w)o(ork,)h(con)m(vinced)e(me)j(\(or)f(perhaps)f(we)i
(con)m(vinced)337 2612 y(each)30 b(other\))e(that)i(formally)e
(specifying)g(a)j(real)e(operating)f(system)i(w)o(asn')o(t)f(crazy)-5
b(,)31 b(e)n(v)o(en)e(when)g(we)h(could)e(not)i(\002nd)337
2762 y(an)o(yone)19 b(else)i(who)e(had)h(managed)e(it)j(and)f(se)n(v)o
(eral)g(people)f(we)h(respected)f(said)i(we)g(w)o(ould)e(ne)n(v)o(er)g
(get)h(it)h(done.)462 2919 y FJ(Mark)33 b(Miller)h FM(w)o(as)f(the)g
(\002rst)g(to)g(point)e(out)i(the)f(importance)f(of)h(endogenous)e
(access)j(checks,)i(and)d(pro)o(vided)337 3068 y(e)o(xceedingly)18
b(v)n(aluable)h(feedback)g(at)h(se)n(v)o(eral)g(stages)g(of)g(the)h
(writing.)462 3226 y FJ(Ste)o(v)o(en)d(J)n(.)h(Muir)h
FM(w)o(ork)o(ed)d(with)i(me)g(on)f(the)h(\002rst)g(ER)m(OS)g
(application)e(of)h(note:)24 b(an)19 b(acti)n(v)o(e)f(netw)o(ork)f
(platform.)23 b(This)337 3375 y(application)g(probably)f(set)j(back)e
(the)h(completion)f(of)h(the)g(ER)m(OS)g(project)g(by)f(o)o(v)o(er)g(a)
h(year)m(,)g(because)g(I)g(w)o(as)h(suddenly)337 3525
y(forced)19 b(to)i(mak)o(e)e(it)i FI(work)p FM(.)26 b(W)m(ithout)19
b(this)i(push,)e(the)i(system)f(w)o(ould)g(not)f(be)i(useful)e(today)-5
b(.)462 3682 y FJ(J)o(onathan)16 b(Adams)p FM(,)j FJ(Elizabeth)f(A)l
(uster)o(n)p FM(,)g FJ(Mik)o(e)h(Berry)p FM(,)e FJ(Daniel)h(Brushteyn)p
FM(,)h FJ(Ben)f(Chen)p FM(,)h FJ(Elizabeth)f(Gentile)p
FM(,)337 3831 y FJ(Mik)o(e)28 b(Laskin)p FM(,)g FJ(Herman)d(Lau)p
FM(,)j FJ(Colin)e(McLean)p FM(,)i(and)d FJ(Geoff)g(Milord)p
FM(,)i(my)f(students,)g(taught)f(me)h(most)g(of)g(what)f(I)337
3981 y(kno)n(w)31 b(about)g(operating)f(systems,)k(and)e(a)g(great)f
(deal)g(that)h(I)g(only)f FI(thought)g FM(I)h(kne)n(w)-5
b(.)59 b(Jonathan)30 b(Adams)h(deserv)o(es)337 4130 y(particular)19
b(mention)g(for)h(se)n(v)o(eral)f(iterations)h(of)g(the)g(ER)m(OS)h
(space)f(bank)f(design.)462 4287 y FJ(Norm)j(Hardy)p
FM(,)g FJ(Charlie)g(Landau)p FM(,)h(and)f FJ(Bill)h(Frantz)p
FM(,)f(the)g(k)o(e)o(y)f(members)g(of)h(the)h(K)n(e)o(yK)n(OS)e(k)o
(ernel)g(team,)i(intro-)337 4437 y(duced)c(me)h(to)g(capability)f
(systems)i(and)e(answered)g(a)i(lot)f(of)g(questions)f(o)o(v)o(er)g
(the)h(years.)k(In)c(man)o(y)f(respects,)g(this)i(thesis)337
4586 y(is)h(as)f(much)e(a)h(v)n(alidation)f(of)h(their)g(w)o(ork)g(as)g
(of)g(my)g(o)n(wn.)462 4744 y FJ(J)o(ochen)i(Liedtk)o(e)h
FM(\(IBM\))f(and)g FJ(Bryan)g(F)n(ord)g FM(\(Uni)n(v)o(ersity)f(of)h
(Utah\))g(both)f(described)g(and)h(demonstrated)e(perfor)n(-)337
4893 y(mance)i(results)h(that)g(led)g(me)g(to)g(k)o(eep)f(going)f(when)
h(I)h(might)f(otherwise)g(ha)n(v)o(e)g(been)g(content)g(to)h(stop.)32
b(The)23 b(last)g(f)o(actor)337 5042 y(of)d(10)g(in)h(ER)m(OS)f(is)h
(most)g(directly)e(due)h(to)g(Jochen')-5 b(s)20 b(inspiration.)462
5200 y FJ(P)o(aul)j(Kar)o(ger)f FM(\(IBM\))h(w)o(as)h(kind)e(enough)f
(to)i(spend)f(a)i(f)o(air)f(bit)g(of)g(time)g(straightening)e(me)i(out)
g(on)g(the)g(history)f(of)2084 5410 y(iii)p eop
%%Page: 4 4
4 3 bop 37 108 a FM(early)21 b(capability)g(systems.)29
b(He)22 b(also)g(pointed)e(out)h(some)g(earlier)g(approaches)f(to)h(e)o
(xtending)f(the)h(capability)g(model)f(so)37 257 y(as)h(to)g(handle)e
(con\002nement.)162 407 y FJ(Laur)o(en)h(W)o(illiams)g
FM(has)g(been)f(patient)g(o)o(v)o(er)f(the)i(last)g(year)f(in)h
(letting)g(me)f(get)h(this)g(done)f(when)g(man)o(y)f(other)h(things)37
556 y(pressed)h(ur)o(gently)e(for)i(attention.)162 705
y(The)j(IBM)h(Corporation)d(w)o(as)j(gracious)e(enough)g(to)h(permit)g
(me)g(to)h(spend)e(a)i(signi\002cant)f(portion)e(of)j(my)f(\002rst)h
(fe)n(w)37 855 y(months)e(at)i(the)e(T)-6 b(.J.)23 b(W)-7
b(atson)23 b(Research)g(Center)f(completing)f(this)j(document.)30
b(My)23 b(thanks)f(in)h(particular)e(to)i FJ(Nay)o(eem)37
1004 y(Islam)p FM(,)e FJ(Nancy)f(Riggs)p FM(,)g(and)g
FJ(Nicholas)g(Bo)o(wen)h FM(for)e(this)i(accomodation.)162
1154 y(My)j(f)o(amily)h(has)f(pro)o(vided)e(continuing)h(support)g(o)o
(v)o(er)g(the)h(years)h(of)f(this)h(ef)n(fort,)f(both)g(emotional)f
(and)h(\002nancial.)37 1303 y(W)m(ithout)c(both)f(kinds)h(of)g(support)
f(this)i(thesis)f(w)o(ould)g(not)g(e)o(xist.)162 1453
y(This)30 b(research)e(w)o(as)i(supported)d(by)i(D)m(ARP)-8
b(A)31 b(under)c(Contracts)j(#N66001-96-C-852)o(,)c(#MD)m
(A972-95-1-0013)o(,)37 1602 y(and)h(#D)m(ABT63-95-C-0073.)41
b(Additional)26 b(support)f(w)o(as)j(pro)o(vided)d(by)h(the)h(A)-9
b(T&T)27 b(F)o(oundation,)f(and)g(the)i(He)n(wlett-)37
1751 y(P)o(ackard,)19 b(T)-7 b(andem)19 b(Computer)m(,)g(and)g(Intel)h
(Corporations.)1787 5410 y(i)n(v)p eop
%%Page: 5 5
5 4 bop 1562 896 a FK(ABSTRA)-11 b(CT)1056 1378 y FH(ER)l(OS:)34
b(A)i(CAP)-11 b(ABILITY)32 b(SYSTEM)1701 1606 y FM(Jonathan)19
b(Strauss)i(Shapiro)1863 1755 y(Da)n(vid)f(J.)h(F)o(arber)1804
1905 y(Jonathan)e(M.)h(Smith)337 2211 y(Capability-based)d(operating)g
(systems)i(ha)n(v)o(e)g(logical)f(adv)n(antages)f(o)o(v)o(er)g
(access-control)g(list)j(based)f(systems)g(for)f(secu-)337
2360 y(rity)-5 b(,)20 b(and)g(potential)f(adv)n(antages)f(for)i
(performance)d(as)k(well.)462 2510 y(This)28 b(dissertation)f(mak)o(es)
h(four)f(contrib)n(utions.)46 b(First,)31 b(it)e(e)o(xtends)e(the)h
(capability)e(access)j(model)e(proposed)f(by)337 2659
y(Jones,)32 b(Lipton,)f(and)e(Sn)o(yder)f(and)h(enhanced)f(by)h(Bishop)
h(to)g(address)f(object)g(metadata,)i(opaque)d(indirection,)i(and)337
2809 y(certain)19 b(additional)e(access)i(checks.)24
b(These)18 b(e)o(xtensions)g(bridge)f(the)i(gap)e(from)h(the)g
(original)g(model)f(to)i(the)g(beha)n(vior)e(of)337 2958
y(real)k(systems,)f(and)g(are)g(necessary)f(to)i(account)e(for)g
(securely)h(dek)o(ernelized)e(memory)g(and)i(\002le)h(management.)462
3107 y(Second,)30 b(it)f(pro)o(vides)e(a)i(formal)f(model)f(of)i
(capability)f(architectures,)h FI(SW)p FM(,)g(that)f(allo)n(ws)h
(precise)g(statements)f(to)337 3257 y(be)23 b(made)g(about)f(access)i
(and)e(operations.)32 b FI(SW)d FM(mak)o(es)23 b(it)h(possible)f(to)g
(pro)o(v)o(e)e(that)i(the)h(conditions)d(imposed)h(by)h(some)337
3406 y(implementation)16 b(actually)i(enforce)e(the)i(security)g(polic)
o(y)e(the)o(y)i(are)g(designed)e(to)j(support.)j(In)c(particular)m(,)f
(I)h(ha)n(v)o(e)f(sho)n(wn)337 3556 y(this)j(for)f(the)g(con\002nement)
f(polic)o(y)-5 b(.)23 b FI(SW)i FM(de\002nes)19 b(a)h(f)o(amily)f(of)g
(capability)f(systems,)i(of)f(which)f(an)o(y)h(realization)f
(satis\002es)337 3705 y(the)27 b(pro)o(v)o(en)d(security)i(properties.)
43 b(Deri)n(v)o(ed)25 b(from)h(the)g(ER)m(OS)h(architecture,)f(the)h
FI(SW)33 b FM(f)o(amily)26 b(includes)g(at)h(least)g(one)337
3855 y(complete,)19 b(general)f(purpose)f(operating)h(system)h
(architecture)f(that)h(has)g(actually)g(been)f(implemented.)23
b FI(SW)i FM(is)c(the)e(\002rst)337 4004 y(formal)25
b(model)g(of)g(its)h(kind)f(for)g(which)g(proofs)f(of)i(security)f
(policies)g(ha)n(v)o(e)g(been)g(f)o(a)n(v)n(orably)f(completed;)j(pre)n
(viously)337 4154 y(successful)20 b(proof)f(ef)n(forts)g(ha)n(v)o(e)h
(pro)o(v)o(en)e(only)h(ne)o(gati)n(v)o(e)f(results.)462
4303 y(Third,)f(this)h(dissertation)g(presents)f(the)h(Extremely)e
(Reliable)i(Operating)f(System)h(\(ER)m(OS\).)f(ER)m(OS)h(is)h(one)e
(realiza-)337 4452 y(tion)g(of)g(an)g FI(SW)23 b FM(system.)h(It)17
b(discusses)h(the)f(ER)m(OS)g(virtual)f(machine)g(architecture,)g(and)g
(describes)h(ho)n(w)f(the)h(capabilities)337 4602 y(de\002ned)23
b(by)g(that)h(architecture)e(are)h(mapped)f(to)i FI(SW)6
b FM(.)24 b(By)g(virtue)f(of)g(this)h(mapping,)e(the)i(ER)m(OS)g
(design)f(is)i(co)o(v)o(ered)c(by)337 4751 y(both)f(the)g
FI(SW)27 b FM(model)19 b(and)h(the)g(proof)e(of)i(con\002nement)e
(presented)h(here.)462 4901 y(Finally)-5 b(,)21 b(this)i(dissertation)e
(presents)g(a)i(prototype)c(implementation)h(of)h(the)h(ER)m(OS)g
(system)g(on)g(the)f(Intel)h(x86)f(ma-)337 5050 y(chine)g
(architecture.)j(By)d(mapping)e(ER)m(OS)i(virtual)f(machine)f
(abstractions)h(to)h(hardw)o(are-supported)16 b(objects,)21
b(this)g(im-)337 5200 y(plementation)15 b(yields)h(measured)f
(performance)e(competati)n(v)o(e)h(with,)j(and)f(in)g(man)o(y)f(cases)i
(e)o(xceeding,)d(the)i(performance)2098 5410 y(v)p eop
%%Page: 6 6
6 5 bop 37 108 a FM(of)22 b(con)m(v)o(entionally)c(architected)i(A)m
(CL-based)h(operating)e(systems)j(and)f(microk)o(ernels.)27
b(Quantitati)n(v)o(e)21 b(e)n(v)n(aluation)e(pre-)37
257 y(sented)24 b(here)f(sho)n(ws)h(that)f(neither)g(the)h(use)f(of)h
(capabilities)f(nor)g(aggressi)n(v)o(e)f(dek)o(ernelization)f(needs)j
(to)f(be)h(a)g(limiting)37 407 y(f)o(actor)c(in)g(system)h
(performance.)1786 5410 y(vi)p eop
%%Page: 7 7
7 6 bop 337 899 a FK(Contents)337 1469 y FJ(Ackno)o(wledgements)2807
b(iii)337 1706 y(Abstract)3211 b(v)337 1944 y(1)83 b(Intr)o(oduction)
2944 b(1)462 2096 y FM(1.1)86 b(Why)20 b(Capability)f(Systems?)26
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)116 b(3)462 2249 y(1.2)86 b(Capability)20 b(Access)h(Model)47
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)116 b(8)462 2401 y(1.3)86 b(F)o(ormal)19 b(V)-9
b(eri\002cation)54 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)116 b(8)462 2553
y(1.4)86 b(ER)m(OS:)21 b(A)f(Capability)g(System)68 b(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(10)462 2706 y(1.5)86 b(Outline)78 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)75 b(13)337 3047 y FG(I)100 b(Concept)2971 b(15)337
3285 y FJ(2)83 b(The)21 b(ER)n(OS)g(V)m(irtual)e(Machine)2367
b(17)462 3437 y FM(2.1)86 b(Capabilities)55 b(.)42 b(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)75 b(18)462 3590 y(2.2)86 b(EVM)20 b(Objects)56
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(19)462 3742 y(2.3)86
b(Processes)67 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(23)462 3895 y(2.4)86 b(Memory)19 b(Objects)78 b(.)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)75 b(30)462 4047 y(2.5)86 b(Miscellaneous)19
b(Services)44 b(.)d(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)75 b(33)462 4200 y(2.6)86 b(Summary)19
b(of)h(Objects)g(and)g(Services)69 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)75 b(36)462 4352 y(2.7)86 b(Closing)20
b(Comments)62 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(36)337 4590 y FJ(3)83
b(The)21 b(ER)n(OS)g(Operating)e(System)2312 b(39)462
4742 y FM(3.1)86 b(Bootstrap)20 b(and)f(Persistence)30
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)75 b(40)462 4895 y(3.2)86 b(Storage)19 b(Management)54
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)75 b(43)462 5047 y(3.3)86 b(Process)20
b(Creation)78 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(45)462 5200
y(3.4)86 b(Service)20 b(F)o(abrication)53 b(.)41 b(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(46)2075 5410 y(vii)p eop
%%Page: 8 8
8 7 bop 162 108 a FM(3.5)86 b(V)-5 b(irtual)20 b(Cop)o(y)g(Spaces)82
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)75 b(49)162 259 y(3.6)86 b(Session)20
b(Management)54 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(50)162 410 y(3.7)86
b(Closing)20 b(Comments)62 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(51)37
749 y FG(II)100 b(Theory)2976 b(55)37 984 y FJ(4)83 b(The)21
b FF(Diminish-T)-8 b(ak)n(e)19 b FJ(Access)i(Model)2187
b(57)162 1135 y FM(4.1)86 b(The)20 b FI(T)-8 b(ak)o(e-Gr)o(ant)21
b FM(Model)58 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)75 b(58)162 1286 y(4.2)86 b(Limitations)20
b(of)g FI(T)-8 b(ak)o(e-Gr)o(ant)78 b FM(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(64)162 1437
y(4.3)86 b(The)20 b FI(Diminish-T)-8 b(ak)o(e)20 b FM(Access)g(Model)71
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(66)162 1588 y(4.4)86 b(Summary)19 b(of)h(the)g FI(Diminish-T)-8
b(ak)o(e)19 b FM(Access)i(Model)38 b(.)j(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(70)162 1739 y(4.5)86 b(Closing)20 b(Comments)62 b(.)41
b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)75 b(71)37 1974 y FJ(5)83 b FF(SW)t FJ(:)21
b(A)f(F)n(ormal)g(Model)h(f)n(or)e(ER)n(OS)2225 b(73)162
2125 y FM(5.1)86 b(Naming)59 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)75 b(73)162 2276 y(5.2)86 b(Fundamental)18 b(Access)j(Rights)j(.)41
b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(74)162 2427 y(5.3)86 b(Semantic)20 b(Entities)55 b(.)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)75 b(77)162 2578 y(5.4)86 b(Actions)69
b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(79)162
2729 y(5.5)86 b(Operational)19 b(Semantics)71 b(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)75 b(80)162 2880 y(5.6)86 b(Departures)19 b(Relati)n(v)o(e)h(to)g
(ER)m(OS)40 b(.)h(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)75 b(81)37 3115 y FJ(6)83 b(Pr)o(oof)19 b(of)g(Con\002nement)
2591 b(85)162 3266 y FM(6.1)86 b(Informal)18 b(Discussion)i(of)g
(Con\002nement)45 b(.)c(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(85)162 3417 y(6.2)86 b(Outline)20 b(of)g(Proof)31 b(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)75 b(87)162 3568 y(6.3)86 b(V)-9
b(eri\002cation)63 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(88)162 3719 y(6.4)86 b(Discussion)25 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)75 b(94)162 3870 y(6.5)86 b(Closing)20 b(Comments)62
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)75 b(95)37 4209 y FG(III)99 b(Practice)2899
b(97)37 4444 y FJ(7)83 b(V)m(irtual)20 b(Machine)h(Implementation)2181
b(99)162 4596 y FM(7.1)86 b(The)20 b(Object)g(Store)71
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)33 b(100)162 4747 y(7.2)86 b(Conte)o(xts,)19
b(Threads,)g(and)h(User/Supervisor)e(T)m(ransitions)43
b(.)e(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)33 b(107)162 4898 y(7.3)86 b(Address)20
b(Space)g(Management)65 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)33 b(115)162 5049 y(7.4)86 b(User)20
b(De\002ned)g(Object)g(In)m(v)n(ocation)f(.)41 b(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(119)162 5200
y(7.5)86 b(Alternati)n(v)o(e)19 b(Implementation)e(for)j(K)n(ernel)g
(Capabilities)63 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(124)1763
5410 y(viii)p eop
%%Page: 9 9
9 8 bop 462 108 a FM(7.6)86 b(Closing)20 b(Comments)62
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)33 b(125)337 345 y FJ(8)83 b(Operating)19
b(System)i(Implementation)2085 b(127)462 498 y FM(8.1)86
b(The)20 b(V)-5 b(irtual)20 b(Cop)o(y)g(K)n(eeper)48
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)33 b(127)462 650 y(8.2)86 b(The)20 b(Space)g(Bank)32
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(129)462 803 y(8.3)86
b(Closing)20 b(Comments)62 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(134)337
1144 y FG(IV)100 b(Ev)o(aluation)2739 b(137)337 1382
y FJ(9)83 b(Quantitati)o(v)o(e)19 b(Ev)o(aluation)2458
b(139)462 1534 y FM(9.1)86 b(Ev)n(aluation)18 b(Method)h(and)h(En)m
(vironment)30 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(140)462 1687 y(9.2)86 b(Nati)n(v)o(e)20 b(Performance)36
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)33 b(140)462 1840 y(9.3)86 b(POSIX)21
b(Comparison)d(Measurements)27 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)33 b(144)462 1992 y(9.4)86 b(Closing)20
b(Comments)62 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(149)337 2230 y FJ(10)41
b(Related)20 b(W)-6 b(ork)2818 b(151)462 2382 y FM(10.1)44
b(Authority)19 b(and)g(Information)f(Flo)n(w)66 b(.)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(151)462 2535 y(10.2)44 b(Correctness)20 b(of)g(Con\002nement:)j(PSOS)
f(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(154)462 2687 y(10.3)44 b(Capability)20 b(Systems)58
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)33 b(155)462 2840 y(10.4)44 b(Access)21
b(Control)e(List)i(Extensions)29 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(158)462 2992 y(10.5)44
b(Microk)o(ernels)71 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(159)462 3145 y(10.6)44 b(Closing)20 b(Comments)62 b(.)41
b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)33 b(161)337 3486 y FG(V)100 b(Conclusion)2766
b(163)337 3724 y FJ(11)41 b(Conclusions)21 b(and)f(Futur)o(e)g(W)-6
b(ork)2243 b(165)462 3877 y FM(11.1)44 b(The)20 b FI(Diminish-T)-8
b(ak)o(e)20 b FM(Access)g(Model)71 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)33 b(165)462 4029 y(11.2)44 b FI(SW)26
b FM(Model)35 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(166)462 4182 y(11.3)44 b(ER)m(OS)21 b(Operating)d(System)61
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)33 b(167)462 4334 y(11.4)44 b(ER)m(OS)21 b(Implementation)67
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)33 b(167)462 4487 y(11.5)44 b(Future)20 b(W)-7
b(ork)31 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(168)337
4724 y FJ(A)65 b(Pr)o(ocess)20 b(Root)f(Lay)n(out)g(f)n(or)h(Intel)h
(x86)2125 b(171)337 4962 y(Bibliograph)o(y)2972 b(173)337
5200 y(Glossary)3123 b(179)2086 5410 y FM(ix)p eop
%%Page: 10 10
10 9 bop 37 108 a FJ(Index)3235 b(186)1798 5410 y FM(x)p
eop
%%Page: 11 11
11 10 bop 337 896 a FK(List)52 b(of)g(Algorithms)462
1378 y FM(3.1)86 b(Protospace)19 b(Algorithm)31 b(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)75 b(48)462 1527 y(3.2)86 b(V)-5 b(irtual)20
b(Cop)o(y)g(Algorithm)27 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(50)462 1677
y(7.1)86 b(FindObject\(\))19 b(\226)h(locate)g(object)g(from)f
(capability)45 b(.)c(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(102)462
1826 y(7.2)86 b(Optimized)19 b(steps)i(for)f(safe)g(object)g(access)58
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(104)462
1976 y(7.3)86 b(K)n(ernEntry\(\))17 b(\226)k(processes)f(k)o(ernel)f
(entry)37 b(.)k(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(109)462 2125 y(7.4)86 b(Reschedule\(\))19 b(\226)h(returns)f(ne)n(w)h
(thread)g(to)g(run)31 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(110)462 2275 y(7.5)86 b(Thread::Prepare\(\))17 b(\226)j(get)g(a)h
(thread)e(ready)g(to)i(run)27 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(111)462 2424 y(7.6)86 b(User)20 b(De\002ned)g(Object)g(In)m(v)n
(ocation)f(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)33 b(120)2086 5410 y(xi)p eop
%%Page: 12 12
12 11 bop 1775 5410 a FM(xii)p eop
%%Page: 13 13
13 12 bop 337 899 a FK(List)52 b(of)g(Figur)l(es)462
1384 y FM(1.1)86 b(Basic)21 b(properties)e(supported)f(by)i
(capabilities)60 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)116
b(2)462 1536 y(1.2)86 b(A)21 b(simple)f(system)g(using)g(access)h
(control)e(lists.)31 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)116
b(3)462 1689 y(1.3)86 b(A)m(CL)20 b(Model:)25 b(All)c(of)f(Fred')-5
b(s)20 b(processes)g(ha)n(v)o(e)g(identical)f(access)i(rights.)38
b(.)j(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)116
b(4)462 1842 y(1.4)86 b(A)21 b(simple)f(system)g(using)g(capabilities.)
25 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)116
b(5)462 1994 y(1.5)86 b(Creation)20 b(of)g(a)g(ne)n(w)g(process)g
(using)g(capabilities.)29 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)116
b(6)462 2147 y(1.6)86 b(Authority)19 b(transfer)g(with)h(capabilities.)
76 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)116
b(6)462 2300 y(1.7)86 b(F)o(ailure)20 b(of)g(endogenous)d(read-only)h
(check.)69 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)116
b(7)462 2452 y(2.1)86 b(ER)m(OS)21 b(object)e(hierarchy)57
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)75 b(19)462 2605 y(2.2)86 b(Structure)19 b(of)h(a)h
(process.)f(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)75 b(24)462 2757 y(2.3)86 b(Demultiple)o(xing)
18 b(via)i(return)f(on)h(start)g(capability)-5 b(.)79
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(28)462 2910 y(2.4)86
b(Memory)19 b(object)g(for)h(a)g(typical)g(address)g(space.)h(.)41
b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(30)462 3063 y(2.5)86
b(Nai)n(v)o(e)20 b(translation)f(strate)o(gy)-5 b(.)22
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)75 b(31)462 3215 y(2.6)86 b(ER)m(OS)21 b(object)e(hierarchy)57
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)75 b(36)462 3368 y(3.1)86 b(Primordial)19
b(system)h(image.)36 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(43)462 3521 y(3.2)86
b(V)-5 b(irtual)20 b(Cop)o(y)g(implementation.)79 b(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(49)462 3673 y(3.3)86 b(T)-6 b(erminal)19 b(front)g(end.)59
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)75 b(51)462 3826 y(4.1)86 b(Process)20
b(ha)n(ving)f(read-write)g(access)i(to)f(an)h(object.)49
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(58)462 3979 y(4.2)86
b(Potential)20 b(access)h(con)m(v)o(e)o(yed)c(by)j(Figure)f(4.1.)37
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(59)462
4131 y(4.3)86 b(Entity-sensiti)n(v)o(e)19 b(transiti)n(vity)-5
b(.)37 b(.)k(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)75 b(61)462 4284 y(4.4)86 b(Potential)20 b(access)h(from)e
(composition)f(of)i FE(read)h FM(and)f FE(write)73 b
FM(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)75 b(61)462 4436 y(4.5)86 b(Direct)20
b(and)g(potential)f(access)i(with)f(tak)o(e)h(and)e(grant)h(rights.)39
b(.)j(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)75 b(61)462 4589 y(4.6)86 b(Composition)19
b(rules)h(in)m(v)n(olving)e FE(tak)m(e)k FM(and)d FE(gran)m(t)51
b FM(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(62)462 4742 y(4.7)86
b(Stepwise)21 b(e)n(v)n(olution)d(of)i(Figure)g(4.5.)32
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(62)462 4894 y(4.8)86 b(Information)17 b(\003o)n(w)k(compromised)c(by)
j(tak)o(e)g(and)g(grant.)46 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(63)462 5047 y(4.9)86 b(Impact)19 b(of)h(e)o(xplicit)g(\223self)5
b(\224)20 b(rights)g(on)f(Figure)h(4.5.)67 b(.)41 b(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)75 b(63)462 5200 y(4.10)44 b(The)20 b(indirection)e(problem.)58
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)75 b(65)2063 5410 y(xiii)p eop
%%Page: 14 14
14 13 bop 162 108 a FM(4.11)44 b(The)20 b(shared)f(link)o(ed)h
(structure)f(problem.)36 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)75 b(66)162 257 y(4.12)44 b(Combination)18 b(rules)j(for)e
(indirection)g(rights)61 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
75 b(67)162 407 y(4.13)44 b(Example)19 b(of)h FE(ri)g
FM(and)g FE(wi)g FM(rights.)53 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(68)162 556 y(4.14)44
b(Combination)18 b(rules)j(in)m(v)n(olving)d(diminished)g(access)j
(rights.)81 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)75 b(68)162 705 y(4.15)44 b(Safe,)20
b(shared)f(link)o(ed)h(structure)f(in)i FI(diminish-tak)o(e)p
FM(.)48 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(69)162 855
y(4.16)44 b(Ef)n(fect)19 b(of)h(call)h(right.)71 b(.)41
b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)75 b(70)162 1004 y(4.17)44 b FI(Diminish-T)-8
b(ak)o(e)20 b FM(fundamental)e(access)i(rights.)64 b(.)41
b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(70)162 1154 y(4.18)44
b FI(Diminish-T)-8 b(ak)o(e)20 b FM(access)h(combination)c(rules.)29
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(71)162
1303 y(4.19)44 b FI(Diminish-T)-8 b(ak)o(e)20 b FM(symmetry)f(rules)54
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(72)162 1453 y(5.1)86 b(A)21 b(capability)42 b(.)g(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)75 b(74)162 1602 y(7.1)86 b(Unoptimized)18 b(object)i
(capability)68 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)33 b(102)162 1751 y(7.2)86 b(Prepared)19 b(object)g(capability)
h(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)33 b(103)162 1901 y(7.3)86 b(Capability)20 b(cop)o(y)f(in)h
(mid-sweep.)55 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)33 b(106)162 2050 y(7.4)86 b(Memory)19 b(object)g(with)i(o)o(v)
o(erlaid)d(page)i(tables.)67 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
33 b(117)162 2200 y(7.5)86 b(V)-5 b(irtual)20 b(address)g(allocation)f
(re\003ecting)g(small)i(spaces.)56 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(119)162 2349 y(8.1)86 b(V)-5 b(irtual)20 b(Cop)o(y)g(implementation.)
79 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(128)162 2499 y(8.2)86 b(Layout)19 b(of)h(ER)m(OS)g(V)-11
b(olume.)34 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)33 b(130)162 2648 y(8.3)86 b(Layout)19
b(of)h(on-disk)f(object)g(range.)29 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(131)162 2798 y(9.1)86
b(ER)m(OS)21 b(b)n(ulk)e(data)h(IPC)h(latenc)o(y)68 b(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(144)162 2947 y(10.1)44 b(Basic)21 b(properties)e(supported)f(by)i
(capabilities)60 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(159)1767 5410 y(xi)n(v)p eop
%%Page: 15 15
15 14 bop 337 896 a FK(List)52 b(of)g(T)-19 b(ables)462
1378 y FM(2.1)86 b(Basic)21 b(capability)e(types)35 b(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)75 b(22)462 1527 y(2.2)86 b(The)20 b(weak)o(en)f
(transformation)36 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)75 b(23)462 1677 y(4.1)86 b(Access)21
b(matrix)e(corresponding)e(to)j(Figure)g(4.1.)73 b(.)41
b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75 b(59)462 1826 y(4.2)86
b FI(T)-8 b(ak)o(e-gr)o(ant)20 b FM(with)h(indirection)d(rights.)59
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)75
b(67)462 1976 y(7.1)86 b(ER)m(OS)21 b(capability)e(types.)51
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)33 b(104)462 2125 y(7.2)86 b(Exception)18
b(frame)i(images)80 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)33 b(113)462 2275 y(7.3)86
b(ER)m(OS)21 b(x86)e(e)o(xception)f(frame)i(layouts)27
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(114)462 2424 y(7.4)86 b(Conte)o(xt)19 b(state)i(clobbered)d(by)i
(resume)g(e)o(xception)f(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(115)462 2573 y(7.5)86 b(Ar)o(guments)18 b(to)j(capability)e(in)m(v)n
(ocation)30 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(123)462 2723 y(7.6)86 b(Breakdo)n(wn)18 b(of)i(ER)m(OS)h(assembly)f
(code)53 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(125)462 2872 y(9.1)86 b(Address)20 b(v)n(alidation)f(latenc)o(y)g
(\(200Mhz)f(Pentium)h(Pro\))29 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(142)462 3022 y(9.2)86 b(Interprocess)18 b(control)h(transfer)h
(latenc)o(y)65 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(144)462 3171 y(9.3)86 b(In-memory)17 b(POSIX)k(benchmarks)78
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)33
b(146)462 3321 y(9.4)86 b(P)o(age)20 b(v)n(alidation)f(latencies)65
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)33 b(147)462 3470 y(9.5)86 b(File)21 b(creation)e(latencies)35
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)33 b(148)462 3619 y(A.1)68 b(Domain)19
b(root)h(layout)f(for)h(Intel)g(x86)f(F)o(amily)44 b(.)e(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)33 b(171)2077 5410 y(xv)p eop
%%Page: 16 16
16 15 bop 1766 5410 a FM(xvi)p eop
%%Page: 1 17
1 16 bop 337 842 a FD(Chapter)45 b(1)337 1390 y FK(Intr)l(oduction)337
1880 y FM(Modern)17 b(applications)f(are)i(increasingly)e(b)n(uilt)i
(as)g(assemblies)g(of)g(binary)e(only)h(components)e(from)i(man)o(y)f
(v)o(endors.)23 b(As)337 2029 y(the)d(number)d(of)i(authors)f
(increases,)h(the)g(interests)g(and)g(incenti)n(v)o(es)f(of)h(the)g
(parties)g(in)m(v)n(olv)o(ed)e(di)n(v)o(er)o(ge.)22 b(As)e(a)g(result,)
f(it)h(is)337 2178 y(no)f(longer)f(possible)g(to)h(trust)h(an)e
(application)g(tak)o(en)g(as)i(a)g(whole)e FI(unless)h
FM(an)g(object-granularity)c(access)20 b(control)e(mech-)337
2328 y(anism)27 b(is)g(incorporated)d(into)i(the)h(basic)f(system)h
(design.)43 b(Objects)27 b(should)e(be)i(indi)n(vidually)d(named)h(and)
h(protected.)337 2477 y(Programs)19 b(should)h(hold)f(authority)g(to)h
(the)g(objects)g(the)o(y)g(require)e(\226)j(and)e(no)h(more.)462
2635 y(Capabilities)25 b(pro)o(vide)d(just)j(such)f(an)h
(object-oriented)c(protection)i(model.)37 b(The)24 b(term)g
(\223capability\224)f(w)o(as)j(\002rst)f(in-)337 2784
y(troduced)h(in)h(1966)f(by)h(V)-9 b(an)27 b(Horn)f([Den66)n(])i(as)g
(a)f(generalization)f(of)h(the)g(descriptor)f(concept)g(implemented)f
(in)j(the)337 2934 y(Burroughs)i(B5000)g(computer)g([Bur61)n(].)59
b(A)32 b(capability)e(refers)h(to)h(a)g(procedure,)f(se)o(gment,)i(or)e
(other)g(object,)i(and)337 3083 y(speci\002es)26 b(a)f(set)h(of)f
(access)g(rights)g(on)f(the)h(object)g(that)g(it)g(names.)39
b(Systems)26 b(that)f(use)g(capabilities)g(as)g(their)g(primiti)n(v)o
(e)337 3233 y(protection)19 b(mechanism)g(are)h(kno)n(wn)f(as)i
(\223capability)e(systems.)-6 b(\224)462 3390 y(Capability)29
b(systems)g(can)g(support)f(se)n(v)o(eral)h(basic)g(properties)f(that)h
(access)h(control)e(list)i(\(A)m(CL\))f(based)g(systems)337
3540 y(do)24 b(not)f(\(Figure)g(1.1\).)34 b(In)24 b(addition,)f
(capability)f(systems)j FI(may)e FM(support)g(the)g(security)g
(policies)h(that)g(are)f(necessary)g(in)337 3689 y(component)f(based)h
(application)f(architectures.)34 b(Adv)n(ocates)23 b(ha)n(v)o(e)g(long)
g(claimed)g(that)h(the)o(y)f(do.)35 b(In)24 b(spite)g(of)f(this,)i(no)
337 3838 y(speci\002c)f(capability)e(architecture)g(has)h(been)g
(formally)e(described)h(that)h(demonstrates)f(these)i(properties,)e
(nor)g(has)i(the)337 3988 y(correctness)e(of)g(such)g(an)g
(architecture)f(with)i(respect)f(to)g(essential)h(security)f(policies)g
(such)g(as)h(con\002nement)e([Lam73)m(])337 4137 y(been)f(sho)n(wn.)462
4295 y(Supposing)i(that)i(such)g(an)g(architecture)e(e)o(xisted,)i(no)g
(e)o(xisting)f FI(implementation)f FM(of)h(a)i(capability)e(system)h
(has)g(de-)337 4444 y(li)n(v)o(ered)c(performance)d(competiti)n(v)o(e)i
(with)i(access)g(list)g(based,)f(monolithic)f(system)i
(implementations.)i(Quite)e(the)f(con-)337 4594 y(trary)-5
b(,)21 b(pre)n(vious)f(implementations)g(ha)n(v)o(e)h(pro)o(v)o(en)f
(almost)h(uni)n(v)o(ersally)f(disappointing.)27 b(Further)m(,)21
b(capability)g(architec-)337 4743 y(tures)k(appear)f(to)i(most)f
(naturally)e(e)o(xpress)i(themselv)o(es)f(as)i(dek)o(ernelized)d
(designs,)i(and)g(a)g(great)g(deal)g(of)f(con)m(vincing)337
4893 y(e)n(vidence)j(has)h(accumulated)e(to)i(cast)g(doubt)f(on)g(the)h
(potential)f(performance)e(of)i(such)h(designs.)47 b(Before)28
b(capability)337 5042 y(systems)21 b(can)f(be)g(useful,)g(these)g
(challenges)f(to)i(their)f(practical)f(feasibility)h(must)g(be)g
(addressed.)462 5200 y(This)29 b(dissertation)e(mak)o(es)h(four)g
(basic)g(contrib)n(utions.)48 b(First,)31 b(it)e(presents)f
FI(diminish-tak)o(e)p FM(,)g(an)h(e)o(xtension)d(of)j(the)2098
5410 y(1)p eop
%%Page: 2 18
2 17 bop 37 31 3563 7 v 37 105 a FJ(Figur)o(e)20 b(1.1)f
FM(Basic)j(properties)c(supported)h(by)g(capabilities)p
37 143 3563 4 v 37 300 a FJ(Least)i(Pri)o(vilege)40 b
FM(Programs)19 b(should)g(ha)n(v)o(e)h(no)g(more)f(authority)g(than)g
(the)o(y)h(require.)37 466 y FJ(Selecti)o(v)o(e)h(Access)f(Right)g
(Delegation)40 b FM(A)24 b(program)d(that)i(possesses)g(authority)f
(should)g(be)h(able)g(to)g(selecti)n(v)o(ely)f(dele-)245
565 y(gate)e(that)g(authority)f(to)h(its)h(component)d(subprograms.)245
698 y(It)j(must)f(be)g(possible)g(to)g(run)g(components)e(with)i
(lesser)h(authority)d(than)i(that)g(of)g(their)g(principal.)37
864 y FJ(Rights)h(T)-6 b(ransfer)20 b(Contr)o(ol)40 b
FM(A)18 b(\(sub\)program)d(should)i(be)h(able)f(to)i(recei)n(v)o(e)d
(additional)h(authority)f(only)i(if)g(that)g(author)n(-)245
964 y(ity)i(is)i(granted)c(via)j(an)f(e)o(xplicitly)f(authorized)f
(channel.)37 1130 y FJ(Inf)n(ormation)i(T)-6 b(ransfer)20
b(Contr)o(ol)40 b FM(A)19 b(\(sub\)program)c(should)j(be)g(able)h(to)g
(e)o(xchange)d(informatoin)g(only)i(by)g(w)o(ay)h(of)g(an)245
1230 y(e)o(xplicitly)g(authorized)f(channel.)37 1396
y FJ(Endogenous)j(V)-8 b(eri\002cation)40 b FM(It)18
b(must)g(be)g(possible)f(to)h(v)o(erify)f(from)g(within)g(the)h(system)
g(itself)h(that)f(certain)f(restrictions)245 1495 y(on)j(rights)g
(transfer)f(and)h(information)d(\003o)n(w)k(are)f(met.)245
1628 y(In)29 b(man)o(y)e(systems,)32 b(such)c(tests)i(are)f(possible)g
(only)f(if)h(the)g(e)o(xaminer)e(is)j(in)f(a)g(position)f(to)i(stand)e
(outside)h(the)245 1728 y(system)20 b(and)g(e)o(xamine)f(all)i(of)f
(its)h(state)g(at)f(some)g(instant.)p 37 1849 V 37 2193
a FI(tak)o(e-gr)o(ant)h FM(model)e(of)h(capability)f(access)i(control)e
(proposed)f(by)h(Jones,)h(Lipton,)f(and)h(Sn)o(yder)f([Jon76)n(])h(and)
g(enhanced)37 2343 y(by)g(Bishop)h([Bis79)o(])g(to)f(address)g(object)g
(metadata)f(and)h(certain)g(endogenous)d(access)k(checks)f(\(i.e.)25
b(checks)20 b(performed)37 2492 y(from)g(within)g(the)h(system\).)k
(These)c(e)o(xtensions)e(bridge)g(the)i(gap)e(from)h(the)g
FI(tak)o(e-gr)o(ant)h FM(model)e(to)i(the)f(beha)n(vior)f(of)i(real)37
2641 y(systems.)162 2839 y(Second,)e(it)i(pro)o(vides)e(a)i(formal)e
(model)h(of)g(capability)f(architectures,)g FI(SW)p FM(,)i(that)f(allo)
n(ws)h(precise)f(statements)h(about)37 2988 y(access,)33
b(and)c(more)g(particularly)-5 b(,)29 b(con\002nement,)h(to)g(be)g
(made)f(and)g(pro)o(v)o(en.)2364 2958 y FC(1)2448 2988
y FI(SW)36 b FM(de\002nes)29 b(a)h(f)o(amily)f(of)h(capability)37
3137 y(systems,)18 b(of)f(which)g(an)o(y)f(realization)g(satis\002es)i
(these)g(security)e(properties.)22 b FI(SW)i FM(is)18
b(the)f(\002rst)g(formal)f(model)g(of)h(a)h(general)37
3287 y(purpose)k(operating)e(system)j(architecture.)31
b(It)23 b(is)h(also)f(the)g(\002rst)g(model)f(for)g(which)g(the)h
(outcome)e(of)i(such)f(a)h(proof)e(has)37 3436 y(been)15
b(f)o(a)n(v)n(orable.)23 b(Pre)n(viously)14 b(successful)h(proof)f(ef)n
(forts)h(such)g(as)h([Har76)n(])g(ha)n(v)o(e)f(sho)n(wn)f(that)i
(enforcement)d(of)i(a)h(desired)37 3586 y(security)k(polic)o(y)f(w)o
(as)i(either)f(undecidable)e(or)i(impossible)f(within)h(the)h
(protection)d(frame)n(w)o(orks)g(e)o(xamined.)162 3783
y(Third,)f(this)h(dissertation)g(presents)f(the)h(Extremely)e(Reliable)
i(Operating)f(System)h(\(ER)m(OS\).)f(ER)m(OS)h(is)h(one)e(realiza-)37
3932 y(tion)h(of)g(an)h FI(SW)24 b FM(system.)h(This)18
b(dissertation)g(discusses)g(the)h(ER)m(OS)f(virtual)g(machine)f
(architecture)g(and)g(ho)n(w)h(the)g(ER)m(OS)37 4082
y(capabilities)24 b(are)g(mapped)e(to)i FI(SW)6 b FM(.)24
b(By)g(virtue)f(of)h(this)g(mapping,)f(the)g(ER)m(OS)i(design)e(is)i
(in)f(f)o(act)g(co)o(v)o(ered)d(by)j(both)f(the)37 4231
y(model)d(and)f(the)i(proof.)162 4428 y(Finally)-5 b(,)21
b(this)i(dissertation)e(presents)g(a)i(prototype)c(implementation)h(of)
h(the)h(ER)m(OS)g(system)g(on)g(the)f(Intel)h(x86)f(ma-)37
4578 y(chine)g(architecture.)j(By)d(mapping)e(ER)m(OS)i(virtual)f
(machine)f(abstractions)h(to)h(hardw)o(are-supported)16
b(objects,)21 b(this)g(im-)37 4727 y(plementation)16
b(yields)h(measured)f(performance)f(competati)n(v)o(e)g(with,)j(or)f(e)
n(v)o(en)g(e)o(xceeding,)e(con)m(v)o(entionally-architected)37
4877 y(A)m(CL-based)20 b(operating)e(systems)j(and)e(microk)o(ernels.)p
37 5121 1425 4 v 37 5176 a FB(1)104 5200 y FA(SW)d(stands)i(for)f
(Shapiro\226W)-5 b(eber)l(.)1798 5410 y FM(2)p eop
%%Page: 3 19
3 18 bop 337 108 a Fz(1.1)119 b(Wh)n(y)30 b(Capability)h(Systems?)337
347 y FM(Since)20 b(capability)f(designs)h(ha)n(v)o(e)f(f)o(allen)g
(out)h(of)f(f)o(a)n(v)n(or)h(in)g(the)g(last)g(20)g(years,)f(it)i(may)e
(be)h(helpful)e(to)i(gi)n(v)o(e)f(an)h(illustrating)337
497 y(e)o(xample)f(of)h(ho)n(w)g(the)o(y)f(w)o(ork)h(and)f(why)h
(current)f(\(A)m(CL\))g(systems)i(f)o(ail)g(to)f(satisfy)h(the)f
(properties)f(of)g(Figure)h(1.1.)462 648 y(Consider)d(a)h(simple)f
(system)h(con\002guration)c(ha)n(ving)j(only)f(tw)o(o)i(users:)24
b(Fred)17 b(and)g(W)m(ilma.)24 b(Each)17 b(user)h(has)f(a)h(process)337
798 y(that)23 b(runs)f(on)h(their)f(behalf,)g Fy(p)p
Fx(1)h FM(and)f Fy(p)p Fx(2)p FM(.)32 b(There)22 b(are)g(three)g
(objects)h(in)g(the)f(system,)i Fy(o)p Fx(1)p FM(,)f
Fy(o)p Fx(2)p FM(,)g(and)f Fy(o)p Fx(3)p FM(.)33 b(Fred)22
b(created)g Fy(o)p Fx(1)337 947 y FM(and)j Fy(o)p Fx(2)p
FM(.)40 b(Fred)25 b(can)g(read)g(and)f(write)h Fy(o)p
Fx(1)p FM(,)i(and)d(has)i(read-only)d(access)i(to)h Fy(o)p
Fx(2)p FM(.)40 b(W)m(ilma)25 b(created)g Fy(o)p Fx(3)p
FM(,)h(and)f(can)g(read)f(and)337 1096 y(write)d(it.)462
1248 y(Using)j(this)h(e)o(xample,)f(I)h(will)g(brie\003y)f(illustrate)g
(that)h(the)f(A)m(CL)h(model)e(f)o(ails)j(for)d(each)h(property)-5
b(.)35 b(The)25 b(capability)337 1397 y(model)31 b(succeeds)h(on)f(all)
i(b)n(ut)e(one,)j(and)d(can)h(be)g(straightforw)o(ardly)d(e)o(xtended)h
(to)h(handle)g(all)i(of)e(these)h(properties)337 1547
y(without)20 b(sacri\002cing)g(ef)n(\002cienc)o(y)-5
b(.)337 1855 y FG(1.1.1)99 b(A)-5 b(CL-Based)26 b(Pr)n(otection)337
2064 y FM(Figure)g(1.2)g(sho)n(ws)g(these)g(users)g(and)g(objects)g
(using)g(the)g(access)h(control)e(list)i(model.)42 b(Ev)o(ery)25
b(user)h(has)g(an)g(assigned)337 2214 y(principal)h(identi\002er)-5
b(.)47 b(Ev)o(ery)26 b(program)g(is)j(tagged)d(with)i(the)g(principal)e
(identi\002er)h(of)h(its)g(user)-5 b(.)48 b(Each)28 b(object)f(has)h
(an)337 2363 y(associated)23 b(access)g(control)e(list,)j(which)e(is)h
(a)g(mapping)d(from)i(principal)f(ids)i(to)f(a)h(set)g(of)g(access)g
(rights,)f(and)g(is)h(sho)n(wn)337 2512 y(belo)n(w)d(the)g(object.)25
b(The)20 b(resulting)f(access)i(rights)f(associated)g(with)g(each)g
(process)f(are)i(sho)n(wn)e(by)h(dashed)f(arro)n(ws.)p
337 2641 3563 7 v 337 2715 a FJ(Figur)o(e)h(1.2)f FM(A)i(simple)f
(system)h(using)e(access)i(control)e(lists.)p 337 2753
3563 4 v 1165 2852 a
 14735114 11972280 0 0 14735114 11972280 startTexFig
 1165 2852 a
%%BeginDocument: simple-acl.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: simple-acl.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:11 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 224 182
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 190.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 4162 m -1000 -1000 l 4799 -1000 l 4799 4162 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 1125 1875 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1125 855 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 2400 150 m 2925 150 l 2925 525 l 2400 525 l cp gs col0 s gr 
% Polyline
n 2400 1200 m 2925 1200 l 2925 1575 l 2400 1575 l cp gs col0 s gr 
% Polyline
n 2400 2325 m 2925 2325 l 2925 2700 l 2400 2700 l cp gs col0 s gr 
% Polyline
n 150 2625 m 1875 2625 l 1875 3150 l 150 3150 l cp gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
2254 320 m 2400 300 l 2274 377 l 2424 323 l 2404 267 l cp
clip
n 1350 675 m 2400 300 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2254 320 m 2400 300 l 2274 377 l 2287 340 l 2254 320 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
2271 1129 m 2400 1200 l 2254 1186 l 2406 1233 l 2423 1176 l cp
clip
n 1425 900 m 2400 1200 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2271 1129 m 2400 1200 l 2254 1186 l 2285 1165 l 2271 1129 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
2276 2245 m 2400 2325 l 2255 2301 l 2403 2358 l 2425 2302 l cp
clip
n 1425 1950 m 2400 2325 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2276 2245 m 2400 2325 l 2255 2301 l 2288 2282 l 2276 2245 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Italic ff 180.00 scf sf
150 825 m
gs 1 -1 sc (fred) col0 sh gr
/Times-Italic ff 180.00 scf sf
75 1950 m
gs 1 -1 sc (wilma) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 900 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 1950 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 375 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 1500 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 2550 m
gs 1 -1 sc (o3) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
2400 750 m
gs 1 -1 sc (fred) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
2400 1800 m
gs 1 -1 sc (fred) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
2400 2925 m
gs 1 -1 sc (wilma) col0 sh gr
/Times-Roman ff 180.00 scf sf
3000 2925 m
gs 1 -1 sc ({r,w,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
3000 750 m
gs 1 -1 sc ({r,w,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
3000 1800 m
gs 1 -1 sc ({r,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
900 3075 m
gs 1 -1 sc (principal id) col0 sh gr
/Times-Roman ff 180.00 scf sf
900 2850 m
gs 1 -1 sc (user name) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
300 3075 m
gs 1 -1 sc (fred) col0 sh gr
/Times-Italic ff 180.00 scf sf
300 2850 m
gs 1 -1 sc (fred) col0 sh gr
/Times-Roman ff 180.00 scf sf
1350 2400 m
gs 1 -1 sc ({r,w,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
1425 1200 m
gs 1 -1 sc ({r,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
1350 375 m
gs 1 -1 sc ({r,w,own}) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
675 2325 m
gs 1 -1 sc (wilma) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
825 1275 m
gs 1 -1 sc (fred) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 4472 3563 4 v 337 4841 a FJ(F)n(ailur)o(e)h(of)g(Least)g(Pri)o
(vilege)337 5050 y FM(In)29 b(access)h(control)e(list)i(systems,)h
(authorities)d(are)h(granted)f(to)h(programs)e(according)g(to)i(the)g
(user)g(identity)f(of)h(their)337 5200 y(principal.)h(All)23
b(of)f(the)g(authorities)f(associated)h(with)g(a)h(principal)e(are)h
(granted)f(to)h(e)n(v)o(ery)f(program)f(running)g(on)i(behalf)2098
5410 y(3)p eop
%%Page: 4 20
4 19 bop 37 108 a FM(of)19 b(that)g(principal.)k(There)18
b(is)h(no)g(means)f(for)g(a)h(program)e(to)i(reduce)e(this)j(authority)
-5 b(.)22 b(Thus,)c(the)h(least)h(pri)n(vile)o(ge)d(property)37
257 y(is)22 b(not)d(supported)g(by)g(access)i(control)e(list)i
(systems.)37 570 y FJ(F)n(ailur)o(e)f(of)g(Selecti)o(v)o(e)g(Access)h
(Right)f(Delegation)37 790 y FM(Selecti)n(v)o(e)f(access)h(right)f
(dele)o(gation)e(is)j(also)g(unsupported.)h(Suppose)e(that)g(Fred)g
(wishes)h(to)f(create)g(a)h(ne)n(w)f(program)e Fy(p)p
Fx(3)p FM(,)37 940 y(which)j(should)f(ha)n(v)o(e)g(access)h(only)f(to)i
(object)e Fy(o)p Fx(1)h FM(\(Figure)f(1.3\).)24 b(This)c(ne)n(w)f
(process)h(is)h(created)e(by)g Fy(p)p Fx(1)p FM(,)h(and)f(inherits)h
(the)37 1089 y(principal)g(id)h FJ(fr)o(ed)f FM(from)f(its)j(parent.)j
(Because)c(access)g(rights)f(are)h(based)f(solely)h(on)f(principal)f
(id,)i(the)f(access)i(rights)e(of)37 1239 y Fy(p)p Fx(3)g
FM(are)f(identical)g(to)h(those)f(of)g Fy(p)p Fx(1)p
FM(.)25 b FI(Ther)m(e)19 b(is)i(no)e(means)g(to)h(r)m(educe)e(these)i
(rights.)25 b FM(In)19 b(the)h(illustration,)e(access)i(rights)g(are)37
1388 y(sho)n(wn)g(by)g(dashed)f(arro)n(ws,)g(with)i(the)f(associated)g
(rights)g(attached)f(to)i(each)e(arro)n(w)-5 b(.)p 37
1528 3563 7 v 37 1601 a FJ(Figur)o(e)20 b(1.3)f FM(A)m(CL)i(Model:)k
(All)20 b(of)g(Fred')-5 b(s)21 b(processes)f(ha)n(v)o(e)f(identical)h
(access)h(rights.)p 37 1639 3563 4 v 635 1739 a
 18353111 11972280 0 0 18353111 11972280 startTexFig
 635 1739
a
%%BeginDocument: simple-acl-nodelegate.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: simple-acl-nodelegate.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:10 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 279 182
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 190.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 4162 m -1000 -1000 l 5703 -1000 l 5703 4162 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 1125 825 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1125 1875 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 4425 825 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 2400 150 m 2925 150 l 2925 525 l 2400 525 l cp gs col0 s gr 
% Polyline
n 2400 1200 m 2925 1200 l 2925 1575 l 2400 1575 l cp gs col0 s gr 
% Polyline
n 2400 2325 m 2925 2325 l 2925 2700 l 2400 2700 l cp gs col0 s gr 
% Polyline
n 150 2625 m 1875 2625 l 1875 3150 l 150 3150 l cp gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
2254 320 m 2400 300 l 2274 377 l 2424 323 l 2404 267 l cp
clip
n 1350 675 m 2400 300 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2254 320 m 2400 300 l 2274 377 l 2287 340 l 2254 320 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
2266 1138 m 2400 1200 l 2253 1197 l 2408 1233 l 2421 1174 l cp
clip
n 1425 975 m 2400 1200 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2266 1138 m 2400 1200 l 2253 1197 l 2283 1173 l 2266 1138 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
3059 361 m 2925 300 l 3072 302 l 2917 267 l 2904 326 l cp
clip
n 4275 600 m 2925 300 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 3059 361 m 2925 300 l 3072 302 l 3042 326 l 3059 361 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
3072 1196 m 2925 1200 l 3058 1138 l 2904 1174 l 2917 1233 l cp
clip
n 4200 900 m 2925 1200 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 3072 1196 m 2925 1200 l 3058 1138 l 3042 1173 l 3072 1196 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
2276 2245 m 2400 2325 l 2255 2301 l 2403 2358 l 2425 2302 l cp
clip
n 1425 1950 m 2400 2325 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2276 2245 m 2400 2325 l 2255 2301 l 2288 2282 l 2276 2245 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Italic ff 180.00 scf sf
150 825 m
gs 1 -1 sc (fred) col0 sh gr
/Times-Italic ff 180.00 scf sf
75 1950 m
gs 1 -1 sc (wilma) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 900 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 1950 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 375 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 1500 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 2550 m
gs 1 -1 sc (o3) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
2400 750 m
gs 1 -1 sc (fred) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
2400 1800 m
gs 1 -1 sc (fred) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
2400 2925 m
gs 1 -1 sc (wilma) col0 sh gr
/Times-Roman ff 180.00 scf sf
3000 2925 m
gs 1 -1 sc ({r,w,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
3000 750 m
gs 1 -1 sc ({r,w,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
3000 1800 m
gs 1 -1 sc ({r,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
900 3075 m
gs 1 -1 sc (principal id) col0 sh gr
/Times-Roman ff 180.00 scf sf
900 2850 m
gs 1 -1 sc (user name) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
300 3075 m
gs 1 -1 sc (fred) col0 sh gr
/Times-Italic ff 180.00 scf sf
300 2850 m
gs 1 -1 sc (fred) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
4200 1275 m
gs 1 -1 sc (fred) col0 sh gr
/Times-Roman ff 180.00 scf sf
4350 900 m
gs 1 -1 sc (p3) col0 sh gr
/Times-Roman ff 180.00 scf sf
1350 375 m
gs 1 -1 sc ({r,w,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
3375 375 m
gs 1 -1 sc ({r,w,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
3375 1275 m
gs 1 -1 sc ({r,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
1425 1275 m
gs 1 -1 sc ({r,own}) col0 sh gr
/Times-Roman ff 180.00 scf sf
1425 2400 m
gs 1 -1 sc ({r,w,own}) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
750 2325 m
gs 1 -1 sc (wilma) col0 sh gr
/Helvetica-Bold ff 180.00 scf sf
900 1275 m
gs 1 -1 sc (fred) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 3359 3563 4 v 37 3769 a FJ(F)n(ailur)o(e)f(of)g(Rights)g(and)h(Inf)
n(ormation)e(T)-6 b(ransfer)20 b(Contr)o(ol)37 3989 y
FM(Consider)27 b(the)g(case)h(where)f(W)m(ilma')-5 b(s)27
b(program)f(has)h(access)h(to)f(restricted)g(information,)f(b)n(ut)h
(does)g(not)g(ha)n(v)o(e)g(access)37 4138 y(to)c(an)f(e)o(xternal)f
(high-speed)f(communication)g(channel.)30 b(Fred)22 b(does)g(not)g(ha)n
(v)o(e)g(access)h(to)f(the)g(restricted)g(information,)37
4288 y(and)k(therefore)e(has)i(been)f(granted)g(access)h(to)g(the)g
(netw)o(ork.)41 b(Fred)25 b(wishes)i(to)f(collude)e(with)j(W)m(ilma)f
(to)g(disclose)g(the)37 4437 y(restricted)20 b(information.)162
4594 y(T)-7 b(o)25 b(do)g(so,)h(all)g(that)f(is)h(necessary)e(is)i(for)
e(Fred)h(to)g(add)g(W)m(ilma)g(to)g(the)g(access)h(list)g(for)e
Fy(o)p Fx(2)p FM(,)j(granting)c(write)i(access)37 4744
y(to)e(e)n(v)o(ery)d(process)i(running)e(on)h(behalf)g(of)h(the)g
FJ(wilma)g FM(principal.)29 b(Once)22 b(W)m(ilma)g(has)g(write)h
(access)f(to)g(this)h(object,)f(the)37 4893 y(information)c(can)i(be)g
(transferred)f(to)h(Fred,)g(who)f(in)i(turn)e(can)h(transfer)g(it)h(o)o
(v)o(er)d(the)j(netw)o(ork.)162 5050 y(Because)i(access)g(control)e
(list)j(systems)f(cannot)e(control)h(the)g(transfer)g(of)g(access)h
(rights,)g(the)o(y)f(cannot)f(control)h(the)37 5200 y(transfer)e(of)g
(information.)i(This)f(has)f(been)g(sho)n(wn)f(formally)g(in)h([Har76)n
(].)1798 5410 y(4)p eop
%%Page: 5 21
5 20 bop 337 108 a FJ(F)n(ailur)o(e)20 b(of)g(Endogenous)g(V)-8
b(eri\002cation)337 313 y FM(Since)26 b(Fred')-5 b(s)25
b(programs)e(can)i(increase)f(the)h(authority)f(of)g(W)m(ilma')-5
b(s)26 b(programs)d(at)j(an)o(y)e(time,)i(rights)f(transter)f(and)h
(in-)337 463 y(formation)g(\003o)n(w)i(are)f(unrestricted.)42
b(It)27 b(is)h(therefore)c(not)j(possible)f(to)g(v)o(erify)g(that)g
(constraints)g(on)g(rights)g(transfer)g(or)337 612 y(information)18
b(\003o)n(w)j(are)f(satis\002ed.)337 905 y FG(1.1.2)99
b(Capability-Based)26 b(Pr)n(otection)337 1110 y FM(Figure)i(1.4)g(sho)
n(ws)h(the)f(same)h(objects)f(and)g(users)h(as)g(the)o(y)f(w)o(ould)g
(be)g(managed)f(in)i(a)g(capability)e(system.)50 b(Arro)n(ws)337
1260 y(represent)27 b(capabilities,)i(and)f(are)f(annotated)g(with)h
(the)f(access)i(rights)e(granted)g(by)g(that)h(capability)-5
b(.)47 b(Ev)o(ery)26 b(process)337 1409 y(holds)i(capabilities)g(for)f
(the)h(objects)g(it)h(can)e(access.)49 b(Neither)28 b(process)g(holds)f
(a)i(capability)e(to)h(the)g(other)m(,)g(and)g(their)337
1558 y(access)21 b(to)g Fy(o)p Fx(2)f FM(is)h(read-only)-5
b(.)23 b(The)c(tw)o(o)i(processes)f(therefore)e(cannot)h(e)o(xchange)f
(either)i(information)e(or)i(authority)-5 b(.)p 337 1676
3563 7 v 337 1750 a FJ(Figur)o(e)20 b(1.4)f FM(A)i(simple)f(system)h
(using)e(capabilities.)p 337 1788 3563 4 v 1377 1887
a
 11380244 10196172 0 0 11380244 10196172 startTexFig
 1377 1887 a
%%BeginDocument: simple-cap.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: simple-cap.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:11 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 173 155
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 163.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3712 m -1000 -1000 l 3937 -1000 l 3937 3712 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 1125 825 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1125 1875 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 2400 150 m 2925 150 l 2925 525 l 2400 525 l cp gs col0 s gr 
% Polyline
n 2400 1200 m 2925 1200 l 2925 1575 l 2400 1575 l cp gs col0 s gr 
% Polyline
gs  clippath
2256 329 m 2400 300 l 2279 384 l 2426 322 l 2402 267 l cp
clip
n 1350 750 m 2400 300 l gs col0 s gr gr

% arrowhead
n 2256 329 m 2400 300 l 2279 384 l 2290 347 l 2256 329 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2271 1129 m 2400 1200 l 2254 1186 l 2406 1233 l 2423 1176 l cp
clip
n 1425 900 m 2400 1200 l gs col0 s gr gr

% arrowhead
n 2271 1129 m 2400 1200 l 2254 1186 l 2285 1165 l 2271 1129 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2276 2245 m 2400 2325 l 2255 2301 l 2403 2358 l 2425 2302 l cp
clip
n 1425 1950 m 2400 2325 l gs col0 s gr gr

% arrowhead
n 2276 2245 m 2400 2325 l 2255 2301 l 2288 2282 l 2276 2245 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 2400 2325 m 2925 2325 l 2925 2700 l 2400 2700 l cp gs col0 s gr 
/Times-Italic ff 180.00 scf sf
150 825 m
gs 1 -1 sc (fred) col0 sh gr
/Times-Italic ff 180.00 scf sf
75 1950 m
gs 1 -1 sc (wilma) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 900 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 1950 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 375 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 1500 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 2550 m
gs 1 -1 sc (o3) col0 sh gr
/Times-Roman ff 180.00 scf sf
1875 2100 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 450 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
1875 1275 m
gs 1 -1 sc (r) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 3282 3563 4 v 337 3624 a FJ(Least)i(Pri)o(vilege)e(and)i(Selecti)o
(v)o(e)f(Access)h(Right)f(Delegation)337 3830 y FM(When)31
b(a)g(ne)n(w)f(process)g(is)i(\002rst)f(created)f(by)g(Fred,)i(it)g
(holds)e(no)g(capabilities)g(\(Figure)g(1.5\),)i(and)d(therefore)g(has)
i(no)337 3979 y(intrinsic)f(access)f(rights.)52 b(Instead,)31
b(the)e(creating)g(process)g(\226)g(in)g(this)h(case)g
Fy(p)p Fx(1)f FM(\226)h(is)g(gi)n(v)o(en)e(a)i(capability)e(to)h(the)h
(ne)n(w)337 4129 y(process)23 b(con)m(v)o(e)o(ying)c
FJ(tak)o(e)k FM(and)f FJ(grant)g FM(rights.)33 b(The)22
b(tak)o(e)h(right)f(allo)n(ws)h Fy(p)p Fx(1)g FM(to)g(read)f(a)h
(capability)f(from)f Fy(p)p Fx(3)p FM(.)33 b(The)22 b(grant)337
4278 y(right)g(allo)n(ws)g Fy(p)p Fx(1)g FM(to)g(write)g(a)h
(capability)e(into)g Fy(p)p Fx(3)p FM(.)31 b(Once)21
b(the)h(process)g(is)h(created,)e Fy(p)p Fx(1)h FM(can)g(choose)f(to)h
(populate)f(it)h(with)337 4428 y(as)j(man)o(y)d(or)h(as)h(fe)n(w)g
(capabilities)f(as)h(desired.)34 b(It)24 b(is)h(therefore)c(possible)j
(to)f(construct)g(processes)g(that)g(ha)n(v)o(e)g(the)h(least)337
4577 y(amount)19 b(of)h(pri)n(vile)o(ge)f(that)h(is)h(necessary)f(to)g
(perform)e(their)i(function.)337 4845 y FJ(Rights)h(and)f(Inf)n
(ormation)g(T)-6 b(ransfer)20 b(Contr)o(ol)337 5050 y
FM(Because)f Fy(p)p Fx(1)g FM(and)f Fy(p)p Fx(2)h FM(ha)n(v)o(e)f(no)h
(ability)f(to)h(e)o(xchange)e(capabilities)h(or)h(data,)f(it)i(is)g
(not)e(possible)h(to)g(transfer)f(either)g(access)337
5200 y(rights)23 b(or)f(information)f(between)h(them.)32
b(If)23 b(W)m(ilma)g(has)g(access)g(to)g(restricted)f(data,)h(there)f
(is)i(no)f(w)o(ay)f(for)g(this)i(data)e(to)2098 5410
y(5)p eop
%%Page: 6 22
6 21 bop 37 31 3563 7 v 37 105 a FJ(Figur)o(e)20 b(1.5)f
FM(Creation)h(of)g(a)h(ne)n(w)f(process)f(using)h(capabilities.)p
37 143 3563 4 v 823 243 a
 15392931 10196172 0 0 15392931 10196172 startTexFig
 823 243 a
%%BeginDocument: simple-cap-newproc.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: simple-cap-newproc.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:11 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 234 155
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 163.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3712 m -1000 -1000 l 4953 -1000 l 4953 3712 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 1125 825 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1125 1875 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3675 825 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 2400 150 m 2925 150 l 2925 525 l 2400 525 l cp gs col0 s gr 
% Polyline
n 2400 1200 m 2925 1200 l 2925 1575 l 2400 1575 l cp gs col0 s gr 
% Polyline
gs  clippath
2256 329 m 2400 300 l 2279 384 l 2426 322 l 2402 267 l cp
clip
n 1350 750 m 2400 300 l gs col0 s gr gr

% arrowhead
n 2256 329 m 2400 300 l 2279 384 l 2290 347 l 2256 329 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2270 1132 m 2400 1200 l 2253 1189 l 2406 1233 l 2423 1175 l cp
clip
n 1350 900 m 2400 1200 l gs col0 s gr gr

% arrowhead
n 2270 1132 m 2400 1200 l 2253 1189 l 2285 1167 l 2270 1132 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2276 2245 m 2400 2325 l 2255 2301 l 2403 2358 l 2425 2302 l cp
clip
n 1425 1950 m 2400 2325 l gs col0 s gr gr

% arrowhead
n 2276 2245 m 2400 2325 l 2255 2301 l 2288 2282 l 2276 2245 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 2400 2325 m 2925 2325 l 2925 2700 l 2400 2700 l cp gs col0 s gr 
% Polyline
gs  clippath
3231 795 m 3375 825 l 3231 855 l 3390 855 l 3390 795 l cp
clip
n 1350 825 m 3375 825 l gs col0 s gr gr

% arrowhead
n 3231 795 m 3375 825 l 3231 855 l 3255 825 l 3231 795 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Italic ff 180.00 scf sf
150 825 m
gs 1 -1 sc (fred) col0 sh gr
/Times-Italic ff 180.00 scf sf
75 1950 m
gs 1 -1 sc (wilma) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 900 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 1950 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 375 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 1500 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 2550 m
gs 1 -1 sc (o3) col0 sh gr
/Times-Roman ff 180.00 scf sf
1875 2100 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 450 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
3600 900 m
gs 1 -1 sc (p3) col0 sh gr
/Times-Roman ff 180.00 scf sf
1875 1200 m
gs 1 -1 sc (r) col0 sh gr
/Times-Roman ff 180.00 scf sf
2175 750 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 1637 3563 4 v 37 1890 a FM(be)h(transmitted)e(to)h(Fred.)162
2042 y(In)h(order)f(for)g(access)i(rights)e(to)h(be)g(e)o(xchanged,)e
(one)h(of)h(the)g(processes)g(must)g(hold)f(a)h(capability)f(con)m(v)o
(e)o(ying)e(either)37 2191 y FJ(tak)o(e)j FM(or)e FJ(grant)h
FM(authority)e(to)j(the)f(other)m(,)f(such)g(as)i(the)f(dashed)g
(capability)f(in)h(Figure)g(1.6.)k(Only)c(if)g(such)g(a)g(capability)g
(is)37 2341 y(present)g(can)g(access)h(rights)f(be)g(transferred)e
(between)i(the)g(tw)o(o)g(parties.)p 37 2469 3563 7 v
37 2543 a FJ(Figur)o(e)g(1.6)f FM(Authority)g(transfer)g(with)i
(capabilities.)p 37 2581 3563 4 v 1077 2680 a
 11380244 10196172 0 0 11380244 10196172 startTexFig
 1077 2680
a
%%BeginDocument: simple-cap-xfer.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: simple-cap-xfer.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:11 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 173 155
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 163.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3712 m -1000 -1000 l 3937 -1000 l 3937 3712 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 1125 825 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1125 1875 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 2400 150 m 2925 150 l 2925 525 l 2400 525 l cp gs col0 s gr 
% Polyline
n 2400 1200 m 2925 1200 l 2925 1575 l 2400 1575 l cp gs col0 s gr 
% Polyline
gs  clippath
2256 329 m 2400 300 l 2279 384 l 2426 322 l 2402 267 l cp
clip
n 1350 750 m 2400 300 l gs col0 s gr gr

% arrowhead
n 2256 329 m 2400 300 l 2279 384 l 2290 347 l 2256 329 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2271 1129 m 2400 1200 l 2254 1186 l 2406 1233 l 2423 1176 l cp
clip
n 1425 900 m 2400 1200 l gs col0 s gr gr

% arrowhead
n 2271 1129 m 2400 1200 l 2254 1186 l 2285 1165 l 2271 1129 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2276 2245 m 2400 2325 l 2255 2301 l 2403 2358 l 2425 2302 l cp
clip
n 1425 1950 m 2400 2325 l gs col0 s gr gr

% arrowhead
n 2276 2245 m 2400 2325 l 2255 2301 l 2288 2282 l 2276 2245 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 2400 2325 m 2925 2325 l 2925 2700 l 2400 2700 l cp gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
1155 1506 m 1125 1650 l 1095 1506 l 1095 1665 l 1155 1665 l cp
clip
n 1125 1125 m 1125 1650 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1155 1506 m 1125 1650 l 1095 1506 l 1125 1530 l 1155 1506 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Italic ff 180.00 scf sf
150 825 m
gs 1 -1 sc (fred) col0 sh gr
/Times-Italic ff 180.00 scf sf
75 1950 m
gs 1 -1 sc (wilma) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 900 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 1950 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 375 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 1500 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 2550 m
gs 1 -1 sc (o3) col0 sh gr
/Times-Roman ff 180.00 scf sf
1875 2100 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 450 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
1875 1275 m
gs 1 -1 sc (r) col0 sh gr
/Times-Roman ff 180.00 scf sf
900 1350 m
gs 1 -1 sc (t,g) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 4075 3563 4 v 162 4312 a FM(Similarly)-5 b(,)18 b(the)g(absence)g
(of)g(a)g(capability)g(con)m(v)o(e)o(ying)d(a)j(suitable)g(combination)
e(of)i(read)g(and)g(write)g(permissions)g(on)37 4462
y(an)f(object)e(accessable)i(to)f(both)g(Fred)g(and)f(W)m(ilma)i(pre)n
(v)o(ents)e(unauthorized)e(transfer)i(of)h(information.)22
b(The)16 b(de\002nition)f(of)37 4611 y(\223suitable)21
b(combination\224)d(is)k(modestly)e(trick)o(y)-5 b(,)19
b(and)h(is)i(co)o(v)o(ered)c(in)j(detail)g(in)g(Chapter)f(4.)26
b(Brie\003y)-5 b(,)21 b(if)g(W)m(ilma)g(can)f(write)37
4760 y(an)h(object)e(that)i(Fred)f(can)g(read,)f(information)f(can)i
(be)g(transferred)e(from)h(W)m(ilma)i(to)f(Fred.)25 b(Note,)20
b(ho)n(we)n(v)o(er)m(,)e(that)i(this)h(is)37 4910 y FI(only)e
FM(possible)f(if)h(the)f(tw)o(o)h(parties)g(hold)f(appropriate)e
(authorities,)i(and)g(that)g(such)h(a)g(transfer)e(is)j(therefore)d
(authorized.)3570 4880 y FC(2)37 5059 y FM(Because)24
b(the)g(granting)e(of)h(authorities)g(can)g(be)h(controlled,)e(it)i(is)
h(possible)e(to)h(construct)e(initial)i(conditions)e(in)i(which)p
37 5121 1425 4 v 37 5176 a FB(2)104 5200 y FA(This)17
b(dissertation)i(does)f(not)f(address)h(considerations)i(of)d(co)o(v)o
(ert)i(channels.)1798 5410 y FM(6)p eop
%%Page: 7 23
7 22 bop 337 108 a FM(such)23 b(information)e(transfers)i(are)g(not)g
(possible.)34 b(This)23 b(dissertation)g(pro)o(v)o(es)e(the)i
(correctness)g(of)g(one)f(mechanism)g(for)337 257 y(doing)d(so)i(in)f
(Chapter)g(6.)337 560 y FJ(Endogenous)h(V)-8 b(eri\002cation)337
776 y FM(One)23 b(\003a)o(w)g(in)f(the)h(capability)e(model)h(as)h
(de\002ned)f(by)g(V)-9 b(an)22 b(Horn)g([Den66)n(])g(is)i(the)e
FI(inability)g FM(to)h(v)o(erify)e(from)g(within)i(the)337
926 y(system)d(that)g(no)f(information)e(transfer)h(is)i(possible)g
(via)f(a)h(gi)n(v)o(en)e(capability)-5 b(.)23 b(Ev)o(en)c(if)g(the)h
(holder)e(tra)n(v)o(erses)h(all)h(objects)337 1075 y(reachable)f(from)g
(that)h(capability)-5 b(,)18 b(it)j(is)g(possible)f(that)g(one)f(of)h
(these)g(objects)g(will)h(later)f(be)g(modi\002ed)e(by)i(another)e
(party)337 1225 y(in)j(such)f(a)g(w)o(ay)h(as)g(to)f(increase)g(the)g
(authority)e(accessible)j(to)f Fy(p)p Fx(1)p FM(.)p 337
1360 3563 7 v 337 1434 a FJ(Figur)o(e)g(1.7)f FM(F)o(ailure)h(of)g
(endogenous)d(read-only)h(check.)p 337 1472 3563 4 v
1569 1572 a
 8354283 10196172 0 0 8354283 10196172 startTexFig
 1569 1572 a
%%BeginDocument: endogenous.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: endogenous.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:09 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 127 155
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-50.0 163.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3712 m -1000 -1000 l 3937 -1000 l 3937 3712 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 1125 825 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1125 1875 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 2400 150 m 2925 150 l 2925 525 l 2400 525 l cp gs col0 s gr 
% Polyline
n 2400 1200 m 2925 1200 l 2925 1575 l 2400 1575 l cp gs col0 s gr 
% Polyline
gs  clippath
2256 329 m 2400 300 l 2279 384 l 2426 322 l 2402 267 l cp
clip
n 1350 750 m 2400 300 l gs col0 s gr gr

% arrowhead
n 2256 329 m 2400 300 l 2279 384 l 2290 347 l 2256 329 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2271 1129 m 2400 1200 l 2254 1186 l 2406 1233 l 2423 1176 l cp
clip
n 1425 900 m 2400 1200 l gs col0 s gr gr

% arrowhead
n 2271 1129 m 2400 1200 l 2254 1186 l 2285 1165 l 2271 1129 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2276 2245 m 2400 2325 l 2255 2301 l 2403 2358 l 2425 2302 l cp
clip
n 1425 1950 m 2400 2325 l gs col0 s gr gr

% arrowhead
n 2276 2245 m 2400 2325 l 2255 2301 l 2288 2282 l 2276 2245 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 2400 2325 m 2925 2325 l 2925 2700 l 2400 2700 l cp gs col0 s gr 
% Polyline
gs  clippath
2253 1578 m 2400 1575 l 2266 1637 l 2421 1601 l 2408 1542 l cp
clip
n 1425 1800 m 2400 1575 l gs col0 s gr gr

% arrowhead
n 2253 1578 m 2400 1575 l 2266 1637 l 2283 1602 l 2253 1578 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 180.00 scf sf
1050 900 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 1950 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 375 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 1500 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 2550 m
gs 1 -1 sc (o3) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 450 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
1875 1275 m
gs 1 -1 sc (r,t) col0 sh gr
/Times-Roman ff 180.00 scf sf
1875 1575 m
gs 1 -1 sc (r,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
1875 975 m
gs 1 -1 sc (\(1\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 2325 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
1950 1875 m
gs 1 -1 sc (\(2\)) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 2966 3563 4 v 462 3209 a FM(Suppose)i(one)h(wishes)h(to)g(kno)n(w)
e(that)i(process)e Fy(p)p Fx(1)i FM(cannot)e(write)i(data)f(to)g(an)o
(y)g(object)g(accessable)g(from)g(capability)337 3358
y(\(1\))f(in)g(Figure)g(1.7.)k(F)o(or)c(this)h(to)f(be)g(true,)g
(either)462 3592 y Fw(\017)41 b FM(Capability)20 b(\(1\))f(does)h(not)g
(con)m(v)o(e)o(y)e FJ(tak)o(e)i FM(or)g FJ(write)g FM(authority)-5
b(,)18 b FI(or)462 3831 y Fw(\017)41 b FM(No)20 b(capability)f(similar)
i(to)f(capability)f(\(2\))h(e)o(xists)h(that)f(con)m(v)o(e)o(ys)e
FJ(grant)h FM(authority)-5 b(,)18 b FI(or)462 4070 y
Fw(\017)41 b FM(The)32 b FJ(tak)o(e)g FM(authority)f(of)h(capability)f
(\(1\))h(is)h(someho)n(w)e(reduced)g(so)i(as)g(to)f(guarantees)f
(transiti)n(v)o(e)h(read-only)545 4219 y(access.)462
4452 y(The)23 b(\002rst)g(is)h(feasible,)f(b)n(ut)g(is)h(incon)m(v)o
(eniently)c(restricti)n(v)o(e,)i(as)i(one)e(w)o(ould)h(lik)o(e)g(to)g
(pass)h(structures)e(connected)f(by)337 4602 y(capabilities.)31
b(Locating)20 b(all)j(capabilities)f(similar)g(to)g(\(2\))f(requires)g
(an)h(e)o(xogenous)e(\(i.e.)30 b(e)o(xternal\))21 b(perspecti)n(v)o(e)f
(on)i(the)337 4751 y(system.)j(Such)18 b(a)h(search)g(requires)e(the)i
(authority)e(to)i(e)o(xamine)e(all)i(objects.)24 b(Such)19
b(authority)e(is)i(unlik)o(ely)f(to)h(be)f(granted,)337
4901 y(and)f(in)f(an)o(y)g(case)h(a)g(search)f(of)g(all)i(objects)e(is)
h(prohibiti)n(v)o(ely)d(e)o(xpensi)n(v)o(e)h(in)h(lar)o(ge)g(systems.)
24 b(T)m(ransiti)n(v)o(e)16 b(read-only)e(access)337
5050 y(is)25 b(not)d(included)g(in)i(the)f(capability)f(model)g
(described)g(by)h(V)-9 b(an)23 b(Horn.)33 b(Chapter)22
b(4)i(sho)n(ws)f(ho)n(w)g(it)g(can)g(be)h(added,)e(and)337
5200 y(what)f(impact)e(this)i(addition)e(has)h(on)g(the)g(capability)g
(access)g(model.)2098 5410 y(7)p eop
%%Page: 8 24
8 23 bop 162 108 a FM(In)31 b(summary)-5 b(,)33 b FI(all)f
FM(of)f(the)g(desired)g(properties)f(can)i(be)f(handled)f(within)i(the)
f(capability)g(model)f(with)i(minimal)37 257 y(modi\002cation,)18
b(and)g(none)g(within)g(the)h(access)h(control)d(list)j(model.)k(The)19
b(problem)e(is)i(to)g(sho)n(w)g(that)g(the)g(performance)d(d-)37
407 y(if)n(\002culties)j(associated)e(with)i(capability)e(systems)h
(can)g(be)g(o)o(v)o(ercome.)j(This)e(dissertation)e(demonstrates)g
(quantitati)n(v)o(ely)37 556 y(that)k(it)g(can.)162 707
y(The)j(balance)g(of)h(the)f(introduction)e(outlines)j(the)f(contrib)n
(utions)f(of)h(this)i(dissertation)e(in)h(greater)e(detail,)j(and)e
(de-)37 856 y(scribes)d(the)f(structure)f(of)h(the)g(balance)g(of)g
(the)g(document.)37 1219 y Fz(1.2)119 b(Capability)31
b(Access)f(Model)37 1457 y FM(The)f(\002rst)h(contrib)n(ution)d(of)i
(this)h(dissertation)f(is)h(the)f FI(diminish-tak)o(e)f
FM(access)i(model.)51 b(The)29 b(basic)h(capability)e(access)37
1606 y(model)21 b(is)i FI(tak)o(e-gr)o(ant)q FM(,)d(originally)g
(described)g(by)h(Jones,)h(Lipton,)e(and)h(Sn)o(yder)f([Jon76)n(])i
(and)f(subsequently)f(enhanced)37 1756 y(by)j(Bishop)g([Bis79)o(].)33
b(This)23 b(model)f(does)g(not)h(address)f(the)h(access)h(implications)
d(of)i(object)f(metadata,)h(which)f(is)i(used)37 1905
y(in)h(all)g(real)g(capability)e(systems.)38 b(In)24
b(addition,)g(it)i(does)e(not)g(incorporate)e(pro)o(vision)g(for)i
(transiti)n(v)o(e)g(read-only)e(access)37 2054 y(rights.)162
2205 y(The)f(need)g(for)g(an)h(access)g(model)f(incorporating)d(object)
k(metadata)e(becomes)h(apparent)f(when)h(memory)f(manage-)37
2355 y(ment)28 b(is)i(e)o(xported)c(from)h(the)h(supervisor)f(into)h
(potentially)f(unpri)n(v)o(ele)o(ged)e(user)n(-mode)h(programs.)48
b(Such)27 b(programs)37 2504 y(indirectly)i(manipulate)g(memory)f
(mapping)h(tables,)j(and)e(consequently)e(alter)i(the)g(access)h
(rights)e(of)h(the)g(programs)37 2654 y(the)o(y)24 b(manipulate.)37
b(An)25 b(access)g(model)f(is)i(needed)d(that)i(accounts)f(for)g(the)h
(ef)n(fect)f(of)g(such)h(manipulations.)36 b(Mapping)37
2803 y(structures)23 b(manipulable)e(by)h(the)h(memory)e(manager)g(are)
i(often)f(opaque)f(to)i(the)g(client)g(process)g(e)n(v)o(en)e(though)g
(the)i(ob-)37 2953 y(jects)e(mapped)d(are)h(not.)24 b(Pro)o(vision)18
b(for)h(indirection)f(through)f(such)i(opaque)f(metadata)h(must)g(be)h
(incorporated)c(into)k(the)37 3102 y(access)h(model.)162
3253 y(F)o(or)28 b(reasons)g(described)f(abo)o(v)o(e,)i(it)g(is)h
(desirable)d(to)i(ha)n(v)o(e)f(an)g(access)i(right)d(that)i(allo)n(ws)g
(the)f(holder)f(to)i(tra)n(v)o(erse)37 3402 y(capability-link)o(ed)19
b(structures)h(without)g(thereby)g(gaining)f(write)i(access)h(to)f(an)o
(ything.)k(Here)c(again,)f(the)h(access)g(model)37 3552
y(needs)f(to)h(be)f(enhanced.)162 3702 y(The)f FI(diminish-tak)o(e)f
FM(access)i(model)f(incorporates)e(a)j(small)g(set)h(of)e(enhancements)
e(to)j(the)f(earlier)g FI(tak)o(e-gr)o(ant)h FM(mod-)37
3852 y(el)29 b(addressing)d(both)h(needs.)46 b(These)28
b(e)o(xtensions)e(bridge)g(the)i(gap)e(from)h(the)g FI(tak)o(e-gr)o
(ant)h FM(model)f(to)g(the)h(beha)n(vior)e(of)37 4001
y(real)g(systems.)42 b(Where)25 b(the)h FI(tak)o(e-gr)o(ant)f
FM(model)g(describes)g(the)h(beha)n(vior)e(of)h(a)h(hypothetical)d
(capability)i(system,)i(the)37 4151 y FI(diminish-tak)o(e)20
b FM(model)f(describes)h(the)h(beha)n(vior)e(of)h(se)n(v)o(eral)g(that)
g(ha)n(v)o(e)g(actually)g(been)g(implemented.)k(In)c(particular)m(,)f
(it)37 4300 y(completely)g(describes)h(the)g(access)h(rights)f
(associated)g(with)g(e)o(xternalized)e(memory)h(management.)37
4663 y Fz(1.3)119 b(F)m(ormal)30 b(V)-12 b(eri\002cation)37
4901 y FM(The)23 b(second)g(contrib)n(ution)e(of)h(this)i(dissertation)
f(is)h FI(SW)p FM(,)f(a)g(formal)f(model)h(for)f(a)i(capability)e
(architecture)f(that)j(can)f(be)37 5050 y(used)c(to)f(specify)g(and)f
(demonstrate)g(the)h(correctness)g(of)g(security)g(policies,)g(and)g(a)
g(v)o(eri\002cation)f(of)h(one)g(security)g(polic)o(y)37
5200 y(in)j(particular:)j(con\002nement.)1798 5410 y(8)p
eop
%%Page: 9 25
9 24 bop 337 108 a FG(1.3.1)99 b(Con\002nement)337 321
y FM(Simply)18 b(stated,)g(the)g FF(con\002nement)g(property)f
FM([Lam73)n(])h(asks)h(whether)d(a)j(program)c(is)k(able)f(to)g
(disclose)g(information.)k(If)337 470 y(it)d(cannot,)e(the)g(program)f
(is)j(said)f(to)f(be)h FF(con\002ned)q FM(.)24 b(In)18
b(practice,)f(I)h(will)g(relax)f(the)h(test)h(of)e(con\002nement)f(to)i
(ask)f(whether)g(a)337 620 y(program)f(is)k(able)e(to)g(disclose)g
(information)e FI(via)i(unauthorized)e(c)o(hannels.)22
b FM(Also,)d(I)g(will)f(consider)f(only)h(o)o(v)o(ert)f(channels)337
769 y(of)j(communication.)i(The)e(limitation)g(of)g(co)o(v)o(ert)f
(channel)g(bandwidth)f(is)j(be)o(yond)d(the)i(scope)g(of)g(this)h
(dissertation.)462 922 y(Con\002nement)e(considers)h(both)g
FI(de)g(jur)m(e)h FM(and)f FI(de)h(facto)f FM(means)h(of)f(information)
e(transfer)-5 b(.)26 b FF(De)21 b(jure)h FM(access)f(e)o(xists)g(if)337
1072 y(a)f(program)d Fy(p)p Fx(1)i FM(can,)g(by)g(some)g(sequence)e(of)
i(operations,)f(come)g(to)i(ha)n(v)o(e)e(e)o(xplicit)h(authority)e(to)i
(communicate)e(directly)337 1221 y(with)28 b Fy(p)p Fx(2)p
FM(.)46 b FF(De)28 b(facto)f FM(access)h(e)o(xists)g(if)f
Fy(p)p Fx(1)g FM(and)g Fy(p)p Fx(2)h FM(can)f(communicate)e(indirectly)
-5 b(.)2847 1191 y FC(3)2925 1221 y FM(If)27 b(program)f
Fy(p)p Fx(1)h FM(can)g(write)h(to)f(a)337 1371 y(shared)18
b(memory)e(re)o(gion,)h(and)h(program)e Fy(p)p Fx(2)i
FM(can)g(read)f(from)g(that)i(memory)d(re)o(gion,)h(then)g
Fy(p)p Fx(1)h FM(has)h(de)f(f)o(acto)g(write)g(access)337
1520 y(to)23 b Fy(p)p Fx(2)p FM(.)32 b(It)23 b(can)f(therefore)f
(disclose)i(information)d(to)j Fy(p)p Fx(2)f FM(and)g(is)i(not)e
(con\002ned.)31 b(Con\002nement)21 b(also)i(tak)o(es)f(into)h(account)
337 1670 y(the)g(transfer)g(of)f(access)i(rights.)33
b(If)23 b Fy(p)p Fx(2)g FM(can)f(grant)g(to)i Fy(p)p
Fx(1)e FM(some)h(authority)f(that)h(allo)n(ws)g Fy(p)p
Fx(1)g FM(to)g(disclose)g(information)d(to)337 1819 y
Fy(p)p Fx(2)p FM(,)g Fy(p)p Fx(1)g FM(is)h(not)f(con\002ned.)462
1972 y(The)25 b(con\002nement)e(restriction)i(allo)n(ws)g(sensiti)n(v)o
(e)h(information)d(to)i(be)g(handed)f(to)h(non-inspectable)e(\(i.e.)40
b(binary\))337 2122 y(code)18 b(without)f(risk)h(of)f(disclosure.)23
b(In)18 b(addition,)f(it)h(allo)n(ws)g(non-trusted)e(code)h(to)h(be)f
(e)o(x)o(ecuted)f(within)i(an)g(en)m(vironment)337 2271
y(whose)26 b(safety)g(can)g(be)g(formally)e(v)o(eri\002ed.)42
b(Finally)-5 b(,)26 b(con\002nement)f(is)h(a)h(precondition)c(to)j
(multile)n(v)o(el)f(secure)h(\(MLS\))337 2421 y(systems;)32
b(the)27 b(ability)g(to)h(construct)e(leak)h(free)g(en)m(vironments)d
(is)k(a)g(precursor)d(to)j(b)n(uilding)e(en)m(vironments)e(that)k(leak)
337 2570 y(only)20 b(in)g(controlled)f(directions.)337
2888 y FG(1.3.2)99 b(Non-con\002nement)28 b(of)d(A)-5
b(CL-deri)o(v)o(ed)26 b(Systems)337 3101 y FM(The)21
b(con\002nement)e(property)g(cannot)h(be)h(enforced)e(in)i(A)m(CL-deri)
n(v)o(ed)e(systems.)27 b(It)22 b(follo)n(ws)e(that)h(such)g(systems)h
(cannot)337 3250 y(enforce)d(multile)n(v)o(el)g(security)h(policies.)
462 3404 y(Let)g Fy(P)32 b FM(be)19 b(the)h(set)h(of)e(processes)g(in)h
(a)g(system,)g(and)f Fy(P)2045 3416 y Fv(f)7 b(r)r(ed)2207
3404 y FM(be)20 b(the)f(subset)h(of)f Fy(P)32 b FM(containing)18
b(processes)i(running)d(on)337 3553 y(behalf)22 b(of)h(user)f
Fy(f)9 b(r)r(ed)p FM(.)33 b(Let)23 b Fy(p)1223 3565 y
Fv(r)r(estr)r(icted)1552 3553 y Fw(2)28 b Fy(P)1688 3565
y Fv(f)7 b(r)r(ed)1853 3553 y FM(be)23 b(some)f(process)g(that)h
(should)f(be)g(con\002ned,)g(and)g Fy(p)3435 3565 y Fv(unsaf)7
b(e)3680 3553 y FM(be)22 b(an)o(y)337 3703 y(other)e(process.)26
b(In)20 b(an)h(access)g(list)h(system,)e(it)h(is)h(possible)e(for)g
Fy(p)2241 3715 y Fv(unsaf)7 b(e)2484 3703 y FM(to)21
b(create)f(a)h(ne)n(w)g(object)f Fy(o)p FM(,)h(and)f(to)h(grant)e
(write)337 3852 y(access)k(to)e Fy(f)9 b(r)r(ed)p FM(.)30
b(Ha)n(ving)20 b(done)h(so,)h Fy(p)1487 3864 y Fv(unsaf)7
b(e)1731 3852 y FM(has)21 b(ef)n(fecti)n(v)o(ely)f(granted)g(write)i
(access)g(to)f(all)h(members)f(of)g Fy(P)3595 3864 y
Fv(f)7 b(r)r(ed)3737 3852 y FM(,)22 b(and)337 4002 y(therefore)d(to)h
Fy(p)785 4014 y Fv(r)r(estr)r(icted)1087 4002 y FM(.)462
4155 y(It)d(follo)n(ws)f(immediately)f(that)i Fy(p)1410
4167 y Fv(r)r(estr)r(icted)1729 4155 y FM(cannot)e(be)i(con\002ned)e
(unless)h(all)i(processes)e(ha)n(ving)f(access)j(to)e(the)h(object)337
4304 y(space)25 b(reachable)f(from)f Fy(p)1119 4316 y
Fv(r)r(estr)r(icted)1446 4304 y FM(are)i(trusted.)38
b(In)24 b(UNIX)h(systems,)h(for)e(e)o(xample,)h(this)g(can)f(be)h
(approximated)d(by)337 4454 y(means)k(of)g(the)g FI(c)o(hr)l(oot)h
FM(mechanism)e(if)h(prior)f(planning)g(on)g(the)h(part)g(of)g(an)g
(administrator)f(is)i(feasible)e(and)h(carefully)337
4603 y(e)o(x)o(ecuted.)39 b(The)25 b FI(c)o(hr)l(oot)h
FM(approach)d(is)k(not)e(satisf)o(actory)g(for)f(do)n(wnloaded)f(acti)n
(v)o(e)i(content)f(or)h(for)g(independently)d(e)o(x-)337
4753 y(ecuted)i(subprograms,)f(and)h(breaks)g(do)n(wn)f(completely)g
(if)i(netw)o(orking)d(services)j(are)f(enabled.)37 b(Further)m(,)23
b(it)j(does)e(not)337 4902 y(interact)e(well)h(with)f(ongoing)e(softw)o
(are)i(maintenance.)28 b(The)22 b(set)h(of)f(trusted)g(programs)e(is)j
(lar)o(ge,)e(and)h(de)n(v)o(elopers)e(will)337 5052 y(ine)n(vitably)f
(mak)o(e)h(mistak)o(es)h(as)f(the)o(y)g(are)g(modi\002ed)f(o)o(v)o(er)g
(time.)p 337 5121 1425 4 v 337 5176 a FB(3)404 5200 y
FA(The)e(terms)g Fu(de)g(jur)n(e)g FA(and)h Fu(de)f(facto)i
FA(as)e(used)g(here)h(is)f(due)g(to)h([Bis79)q(].)2098
5410 y FM(9)p eop
%%Page: 10 26
10 25 bop 162 108 a FM(Because)32 b(the)g(con\002nement)e(property)f
(is)k(not)f(enforceable)d(within)j(the)g(A)m(CL)g(model,)h(most)f
(widely)f(deplo)o(yed)37 257 y(operating)f(systems)i(\226)g(including)e
(UNIX)h(\(or)g(more)g(generally)-5 b(,)32 b(POSIX\))g(systems,)i(W)m
(indo)n(ws)d(95,)j(W)m(indo)n(ws)d(NT)-6 b(,)37 407 y(VMS,)18
b(and)f(MVS)h(\226)g(do)f(not)g FI(and)f(cannot)i FM(enforce)e(this)i
(restriction.)23 b(F)o(or)17 b(man)o(y)f(protection)g(systems,)i(its)h
(enforceability)37 556 y(is)24 b(undecidable)d([Har76)n(].)33
b(One)23 b(researcher)e(has)i(pro)o(v)o(en)e(in)h([Kar88)o(])h(that)g
(it)g(is)h(impossible)e(to)h(achie)n(v)o(e)f(in)h(capability)37
705 y(systems)c(as)f(originally)e(de\002ned)h(by)h(V)-9
b(an)17 b(Horn)g(in)h([Den66)n(].)24 b(This)18 b(will)h(be)e(discussed)
h(further)e(in)i(Chapter)f(10.)24 b(Boebert)37 855 y(et)h(al.)38
b(ha)n(v)o(e)24 b(sho)n(wn)f(that)i(a)f(closely)g(related)g(property)e
(kno)n(wn)h(as)i(the)f FI(*-pr)l(operty)f FM(similarly)h(cannot)g(be)g
(enforced)e(by)37 1004 y(con)m(v)o(entional)c(capability)h(systems)h
([Boe84)o(].)37 1319 y FG(1.3.3)99 b(F)n(ormal)24 b(Model)37
1531 y FM(In)f(this)g(dissertation,)f(I)g(identify)g(a)g(f)o(amily)g
(of)h(capability)e(architectures)g(that)i FI(do)f FM(enforce)e(the)j
(con\002nement)d(property)-5 b(.)37 1681 y(Further)m(,)33
b(I)e(will)g(present)g(a)g(proof)e(of)i(correctness,)i(constructed)c
(in)i(collaboration)d(with)k(Sam)f(W)-7 b(eber)m(,)33
b(of)e(a)g(set)h(of)37 1830 y(preconditions)17 b(under)g(which)h
(con\002nement)f(is)i(assured.)24 b(By)19 b(sho)n(wing)f(that)h(the)f
(operational)f(semantics)i(of)f(this)h(f)o(amily)37 1980
y(support)30 b(the)h(access)h(control)d(model,)k(and)d(that)h(the)g
(con\002nement)e(requirement)g(can)i(be)f(enforced)f(by)i(that)g
(access)37 2129 y(control)19 b(model,)h(it)g(is)i(demonstrated)c(that:)
141 2376 y(1.)41 b(The)20 b(operational)e(semantics)i(is)h(correct)f
(with)g(respect)g(to)g(the)h(access)f(control)f(requirements.)141
2606 y(2.)41 b(The)23 b(rules)h(by)f(which)g(the)h(con\002nement)d
(polic)o(y)i(is)h(enforced)e(are)i(correct)e(with)i(respect)f(to)h(the)
g(access)g(control)245 2755 y(model.)141 2985 y(3.)41
b(The)20 b(speci\002ed)g(system)g(is)h FI(in)g(principle)e
FM(able)h(to)h(enforce)d(at)j(least)g(one)f(non-tri)n(vial)e(security)h
(polic)o(y)-5 b(.)37 3231 y(While)21 b(se)n(v)o(eral)f(e)o(xisting)g
(systems)h(are)g(belie)n(v)o(ed)e(to)h(support)f(the)i(con\002nement)d
(property)h(in)h(practice)g([Kar88)n(,)h(K)n(e)o(y86)n(,)37
3381 y(Neu80)o(],)f(no)g(successful)g(proof)e(of)i(the)g(rules)h(for)e
(con\002nement)f(in)j(these)f(systems)h(has)f(been)g(sho)n(wn)f(to)h
(date.)37 3755 y Fz(1.4)119 b(ER)l(OS:)31 b(A)f(Capability)h(System)37
3997 y FM(The)g(performance)c(of)j(protection)f(mechanisms)g(is)j(as)f
(important)e(as)i(the)f(security)g(policies)g(the)o(y)g(support.)54
b(If)31 b(the)37 4147 y(capability)20 b(model)h(cannot)e(be)i(reduced)f
(to)h(practice)f(in)h(an)g(implementation)e(with)i(reasonable)e
(performance,)f(it)k(is)g(not)37 4296 y(especially)e(useful.)162
4449 y(The)f(third)f(contrib)n(ution)f(of)i(this)g(dissertation)g(is)h
(a)f(demonstration)e(of)i(ho)n(w)f(the)h(ER)m(OS)h(architecture)d
(relates)i(to)h(the)37 4598 y FI(SW)27 b FM(formal)18
b(model.)24 b(By)d(virtue)e(of)g(this)i(mapping,)c(the)j(ER)m(OS)g
(design)g(is)g(in)g(f)o(act)g(co)o(v)o(ered)e(by)h(both)g(the)h(model)f
(and)h(the)37 4748 y(proof.)162 4901 y(The)25 b(fourth)e(contrib)n
(ution)f(of)j(this)g(dissertation)g(is)g(ER)m(OS,)g(a)h(careful)d
(reduction)g(to)i(practice)g(of)f(one)g(member)g(of)37
5050 y(the)31 b FI(SW)37 b FM(f)o(amily)-5 b(.)55 b(The)30
b(ER)m(OS)h(implementation)d(demonstrates)h(that)i(capability)f
(systems)h(can)f(deli)n(v)o(er)f(monolithic)37 5200 y(performance)18
b(in)i(all)h(of)f(the)g(areas)g(that)h(ha)n(v)o(e)e(traditionally)g
(been)g(bottlenecks)g(for)h(such)g(systems.)1777 5410
y(10)p eop
%%Page: 11 27
11 26 bop 462 108 a FM(As)17 b(the)f(architecture)f(I)h(will)h(propose)
d(is)j(both)f(a)g(capability)f(architecture)g(and)h(a)g(dek)o
(ernelized)e(system)i(architecture,)337 257 y(it)21 b(is)h(useful)d(to)
i(brie\003y)e(identify)g(the)h(shortcomings)e(associated)i(with)h(both)
e(types)h(of)g(systems.)337 548 y FG(1.4.1)99 b(Intrinsic)26
b(P)n(enalty)337 753 y FM(It)j(should)e(\002rst)i(be)f(noted)g(that)g
(there)g(is)h(no)f FI(intrinsic)g FM(penalty)f(associated)h(with)h(the)
f(use)g(of)g(capabilities.)49 b(W)m(ithout)337 903 y(e)o(xception,)18
b FI(all)i FM(modern)e(operating)g(systems)j(use)f(some)f(form)g(of)h
(capability-lik)o(e)e(descriptor)g(to)i(represent)f(open)g(\002les,)337
1052 y(netw)o(orking,)26 b(and)g(interprocess)g(communication)d
(channels.)44 b(This)26 b(is)i(done)d(because)h(the)h(cost)g(of)f
(checking)f(access)337 1202 y(lists)d(with)e(e)n(v)o(ery)f(operation)g
(is)i(prohibiti)n(v)o(e,)c(and)j(because)f(such)h(objects)g(must)h
(someho)n(w)d(be)j(designated.)462 1351 y(Performance)16
b(issues)j(be)o(gin)e(to)i(arise)f(when)g(this)h(model)e(is)i(e)o
(xtended)e(to)h(co)o(v)o(er)f(more)g(primiti)n(v)o(e)g(abstractions)h
(such)337 1501 y(as)j(memory)-5 b(.)23 b(The)d(main)g(problem)e(in)j
(this)f(area)g(appears)g(to)g(be)g(the)g(prohibiti)n(v)o(e)e(cost)j(of)
f(indirect)f(address)h(translation.)337 1791 y FG(1.4.2)99
b(Indir)n(ected)27 b(T)-7 b(ranslation)337 1997 y FM(W)m(ith)29
b(the)g(e)o(xception)d(of)i(K)n(e)o(yK)n(OS)f([Har85)o(],)j(e)o
(xisting)e(capability)f(architectures)g(ha)n(v)o(e)h(suf)n(fered)f
(from)g(e)o(xcessi)n(v)o(ely)337 2146 y(complicated)15
b(memory)f(systems.)24 b(Man)o(y)15 b(of)g(these)h(architectures)f
(were)g(en)m(visioned)f(at)j(a)f(time)g(when)f(the)h(main)f(memory)337
2296 y(to)i(CPU)h(speed)e(ratio)g(w)o(as)i(5:1.)48 b(HYDRA/C.mmp)16
b([W)l(ul81)o(],)h(Intel')-5 b(s)17 b(i432)e([Or)o(g83)n(],)i(CAL/TSS,)
g(and)f(se)n(v)o(eral)g(other)g(of)337 2445 y(these)24
b(architectures)d([Le)n(v84)n(])i(incorporated)e(features)h(requiring)f
(multiply)h(indirected)g(address)g(translation.)33 b(Setting)337
2595 y(aside)17 b(the)g(implementation)e(comple)o(xity)f(of)j(such)f
(memory)g(architectures,)f(multiply)h(indirected)g(translation)f(is)j
(clearly)337 2744 y(infeasible)i(when)g(the)g(main)g(memory)e(to)i(CPU)
i(speed)d(ratio)h(no)n(w)g(e)o(xceeds)f(1:40)h(in)g(commodity)e
(machines.)462 2893 y(K)n(e)o(yK)n(OS)e(adopts)h(a)g(more)f(con)m(v)o
(entional)e(hierarchically)h(translated)h(addressing)g(scheme.)24
b(While)17 b(a)h(rough)d(quanti-)337 3043 y(tati)n(v)o(e)20
b(e)n(v)n(aluation)e(w)o(as)j(performed)c([Bom92)n(],)j(no)g(thorough)d
(quantitati)n(v)o(e)h(e)n(v)n(aluation)g(w)o(as)j(e)n(v)o(er)e
(performed.)48 b(Rough)337 3192 y(benchmarks)17 b(suggest)i(that)h(the)
f(C)h(language)d(implementation)g(of)i(K)n(e)o(yK)n(OS)g(compared)e
(approximately)f(to)k(Mach)e(2.5,)337 3342 y(which)i(is)h(no)n(w)f
(generally)f(agreed)g(to)h(ha)n(v)o(e)g(been)f(unacceptably)f(slo)n(w)i
([F)o(or93)n(].)337 3633 y FG(1.4.3)99 b(P)n(ersistence)26
b(and)g(Dek)o(er)o(nelization)337 3838 y FM(A)k(secondary)e
(performance)e(concern)i(de)n(v)n(olv)o(es)g(from)g(the)h(need)g(for)g
(persistence.)51 b(If)30 b(the)f(capability)f(architecture)337
3987 y(stops)21 b(at)g(the)f(secondary)e(storage)i(boundary)-5
b(,)16 b(tw)o(o)21 b(issues)g(arise:)462 4192 y Fw(\017)41
b FM(Most)24 b(of)f(the)g(security)g(and)f(reliability)h(bene\002ts)g
(of)g(capability)g(architectures)f(are)h(lost,)h(as)g(the)g(security)f
(of)g(the)545 4342 y(in-memory)18 b(system)i(is)h(compromised)d(by)i
(the)g(security)g(of)f(the)i(underlying)c(store.)462
4547 y Fw(\017)41 b FM(Assurance)22 b(of)g(secure)f(system)i(startup)e
(becomes)h(e)o(xceedingly)d(dif)n(\002cult,)j(as)h(the)f(\002rst)h(fe)n
(w)f(processes)g(must)h(be)545 4696 y(granted)c(their)h(authorities)f
(by)h(some)g(means)g(outside)f(the)h(protection)f(system.)462
4901 y(The)h(simplest)h(resolution)f(to)h(these)f(concerns)g(is)h(to)g
(render)f(the)g(entire)h(system)f(\(processes)g(and)h(all\))g
(persistent.)26 b(If)337 5050 y(this)21 b(is)g(done,)d(runtime)h(state)
h(is)h(not)e(lost)i(with)f(system)g(shutdo)n(wn)e(and)h(the)h(need)f
(to)h(ensure)f(the)h(secure)f(reconstruction)337 5200
y(of)h(runtime)f(authority)g(is)i(eliminated.)j(This)c(solution)g
(carries)g(with)g(it)h(tw)o(o)g(requirements:)2077 5410
y(11)p eop
%%Page: 12 28
12 27 bop 37 108 a FJ(All)21 b(storage)e(is)i(accountable.)40
b FM(An)o(y)24 b(storage)g(allocated)f(to)i(a)g(process)f(must)h(be)f
(back)o(ed)f(by)i(real,)g(persistent)f(storage)245 257
y(that)c(is)g(reco)o(v)o(erable)d(in)i(the)h(e)n(v)o(ent)e(of)h(f)o
(ailure.)24 b(Ef)n(\002cient)19 b(allocation)g(strate)o(gies)g(for)g
(this)h(storage)e(are)i(potentially)245 407 y(comple)o(x)e(and)i
(application)f(speci\002c,)h(and)g(should)f(therefore)f(be)i(dek)o
(ernelized.)37 619 y FJ(Memory)h(fault)e(handling)i(is)g(dek)o(er)o
(nelized.)41 b FM(Since)15 b(the)h(k)o(ernel)e(consequently)f(lacks)i
(the)h(ability)f(to)g(resolv)o(e)f(demand-)245 768 y(allocation)19
b(page)h(f)o(aults,)g(handling)e(of)i(such)g(f)o(aults)g(must)h(be)f
(accomplished)e(by)i(non-supervisor)d(code.)162 991 y(The)f(Mach)f(ef)n
(fort)g(suggests)h(that)g(the)g(e)o(xternal)f(f)o(ault)h(handling)e
(requirement)g(can)h(be)h(satis\002ed)h(only)e(at)i(a)f(signi\002cant)
37 1140 y(performance)h(penalty)-5 b(.)24 b(Ultimately)-5
b(,)18 b(this)j(penalty)d(led)i(to)g(the)f(Mach)g(def)o(ault)g(pager)g
(being)g(re-inte)o(grated)e(into)i(the)h(k)o(er)n(-)37
1290 y(nel.)k(This)17 b(problem)f(also)h(e)o(xisted)f(in)h(early)g(v)o
(ersions)f(of)h(Chorus)f([Roz91)n(].)24 b(If)17 b(storage)f
FI(allocation)g FM(is)i(also)f(e)o(xternalized,)37 1439
y(this)k(can)f(only)g(e)o(xacerbate)e(the)i(performance)d(problems)i
(disco)o(v)o(ered)f(in)i(the)h(e)o(xternalized)d(def)o(ault)h(pager)-5
b(.)162 1589 y(In)25 b(the)h(interv)o(ening)d(years)i(since)h(K)n(e)o
(yK)n(OS)e(and)h(Mach)h(2.5,)f(F)o(ord)g([F)o(or93)n(],)i(and)e(Liedtk)
o(e)g([Lie93)n(,)h(Lie95)n(])g(ha)n(v)o(e)37 1738 y(made)31
b(remarkable)d(progress)i(in)h(speeding)f(up)g(con)m(v)o(entional)e
(microk)o(ernel)g(designs.)57 b(My)30 b(research)g(goal)g(became)37
1888 y(to)e(learn)f(if)h(these)f(adv)n(ances)f(could)h(be)g(applied)g
(equally)f(well)i(to)f(capability)g(systems)h(within)f(the)g
FI(SW)34 b FM(f)o(amily)-5 b(,)28 b(and)37 2037 y(speci\002cally)20
b(to)h(ER)m(OS.)162 2186 y(In)f(addition)e(to)i(issues)h(of)f(memory)e
(f)o(ault)i(handling,)e(the)i(practical)f(implementation)f(of)h
(persistence)h(requires)e(that)37 2336 y(the)g(number)e(of)h(primiti)n
(v)o(e)g(on-disk)f(object)h(types)h(be)f(minimized.)23
b(This)18 b(in)g(turn)f(encourages)f(an)h(architecture)f(in)i(which)37
2485 y(abstractions)f(such)g(as)i(memory)c(re)o(gions)i(and)f
(processes)i(are)f(crafted)g(from)f(more)h(primiti)n(v)o(e)f
(components.)22 b(Gi)n(v)o(en)16 b(this,)37 2635 y(I)21
b(must)f(v)o(erify)f(that)h(memory)f(map)g(construction)g(and)g
(process)h(f)o(abrication)f(are)h(not)g(prohibiti)n(v)o(ely)d(e)o
(xpensi)n(v)o(e.)37 2929 y FG(1.4.4)99 b(Ev)o(aluation)25
b(Criteria)37 3134 y FM(Gi)n(v)o(en)20 b(the)g(concerns)f(raised)h(abo)
o(v)o(e,)e(my)i(e)n(v)n(aluation)f(of)h(ER)m(OS)g(uses)h
(microbenchmarks)c(to)j(focus)g(on)g(three)f(f)o(acets)i(of)37
3284 y(system)g(performance:)141 3507 y(1.)41 b FJ(Nati)o(v)o(e)21
b(P)n(erf)n(ormance.)26 b FM(Ho)n(w)21 b(f)o(ast)g(are)g(the)g(nati)n
(v)o(e)g(mechanisms)f(of)g(the)h(operating)f(system,)h(most)g(notably)f
(the)245 3656 y(in)m(v)n(ocation)e(of)i(k)o(ernel)g(pro)o(vided)d
(services)j(and)g(the)g(nati)n(v)o(e)g(interprocess)f(communication)e
(mechanisms?)141 3868 y(2.)41 b FJ(Memory)24 b(management)g(perf)n
(ormance.)36 b FM(In)24 b(the)g(particular)f(area)h(that)h(has)f
(plagued)f(pre)n(vious)g(dek)o(ernelized)245 4018 y(designs,)d(ho)n(w)f
(well)i(does)f(ER)m(OS)h(do?)141 4230 y(3.)41 b FJ(Comparati)o(v)o(e)20
b(perf)n(ormance.)28 b FM(T)-7 b(o)22 b(the)g(e)o(xtent)e(that)i
(indicati)n(v)o(e)e(comparisons)g(are)i(possible)f(in)h(an)f
(incomplete)245 4379 y(system,)f(ho)n(w)g(does)g(ER)m(OS)g(f)o(are)g
(when)g(compared)e(to)i(a)h(mature)e(monolithic)g(system:)25
b(Linux?)37 4602 y(These)c(measurements)d(are)i(the)h(subject)f(of)f
(Chapter)h(9.)162 4751 y(In)29 b(general,)h(the)f(results)h(sho)n(w)f
(that)g(ER)m(OS)h(does)f(quite)g(well.)52 b(Only)29 b(one)g(benchmark)d
(sho)n(ws)k(an)o(y)e(signi\002cant)37 4901 y(loss)21
b(of)f(performance)d(relati)n(v)o(e)i(to)h(con)m(v)o(entional)c
(designs,)k(and)f(this)h(benchmark)e(is)j(not)e(critical)h(to)g(nati)n
(v)o(e)f(application)37 5050 y(performance.)25 b(In)c(most)g
(benchmarks)e(ER)m(OS)j(performance)c(signi\002cantly)i
FI(e)n(xceeds)h FM(that)g(of)g(Linux,)f(most)h(notably)f(on)37
5200 y(a)h(fe)n(w)f(benchmarks)e(that)i(are)h(e)o(xceptionally)c
(important)i(for)h(POSIX)g(applications.)1777 5410 y(12)p
eop
%%Page: 13 29
13 28 bop 462 108 a FM(The)16 b(\002nal)g(contrib)n(ution)e(associated)
h(with)i(this)f(dissertation)f(is)i(the)f(ER)m(OS)h(system)f(itself,)h
(which)e(will)i(be)f(published)337 257 y(with)21 b(or)f(shortly)f
(after)h(the)g(acceptance)f(of)h(this)h(dissertation.)337
612 y Fz(1.5)119 b(Outline)337 847 y FM(The)27 b(balance)e(of)h(this)h
(dissertation)f(proceeds)f(as)i(follo)n(ws.)43 b(Chapter)26
b(2)g(gi)n(v)o(es)g(an)g(o)o(v)o(ervie)n(w)f(of)h(the)g(virtual)g
(machine)337 997 y(architecture)f(shared)g(by)g(ER)m(OS)i(and)e(K)n(e)o
(yK)n(OS)g(without)g(reference)f(to)i(the)g(implementation.)40
b(Chapter)25 b(3)h(describes)337 1146 y(the)21 b(operating)d(system)i
(architecture)f(that)h(has)h(constructed)d(on)i(this)h(virtual)e
(machine.)462 1296 y(W)m(ith)g(Chapter)g(4,)g(the)g(dissertation)g
(switches)g(to)g(more)g(formal)f(considerations,)f(e)o(xtending)g(the)i
(capability)f(access)337 1445 y(control)j(model)f(to)i(handle)e(both)h
(indirection)f(and)h(transiti)n(v)o(e)g(read-only)e(authority)-5
b(.)27 b(Chapter)20 b(5)i(de\002nes)f FI(SW)p FM(,)h(a)g(formal)337
1595 y(model)c(for)g(a)h(f)o(amily)g(of)f(capability)g(systems)h(that)f
(includes)g(ER)m(OS.)h(Chapter)f(6,)h(de)n(v)o(eloped)d(jointly)i(with)
h(Sam)g(W)-7 b(eber)m(,)337 1744 y(pro)o(vides)25 b(a)i(formal)e
(de\002nition)h(of)g(the)h(con\002nement)d(property)g(and)i(a)h(proof)e
(that)i(the)f FI(SW)33 b FM(f)o(amily)26 b(can)g(enforce)f(this)337
1893 y(constraint.)462 2043 y(Chapter)17 b(7)g(presents)h(a)g(high)e
(performance)f(reduction)g(to)j(practice)f(of)g(the)h(architecture)d
(described)i(in)g(Chapter)g(2.)24 b(It)337 2192 y(also)17
b(identi\002es)f(the)g(e)o(x)o(ecution)e(paths)h(that)i(ha)n(v)o(e)e
(turned)g(out)g(to)h(be)g(critical)h(to)f(o)o(v)o(erall)e(system)i
(performance.)21 b(Chapter)15 b(8)337 2342 y(describes)23
b(the)f(reduction)f(to)h(practice)g(of)h(the)f(system)h(components)d
(identi\002ed)i(in)h(Chapter)f(3.)32 b(Chapter)22 b(9)g(pro)o(vides)f
(a)337 2491 y(quantitati)n(v)o(e)h(e)n(v)n(aluation)g(of)h(the)h
(resulting)f(system,)h(which)f(demonstrates)f(the)i(o)o(v)o(erall)e
(success)i(of)f(the)h(ER)m(OS)g(ef)n(fort)337 2641 y(and)i(one)g(areas)
h(in)f(which)g(the)g(current)g(design)f(could)h(be)g(signi\002cantly)f
(impro)o(v)o(ed;)i(both)f(with)g(little)i(impact)e(on)g(the)337
2790 y(system)21 b(o)o(v)o(erall.)462 2940 y(Chapter)26
b(10)h(describes)g(related)f(ef)n(forts,)i(with)f(particular)f
(attention)g(to)h(those)g(systems)h(from)e(which)g(the)h(ER)m(OS)337
3089 y(ef)n(fort)19 b(has)h(borro)n(wed.)i(Chapter)d(11)h(summarizes)e
(the)i(results)g(of)f(this)i(w)o(ork)e(and)g(of)n(fers)f(suggestions)h
(for)g(future)f(w)o(ork.)2077 5410 y(13)p eop
%%Page: 14 30
14 29 bop 1777 5410 a FM(14)p eop
%%Page: 15 31
15 30 bop 1902 1819 a FD(P)n(art)44 b(I)1752 2358 y FK(Concept)2077
5410 y FM(15)p eop
%%Page: 16 32
16 31 bop eop
%%Page: 17 33
17 32 bop 337 841 a FD(Chapter)45 b(2)337 1387 y FK(The)51
b(ER)-6 b(OS)51 b(V)-8 b(irtual)53 b(Machine)337 1875
y FM(An)21 b(ER)m(OS)f(system)h(consists)f(of)g(tw)o(o)h(interacting)e
(parts:)462 2111 y Fw(\017)41 b FM(A)26 b(virtual)e(machine)g(that)i
(implements)e(instructions,)h(objects,)h(and)f(capability)f(mediated)g
(interf)o(aces)h(to)g(these)545 2261 y(objects.)462 2503
y Fw(\017)41 b FM(An)20 b(operating)f(system)h(constructed)e(on)i(this)
h(virtual)e(machine.)337 2739 y(In)h(this)h(chapter)e(I)i(describe)e
(the)h(virtual)g(machine.)j(The)d(operating)f(system)h(is)h(co)o(v)o
(ered)d(in)j(Chapter)e(3.)462 2895 y(The)g(ER)m(OS)h(virtual)e(machine)
g(\(EVM\))h(pro)o(vides)e(a)j(small)g(number)d(of)i(primiti)n(v)o(e)f
(services)h(and)g(a)h(fe)n(w)f(basic)g(object)337 3045
y(types:)31 b(numbers,)21 b(data)i(pages,)g(capability)e(pages,)i
(nodes,)f(and)h(processes.)32 b(Ev)o(ery)21 b(ER)m(OS)i(virtual)f
(machine)g(contain-)337 3194 y(s)31 b(a)f(v)o(ery)f(lar)o(ge,)h
(\002nite)g(number)e(of)h(these)h(objects.)1903 3164
y FC(1)1989 3194 y FM(Operations)f(performed)e(by)i(the)h(virtual)f
(machine,)h(including)337 3344 y(instruction)19 b(e)o(x)o(ecution,)f
(consist)j(of)f(correctness)f(preserving)f(transformations)g(on)i(the)g
(state)h(of)f(these)g(objects.)462 3500 y(The)g(virtual)f(machine)g
(architecture)g(de\002nes)h(tw)o(o)g(cate)o(gories)g(of)f(operations:)
462 3736 y Fw(\017)41 b FJ(Instruction)25 b(execution)p
FM(,)h(which)e(corresponds)f(to)j(the)f(operations)e(performed)g(by)i
(the)g(user)g(mode)f(\(i.e.)40 b(non-)545 3885 y(pri)n(vile)o(ged\))21
b(instruction)i(set)h(of)f(some)h(\(unspeci\002ed\))d(real)j(machine.)
34 b(The)23 b(ER)m(OS)h(architecture)e(imposes)i(pro-)545
4034 y(tection)g(related)f(constraints)g(on)h(the)g(operations)e
(performed)f(by)j(the)g(hardw)o(are)e(instruction)h(set,)i(b)n(ut)f
(does)g(not)545 4184 y(speci\002cally)c(de\002ne)g(the)g(operations)e
(that)j(may)e(be)i(performed)c(by)j(nati)n(v)o(e)f(hardw)o(are)g
(instructions.)462 4426 y Fw(\017)41 b FJ(Capability)15
b(in)m(v)o(ocations)p FM(,)g(which)h(directly)f(manipulate)f(the)i
(state)g(of)g(one)f(or)h(more)f(objects.)23 b(While)16
b(the)g(\223in)m(v)n(ok)o(e)545 4576 y(capability\224)21
b(operation)e(is)k(implemented)d(by)h(a)h(user)f(mode)g(instruction)f
(in)i(all)g(implementations,)e(the)i(ef)n(fect)f(of)545
4725 y(these)f(operations)f(is)i(independent)d(of)i(architecture.)p
337 4805 1425 4 v 337 4861 a FB(1)404 4884 y FA(One)i(w)o(ould)h(lik)o
(e)g(for)f(purity')l(s)h(sak)o(e)f(to)g(claim)h(that)g(the)g(number)f
(is)g(in\002nite,)i(b)o(ut)e(certain)i(aspects)f(of)e(the)i(security)g
(ar)o(guments)g(for)f(the)g(system)404 4963 y(require)d(the)e
(construction)j(of)d(transiti)n(v)o(e)j(closures,)e(and)g(it)f(is)g
(necessary)i(to)e(these)h(proofs)g(that)g(the)g(transiti)n(v)o(e)i
(closure)e(construction)i(terminates.)470 5042 y(In)j(an)o(y)g(gi)n(v)o
(en)h(implementation,)j(a)c(\002x)o(ed)g(subset)g(of)g(this)g(lar)o(ge)
h(space)g(is)e(actually)k(realized)f(due)e(to)g(storage)h(limitations,)
i(so)d(the)g(\002niteness)404 5121 y(of)e(the)g(virtual)i(machine)g
(object)f(space)g(is)f(not)g(a)g(practical)j(impediment.)34
b(The)21 b(remaining)i(objects,)g(while)f(nameable,)h(are)f(deemed)g
(to)f(tak)o(e)h(an)404 5200 y(in\002nite)d(amount)f(of)f(time)g(to)h
(perform)f(operations.)2077 5410 y FM(17)p eop
%%Page: 18 34
18 33 bop 37 108 a FM(Both)22 b(classes)g(of)f(operation)e(are)i
(logically)g(\223indi)n(visible.)-6 b(\224)1774 78 y
FC(2)1834 108 y FM(The)21 b(semantic)g(ef)n(fect)f(of)h(an)o(y)g
(operations)e(performed)g(in)i(a)37 257 y(parallel)h(or)f
(multiprocessing)f(implementation)g(must)i(be)g(achie)n(v)n(able)e
(\(modulo)g(timing\))h(by)g(some)h(serial)g(application)37
407 y(of)e(the)h(same)f(operations)f(to)h(the)g(state)h(of)f(the)g
(system.)162 575 y(This)27 b(chapter)f(pro)o(vides)g(a)i(concise)e
(description)g(of)h(the)g(objects)g(de\002ned)f(by)h(the)g
(architecture)f(and)g(a)i(suf)n(\002cient)37 724 y(synopsis)g(of)g(the)
g(operations)e(to)i(pro)o(vide)e(an)i(account)e(of)i(ho)n(w)f
(instructions)g(are)h(e)o(x)o(ecuted)e(within)i(the)g(virtual)f(ma-)37
874 y(chine.)h(A)21 b(complete)g(description)e(of)i(the)g(operations)f
(pro)o(vided)f(by)h(ER)m(OS)i(objects)f(is)h(pro)o(vided)d(in)i(the)g
FI(ER)m(OS)g(Object)37 1023 y(Refer)m(ence)f FM([Sha96a)n(].)37
1482 y Fz(2.1)119 b(Capabilities)37 1753 y FM(The)21
b(ER)m(OS)g(virtual)f(machine')-5 b(s)20 b(basic)h(mechanism)f(of)g
(naming)g(and)g(protection)f(is)j(the)e(capability)g([Den66)n(].)27
b(A)21 b(capa-)37 1902 y(bility)h([Den66)n(])g(designates)f(some)h
(particular)f(object)g(and)g(identi\002es)h(a)g(particular)f(interf)o
(ace)g(\(a)g(set)i(of)f(operations\))d(to)37 2052 y(that)24
b(object.)411 2021 y FC(3)479 2052 y FM(In)f(ER)m(OS,)h(possession)f
(of)g(a)h(capability)f(is)h(a)g(necessary)f FI(and)f(suf)o(\002cient)i
FM(proof)e(of)h(authority)f(to)i(in)m(v)n(ok)o(e)37 2201
y(the)d(operations)d(of)i(the)g(speci\002ed)g(interf)o(ace)g(on)f(the)i
(object)e(named)g(by)h(that)g(capability)-5 b(.)37 2600
y FG(2.1.1)99 b(In)l(v)o(ocation)37 2841 y FM(T)-7 b(o)21
b(e)o(x)o(ercise)e(the)h(object)g(or)f(service)h(designated)f(by)h(a)g
(capability)-5 b(,)19 b(the)h(holding)e(process)i FI(in)m(vok)o(es)f
FM(that)h(capability)-5 b(.)24 b(The)37 2991 y(object)c(is)h(in)m(v)n
(ok)o(ed,)d(performs)h(the)h(requested)f(service,)h(and)f(typically)h
(replies)g(to)g(the)g(caller)-5 b(.)162 3159 y(Ev)o(ery)26
b(capability)g(in)m(v)n(ocation)f(\(including)g(interprocess)h
(communication\))e(sends)k(up)f(to)g(64)g(kilobytes)f(of)h(data,)37
3309 y(a)i(request)f(code,)h(and)f(4)g(capabilities.)50
b(The)28 b FF(call)h FM(in)m(v)n(ocation)d(transmits)j(this)g
(information)c(and)j(lea)n(v)o(es)h(the)f(process)37
3458 y FF(w)o(aiting)h FM(for)f(a)g(reply)f(in)i(the)f(same)g(format.)
48 b(The)28 b FF(return)h FM(in)m(v)n(ocation)d(sends)j(a)f(response)f
(and)h(renders)f(the)h(process)37 3607 y FF(available)d
FM(for)h(further)e(calls.)922 3577 y FC(4)999 3607 y
FM(The)h FF(send)j FM(operation)d(pro)o(vides)f(a)i(transmit-only)e(in)
m(v)n(ocation.)41 b(The)26 b(sender)f(remains)37 3757
y(running)d(after)i(the)f(send)h(completes;)h(no)e(response)g(is)h(e)o
(xpected.)34 b(The)24 b(send)f(in)m(v)n(ocation)f(can)i(be)f(used)h(to)
g(implement)37 3906 y(non-blocking)17 b(return)i(or)h(to)g(initiate)h
(parallel)e(e)o(x)o(ecution.)162 4075 y(In)k(the)h(ER)m(OS)g(virtual)f
(machine,)h(capability)e(in)m(v)n(ocation)g(is)j(the)e
FI(only)h FM(means)f(of)h(accessing)f(objects.)35 b(T)-7
b(o)24 b(enforce)37 4224 y(object)i(protection,)g(it)g(is)h(therefore)e
(suf)n(\002cient)g(to)h(ensure)g(that)g(a)g(process)g(does)g(not)f
(possess)i(\(and)e(cannot)g(obtain\))g(a)37 4373 y(capability)i(con)m
(v)o(e)o(ying)d(inappropriate)g(access)k(rights)f(to)h(the)f(object)g
(protected.)45 b(Capabilities)28 b(may)e(be)i(transferred,)37
4523 y(b)n(ut)e(only)f(between)f(applications)h(that)g(hold)g
(capabilities)g(to)h(each)f(other)g(or)g(to)h(some)f(commonly)e
(accessible)j(object)37 4672 y(capable)20 b(of)g(holding)e
(capabilities.)p 37 4801 1425 4 v 37 4856 a FB(2)104
4880 y FA(Architectures)k(that)d(incorporate)j(restartable)f
(instructions)g(typically)g(de\002ne)f(these)f(instructions)i(in)d
(terms)h(of)f(indi)n(visible)k(\223units)d(of)g(operation.)-5
b(\224)104 4959 y(F)o(or)24 b(the)h(purpose)g(of)f(applying)j(this)e
(virtual)h(machine)g(model)f(to)f(such)h(architectures,)k(these)d
(units)f(of)f(operation)j(should)e(be)f(considered)j(the)104
5037 y(instructions)19 b(of)e(the)h(primiti)n(v)o(e)i(machine.)37
5095 y FB(3)104 5119 y FA(Some)d(readers)h(may)f(prefer)h(to)g(think)g
(of)f(these)h(interf)o(aces)i(as)d(\223f)o(acets\224)j(of)d(the)g(same)
g(object.)37 5176 y FB(4)104 5200 y FA(The)g Ft(r)o(etur)o(n)h
FA(operation)h(implements)g(\223return)f(and)g(w)o(ait)g(for)f(ne)o(xt)
h(call.)-5 b(\224)1777 5410 y FM(18)p eop
%%Page: 19 35
19 34 bop 337 108 a FG(2.1.2)99 b(Pr)n(otection)337 327
y FM(T)-7 b(o)17 b(serv)o(e)f(ef)n(fecti)n(v)o(ely)e(as)j(a)f(means)g
(of)g(protection,)f(capabilities)h(must)g(be)g(unfor)o(geable.)21
b(In)16 b(the)g(ER)m(OS)g(virtual)g(machine,)337 477
y(this)25 b(is)f(accomplished)e(by)h(partitioning)e(capabilities)j(and)
f(data)g(into)h(separate)f(spaces.)35 b(Just)24 b(as)h(there)e(are)g
(operations)337 626 y(for)17 b(manipulating)d(data,)j(there)g(are)g
(operations)e(for)h(manipulating)f(capabilities.)23 b(While)18
b(the)e(virtual)h(machine)e(pro)o(vides)337 776 y(a)26
b(service)f(for)f(cop)o(ying)f(the)i(representation)e(of)i(a)h
(capability)e(into)g(data)h(space,)h(the)f(authority)f(to)h(use)g(this)
h(service)f(is)337 925 y(not)e(made)f(widely)g(a)n(v)n(ailable.)32
b(The)22 b(virtual)g(machine)f(does)i FI(not)g FM(pro)o(vide)e(an)o(y)h
(operation)e(allo)n(wing)i(data)h(to)f(be)h(turned)337
1075 y(into)d(a)h(capability)e(ha)n(ving)g(the)i(same)f
(representation.)1946 1044 y FC(5)337 1471 y Fz(2.2)119
b(EVM)30 b(Objects)337 1720 y FM(Because)19 b(ER)m(OS)h(virtual)e
(machine)f(operations)g(are)i(de\002ned)f(in)h(terms)f(of)h(their)f(ef)
n(fect)h(on)f(objects,)g(I)h(will)h(\002rst)f(describe)337
1870 y(the)h(objects)f(de\002ned)g(by)g(the)g(ER)m(OS)h(virtual)f
(machine)f(architecture.)23 b(These)c(objects)g(are)h(summarized)e(in)h
(Figure)g(2.1.)p 337 2009 3563 7 v 337 2083 a FJ(Figur)o(e)h(2.1)f
FM(ER)m(OS)i(object)f(hierarchy)p 337 2121 3563 4 v 627
2220 a
 23220961 9604136 0 0 23220961 9604136 startTexFig
 627 2220 a
%%BeginDocument: object-hierarchy.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: object-hierarchy.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:10 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 353 146
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 150.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /endash 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
/Times-Bold /Times-Bold-iso isovec ReEncode
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3487 m -1000 -1000 l 6937 -1000 l 6937 3487 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 2550 1650 m 5925 1650 l 5925 2475 l 2550 2475 l cp gs col0 s gr 
/Times-Bold-iso ff 180.00 scf sf
2700 1875 m
gs 1 -1 sc (Miscellaneous Services:) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3000 2100 m
gs 1 -1 sc (Discrim) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3000 2325 m
gs 1 -1 sc (Keybits) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3900 2100 m
gs 1 -1 sc (Process Tool) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3900 2325 m
gs 1 -1 sc (Range) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
5175 2100 m
gs 1 -1 sc (Returner) col0 sh gr
% Polyline
gs  clippath
642 811 m 525 900 l 597 772 l 493 892 l 538 931 l cp
clip
n 1050 300 m 525 900 l gs col0 s gr gr

% arrowhead
n 642 811 m 525 900 l 597 772 l 604 810 l 642 811 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
3705 906 m 3675 1050 l 3645 906 l 3645 1065 l 3705 1065 l cp
clip
n 3675 300 m 3675 1050 l gs col0 s gr gr

% arrowhead
n 3705 906 m 3675 1050 l 3645 906 l 3675 930 l 3705 906 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
4980 831 m 4950 975 l 4920 831 l 4920 990 l 4980 990 l cp
clip
n 4950 300 m 4950 975 l gs col0 s gr gr

% arrowhead
n 4980 831 m 4950 975 l 4920 831 l 4950 855 l 4980 831 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1513 767 m 1575 900 l 1465 803 l 1560 930 l 1608 894 l cp
clip
n 1125 300 m 1575 900 l gs col0 s gr gr

% arrowhead
n 1513 767 m 1575 900 l 1465 803 l 1503 804 l 1513 767 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1605 1506 m 1575 1650 l 1545 1506 l 1545 1665 l 1605 1665 l cp
clip
n 1575 1275 m 1575 1650 l gs col0 s gr gr

% arrowhead
n 1605 1506 m 1575 1650 l 1545 1506 l 1575 1530 l 1605 1506 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1262 433 m 1200 300 l 1310 397 l 1215 270 l 1167 306 l cp
clip
n 1650 900 m 1200 300 l gs col0 s gr gr

% arrowhead
n 1262 433 m 1200 300 l 1310 397 l 1272 396 l 1262 433 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman-iso ff 180.00 scf sf
900 225 m
gs 1 -1 sc (Node) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
75 1200 m
gs 1 -1 sc (Restricted) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
300 1425 m
gs 1 -1 sc (Node) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1275 1200 m
gs 1 -1 sc (Process) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3150 225 m
gs 1 -1 sc (Capability Page) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4650 225 m
gs 1 -1 sc (Data Page) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4650 1200 m
gs 1 -1 sc (Restricted) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4650 1425 m
gs 1 -1 sc (Data Page) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3075 1425 m
gs 1 -1 sc (Capability Page) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3300 1200 m
gs 1 -1 sc (Restricted) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
2100 225 m
gs 1 -1 sc (Number) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1050 1875 m
gs 1 -1 sc (User-Defined) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1275 2100 m
gs 1 -1 sc (Object) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
900 2325 m
gs 1 -1 sc (\(a.k.a. Application\)) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 3540 3563 4 v 337 3974 a FG(2.2.1)99 b(Numbers)337
4193 y FM(A)20 b FF(number)g FM(is)g(a)g(constant,)f(unsigned)f(v)n
(alue)g(in)i(the)f(range)g Fx([0)p Fy(;)14 b(top)p Fx(])p
FM(.)25 b(In)19 b(current)f(implementations,)f(the)j(v)n(alue)e(of)i
Fy(top)g FM(is)337 4343 y Fx(2)379 4313 y Fs(96)468 4343
y Fw(\000)e Fx(1)p FM(.)614 4313 y FC(6)462 4500 y FM(A)k
FF(number)f(capability)f FM(is)j(a)f(capability)e(that)h(names)g(a)h
FF(number)p FM(.)29 b(The)21 b(basic)g(operations)f(on)h(number)f
(capabilities)337 4649 y(are)k FJ(get)f(v)o(alue)g FM(and)g
FJ(typeof)p FM(.)34 b(While)24 b(the)g(v)n(alue)e(of)i(a)g(number)d
(capability)i(cannot)f(itself)i(be)g(changed,)e(a)i(ne)n(w)f(number)337
4799 y(capability)d(containing)e(a)j(dif)n(ferent)d(v)n(alue)i(can)g
(be)g(stored)f(on)h(top)g(of)g(an)g(e)o(xisting)f(number)g(capability)
-5 b(.)p 337 4882 1425 4 v 337 4937 a FB(5)404 4961 y
FA(The)25 b(only)i(operation)g(to)f(directly)i(con)m(v)o(ert)g(data)f
(into)f(a)g(capability)j(con)m(v)o(erts)e(a)f(bounded,)i(unsigned)f
(bitstring)h(into)e(a)g(\223number)h(capability\224)404
5040 y(containing)f(the)d(same)g(unsigned)h(bitstring.)40
b(The)23 b(only)g(operations)i(on)e(number)h(capabilities)i(are)e(to)f
(retrie)n(v)o(e)j(the)d(bitstring)i(the)o(y)f(contain.)40
b(In)404 5119 y(consequence,)19 b(this)f(intercon)m(v)o(ersion)j
(operation)f(does)d(not)g(allo)n(w)i(an)e(application)k(to)c(increase)j
(its)d(authority)l(.)337 5176 y FB(6)404 5200 y FA(Earlier)h
(implementations)j(set)c Fr(top)g FA(at)g Fq(2)1362 5176
y Fp(80)1443 5200 y Fo(\000)f Fq(1)p FA(,)g(which)i(pro)o(v)o(ed)g(a)o
(wkw)o(ard)h(for)e(storing)h(process)g(re)o(gisters.)2077
5410 y FM(19)p eop
%%Page: 20 36
20 35 bop 162 108 a FM(Number)29 b(capabilities)h(are)g(used)f(by)h
(the)g(architecture)f(to)h(contain)f(data)h(v)n(alues)f(whose)h
(modi\002cation)f(must)h(be)37 257 y(restricted)19 b(for)f(reasons)g
(of)h(correctness)e(or)i(security)-5 b(.)23 b(Re)o(gister)c(v)n(alues,)
g(for)f(e)o(xample,)f(are)i(stored)f(as)i(number)d(capabili-)37
407 y(ties.)26 b(Number)18 b(capabilities)i(are)f(also)h(used)f(where)g
(the)h(beha)n(vior)e(of)h(an)h(operation)e(is)i(in)g(some)f(w)o(ay)h
(mode-dependent.)37 556 y(F)o(or)d(e)o(xample,)e(the)i(interpretation)d
(of)i(address)g(space)h(tra)n(v)o(ersals)f(is)i(partially)d(determined)
g(by)h(v)n(alues)g(stored)g(as)h(number)37 705 y(capabilities)j(within)
g(the)h(mapping)d(structures.)37 1030 y FG(2.2.2)99 b(Data)25
b(P)o(ages)37 1246 y FM(A)30 b FF(data)f(page)f FM(is)i(a)g(unit)f(of)g
(storage)f(holding)g(a)i(\002x)o(ed)e(number)g(of)h(bytes.)52
b(The)28 b(size)i(of)f(a)h(page)f(is)h(not)f(de\002ned)f(by)37
1395 y(the)h(ER)m(OS)g(architecture,)f(b)n(ut)h(is)g(inherited)e(in)i
(each)f(implementation)e(from)h(the)i(memory)e(protection)f
(architecture)37 1545 y(pro)o(vided)18 b(by)i(the)g(hardw)o(are.)k(The)
19 b(current)g(EVM)i(speci\002cation)e(assumes)h(that)h(all)g(pages)e
(are)h(the)h(same)f(size.)3326 1515 y FC(7)162 1700 y
FM(A)g FF(page)e(capability)h FM(names)g(some)g(particular)f(data)i
(page,)e(and)h(con)m(v)o(e)o(ys)e(the)j(authority)e(to)h(e)o(xamine)f
(or)i(modify)e(the)37 1849 y(content)25 b(of)f(that)i(page.)38
b(The)25 b(basic)g(operations)f(on)h(page)f(capabilities)h(are)g
FJ(zer)o(o)f(page)p FM(,)i FJ(copy)e(page)h FM(\(from)f(another\),)37
1999 y(and)f FJ(typeof)p FM(.)33 b(When)22 b(used)h(in)h(a)f(memory)e
(conte)o(xt)h(\(see)i(Section)e(2.4\),)h(page)f(capabilities)h(also)g
(con)m(v)o(e)o(y)e(the)i(authority)37 2148 y(to)e(perform)d
FJ(data)h(load)h FM(and)g FJ(data)g(stor)o(e)f FM(operations)g(on)g
(the)h(page)g(using)g(the)g(host)g(architecture')-5 b(s)19
b(memory)f(reference)37 2297 y(mechanism.)162 2452 y(P)o(age)e
(capabilities)h(also)g(come)f(in)h(read-only)d(form.)23
b(A)17 b(read-only)d(page)i(capability)g(does)g(not)g(con)m(v)o(e)o(y)f
(the)h(authority)37 2602 y(to)21 b(mutate)f(the)g(page)f(that)i(it)f
(names.)37 2927 y FG(2.2.3)99 b(Capability)25 b(P)o(ages)37
3142 y FM(Where)h(data)g(pages)g(hold)f(bytes)h(\(data\),)h(capability)
e(pages)g(hold)h(capabilities.)42 b(A)26 b FF(capability)f(page)g
FM(\(capage\))g(is)i(the)37 3292 y(same)33 b(size)f(as)h(a)f(data)g
(page,)i(and)d(the)h FF(capage)e(capability)h FM(supports)g(the)h(same)
g(types)g(of)f(operations.)59 b(Zeroing)30 b(a)37 3441
y(capability)20 b(page)f(causes)i(it)g(to)f(be)g(\002lled)g(with)h
(number)d(capabilities)i(whose)g(v)n(alue)g(is)h(zero.)162
3596 y(The)f(ER)m(OS)g(architecture)f(enforces)f(a)j(partitioning)d
(between)h(data)h(and)g(capabilities)f(at)i(all)g(le)n(v)o(els)e(of)h
(the)g(memory)37 3745 y(hierarchy)-5 b(.)369 3715 y FC(8)436
3745 y FM(The)24 b(purpose)f(of)g(this)i(restriction)e(is)i(to)f
(ensure)g(that)g(capabilities)f(cannot)g(be)h(modi\002ed)f(or)h
(accessed)g(by)37 3895 y(using)18 b(data)f(operations.)23
b(This)18 b(restriction)f(pre)n(v)o(ents)f(programs)g(from)h(for)o
(ging)e(capabilities)i(and)h(thereby)e(altering)h(their)37
4044 y(authority)-5 b(.)45 b(Capage)28 b(capabilities)f(therefore)f(do)
h FI(not)h FM(support)f FJ(data)g(load)g FM(and)g FJ(data)g(stor)o(e)g
FM(operations,)g(b)n(ut)h(instead)37 4194 y(pro)o(vide)22
b FJ(capability)h(load)g FM(and)h FJ(capability)e(stor)o(e)h
FM(operations.)34 b(Where)24 b(the)f(host)h(architecture')-5
b(s)22 b(memory)g(reference)37 4343 y(mechanism)g(typically)h(loads)f
(data)h(v)n(alues)g(into)g(an)g(architected)f(data)h(re)o(gister)m(,)f
(the)i(corresponding)19 b(capability)j(refer)n(-)37 4493
y(ence)h(operations)e(load)h(capabilities)h(into)f(a)h(capability)f(re)
o(gister)-5 b(.)32 b(If)22 b(required,)g(capability)f(load)h(and)h
(store)f(operations)p 37 4567 1425 4 v 37 4622 a FB(7)104
4645 y FA(In)e(practice,)j(it)e(does)f(not)h(appear)g(dif)n(\002cult)i
(to)d(support)h(v)n(ariable)i(size)e(pages)g(within)g(ER)m(OS,)f(pro)o
(vided)h(that)h(all)f(pages)g(are)g(a)f(multiple)i(of)e(some)104
4724 y(minimal)e(size)g(and)f(that)i(all)f(pages)f(must)g(be)h(aligned)
h(at)e(some)g(multiple)i(of)e(their)h(size.)37 4782 y
FB(8)104 4805 y FA(Alternati)n(v)o(e)k(approaches)f(relying)f(on)e
(encryption,)j(sparsity)f([T)-5 b(an86)q(],)18 b(or)g
(cryptographically)24 b(secure)19 b(signatures)h([Hei94)r(])e(ha)o(v)o
(e)h(been)h(proposed)104 4884 y(by)d(other)i(researchers.)25
b(The)17 b(paritioned)k(approach)e(is)f(preferred)h(both)f(for)g
(reasons)g(of)g(ef)n(\002cienc)o(y)i(and)e(security)l(.)24
b(The)17 b(cost)i(of)e(capability)k(v)n(alida-)104 4963
y(tion)c(directly)j(determines)e(the)g(lo)n(wer)g(bound)f(on)f(the)i
(size)f(of)g(a)g(unit)g(of)g(protection.)23 b(If)17 b(decryption)i
(must)d(be)h(performed)h(to)f(v)n(alidate)j(capabilities,)104
5042 y(the)j(minimum)e(unit)i(of)f(protection)j(necessarily)g(gro)n(ws)
d(\226)g(caching)i(strate)o(gies)g(help)f(dramatically)i(b)o(ut)e
(introduce)h(their)f(o)n(wn)f(associated)j(cost-)104
5121 y(s.)37 b(Perhaps)24 b(more)f(important,)j(cryptographically)h
(secured)e(capabilities)i(cannot)d(reliably)h(be)e(disco)o(v)o(ered)i
(by)e(e)o(xternal)j(inspection,)g(which)e(is)104 5200
y(necessary)19 b(to)e(determine)i(the)f(safety)g(of)f(a)g(program)h
(prior)g(to)f(its)g(e)o(x)o(ecution.)1777 5410 y FM(20)p
eop
%%Page: 21 37
21 36 bop 337 108 a FM(and)20 b(the)g(associated)g(capability)g(re)o
(gisters)f(may)h(be)g(implemented)e(by)i(supervisor)f(softw)o(are.)462
257 y(As)26 b(with)g(page)e(capabilities,)i(capage)f(capabilities)g
(come)g(in)g(read-only)e(form.)39 b(A)26 b(read-only)d(capage)i
(capability)337 407 y(con)m(v)o(e)o(ys)19 b(no)g(authority)g(to)h
(modify)f(the)h(capability)f(page)h(that)g(it)h(names.)462
556 y(Because)29 b(capabilities)f(may)h(name)f(objects)g(that)h
(contain)f(further)f(capabilities,)j(one)f(must)f(be)h(concerned)d
(with)337 705 y(ensuring)c(that)i(read-only)d(access)j(restrictions)f
(can)g(be)g(enforced)e(transiti)n(v)o(ely;)j(i.e.)35
b(that)23 b(no)g(sequence)f(of)h(operations)337 855 y(proceeding)h
(from)h(an)g(initial)h(capability)f Fy(C)33 b FM(will)27
b(e)n(v)o(er)e(result)g(in)h(an)o(y)f(capability)g(that)h(con)m(v)o(e)o
(ys)e(mutate)h(authority)f(to)337 1004 y(an)o(y)e(object.)30
b(F)o(or)21 b(this)i(reason,)e(capage)g(capabilities)h(may)f(carry)g(a)
i FF(w)o(eak)f FM(restriction.)29 b(A)23 b(weak,)f(read-only)e
(capability)337 1154 y(guarantees)h(transiti)n(v)o(e)h(immutability)-5
b(.)28 b(The)22 b(read-only)e(restriction)h(ensures)h(that)g(the)g
(object)g(named)f(by)h Fy(C)29 b FM(cannot)21 b(be)337
1303 y(modi\002ed,)d(and)g(the)h(weak)f(restriction)g(ensures)h(that)f
(no)h(capability)e(\(transiti)n(v)o(ely\))g(fetched)h(from)f(the)i
(object)f(named)g(by)337 1453 y Fy(C)28 b FM(will)20
b(permit)g(mutation.)k(The)c(de\002nition)f(of)h(the)g(weak)g
(restriction)f(is)i(co)o(v)o(ered)d(in)j(Section)e(2.2.5.)337
1746 y FG(2.2.4)99 b(Nodes)337 1952 y FM(A)21 b FF(node)e
FM(is)h(a)g(\002x)o(ed)f(size)h(array)f(of)g(capabilities.)25
b(While)20 b(the)o(y)e(may)i(be)f(used)g(simply)g(as)i(small)f
(capability)e(pages,)h(nodes)337 2101 y(dif)n(fer)h(from)f(capability)g
(pages)h(in)g(three)g(w)o(ays:)1746 2071 y FC(9)462 2308
y Fw(\017)41 b FM(Nodes)20 b(are)g(used)g(by)g(the)g(ER)m(OS)h(V)-5
b(irtual)20 b(Machine)f(to)h(store)g(process)g(state)h(\(as)g(number)d
(capabilities\).)462 2520 y Fw(\017)41 b FM(ER)m(OS)21
b(memory)e(objects)h(consist)h(of)f(trees)h(of)f(nodes)f(whose)i(lea)n
(v)o(es)f(are)h(pages)f(\(Section)f(2.4\).)25 b(ER)m(OS)c(address)545
2669 y(spaces)29 b(are)g(simply)g(memory)e(objects.)51
b(Nodes)29 b(therefore)e(play)i(a)g(part)g(in)g(the)g(mapping)e(from)h
(virtual)g(page)545 2819 y(addresses)20 b(to)g(pages)g(\(Section)g
(2.4\).)462 3025 y(A)d FF(node)f(capability)f FM(names)h(some)h
(particular)e(node,)h(and)g(con)m(v)o(e)o(ys)e(the)i(authority)f(to)i
(access)g(or)f(modify)f(the)i(content)337 3175 y(of)26
b(that)f(node.)39 b(The)25 b(basic)h(operations)e(on)h(node)f
(capabilities)h(are)g FJ(fetch)p FM(,)i FJ(swap)p FM(,)f(and)f
FJ(typeof)p FM(.)40 b(The)25 b(fetch)f(and)h(sw)o(ap)337
3324 y(operations)17 b(mo)o(v)o(e)f(capabilities)h(between)g(a)h(gi)n
(v)o(en)e(slot)i(in)g(the)g(node)e(and)h(a)h(process')-5
b(s)18 b(capability)e(re)o(gisters.)24 b(Capability)337
3474 y(re)o(gister)30 b(zero)f(of)h(an)o(y)f(process)g(is)i
(\223hardwired\224)c(to)k(the)e(zero)h(number)e(capability)-5
b(,)30 b(so)h(the)e FJ(swap)i FM(operation)d(serv)o(es)337
3623 y(double)19 b(duty)g(as)i(a)f(store)g(operation.)j(Node)c
(capabilities)h(also)g(pro)o(vide)e(a)i FJ(cr)o(eate)f(number)i
FM(operation,)c(which)j(writes)g(a)337 3773 y(number)f(capability)g
(containing)f(a)j(user)f(speci\002ed)g(v)n(alue)f(into)h(a)h(user)f
(speci\002ed)g(slot.)462 3922 y(Node)k(capabilities)h(also)g(con)m(v)o
(e)o(y)e(the)i(authority)e(to)i(perform)e FJ(tra)n(v)o(erse)h
FM(operations)f(as)j(part)e(of)h(a)g(memory)e(refer)n(-)337
4072 y(ence.)51 b(The)28 b(tra)n(v)o(erse)g(operation)f(is)j(most)f
(easily)g(e)o(xplained)e(by)h(analogy)f(to)i(the)g(beha)n(vior)e(of)i
(a)g(hardw)o(are)e(address)337 4221 y(translation)f(unit.)42
b(While)26 b(translating)f(addresses,)i(the)f(address)g(translation)f
(unit)g(reads)h(page)f(table)h(entries)g(from)f(it-)337
4370 y(s)31 b(translation)e(tables)i(on)e(behalf)g(of)h(the)g(program,)
g(e)n(v)o(en)f(though)f(the)i(content)f(of)h(these)g(page)f(table)h
(entries)g(is)h(not)337 4520 y(accessible)21 b(to)f(that)g(program.)j
(This)e(is)g(e)o(xactly)e(what)h(occurs)g(in)g(the)g
FJ(tra)n(v)o(erse)f FM(operation.)p 337 4569 1425 4 v
337 4624 a FB(9)404 4648 y FA(None)c(of)f(these)i(dif)n(ferences)h
(between)f(nodes)f(and)g(capability)j(pages)d(are)h(signi\002cant)g(in)
f(an)o(y)g(lar)o(ge)h(sense;)g(the)o(y)f(could)h(be)f(made)f(true)i(of)
e(capability)404 4726 y(pages)k(as)f(well.)k(In)c(practice,)j(it)d(has)
g(pro)o(v)o(en)h(incon)m(v)o(enient)j(to)d(unify)f(the)h(tw)o(o)g(for)f
(reasons)h(of)f(space)h(ef)n(\002cienc)o(y)l(.)470 4805
y(Modern)f(page)h(sizes)f(hold)g(a)f(f)o(airly)i(lar)o(ge)f(number)g
(of)f(capabilities)21 b(\(256)16 b(in)h(a)f(4096)h(byte)g(page\).)k
(This)16 b(mak)o(es)h(capability)j(pages)d(an)f(inef)n(\002cient)404
4884 y(unit)i(of)f(storage)h(for)f(process)h(state)g(\(25\045)g
(utilization)j(for)c(x86,)g(37.5\045)g(for)g(typical)i(RISC)f
(architectures\).)470 4963 y(F)o(or)24 b(memory)f(object)j(trees,)g
(both)e(f)o(anout)i(\(number)e(of)g(entries)h(per)f(le)n(v)o(el\))i
(and)e(memory)g(footprint)h(\(size)g(of)f(translation)i(structures\))g
(ha)o(v)o(e)404 5042 y(signi\002cant)20 b(impact.)j(ER)m(OS)17
b(programs)h(typically)j(require)e(either)g(one)f(or)f(three)i(32-slot)
g(nodes)f(\(necessitated)j(by)c(stack)i(placement\))h(to)e(describe)404
5121 y(their)f(memory)f(tree.)21 b(In)16 b(both)g(cases,)g(the)h(same)f
(number)g(of)f(capability)20 b(pages)c(w)o(ould)h(be)f(required,)h
(resulting)h(in)e(translation)j(memory)d(utilization)404
5200 y(of)h(only)h(12.5\045.)2077 5410 y FM(21)p eop
%%Page: 22 38
22 37 bop 162 108 a FM(As)21 b(with)g(capage)e(capabilities,)h(node)g
(capabilities)g(may)g(carry)g(read-only)e(or)i(weak)g(quali\002ers.)25
b(In)c(addition,)e(node)37 257 y(capabilities)k(may)g(be)g
FF(opaque)p FM(.)33 b(Opaque)22 b(capabilities)h(con)m(v)o(e)o(y)e
(neither)h(read)h(nor)f(write)h(authority)f(to)h(the)g(holder)m(,)g(b)n
(ut)37 407 y(permit)j FJ(tra)n(v)o(erse)g FM(operations)f(on)h(the)h
(named)e(node.)43 b(The)27 b(purpose)e(of)h(this)h(distinction)f(is)h
(to)g(allo)n(w)g(programs)d(that)37 556 y(manage)30 b(memory)e(objects)
i(to)h(e)o(xpose)e(the)i FI(content)g FM(of)f(those)g(objects)g
(without)g(e)o(xposing)e(the)j FI(metadata)e FM(of)h(those)37
705 y(objects.)162 861 y(Lik)o(e)22 b(the)g FJ(weak)f
FM(restriction,)g(the)h(ef)n(fect)f(of)h(the)g FJ(opaque)f
FM(restriction)g(is)i(transiti)n(v)o(e.)29 b FI(Unlik)o(e)22
b FM(the)g FJ(weak)g FM(restriction,)37 1010 y(the)j
FJ(opaque)g FM(restriction)e(does)i FI(not)g FM(apply)f(to)h(pages)f
(and)g(capages.)37 b(The)25 b(distinction)e(is)j(analogous)d(to)h
(being)g(able)g(to)37 1160 y(tra)n(v)o(erse)f(memory)e(mapping)g
(tables)i(e)n(v)o(en)f(though)f(the)i(bits)g(contained)e(in)i(those)g
(tables)g(cannot)e(be)i(e)o(xamined)e(by)i(the)37 1309
y(application)e(performing)e(the)j(memory)e(reference.)29
b(The)22 b(inability)f(to)h(e)o(xamine)f(the)h(interv)o(ening)d
(translations)j(entries)37 1459 y(is)g(transiti)n(v)o(e,)d(b)n(ut)h
(does)g(not)g(pre)n(v)o(ent)e(the)i(program)e(from)i(accessing)g(the)g
(data)g(in)g(the)g(translated)g(pages.)162 1614 y(Finally)-5
b(,)22 b(node)f(capabilities)h(may)g(carry)f(the)h FF(no-call)g
FM(restriction.)31 b(The)21 b(ef)n(fect)h(of)g(this)g(restriction)g(is)
h(discussed)f(as)37 1764 y(part)e(of)g(the)g(discussion)g(of)g(memory)f
(objects)h(\(Section)f(2.4\).)37 2094 y FG(2.2.5)99 b(The)26
b(W)-6 b(eak)o(en)25 b(T)-7 b(ransf)n(ormation)37 2311
y FM(The)22 b(basic)g(capability)f(types)h(are)g(sho)n(wn)f(in)h(T)-7
b(able)22 b(2.1.)29 b(Gi)n(v)o(en)21 b(these)h(types,)g(it)h(is)g(no)n
(w)e(possible)h(to)g(de\002ne)f(the)h(ef)n(fect)37 2461
y(of)e(the)h FJ(weak)f FM(restriction.)p 37 2580 3563
7 v 37 2654 a FJ(T)-8 b(able)22 b(2.1)d FM(Basic)i(capability)f(types)p
37 2692 3563 4 v 717 2861 a FJ(Object)941 b(Restrictions)717
2961 y(T)-6 b(ype)453 b(Read-Only)98 b(W)-5 b(eak)187
b(No-Call)98 b(Opaque)p 667 2994 2262 4 v 717 3064 a
FM(Number)353 b(n/a)385 b(n/a)288 b(n/a)274 b(n/a)717
3164 y(Data)21 b(P)o(age)288 b(yes)376 b(no)20 b(ef)n(fect)98
b(n/a)274 b(n/a)717 3263 y(Capability)20 b(P)o(age)99
b(yes)376 b(yes)279 b(no)292 b(n/a)717 3363 y(Node)446
b(yes)376 b(yes)279 b(yes)265 b(yes)p 667 3396 V 37 3499
3563 4 v 162 3766 a(The)19 b(weak)f(restriction)h(tak)o(es)g(ef)n(fect)
f(when)h(a)g(capability)f(load)h(operation)e(is)j(performed.)h
(Ordinarily)-5 b(,)17 b(the)i(ef)n(fect)g(of)37 3915
y(a)i(capability)e(load)h(operation)e(is)1609 4160 y
Fy(cr)1682 4172 y Fv(n)1750 4160 y Fw( )-14 b(\000)23
b Fy(cap)37 4405 y FM(where)d Fy(cr)334 4417 y Fv(n)400
4405 y FM(is)i(the)e(destination)f(capability)g(re)o(gister)h(and)f
Fy(cap)i FM(is)g(the)f(capability)f(being)g(loaded.)162
4560 y(If)f(a)h(capability)e(load)h(operation)e(is)j(performed)d(by)i
(w)o(ay)g(of)g(a)h(node)e(with)h(the)h FJ(weak)f FM(restriction,)g(a)g
(reduced)f(v)o(ersion)37 4710 y(of)j Fy(cap)h FM(is)g(loaded)e
(instead:)1437 4955 y Fy(cr)1510 4967 y Fv(n)1579 4955
y Fw( )-14 b(\000)23 b Fy(w)r(eak)s(en)p Fx(\()p Fy(cap)p
Fx(\))58 5200 y FM(The)d(ef)n(fect)g(of)g(the)g Fy(w)r(eak)s(en)p
Fx(\()p Fw(\001)p Fx(\))h FM(transformation)c(is)22 b(sho)n(wn)d(in)h
(T)-7 b(able)20 b(2.2.)1777 5410 y(22)p eop
%%Page: 23 39
23 38 bop 337 31 3563 7 v 337 105 a FJ(T)-8 b(able)22
b(2.2)d FM(The)h(weak)o(en)f(transformation)p 337 126
3563 4 v 704 296 a FJ(Input)i Fy(C)6 b(I)673 b FJ(Output)20
b Fy(C)6 b(O)p 654 329 2888 4 v 704 398 a FM(Number)19
b(Capability)353 b Fy(C)6 b(O)24 b FM(=)c Fy(C)6 b(I)28
b FM(\()p FI(unc)o(hang)o(ed)r FM(\))704 498 y(Data)20
b(P)o(age)g(Capability)288 b Fy(C)6 b(O)24 b FM(=)c Fy(C)6
b(I)28 b FM(with)21 b Fw(f)p FJ(r)o(ead-only)p Fw(g)c
FM(restriction)704 598 y(Capability)j(P)o(age)g(Capability)98
b Fy(C)6 b(O)24 b FM(=)c Fy(C)6 b(I)28 b FM(with)21 b
Fw(f)p FJ(r)o(ead-only)p FM(,)p FJ(weak)p FM(,)p FJ(no-call)p
Fw(g)15 b FM(restrictions)704 697 y(Node)k(Capability)446
b Fy(C)6 b(O)24 b FM(=)c Fy(C)6 b(I)28 b FM(with)21 b
Fw(f)p FJ(r)o(ead-only)p FM(,)p FJ(weak)p FM(,)p FJ(no-call)p
Fw(g)15 b FM(restrictions)704 797 y FI(all)20 b(other)o(s)678
b FM(Number)19 b(capability)g(with)h(v)n(alue)g(0)p 337
930 3563 4 v 337 1215 a Fz(2.3)119 b(Pr)n(ocesses)337
1485 y FM(A)26 b FF(process)g FM(consists)g(of)f(a)h(re)o(gister)f(set)
h(and)f(a)h(schedule.)40 b(In)25 b(addition,)g(e)n(v)o(ery)f(process)h
(identi\002es)h(a)f(memory)f(object)337 1634 y(that)k(serv)o(es)e(as)i
(its)g(address)f(space.)45 b(This)28 b(memory)d(object)h(may)h(be)g
(shared)f(among)g(multiple)g(processes,)j(allo)n(wing)337
1784 y(concurrent)22 b(manipulation)f(of)i(the)h(shared)f(memory)e
(state.)36 b(An)24 b(ER)m(OS)g(process)f(corresponds)e(most)j(closely)f
(to)h(what)337 1933 y(the)17 b(POSIX)g(standard)f(calls)h(a)g
(\223thread\224)e([IEEE)o(].)24 b(Unlik)o(e)16 b(POSIX)h(threads,)g(tw)
o(o)f(ER)m(OS)i(processes)e(sharing)f(an)i(address)337
2082 y(space)k(do)e(not)h(necessarily)g(share)g(an)o(y)f(other)h
(resources.)337 2478 y FG(2.3.1)99 b(Register)25 b(Set)337
2717 y FM(ER)m(OS)c(processes)e(ha)n(v)o(e)g(both)g(data)h(and)f
(capability)g(re)o(gisters.)25 b(The)19 b(data)h(re)o(gister)f(set)h
(consists)h(of)e(the)h(user)g(mode)f(re)o(g-)337 2867
y(ister)j(set)g(of)e(the)h(underlying)d(hardw)o(are)i(architecture)f
(plus)i(three)f(re)o(gisters)h(required)e(by)h(the)h(ER)m(OS)g(virtual)
g(machine:)337 3016 y(the)30 b FF(fault)f(code)p FM(,)h
FF(fault)f(inf)o(o)p FM(,)i(and)e FF(process)g(\003ags)g
FM(re)o(gisters.)51 b(The)29 b(f)o(ault)g(code)f(and)h(f)o(ault)g(info)
f(re)o(gisters)h(record)f(the)337 3166 y(current)c(f)o(ault)h(or)g(e)o
(xception)e(and)h(some)h(auxiliary)e(information.)37
b(The)25 b(process)f(\003ags)i(re)o(gister)e(contains)g(the)h
FI(pr)l(ocess)337 3315 y(state)19 b FM(\(one)e(of)h FJ(running)p
FM(,)h FJ(a)n(v)o(ailable)p FM(,)f(or)f FJ(waiting)p
FM(\))h(of)g(the)g(process)g(and)f(a)i(single-bit)e(\003ag)h
(indicating)f(whether)g(the)i(f)o(ault)337 3465 y(re)o(gisters)h
(currently)f(contain)g(v)n(alid)h(v)n(alues.)462 3632
y(In)e(addition)e(to)i(data)g(re)o(gisters,)f(e)n(v)o(ery)g(process)g
(has)h(a)g(capability)f(re)o(gister)g(set.)25 b(In)17
b(current)g(implementations,)f(there)337 3782 y(are)22
b(32)g(such)g(capability)f(re)o(gisters.)1394 3751 y
FC(10)1486 3782 y FM(This)h(re)o(gister)f(set)i(and)e(the)h(associated)
g(capability)f(load)g(and)h(store)g(instructions)337
3931 y(are)e(realized)e(by)h(supervisor)f(mode)g(emulation.)23
b(Capability)c(re)o(gister)g(zero)f(is)i(\223hardwired\224)d(to)j(the)f
(number)f(capability)337 4080 y(whose)i(v)n(alue)g(is)h(zero.)462
4248 y(In)d(practice,)f(this)i(re)o(gister)e(state)i(will)g(not)e
(\002t)i(within)f(a)g(single)g(node.)23 b(Therefore,)16
b(the)i(ER)m(OS)h(architecture)d(captures)337 4397 y(re)o(gister)22
b(state)i(in)f(a)g(collection)e(of)i(nodes)e(\(Figure)h(2.2\).)31
b(One)23 b(of)f(these)h(nodes)f(identi\002es)g(the)h(process,)f(and)h
(is)g(kno)n(wn)337 4547 y(as)j(the)f FF(process)g(root)p
FM(.)39 b(A)26 b(second)e(node)f(contains)i(the)f(capabilities)h(of)g
(the)f(process)h(\(the)f FF(capabilities)g(annex)p FM(\).)39
b(One)337 4696 y(or)21 b(more)g FF(register)h(annex)e(nodes)h
FM(are)g(used)g(to)h(hold)e(an)o(y)g(data)h(re)o(gister)g(v)n(alues)f
(that)h(did)g(not)g(\002t)h(into)f(the)g(process)f(root.)337
4846 y(The)j(number)e(of)i(re)o(gister)f(anne)o(x)f(nodes)h(depends)g
(on)g(the)h(underlying)d(hardw)o(are)i(architecture.)31
b(As)24 b(an)f(e)o(xample,)f(the)337 4995 y(layout)e(of)g(the)g(x86)f
(re)o(gisters)h(within)g(a)h(process)e(may)h(be)g(found)f(in)h
(Appendix)e(A.)p 337 5121 1425 4 v 337 5176 a FB(10)404
5200 y FA(Pre)n(vious)g(implementations)j(ha)o(v)o(e)c(used)h(16)f
(capability)j(re)o(gisters,)f(which)e(pro)o(v)o(ed)i(in)e(practice)j
(to)d(be)g(too)h(fe)n(w)l(.)2077 5410 y FM(23)p eop
%%Page: 24 40
24 39 bop 37 31 3563 7 v 37 105 a FJ(Figur)o(e)20 b(2.2)f
FM(Structure)h(of)g(a)g(process.)p 37 143 3563 4 v 894
243 a
 14274641 9341009 0 0 14274641 9341009 startTexFig
 894 243 a
%%BeginDocument: ndomain.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: ndomain.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 12:02:06 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 217 142
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/MyAppDict 100 dict dup begin def
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def
/col32 {0.894 0.635 0.000 srgb} bind def

end
save
-10.0 151.0 translate
1 -1 scale
.9 .9 scale % to make patterns same scale as in xfig

% This junk string is used by the show operators
/PATsstr 1 string def
/PATawidthshow { 	% cx cy cchar rx ry string
  % Loop over each character in the string
  {  % cx cy cchar rx ry char
    % Show the character
    dup				% cx cy cchar rx ry char char
    PATsstr dup 0 4 -1 roll put	% cx cy cchar rx ry char (char)
    false charpath		% cx cy cchar rx ry char
    /clip load PATdraw
    % Move past the character (charpath modified the
    % current point)
    currentpoint			% cx cy cchar rx ry char x y
    newpath
    moveto			% cx cy cchar rx ry char
    % Reposition by cx,cy if the character in the string is cchar
    3 index eq {			% cx cy cchar rx ry
      4 index 4 index rmoveto
    } if
    % Reposition all characters by rx ry
    2 copy rmoveto		% cx cy cchar rx ry
  } forall
  pop pop pop pop pop		% -
  currentpoint
  newpath
  moveto
} bind def
/PATcg {
  7 dict dup begin
    /lw currentlinewidth def
    /lc currentlinecap def
    /lj currentlinejoin def
    /ml currentmiterlimit def
    /ds [ currentdash ] def
    /cc [ currentrgbcolor ] def
    /cm matrix currentmatrix def
  end
} bind def
% PATdraw - calculates the boundaries of the object and
% fills it with the current pattern
/PATdraw {			% proc
  save exch
    PATpcalc			% proc nw nh px py
    5 -1 roll exec		% nw nh px py
    newpath
    PATfill			% -
  restore
} bind def
% PATfill - performs the tiling for the shape
/PATfill { % nw nh px py PATfill -
  PATDict /CurrentPattern get dup begin
    setfont
    % Set the coordinate system to Pattern Space
    PatternGState PATsg
    % Set the color for uncolored pattezns
    PaintType 2 eq { PATDict /PColor get PATsc } if
    % Create the string for showing
    3 index string		% nw nh px py str
    % Loop for each of the pattern sources
    0 1 Multi 1 sub {		% nw nh px py str source
	% Move to the starting location
	3 index 3 index		% nw nh px py str source px py
	moveto			% nw nh px py str source
	% For multiple sources, set the appropriate color
	Multi 1 ne { dup PC exch get PATsc } if
	% Set the appropriate string for the source
	0 1 7 index 1 sub { 2 index exch 2 index put } for pop
	% Loop over the number of vertical cells
	3 index 		% nw nh px py str nh
	{			% nw nh px py str
	  currentpoint		% nw nh px py str cx cy
	  2 index show		% nw nh px py str cx cy
	  YStep add moveto	% nw nh px py str
	} repeat		% nw nh px py str
    } for
    5 { pop } repeat
  end
} bind def

% PATkshow - kshow with the current pattezn
/PATkshow {			% proc string
  exch bind			% string proc
  1 index 0 get			% string proc char
  % Loop over all but the last character in the string
  0 1 4 index length 2 sub {
				% string proc char idx
    % Find the n+1th character in the string
    3 index exch 1 add get	% string proe char char+1
    exch 2 copy			% strinq proc char+1 char char+1 char
    % Now show the nth character
    PATsstr dup 0 4 -1 roll put	% string proc chr+1 chr chr+1 (chr)
    false charpath		% string proc char+1 char char+1
    /clip load PATdraw
    % Move past the character (charpath modified the current point)
    currentpoint newpath moveto
    % Execute the user proc (should consume char and char+1)
    mark 3 1 roll		% string proc char+1 mark char char+1
    4 index exec		% string proc char+1 mark...
    cleartomark			% string proc char+1
  } for
  % Now display the last character
  PATsstr dup 0 4 -1 roll put	% string proc (char+1)
  false charpath		% string proc
  /clip load PATdraw
  neewath
  pop pop			% -
} bind def
% PATmp - the makepattern equivalent
/PATmp {			% patdict patmtx PATmp patinstance
  exch dup length 7 add		% We will add 6 new entries plus 1 FID
  dict copy			% Create a new dictionary
  begin
    % Matrix to install when painting the pattern
    TilingType PATtcalc
    /PatternGState PATcg def
    PatternGState /cm 3 -1 roll put
    % Check for multi pattern sources (Level 1 fast color patterns)
    currentdict /Multi known not { /Multi 1 def } if
    % Font dictionary definitions
    /FontType 3 def
    % Create a dummy encoding vector
    /Encoding 256 array def
    3 string 0 1 255 {
      Encoding exch dup 3 index cvs cvn put } for pop
    /FontMatrix matrix def
    /FontBBox BBox def
    /BuildChar {
	mark 3 1 roll		% mark dict char
	exch begin
	Multi 1 ne {PaintData exch get}{pop} ifelse  % mark [paintdata]
	  PaintType 2 eq Multi 1 ne or
	  { XStep 0 FontBBox aload pop setcachedevice }
	  { XStep 0 setcharwidth } ifelse
	  currentdict		% mark [paintdata] dict
	  /PaintProc load	% mark [paintdata] dict paintproc
	end
	gsave
	  false PATredef exec true PATredef
	grestore
	cleartomark		% -
    } bind def
    currentdict
  end				% newdict
  /foo exch			% /foo newlict
  definefont			% newfont
} bind def
% PATpcalc - calculates the starting point and width/height
% of the tile fill for the shape
/PATpcalc {	% - PATpcalc nw nh px py
  PATDict /CurrentPattern get begin
    gsave
	% Set up the coordinate system to Pattern Space
	% and lock down pattern
	PatternGState /cm get setmatrix
	BBox aload pop pop pop translate
	% Determine the bounding box of the shape
	pathbbox			% llx lly urx ury
    grestore
    % Determine (nw, nh) the # of cells to paint width and height
    PatHeight div ceiling		% llx lly urx qh
    4 1 roll				% qh llx lly urx
    PatWidth div ceiling		% qh llx lly qw
    4 1 roll				% qw qh llx lly
    PatHeight div floor			% qw qh llx ph
    4 1 roll				% ph qw qh llx
    PatWidth div floor			% ph qw qh pw
    4 1 roll				% pw ph qw qh
    2 index sub cvi abs			% pw ph qs qh-ph
    exch 3 index sub cvi abs exch	% pw ph nw=qw-pw nh=qh-ph
    % Determine the starting point of the pattern fill
    %(px, py)
    4 2 roll				% nw nh pw ph
    PatHeight mul			% nw nh pw py
    exch				% nw nh py pw
    PatWidth mul exch			% nw nh px py
  end
} bind def

% Save the original routines so that we can use them later on
/oldfill	/fill load def
/oldeofill	/eofill load def
/oldstroke	/stroke load def
/oldshow	/show load def
/oldashow	/ashow load def
/oldwidthshow	/widthshow load def
/oldawidthshow	/awidthshow load def
/oldkshow	/kshow load def

% These defs are necessary so that subsequent procs don't bind in
% the originals
/fill	   { oldfill } bind def
/eofill	   { oldeofill } bind def
/stroke	   { oldstroke } bind def
/show	   { oldshow } bind def
/ashow	   { oldashow } bind def
/widthshow { oldwidthshow } bind def
/awidthshow { oldawidthshow } bind def
/kshow 	   { oldkshow } bind def
/PATredef {
  MyAppDict begin
    {
    /fill { /clip load PATdraw newpath } bind def
    /eofill { /eoclip load PATdraw newpath } bind def
    /stroke { PATstroke } bind def
    /show { 0 0 null 0 0 6 -1 roll PATawidthshow } bind def
    /ashow { 0 0 null 6 3 roll PATawidthshow }
    bind def
    /widthshow { 0 0 3 -1 roll PATawidthshow }
    bind def
    /awidthshow { PATawidthshow } bind def
    /kshow { PATkshow } bind def
  } {
    /fill   { oldfill } bind def
    /eofill { oldeofill } bind def
    /stroke { oldstroke } bind def
    /show   { oldshow } bind def
    /ashow  { oldashow } bind def
    /widthshow { oldwidthshow } bind def
    /awidthshow { oldawidthshow } bind def
    /kshow  { oldkshow } bind def
    } ifelse
  end
} bind def
false PATredef
% Conditionally define setcmykcolor if not available
/setcmykcolor where { pop } {
  /setcmykcolor {
    1 sub 4 1 roll
    3 {
	3 index add neg dup 0 lt { pop 0 } if 3 1 roll
    } repeat
    setrgbcolor - pop
  } bind def
} ifelse
/PATsc {		% colorarray
  aload length		% c1 ... cn length
    dup 1 eq { pop setgray } { 3 eq { setrgbcolor } { setcmykcolor
  } ifelse } ifelse
} bind def
/PATsg {		% dict
  begin
    lw setlinewidth
    lc setlinecap
    lj setlinejoin
    ml setmiterlimit
    ds aload pop setdash
    cc aload pop setrgbcolor
    cm setmatrix
  end
} bind def

/PATDict 3 dict def
/PATsp {
  true PATredef
  PATDict begin
    /CurrentPattern exch def
    % If it's an uncolored pattern, save the color
    CurrentPattern /PaintType get 2 eq {
      /PColor exch def
    } if
    /CColor [ currentrgbcolor ] def
  end
} bind def
% PATstroke - stroke with the current pattern
/PATstroke {
  countdictstack
  save
  mark
  {
    currentpoint strokepath moveto
    PATpcalc				% proc nw nh px py
    clip newpath PATfill
    } stopped {
	(*** PATstroke Warning: Path is too complex, stroking
	  with gray) =
    cleartomark
    restore
    countdictstack exch sub dup 0 gt
	{ { end } repeat } { pop } ifelse
    gsave 0.5 setgray oldstroke grestore
  } { pop restore pop } ifelse
  newpath
} bind def
/PATtcalc {		% modmtx tilingtype PATtcalc tilematrix
  % Note: tiling types 2 and 3 are not supported
  gsave
    exch concat					% tilingtype
    matrix currentmatrix exch			% cmtx tilingtype
    % Tiling type 1 and 3: constant spacing
    2 ne {
	% Distort the pattern so that it occupies
	% an integral number of device pixels
	dup 4 get exch dup 5 get exch		% tx ty cmtx
	XStep 0 dtransform
	round exch round exch			% tx ty cmtx dx.x dx.y
	XStep div exch XStep div exch		% tx ty cmtx a b
	0 YStep dtransform
	round exch round exch			% tx ty cmtx a b dy.x dy.y
	YStep div exch YStep div exch		% tx ty cmtx a b c d
	7 -3 roll astore			% { a b c d tx ty }
    } if
  grestore
} bind def
/PATusp {
  false PATredef
  PATDict begin
    CColor PATsc
  end
} bind def

% this is the pattern fill program from the Second edition Reference Manual
% with changes to call the above pattern fill
% left30
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 16 true [ 32 0 0 -16 0 16 ]
	{<c000c000300030000c000c000300030000c000c000300030
	000c000c00030003c000c000300030000c000c0003000300
	00c000c000300030000c000c00030003>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P1 exch def

% left45
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 32 true [ 32 0 0 -32 0 32 ]
	{<808080804040404020202020101010100808080804040404
	020202020101010180808080404040402020202010101010
	080808080404040402020202010101018080808040404040
	202020201010101008080808040404040202020201010101
	808080804040404020202020101010100808080804040404
	0202020201010101>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P4 exch def
1.1111 1.1111 scale %restore scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3502 m -1000 -1000 l 4781 -1000 l 4781 3502 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 1822 1114 m 1897 1114 l 1897 1514 l 1822 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 1897 1114 m 1972 1114 l 1972 1514 l 1897 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 1972 1114 m 2047 1114 l 2047 1514 l 1972 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2047 1114 m 2122 1114 l 2122 1514 l 2047 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2122 1114 m 2197 1114 l 2197 1514 l 2122 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2197 1114 m 2272 1114 l 2272 1514 l 2197 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2272 1114 m 2347 1114 l 2347 1514 l 2272 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2347 1114 m 2422 1114 l 2422 1514 l 2347 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2422 1114 m 2497 1114 l 2497 1514 l 2422 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2497 1114 m 2572 1114 l 2572 1514 l 2497 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2572 1114 m 2647 1114 l 2647 1514 l 2572 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2647 1114 m 2722 1114 l 2722 1514 l 2647 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2722 1114 m 2797 1114 l 2797 1514 l 2722 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2797 1114 m 2872 1114 l 2872 1514 l 2797 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2872 1114 m 2947 1114 l 2947 1514 l 2872 1514 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 1747 1114 m 1822 1114 l 1822 1514 l 1747 1514 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P1 [16 0 0 -8 116.47 74.27] PATmp PATsp ef gr PATusp gs col-1 s gr 
/Times-Roman ff 90.00 scf sf
1672 1215 m
gs 1 -1 sc (0) col-1 sh gr
/Times-Roman ff 90.00 scf sf
2985 1215 m
gs 1 -1 sc (31) col-1 sh gr
% Polyline
n 1811 2089 m 1886 2089 l 1886 2490 l 1811 2490 l cp gs col-1 s gr 
% Polyline
n 1886 2089 m 1961 2089 l 1961 2490 l 1886 2490 l cp gs col-1 s gr 
% Polyline
n 1961 2089 m 2036 2089 l 2036 2490 l 1961 2490 l cp gs col-1 s gr 
% Polyline
n 2036 2089 m 2111 2089 l 2111 2490 l 2036 2490 l cp gs col-1 s gr 
% Polyline
n 2111 2089 m 2186 2089 l 2186 2490 l 2111 2490 l cp gs col-1 s gr 
% Polyline
n 2186 2089 m 2262 2089 l 2262 2490 l 2186 2490 l cp gs col-1 s gr 
% Polyline
n 2262 2089 m 2337 2089 l 2337 2490 l 2262 2490 l cp gs col-1 s gr 
% Polyline
n 2337 2089 m 2412 2089 l 2412 2490 l 2337 2490 l cp gs col-1 s gr 
% Polyline
n 2412 2089 m 2487 2089 l 2487 2490 l 2412 2490 l cp gs col-1 s gr 
% Polyline
n 2487 2089 m 2561 2089 l 2561 2490 l 2487 2490 l cp gs col-1 s gr 
% Polyline
n 2561 2089 m 2636 2089 l 2636 2490 l 2561 2490 l cp gs col-1 s gr 
% Polyline
n 2636 2089 m 2711 2089 l 2711 2490 l 2636 2490 l cp gs col-1 s gr 
% Polyline
n 2711 2089 m 2787 2089 l 2787 2490 l 2711 2490 l cp gs col-1 s gr 
% Polyline
n 2787 2089 m 2862 2089 l 2862 2490 l 2787 2490 l cp gs col-1 s gr 
% Polyline
n 2862 2089 m 2937 2089 l 2937 2490 l 2862 2490 l cp gs col-1 s gr 
% Polyline
n 1905 554 m 1905 444 l 2385 444 l 2385 554 l cp gs col-1 s gr 
% Polyline
n 752 303 m 827 303 l 827 703 l 752 703 l cp gs col-1 s gr 
% Polyline
n 827 303 m 903 303 l 903 703 l 827 703 l cp gs col-1 s gr 
% Polyline
n 903 303 m 978 303 l 978 703 l 903 703 l cp gs col-1 s gr 
% Polyline
n 978 303 m 1053 303 l 1053 703 l 978 703 l cp gs col-1 s gr 
% Polyline
n 1053 303 m 1127 303 l 1127 703 l 1053 703 l cp gs col-1 s gr 
% Polyline
n 1127 303 m 1202 303 l 1202 703 l 1127 703 l cp gs col-1 s gr 
% Polyline
n 1202 303 m 1278 303 l 1278 703 l 1202 703 l cp gs col-1 s gr 
% Polyline
n 1278 303 m 1352 303 l 1352 703 l 1278 703 l cp gs col-1 s gr 
% Polyline
n 1352 303 m 1427 303 l 1427 703 l 1352 703 l cp gs col-1 s gr 
% Polyline
n 1427 303 m 1502 303 l 1502 703 l 1427 703 l cp gs col-1 s gr 
% Polyline
n 1578 303 m 1653 303 l 1653 703 l 1578 703 l cp gs col7 0.95 shd ef gr gs col-1 s gr 
% Polyline
n 1502 303 m 1578 303 l 1578 703 l 1502 703 l cp gs col7 0.95 shd ef gr gs col-1 s gr 
% Polyline
n 677 303 m 752 303 l 752 703 l 677 703 l cp gs col-1 s gr 
% Polyline
n 602 303 m 677 303 l 677 703 l 602 703 l cp gs col7 0.95 shd ef gr gs col-1 s gr 
% Polyline
n 1736 2089 m 1811 2089 l 1811 2490 l 1736 2490 l cp gs col-1 s gr 
/Times-Bold ff 150.00 scf sf
1809 2014 m
gs 1 -1 sc (Registers Annex) col-1 sh gr
/Times-Roman ff 90.00 scf sf
1661 2189 m
gs 1 -1 sc (0) col-1 sh gr
/Times-Roman ff 90.00 scf sf
2974 2189 m
gs 1 -1 sc (31) col-1 sh gr
% Polyline
gs  clippath
1755 1980 m 1725 2100 l 1695 1980 l 1695 2115 l 1755 2115 l cp
clip
n 1545 401 m 1545 1800 l 1725 1800 l 1725 2100 l gs col-1 s gr gr

% arrowhead
n 1755 1980 m 1725 2100 l 1695 1980 l 1725 1980 l 1755 1980 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
1770 990 m 1740 1110 l 1710 990 l 1710 1125 l 1770 1125 l cp
clip
n 1616 401 m 1620 825 l 1740 825 l 1740 1110 l gs col-1 s gr gr

% arrowhead
n 1770 990 m 1740 1110 l 1710 990 l 1740 990 l 1770 990 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
n 1906 324 m 1906 210 l 2409 210 l 2409 324 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 1890 779 m 1890 659 l 2399 659 l 2399 779 l cp gs col7 0.95 shd ef gr gs col-1 s gr 
% Polyline
n 527 303 m 602 303 l 602 703 l 527 703 l cp gs col-1 s gr 
% Polyline
n 453 303 m 527 303 l 527 703 l 453 703 l cp gs col-1 s gr 
% Polyline
gs  clippath
671 896 m 641 1016 l 611 896 l 611 1031 l 671 1031 l cp
clip
n 641 409 m 641 1016 l gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P4 [16 0 0 -16 42.73 27.27] PATmp PATsp ef gr PATusp gs col-1 s gr gr

% arrowhead
n 671 896 m 641 1016 l 611 896 l 641 896 l 671 896 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
1740 1605 m 1770 1485 l 1800 1605 l 1800 1470 l 1740 1470 l cp
clip
n 1770 1485 m 1770 1710 l gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P4 [16 0 0 -16 118.00 99.00] PATmp PATsp ef gr PATusp gs col-1 s gr gr

% arrowhead
n 1740 1605 m 1770 1485 l 1800 1605 l 1770 1605 l 1740 1605 l  cp gs 0.00 setgray ef gr  col-1 s
/Times-Bold ff 150.00 scf sf
2520 575 m
gs 1 -1 sc (Number Capability) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2533 324 m
gs 1 -1 sc (Any Capability) col-1 sh gr
/Times-Roman ff 90.00 scf sf
378 404 m
gs 1 -1 sc (0) col-1 sh gr
/Times-Roman ff 90.00 scf sf
1690 404 m
gs 1 -1 sc (31) col-1 sh gr
/Times-Bold ff 150.00 scf sf
1832 1024 m
gs 1 -1 sc (Capability Registers) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2526 780 m
gs 1 -1 sc (Node Capability) col-1 sh gr
/Times-Bold ff 150.00 scf sf
629 256 m
gs 1 -1 sc (Process Root) col-1 sh gr
/Times-Roman ff 135.00 scf sf
183 1162 m
gs 1 -1 sc (\(To Address Space\)) col-1 sh gr
/Times-Roman ff 135.00 scf sf
1845 1725 m
gs 1 -1 sc (\(Always Zero\)) col-1 sh gr
$F2psEnd
rs
end

%%EndDocument

 endTexFig
 37 1529 3563 4 v 37 1774 a FG(2.3.2)99 b(Reser)o(v)o(ed)26
b(Slots)37 1980 y FM(Certain)h(slots)h(in)f(the)g(process)g(root)f(are)
h(reserv)o(ed)e(to)i(hold)g(capabilities)f(that)h(ha)n(v)o(e)g(special)
g(meaning)e(to)i(the)g(virtual)37 2129 y(machine.)48
b(These)28 b(include)f(the)h FJ(addr)o(ess)h(space)f(slot)g
FM(\(Section)g(2.4\),)h(the)f FJ(schedule)h(slot)f FM(\(Section)g
(2.3.3\),)g(and)g(the)37 2278 y FJ(k)o(eeper)k(slot)e
FM(\(Section)g(2.3.6\).)55 b(The)30 b(process)g(state)i(re)o(gisters)e
(are)h(kno)n(wn)e(to)i(the)f(virtual)g(machine)g(and)g(reside)g(in)37
2428 y(a)e(designated)e(slot.)47 b(Finally)-5 b(,)29
b(a)e(slot)h(kno)n(wn)e(as)i(the)g FF(brand)f(slot)h
FM(is)g(used)f(for)g(purposes)f(of)h(process)g(authentication.)37
2577 y(Certain)22 b(portions)f(of)h(the)f(operating)f(system')-5
b(s)23 b(security)e(depend)f(on)i(the)g(brand)e(slot,)j(as)f(discussed)
g(in)g(Sections)g(2.3.5)37 2727 y(and)e(3.4.)37 3022
y FG(2.3.3)99 b(Schedule)37 3227 y FM(The)17 b(current)f(ER)m(OS)h
(architecture)e(uses)i(a)h(scheduling)d(mechanism)g(based)i(on)f
FF(processor)h(capacity)f(reserv)o(es)i FM([Mer93)n(].)37
3377 y(This)23 b(mechanism)f(replaces)g(the)h(K)n(e)o(yK)n(OS)f
FF(meter)g FM(abstraction)g(in)h(an)g(attempt)f(to)h(support)e(real)i
(time)g(e)o(x)o(ecution.)30 b(The)37 3526 y(admission)16
b(control)e(mechanism)h(for)g(capacity)g(reserv)o(es)h(is)g(a)h(ne)n(w)
f(source)f(of)g(co)o(v)o(ert)g(channels,)g(and)h(it)g(remains)g
(unclear)37 3676 y(whether)k(this)g(substitution)g(is)h(a)f(good)f
(idea.)162 3825 y(As)g(this)f(thesis)h(does)e(not)h(address)f(either)h
(real)g(time)g(concerns)e(or)i(co)o(v)o(ert)e(channels,)h(it)i(will)f
(suf)n(\002ce)g(to)g(say)g(here)f(that)37 3974 y(a)24
b(process)e(must)h(ha)n(v)o(e)f(a)h FF(sc)o(hedule)h(capability)d
FM(in)i(the)g(process)f(root')-5 b(s)23 b(schedule)f(slot.)33
b(Processes)23 b(that)g(do)f(not)h(ha)n(v)o(e)f(a)37
4124 y(schedule)e(capability)f(in)h(this)h(slot)g(do)e(not)h(e)o(x)o
(ecute)f(instructions)g(or)h(generate)f(e)o(xceptions.)37
4419 y FG(2.3.4)99 b(W)-6 b(ell-F)n(ormed)24 b(Pr)n(ocesses)37
4624 y FM(In)c(order)f(to)i(e)o(x)o(ecute)e(instructions)g(or)h
(generate)f(e)o(xceptions,)f(a)j(process)e(must)i(be)f
FF(w)o(ell-f)o(ormed)q FM(.)k(That)c(is:)162 4836 y Fw(\017)41
b FM(All)21 b(slots)g(designated)e(as)i(holding)d(capabilities)i(for)g
(anne)o(x)e(nodes)i(must)g(hold)f(read-write)g(node)g(capabilities.)162
5050 y Fw(\017)41 b FM(All)28 b(slots)g(in)g(the)f(process)g(root)f
(node)h(and)g(the)g(anne)o(x)f(nodes)g(that)i(are)f(designated)f(by)h
(the)g(machine)f(speci\002c)245 5200 y(architecture)19
b(as)i(holding)d(data)i(re)o(gisters)g(must)g(contain)f(number)g
(capabilities.)1777 5410 y(24)p eop
%%Page: 25 41
25 40 bop 337 108 a FM(These)24 b(constitute)f(the)g(minimum)f
(necessary)h(conditions)f(that)h(must)h(be)f(met)h(in)f(order)f(to)i
(interpret)e(the)i(nodes)e(of)i(the)337 257 y(process)f(as)h
(containing)c(an)j(image)g(of)f(a)h(process)g(re)o(gister)f(set.)34
b(If)23 b(a)g(running)e(process)h(ceases)h(to)h(be)e(well-formed,)g
(its)337 407 y(thread)e(of)g(control)f(disappears)g(and)g(the)i
(process)e(ceases)i(to)f(initiate)h(instructions.)462
556 y(The)27 b(f)o(act)g(that)g(a)h(process)e(is)i(well-formed)e(does)g
FI(not)j FM(guarantee)c(that)i(the)g(process)g(will)h(be)f(able)g(to)g
(e)o(x)o(ecute)f(in-)337 705 y(structions)g FI(successfully)p
FM(.)41 b(F)o(or)26 b(e)o(xample,)f(a)h(well-formed)e(process)h(need)g
(not)g(ha)n(v)o(e)g(a)h(v)n(alid)g(address)f(space.)41
b(Rather)m(,)337 855 y(the)23 b(guarantee)d(is)j(that)f(the)g(state)h
(of)f(the)g(process)g(permits)g(instructions)f(to)h(be)g(initiated)g
(and)f(f)o(aults)i(to)f(be)g(tak)o(en.)30 b(This)337
1004 y(limitation)d(of)f(scope)g(on)g(the)h(de\002nition)e(of)i(a)g
(well-formed)d(process)i(is)i(deliberate.)43 b(It)27
b(is)h(preferable)c(to)j(initiate)g(in-)337 1154 y(structions)18
b(that)h(f)o(ault)f(than)g(to)h(ha)n(v)o(e)f(the)g(thread)g(simply)g
(disappear)-5 b(.)23 b(F)o(aults)c(are)g(visible,)f(and)g(may)g(be)g
(diagnosable)f(and)337 1303 y(repairable.)337 1597 y
FG(2.3.5)99 b(Pr)n(ocess)25 b(Interfaces)337 1802 y FM(The)g(ER)m(OS)h
(virtual)e(machine)g(implements)g(tw)o(o)h(classes)h(of)f(capabilities)
g(related)g(to)g(the)g(process)f(abstraction.)39 b(One)337
1952 y(of)22 b(these)g(e)o(xposes)f(the)h(process)g(as)h(an)e(object)h
FI(per)g(se)p FM(.)31 b(The)22 b(other)f(con)m(v)o(e)o(ys)f(access)i
(to)g(the)g(object)g(\(or)f(objects\))g(imple-)337 2101
y(mented)f(by)f(the)i(process.)337 2370 y FJ(Pr)o(ocess)f(Capabilities)
337 2575 y FM(A)g FF(process)f(capability)e FM(names)i(some)f
(particular)g(node,)g(and)g(con)m(v)o(e)o(ys)f(the)h(authority)g(to)h
(access)g(or)g(modify)e(the)i(content)337 2725 y(of)k(that)g(node)e
FI(as)i(a)g(pr)l(ocess)p FM(.)32 b(Operations)22 b(on)g(process)g
(capabilities)h(include)e FJ(get/set)h(r)o(egisters)g
FM(and)g FJ(get/set)g(addr)o(ess)337 2874 y(space)p FM(.)34
b(These)23 b(operations)e(could)h(be)h(performed)d(directly)i(using)g
(node)g(capabilities,)h(b)n(ut)g(process)g(capabilities)f(ha)n(v)o(e)
337 3024 y(se)n(v)o(eral)e(properties)f(that)h(mak)o(e)g(them)g(more)f
(appropriate)f(for)h(most)i(process)e(manipulations:)462
3230 y Fw(\017)41 b FM(Most)21 b(of)f(the)g(operations)f(on)h(process)g
(capabilities)g(b)n(undle)f(se)n(v)o(eral)h(node)f(manipulations)g
(into)h(a)h(single)f(opera-)545 3380 y(tion)g(\(e.g.,)f(the)h(\223get)g
(re)o(gisters\224)g(operation\).)j(This)d(has)g(implications)g(for)f
(performance.)462 3591 y Fw(\017)41 b FM(Most)19 b(of)g(the)g
(operations)f(on)h(process)f(capabilities)h(yield)g(well-formed)e
(processes)i(if)g(the)g(process)g(w)o(as)h(initially)545
3740 y(well-formed.)j(This)d(also)h(has)f(performance)d(implications.)
462 3952 y Fw(\017)41 b FM(A)21 b(process)e(capability)h(does)g(not)f
(con)m(v)o(e)o(y)f(the)i(ability)g(to)h(modify)d(or)i(e)o(xamine)f(the)
h(brand)f(slot.)462 4163 y Fw(\017)41 b FM(A)21 b(process)e(capability)
h(con)m(v)o(e)o(ys)e(the)i(authority)e(to)j(create)f
FJ(start)f(capabilities)p FM(.)25 b(The)20 b(node)f(capability)g(does)h
(not.)337 4489 y FJ(The)i(Pr)o(ocess)d(T)-8 b(ool)337
4694 y FM(T)h(o)25 b(obtain)e(a)h(process)g(capability)f(naming)g(a)h
(gi)n(v)o(en)f(node,)h(a)h(program)c(must)k(hold)e(a)h(capability)f(to)
i(the)f FF(process)g(tool)q FM(.)337 4844 y(The)c(process)g(tool)g
(performs)e(tw)o(o)j(operations:)462 5050 y Fw(\017)41
b FJ(Cr)o(eate)24 b(Pr)o(ocess)p FM(:)34 b(Gi)n(v)o(en)24
b(a)h(node)f(capability)-5 b(,)24 b(returns)g(a)i(process)e(capability)
g(to)h(the)g(process)f(whose)h(process)545 5200 y(root)20
b(is)h(that)f(node.)k(It)c(is)h(assumed)f(by)g(this)h(operation)d(that)
i(the)g(brand)f(slot)i(has)f(already)f(been)h(populated.)2077
5410 y(25)p eop
%%Page: 26 42
26 41 bop 162 108 a Fw(\017)41 b FJ(Amplify)29 b(Pr)o(ocess)p
FM(:)42 b(Gi)n(v)o(en)28 b(a)h(process)g(capability)f(and)g(a)h(second)
f(capability)g(\(the)h(\223alle)o(ged)e(brand\224\),)i(com-)245
257 y(pares)c(the)h(alle)o(ged)e(brand)h(to)g(the)h(capability)e(that)i
(actually)f(resides)g(in)h(the)f(process')-5 b(s)26 b(brand)e(slot.)41
b(If)26 b(the)f(tw)o(o)245 407 y(capabilities)20 b(match,)f(the)i
(process)e(tool)h(returns)g(a)g(node)f(capability)h(to)g(the)g(process)
g(root.)162 637 y(The)j(amplify)e(process)i(operation)e(allo)n(ws)i
(the)g(creator)f(of)h(a)g(process)g(to)g(identify)f(its)i(of)n
(fspring.)31 b(As)24 b(discussed)e(in)37 787 y(Section)f(3.4,)f(this)i
(operation)d(is)j(essential)g(to)f(support)f(certain)g(operating)f
(system)i(security)g(policies,)g(b)n(ut)g(the)g(amplify)37
936 y(operation)c(potentially)h(increases)g(the)h(authority)e(wielded)h
(by)g(its)h(holder)f(\(it)h(is)g(the)g FI(only)f FM(operation)f(in)i
(the)f(architecture)37 1085 y(that)26 b(does)g(so\).)41
b(Speci\002cally)-5 b(,)26 b(the)g(constraints)f(described)f(abo)o(v)o
(e)h(that)g(are)h(imposed)f(by)g(the)h(process)f(capability)g(are)37
1235 y FI(not)f FM(enforced)d(by)h(the)g(node)g(capability)f(resulting)
h(from)f(the)i(amplify)e(operation.)30 b(Because)23 b(of)f(this,)h(the)
g(process)f(tool)37 1384 y(requires)e(scrutin)o(y)f(from)g(both)g
(correctness)g(and)h(security)g(standpoints.)162 1539
y(The)26 b(process)f(tool)h(does)g(not)g(compromise)e(the)i(correct)f
(operation)g(of)h(the)g(ER)m(OS)g(virtual)g(machine.)41
b(Gi)n(v)o(en)26 b(the)37 1688 y(node)d(capability)f(resulting)h(from)f
(ampli\002cation,)h(the)h(wielder)f(can)g(carry)g(out)g(only)g(tw)o(o)g
(classes)i(of)e(operations:)30 b(op-)37 1838 y(erations)24
b(that)h(result)g(in)f(well-formed)f(processes)h(and)g(operations)f
(that)h(do)g(not.)38 b(In)24 b(the)g(former)f(case,)j(e)o(x)o(ecuting)d
(the)37 1987 y(resulting)28 b(process)g(may)h(cause)f(e)o(xceptions)f
(to)i(occur)m(,)g(b)n(ut)g(does)f(not)g(compromise)f(the)i(correctness)
e(of)i(the)f(virtual)37 2136 y(machine.)k(In)23 b(the)g(latter)g(case,)
h(the)f(thread)f(of)h(control)e(embodied)g(in)i(the)g(process)g
(disappears,)f(and)g(again)g(the)h(virtual)37 2286 y(machine)d(is)h
(not)f(compromised.)162 2440 y(If)28 b(handled)e(correctly)-5
b(,)28 b(the)f(process)h(tool)f(also)h(does)g(not)f(compromise)f(the)i
(security)f(of)h(the)g(operating)e(system.)37 2590 y(Pro)o(vided)g
(that)i(the)f(creator)g(of)g(a)h(process)f(does)g(not)g(gi)n(v)o(e)g
(out)g(node)g(capabilities)g(to)h(the)f(process)g(root)g(or)g(anne)o(x)
o(es,)37 2739 y(or)e(re)n(v)o(eal)e(the)i(capability)e(that)i(w)o(as)g
(used)f(as)h(its)h(brand,)e(no)g(other)g(party)f(wielding)h(a)h
(process)f(tool)g(can)g(successfully)37 2889 y(perform)f(the)h(amplify)
f(operation)f(on)i(the)g(created)g(processes.)37 b(The)24
b(brand)e(capability)i(can)g(be)g(an)o(y)f(capability)g(at)i(all,)37
3038 y(and)31 b(need)f(not)h(be)f(one)h(that)g(third)f(parties)h(are)g
(able)f(to)i(create.)56 b(T)-7 b(ypical)31 b(choices)f(of)h(brand)e
(capability)h(include)g(a)37 3187 y(distinguished)21
b(start)h(capability)e(or)i(a)g(node)e(capability)h(to)h(some)f(node)g
(managed)f(by)h(the)h(creator)-5 b(.)29 b(In)21 b(both)g(cases,)h(it)h
(is)37 3337 y(impossible)17 b(for)e(third)i(parties)f(to)h(attempt)f
(to)h(\223guess\224)f(the)h(brand,)f(because)g(the)o(y)f(lack)i(the)g
(access)g(required)e(to)h(f)o(abricate)37 3486 y(the)21
b(necessary)e(capability)-5 b(.)37 3784 y FJ(Start)20
b(Capabilities)37 3999 y FM(A)g FF(start)g(capability)e
FM(names)h(a)h(particular)d(process)i(\(i.e.)25 b(names)19
b(that)g(process')-5 b(s)19 b(root)g(node\))e(and)i(con)m(v)o(e)o(ys)e
(the)i(authority)37 4149 y(to)j(in)m(v)n(ok)o(e)e(a)i
FF(user)h(de\002ned)e(object)g FM(implemented)e(by)i(that)h(process.)28
b(Ar)o(guments)19 b(passed)j(to)f(the)h(in)m(v)n(ocation)d(of)i(a)h
(start)37 4298 y(capability)27 b(are)h(passed)f(directly)g(to)h(the)g
(program,)f(which)g(interprets)g(the)h(in)m(v)n(ocation)d(and)j(ar)o
(guments)d(in)j(whate)n(v)o(er)37 4448 y(f)o(ashion)20
b(it)h(sees)g(\002t.)162 4602 y(An)o(y)28 b(holder)f(of)h(a)h(process)f
(capability)g(may)g(create)g(distinct)g(start)h(capabilities)g(to)f
(the)h(named)e(process)h(\(in)h(the)37 4751 y(current)22
b(implementation,)e(up)i(to)g Fx(2)1096 4721 y Fs(16)1166
4751 y FM(\).)32 b(Each)22 b(is)h(identi\002ed)f(by)g(a)g(unique)f
(\223capability)g(information\224)f(\002eld)j(v)n(alue)e(that)37
4901 y(is)g(not)f(visible)g(to)g(the)g(process)f(that)h(in)m(v)n(ok)o
(es)f(the)h(start)h(capability)-5 b(.)23 b(When)d(the)g(start)g
(capability)f(is)i(in)m(v)n(ok)o(ed,)d(the)i(virtual)37
5050 y(machine)25 b(e)o(xtracts)g(this)g(v)n(alue)g(and)g(passes)h(it)g
(to)f(the)h(recipient)e(process.)40 b(This)25 b(mechanism)f(may)h(be)h
(used)f(to)g(de\002ne)37 5200 y(multiple)f(objects,)i(distinct)e
(service)h(interf)o(aces)f(\(e.g.,)g(administrator)f(vs.)39
b(client\),)25 b(interf)o(ace)f(v)o(ersions,)g(or)h(an)o(y)e(other)1777
5410 y(26)p eop
%%Page: 27 43
27 42 bop 337 108 a FM(distinction)20 b(that)g(the)g(process)g(sees)h
(\002t)g(to)f(implement.)462 258 y(F)o(or)26 b(an)g(in)m(v)n(ocation)f
(of)h(a)h(start)f(capability)g(to)g(proceed,)g(the)h(process)f(named)f
(by)h(the)g(capability)f(must)i(be)f(in)h(the)337 407
y FI(available)21 b FM(state.)29 b(If)21 b(the)h(process)f(is)h(not)g
(a)n(v)n(ailable,)f(the)g(in)m(v)n(ocation)f(blocks)h(until)g(the)g
(process)g(becomes)g(a)n(v)n(ailable)g(by)337 557 y(performing)d(a)i
FJ(r)o(etur)o(n)g FM(operation.)462 707 y(The)27 b(a)n(v)n(ailability)f
(restriction)g(creates)h(an)g(implicit)g(mutual)f(e)o(xclusion)g
(around)f(the)i(in)m(v)n(ocation)e(of)i(user)g(de\002ned)337
856 y(objects;)17 b(only)e(one)g(in)m(v)n(ocation)f(may)h(be)g(in)h
(progress)e(on)h(a)h(gi)n(v)o(en)e(process)h(at)h(an)o(y)f(gi)n(v)o(en)
f(time.)23 b(The)15 b(primary)f(moti)n(v)n(ation)337
1006 y(for)24 b(this)g(restriction)g(is)h(resource)d(allocation.)36
b(If)24 b(additional)e(in)m(v)n(ocations)h(are)h(permitted,)f(the)h
(virtual)g(machine)f(must)337 1155 y(pro)o(vide)e(some)h(means)h(to)f
(\223interrupt\224)f(the)i(e)o(x)o(ecution)d(of)i(the)h(recei)n(ving)e
(program,)g(sa)n(v)o(e)h(its)i(state,)g(and)e(proceed)e(with)337
1304 y(the)h(ne)n(w)f(in)m(v)n(ocation.)j(There)c(are)h(three)g
(compelling)e(reasons)i FI(not)h FM(to)g(adopt)e(such)h(a)g(recursi)n
(v)o(e)f(design:)462 1522 y Fw(\017)41 b FM(The)25 b(virtual)g(machine)
g(has)h(no)f(means)g(to)h(allocate)f(storage)g(into)h(which)f(the)g
(old)h(state)g(can)f(be)h(sa)n(v)o(ed)f(when)g(a)545
1672 y(nested)20 b(in)m(v)n(ocation)e(arri)n(v)o(es.)462
1890 y Fw(\017)41 b FM(The)20 b(proposed)e(design)i(might)f(lead)h(to)g
(resource)f(e)o(xhaustion,)f(causing)i(the)g(process)g(to)g(f)o(ail.)
462 2109 y Fw(\017)41 b FM(Under)23 b(hea)n(vy)h(load)g(the)g(proposed)
f(design)g(has)i(the)f(property)f(that)h(earlier)g(in)m(v)n(ocations)f
(may)h(ne)n(v)o(er)f(complete)545 2258 y(because)d(the)o(y)f(are)h
(continually)f(interrupted)f(by)h(later)i(in)m(v)n(ocations.)462
2476 y(Processes)31 b(wishing)g(to)g(recei)n(v)o(e)f(additional)g(in)m
(v)n(ocations)g(before)f(returning)g(to)j(their)e(present)h(in)m(v)n
(ocation)e(may)337 2626 y(accomplish)21 b(this)h(by)f(performing)e(a)j
FJ(r)o(etur)o(n)f FM(operation)e(on)i(an)o(y)g(non-user)n(-object)e
(capability)-5 b(.)27 b(The)21 b FJ(r)o(etur)o(n)g FM(operation)337
2775 y(has)31 b(the)f(ef)n(fect)g(of)g(restoring)f(the)i(process)f(to)g
(the)h FI(available)e FM(state,)k(from)c(which)h(state)h(other)f(in)m
(v)n(ocations)f(on)g(that)337 2924 y(process)20 b(may)g(proceed.)337
3199 y FJ(Resume)i(Capabilities)337 3406 y FM(Pre)n(vious)27
b(microk)o(ernel)e(architectures)h(ha)n(v)o(e)h(captured)f(reply)g
(authorities)g(using)h(one)g(of)g(tw)o(o)h(techniques:)38
b(a)27 b(k)o(ernel)337 3555 y(implemented)i(interprocess)h(call)h
(stack)g(as)g(in)g(HYDRA/C.mmp)g([W)l(ul81)n(],)i(or)e(some)g(type)f
(of)g(\223reply)g(port\224)g(as)h(in)337 3705 y(Mach)20
b([F)o(or93)n(].)25 b(Reply)19 b(ports)g(must)h(be)g(ef)n(\002ciently)f
(in)m(v)n(alidated)f(when)h(the)g(reply)g(occurs)g(in)h(order)f(to)g
(ensure)g(\223at)i(most)337 3854 y(once\224)e(\(i.e.)24
b(call/return\))18 b(semantics.)24 b(F)o(or)19 b(this)g(reason)g(most)g
(of)g(the)g(implementations)e(using)h(reply)g(ports)h(prohibit)f(the)
337 4003 y(transfer)26 b(of)f(these)i(ports.)42 b(The)25
b(ER)m(OS)i(virtual)e(machine)g(adopts)h(the)g(reply)f(port)g(style)i
(of)e(design,)i(b)n(ut)f(allo)n(ws)g(these)337 4153 y(ports)20
b(to)h(be)f(transferred.)462 4303 y(The)26 b FJ(call)f
FM(operation)f(in)m(v)n(ok)o(es)h(a)h(capability)f(and)h(blocks)f(for)g
(a)h(reply)-5 b(.)41 b(A)26 b(process)f(that)h(has)g(performed)d(a)k
FJ(call)f FM(is)337 4452 y(in)j(the)g FI(waiting)f FM(state,)j(and)d
(therefore)f(cannot)g(be)h(in)m(v)n(ok)o(ed)f(using)h(a)h(start)g
(capability)-5 b(.)49 b(Instead,)29 b(the)g FJ(call)f
FM(operation)337 4602 y(synthesizes)c(a)f FF(resume)h(capability)e
FM(to)i(the)f(calling)g(process)g(as)h(a)g(side)f(ef)n(fect.)34
b(This)23 b(resume)g(capability)f(is)j(passed)e(as)337
4751 y(the)17 b(last)h(capability)e(ar)o(gument)e(to)j(the)g(recipient)
e(object.)24 b(Unlik)o(e)16 b(start)h(capabilities,)g(resume)f
(capabilities)h(may)f(be)h(used)337 4901 y(to)22 b(in)m(v)n(ok)o(e)e(a)
i(process)f(in)g(the)h FI(waiting)f FM(state.)29 b(In)m(v)n(oking)19
b(a)j(resume)f(capability)f(causes)i FI(all)f FM(copies)g(of)h(that)f
(capability)f(to)337 5050 y(become)k(in)m(v)n(alid,)h(enforcing)d
(\223reply)i(at)i(most)e(once\224)h(semantics,)g(and)g(ensuring)e(that)
i(resume)f(capabilities)h(can)f(only)337 5200 y(e)o(xist)d(when)e(a)i
(process)f(is)h(in)f(the)g(w)o(aiting)g(state.)2077 5410
y(27)p eop
%%Page: 28 44
28 43 bop 162 108 a FM(Manifesting)19 b(the)h(authority)f(to)h(reply)f
(as)i(an)g(e)o(xplicit,)e(transferable)f(authority)h(pro)o(v)o(es)g(to)
h(be)g(v)o(ery)f(useful:)162 343 y Fw(\017)41 b FM(It)23
b(f)o(acilitates)f(demultiple)o(xing)e(and)h(dele)o(gation.)29
b(The)22 b(in)m(v)n(ok)o(ed)e(object)i(may)g(refer)f(the)h(requested)f
(operation)f(to)245 492 y(some)g(other)f(object)h(which)g(can)g(then)f
(respond)g(directly)g(to)i(the)f(caller)-5 b(.)162 734
y Fw(\017)41 b FM(It)33 b(eliminates)f(the)g(need)g(for)f(virtual)h
(machine)f(state)i(outside)f(the)g(processes)g(themselv)o(es)g(that)g
(capture)g(the)245 883 y(call/return)21 b(dependencies.)30
b(This)23 b(simpli\002es)g(stabilization,)g(and)f(eliminates)g(the)h
(need)f(for)g(dynamic)f(resource)245 1033 y(allocation)e(\(the)h(call)h
(frames\))e(by)h(the)g(virtual)g(machine.)p 37 1249 3563
7 v 37 1323 a FJ(Figur)o(e)g(2.3)f FM(Demultiple)o(xing)f(via)i(return)
f(on)h(start)h(capability)-5 b(.)p 37 1361 3563 4 v 990
1460 a
 12761661 6512394 0 0 12761661 6512394 startTexFig
 990 1460 a
%%BeginDocument: tailcall.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: tailcall.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:11 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 194 99
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-7.0 105.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 2745 m -1000 -1000 l 4337 -1000 l 4337 2745 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 451 413 302 302 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 438 1436 302 302 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 3027 772 302 302 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 2280 749 302 302 0 360 DrawEllipse gs col-1 s gr

% Polyline
gs  clippath
480 1005 m 450 1125 l 420 1005 l 420 1140 l 480 1140 l cp
clip
n 450 675 m 450 1125 l gs col-1 s gr gr

% arrowhead
n 480 1005 m 450 1125 l 420 1005 l 450 1005 l 480 1005 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
 [60] 0 sd
gs  clippath
870 405 m 750 375 l 870 345 l 735 345 l 735 405 l cp
clip
n 2925 450 m 2625 375 l 750 375 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
n 870 405 m 750 375 l 870 345 l 870 375 l 870 405 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
 [60] 0 sd
gs  clippath
2736 1098 m 2850 1050 l 2772 1146 l 2880 1065 l 2844 1017 l cp
clip
n 675 1575 m 2550 1275 l 2850 1050 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
n 2736 1098 m 2850 1050 l 2772 1146 l 2754 1122 l 2736 1098 l  cp gs 0.00 setgray ef gr  col-1 s
/Times-Bold ff 150.00 scf sf
225 465 m
gs 1 -1 sc (client) col-1 sh gr
/Times-Bold ff 150.00 scf sf
225 1425 m
gs 1 -1 sc (generic) col-1 sh gr
/Times-Bold ff 150.00 scf sf
225 1575 m
gs 1 -1 sc (demux) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2025 720 m
gs 1 -1 sc (service) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2775 720 m
gs 1 -1 sc (service) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2100 900 m
gs 1 -1 sc (copy 1) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2850 900 m
gs 1 -1 sc (copy 2) col-1 sh gr
% Polyline
 [60] 0 sd
gs  clippath
1981 1008 m 2100 975 l 2011 1061 l 2128 994 l 2098 942 l cp
clip
n 750 1425 m 1575 1275 l 2100 975 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
n 1981 1008 m 2100 975 l 2011 1061 l 1996 1035 l 1981 1008 l  cp gs 0.00 setgray ef gr  col-1 s
/Times-Italic ff 150.00 scf sf
525 900 m
gs 1 -1 sc (Call generating) col-1 sh gr
/Times-Italic ff 150.00 scf sf
1725 1545 m
gs 1 -1 sc (Return \(via start key\)) col-1 sh gr
/Times-Italic ff 150.00 scf sf
1275 315 m
gs 1 -1 sc (Return \(rc1\)) col-1 sh gr
/Times-Italic ff 150.00 scf sf
525 1050 m
gs 1 -1 sc (resume capability rc1) col-1 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 2388 3563 4 v 162 2632 a FM(One)23 b(point)g(to)h(emphasize,)f(ho)n
(we)n(v)o(er)m(,)f(is)i(that)g(the)f(virtual)g(machine)f(imposes)i(no)f
(required)e(association)i(between)37 2782 y(the)d(in)m(v)n(ocation)d
(operation)h(\()p FJ(call)p FM(,)h FJ(r)o(etur)o(n)p
FM(,)g(or)g FJ(send)p FM(\))h(and)f(the)g(capability)g(type)g(\()p
FJ(start)p FM(,)f FJ(r)o(esume)p FM(,)i(or)f FI(object)q
FM(\).)24 b(The)c(most)37 2931 y(common)c(use)h(of)g(the)g
FJ(r)o(etur)o(n)f FM(operation)f(is)j(to)g(in)m(v)n(ok)o(e)d(a)j
(resume)e(capability)g(supplied)g(by)h(a)g(caller)g(in)h(order)d(to)j
(return)d(to)37 3081 y(that)22 b(caller)-5 b(.)29 b(In)22
b(demultiple)o(xing)c(or)k(dele)o(gation,)d(ho)n(we)n(v)o(er)m(,)g(the)
j(in)m(v)n(ok)o(ed)e(process)h(may)g(perform)e(a)j FJ(r)o(etur)o(n)f
FM(on)g(a)h FJ(start)37 3230 y FM(capability)h(to)g(a)h(third)f(party)
-5 b(,)23 b(forw)o(arding)e(the)i(original)g(resume)f(capability)h
(\(Figure)f(2.3\).)34 b(This)23 b(causes)h(the)f(in)m(v)n(ok)o(ed)37
3380 y(process)g(to)f(become)g FI(available)f FM(for)h(other)f(in)m(v)n
(ocations,)h(while)g(pro)o(viding)e(to)j(the)f(third)g(party)g(all)h
(of)f(the)h(information)37 3529 y(necessary)d(to)g(respond)f(to)h(the)g
(original)f(caller)-5 b(.)37 3860 y FG(2.3.6)99 b(Exceptions)26
b(and)g(F)n(ault)e(Capabilities)37 4078 y FM(When)19
b(an)g(instruction)e(is)j(e)o(x)o(ecuted)c(that)j(causes)g(an)g(e)o
(xception,)e(the)h(nature)g(of)g(the)h(e)o(xception)e(is)i(captured)e
(in)i(the)g FJ(fault)37 4227 y(code)29 b FM(and)g FJ(fault)g(inf)n(o)g
FM(re)o(gisters)f(of)h(the)g(initiating)f(process.)51
b(If)29 b(the)g(instruction)f(is)i(not)f(a)g(memory)e(e)o(xception,)j
(the)37 4377 y FJ(faulted)20 b FM(bit)h(of)f(the)g FJ(pr)o(ocess)g
(\003ags)g FM(re)o(gister)g(is)h(also)f(set.)37 4683
y FJ(Beha)n(vior)g(of)g(F)n(aulted)g(Pr)o(ocesses)37
4901 y FM(A)30 b(process)e(is)i(considered)e(to)h(be)g
FI(faulted)h FM(if)f(the)g FJ(faulted)g FM(bit)g(of)g(the)g
FJ(pr)o(ocess)g(\003ags)g FM(re)o(gister)f(is)i(set)g
FI(and)g FM(the)f FJ(fault)37 5050 y(code)24 b FM(re)o(gister)f
(contains)f(a)i(non-zero)d(v)n(alue.)34 b(The)23 b FJ(faulted)g
FM(bit)h(signals)g(to)f(the)h(virtual)e(machine)h(that)g(special)h
(actions)37 5200 y(related)19 b(to)g(e)o(xception)e(handling)h(may)g
(need)h(to)g(be)g(tak)o(en.)24 b(The)19 b(non-zero)d(f)o(ault)j(code)g
(indicates)g(that)g(a)g(f)o(ault)g(is)h(actually)1777
5410 y(28)p eop
%%Page: 29 45
29 44 bop 337 108 a FM(pending.)41 b(When)26 b(a)g(process)g(whose)f
FJ(faulted)h FM(bit)g(is)h(set)g(attempts)f(to)g(e)o(x)o(ecute)f(an)g
(instruction,)h(the)g(virtual)g(machine)337 257 y(checks)20
b(the)g FJ(fault)g(code)g FM(re)o(gister)-5 b(.)462 412
y(If)15 b(the)h FJ(fault)f(code)g FM(is)i(zero,)e(the)h
FJ(faulted)f FM(bit)h(is)g(cleared)f(and)g(the)g(process)g(is)i
(resumed.)22 b(If)15 b(the)h FJ(fault)f(code)g FM(is)i(nonzero,)337
562 y(the)23 b(virtual)e(machine)g(ne)o(xt)g(considers)h(that)g
(capability)f(in)h(the)g(k)o(eeper)g(slot)g(of)g(the)g(process)g(root.)
30 b(If)22 b(this)h(capability)e(is)337 711 y(not)h(a)h(start)g
(capability)-5 b(,)21 b(or)g(if)i(the)f(process)g(it)h(names)e(is)i
(not)f(well)h(formed,)e(the)h(thread)f(of)h(control)f(disappears)g(and)
h(the)337 860 y(process)16 b(ceases)h(to)g(e)o(x)o(ecute)e
(instructions.)23 b(If)16 b(the)g(capability)g(in)g(the)h(k)o(eeper)e
(slot)i FI(is)g FM(a)g(start)g(capability)e(to)i(a)g(well-formed)337
1010 y(process,)j(the)g(virtual)g(machine)f(synthesizes)h(an)g(upcall)f
(to)i(the)f(user)g(de\002ned)f(object)h(named)f(by)h(this)g(start)h
(capability)-5 b(.)462 1165 y(F)o(ault)28 b(handlers)e(can)h(serv)o(e)h
(man)o(y)e(processes.)47 b(It)28 b(is)g(therefore)e(possible)h(that)h
(when)f(the)g(virtual)g(machine)g(goes)337 1314 y(to)g(synthesize)e
(the)h(upcall)g(the)g(f)o(ault)g(handler)e(will)j(not)f(be)g(in)g(the)g
FI(available)f FM(state.)43 b(When)26 b(this)h(occurs,)f(the)g(f)o
(aulted)337 1464 y(process)g(is)i(simply)e(stuck)g(at)g(the)h(back)e
(of)h(the)h(run)e(queue.)42 b(The)26 b(upcall)g(will)h(be)g(retried)e
(when)h(the)g(ne)o(xt)g(attempt)g(is)337 1613 y(made)20
b(to)g(run)g(the)g(f)o(aulted)g(process.)337 1915 y FJ(F)n(ault)g
(Capabilities)337 2131 y FM(When)27 b(a)f(f)o(ault)g(upcall)g(is)h
(synthesized,)f(the)h(virtual)e(machine)g(mak)o(es)h(it)h(appear)e
(that)h(the)h(f)o(aulting)e(process)h(has)g(per)n(-)337
2280 y(formed)c(a)h FJ(call)g FM(to)g(the)g(user)f(de\002ned)g(object)h
(named)e(by)i(the)g(k)o(eeper)e(slot.)34 b(This)23 b(upcall)f(dif)n
(fers)g(from)g(the)h(normal)e FJ(call)337 2429 y FM(operation)e(in)h
(one)g(respect:)25 b(it)c(passes)g(a)f FJ(fault)g(capability)f
FM(rather)h(than)f(a)i FJ(r)o(esume)f(capability)g FM(as)h(its)g(last)g
(ar)o(gument.)462 2584 y(In)m(v)n(oking)d(start)j(or)f(resume)f
(capabilities)h(passes)h(ar)o(guments)e(to)h(the)h(recipient)e
(process,)h(and)f(therefore)g(causes)i(the)337 2734 y(re)o(gister)g
(state)h(of)g(the)f(recipient)g(process)g(to)g(be)h(modi\002ed.)27
b(When)21 b(a)h(process)f(generates)g(an)g(e)o(xception,)f(a)i
(mechanism)337 2883 y(is)i(needed)e(to)g(cause)h(the)g(process)f(to)h
(resume)f(e)o(x)o(ecution)f FI(without)j FM(o)o(v)o(erwriting)c(its)k
(re)o(gister)e(set.)33 b(This)23 b(is)g(the)g(purpose)337
3033 y(of)d(the)g(f)o(ault)g(capability)-5 b(.)24 b(In)m(v)n(oking)17
b(a)k(f)o(ault)f(capability)f(with)h(a)h(zero)e(operation)f(code)i
(causes)g(the)g FJ(faulted)g FM(\003ag)g(and)g(the)337
3182 y FJ(fault)f(code)f FM(re)o(gister)g(to)g(be)h(cleared,)f(allo)n
(wing)f(the)i(process)f(to)g(resume.)24 b(In)m(v)n(oking)16
b(a)j(f)o(ault)f(capability)f(with)i(a)g(non-zero)337
3332 y(operation)e(code)g(causes)h(the)g FJ(faulted)g
FM(\003ag)g(to)g(be)g(set)h FI(without)e(modifying)g(the)h(fault)g
(code)f(or)h(fault)g(info)g(r)m(e)m(gister)g(values)p
FM(.)337 3481 y(In)i(both)g(cases,)g(the)h(recipient)e(process)h(is)h
(set)g(running.)337 3783 y FJ(Memory)g(F)n(aults)337
3999 y FM(This)31 b(some)n(what)f(curious)g(assymetry)g(of)g(f)o(ault)h
(re)o(gister)f(treatment)g(e)o(xists)h(to)f(f)o(acilitate)h(the)g
(handling)e(of)h(memory)337 4148 y(f)o(aults)25 b(\(Section)f(2.4\),)h
(which)f(may)g(be)h(serviced)f(by)g(a)h(f)o(ault)g(handler)e
(associated)i(with)f(the)h(memory)e(object)h(without)337
4297 y(e)n(v)o(er)g(being)g(reported)e(to)j(the)g(process)f(f)o(ault)g
(handler)-5 b(.)37 b(When)24 b(a)h(memory)e(f)o(ault)h(occurs,)h(an)g
(upcall)e(is)j(synthesized)d(to)337 4447 y(the)f(memory)e(f)o(ault)h
(handler)g(\(if)g(an)o(y\))g(as)h(described)e(abo)o(v)o(e)g(for)h
(ordinary)f(f)o(aults,)h(b)n(ut)h(the)g FJ(faulted)f
FM(bit)h(is)g(not)f(set.)30 b(This)337 4596 y(is)24 b(necessary)e
(because)g(the)h(memory)e(f)o(ault)i(handler)e(may)i(not)f(be)h(in)g
(the)f FI(available)g FM(state,)i(and)e(therefore)f(may)h(not)h(be)337
4746 y(in)m(v)n(okable)f(at)j(the)e(time)h(of)g(the)g(e)o(xception.)34
b(Pro)o(vided)22 b(the)i FJ(faulted)f FM(\003ag)h(is)h(not)e(set,)i
(the)f(f)o(ault)g(can)g(be)f(re-initiated)g(by)337 4895
y(simply)d(resuming)f(the)h(process)g(\(which)f(will)i(f)o(ault)f
(again\).)k(I)c(will)h(return)e(to)i(this)f(detail)h(in)f(a)h(moment.)
462 5050 y(If)d(the)g(memory)f(f)o(ault)h(handler)f(successfully)g
(resolv)o(es)h(the)g(e)o(xception,)e(it)j(in)m(v)n(ok)o(es)f(its)h(f)o
(ault)f(capability)f(with)h(a)h(zero)337 5200 y(request)27
b(code,)g(which)f(resumes)h(the)g(process.)44 b(If)27
b(it)g(instead)g(decides)f(not)h(to)g(service)f(the)h(e)o(xception,)f
(it)i(in)m(v)n(ok)o(es)e(its)2077 5410 y(29)p eop
%%Page: 30 46
30 45 bop 37 108 a FM(f)o(ault)21 b(capability)f(with)i(a)f(nonzero)e
(request)i(code.)26 b(The)21 b(ef)n(fect)f(of)h(this)h(in)m(v)n
(ocation)d(is)j(to)f(set)h(the)f(process)g(running)d(with)37
257 y(its)23 b FJ(faulted)e FM(\003ag)g(set,)h(at)g(which)f(time)h(the)
f(process)g(f)o(ault)g(mechanism)f(goes)h(into)g(ef)n(fect.)28
b(A)22 b(k)o(e)o(y)f(point)f(here)h(is)h(that)g(the)37
407 y(memory)17 b(handler)f(has)i(suf)n(\002cient)g(authority)e(to)i
(restart)g(the)g(f)o(aulting)f(process,)h(b)n(ut)g(does)f
FI(not)j FM(otherwise)d(ha)n(v)o(e)g(authority)37 556
y(to)k(modify)d(or)i(e)o(xamine)f(the)h(state)h(of)f(that)g(process.)37
920 y Fz(2.4)119 b(Memory)30 b(Objects)37 1158 y FM(A)d
FF(memory)e(object)h FM(consists)h(of)f(a)g(tree)g(of)g(nodes)f(whose)h
(lea)n(v)o(es)g(are)g(pages.)42 b(Figure)26 b(2.4)f(sho)n(ws)h(a)h
(memory)d(object)37 1308 y(representing)19 b(the)h(address)g(space)g
(of)g(a)g(typical)g(program.)p 37 1435 3563 7 v 37 1509
a FJ(Figur)o(e)g(2.4)f FM(Memory)g(object)h(for)f(a)i(typical)f
(address)f(space.)p 37 1547 3563 4 v 877 1647 a
 14537768 10722426 0 0 14537768 10722426 startTexFig
 877 1647
a
%%BeginDocument: seg19pg.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: seg19pg.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:10 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 221 163
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def
/col32 {0.894 0.635 0.000 srgb} bind def

end
save
-6.0 166.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3757 m -1000 -1000 l 4783 -1000 l 4783 3757 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 752 453 m 827 453 l 827 853 l 752 853 l cp gs col-1 s gr 
% Polyline
n 827 453 m 902 453 l 902 853 l 827 853 l cp gs col-1 s gr 
% Polyline
n 902 453 m 977 453 l 977 853 l 902 853 l cp gs col-1 s gr 
% Polyline
n 977 453 m 1053 453 l 1053 853 l 977 853 l cp gs col-1 s gr 
% Polyline
n 1053 453 m 1128 453 l 1128 853 l 1053 853 l cp gs col-1 s gr 
% Polyline
n 1128 453 m 1203 453 l 1203 853 l 1128 853 l cp gs col-1 s gr 
% Polyline
n 1203 453 m 1277 453 l 1277 853 l 1203 853 l cp gs col-1 s gr 
% Polyline
n 1277 453 m 1352 453 l 1352 853 l 1277 853 l cp gs col-1 s gr 
% Polyline
n 1352 453 m 1428 453 l 1428 853 l 1352 853 l cp gs col-1 s gr 
% Polyline
n 1428 453 m 1502 453 l 1502 853 l 1428 853 l cp gs col-1 s gr 
% Polyline
n 1502 453 m 1577 453 l 1577 853 l 1502 853 l cp gs col-1 s gr 
% Polyline
n 1577 453 m 1652 453 l 1652 853 l 1577 853 l cp gs col-1 s gr 
% Polyline
n 1728 453 m 1803 453 l 1803 853 l 1728 853 l cp gs col-1 s gr 
% Polyline
n 1652 453 m 1728 453 l 1728 853 l 1652 853 l cp gs col-1 s gr 
% Polyline
n 1952 1278 m 2027 1278 l 2027 1679 l 1952 1679 l cp gs col-1 s gr 
% Polyline
n 2027 1278 m 2102 1278 l 2102 1679 l 2027 1679 l cp gs col-1 s gr 
% Polyline
n 2102 1278 m 2177 1278 l 2177 1679 l 2102 1679 l cp gs col-1 s gr 
% Polyline
n 2177 1278 m 2252 1278 l 2252 1679 l 2177 1679 l cp gs col-1 s gr 
% Polyline
n 2252 1278 m 2327 1278 l 2327 1679 l 2252 1679 l cp gs col-1 s gr 
% Polyline
n 2327 1278 m 2403 1278 l 2403 1679 l 2327 1679 l cp gs col-1 s gr 
% Polyline
n 2403 1278 m 2478 1278 l 2478 1679 l 2403 1679 l cp gs col-1 s gr 
% Polyline
n 2478 1278 m 2553 1278 l 2553 1679 l 2478 1679 l cp gs col-1 s gr 
% Polyline
n 2553 1278 m 2628 1278 l 2628 1679 l 2553 1679 l cp gs col-1 s gr 
% Polyline
n 2628 1278 m 2702 1278 l 2702 1679 l 2628 1679 l cp gs col-1 s gr 
% Polyline
n 2702 1278 m 2777 1278 l 2777 1679 l 2702 1679 l cp gs col-1 s gr 
% Polyline
n 2777 1278 m 2852 1278 l 2852 1679 l 2777 1679 l cp gs col-1 s gr 
% Polyline
n 2852 1278 m 2928 1278 l 2928 1679 l 2852 1679 l cp gs col-1 s gr 
% Polyline
n 1877 1278 m 1952 1278 l 1952 1679 l 1877 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 2928 1278 m 3003 1278 l 3003 1679 l 2928 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 3003 1278 m 3078 1278 l 3078 1679 l 3003 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 228 1279 m 303 1279 l 303 1679 l 228 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 303 1279 m 378 1279 l 378 1679 l 303 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 378 1279 m 453 1279 l 453 1679 l 378 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 453 1279 m 528 1279 l 528 1679 l 453 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 528 1279 m 603 1279 l 603 1679 l 528 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 603 1279 m 678 1279 l 678 1679 l 603 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 678 1279 m 753 1279 l 753 1679 l 678 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 753 1279 m 828 1279 l 828 1679 l 753 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 828 1279 m 903 1279 l 903 1679 l 828 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 903 1279 m 978 1279 l 978 1679 l 903 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 978 1279 m 1053 1279 l 1053 1679 l 978 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 1053 1279 m 1128 1279 l 1128 1679 l 1053 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 1128 1279 m 1203 1279 l 1203 1679 l 1128 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 1203 1279 m 1278 1279 l 1278 1679 l 1203 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 1278 1279 m 1353 1279 l 1353 1679 l 1278 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 1353 1279 m 1428 1279 l 1428 1679 l 1353 1679 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
/Times-Roman ff 90.00 scf sf
153 1380 m
gs 1 -1 sc (0) col-1 sh gr
/Times-Roman ff 90.00 scf sf
1466 1380 m
gs 1 -1 sc (15) col-1 sh gr
% Polyline
n 2055 704 m 2055 594 l 2535 594 l 2535 704 l cp gs col-1 s gr 
% Polyline
n 603 453 m 677 453 l 677 853 l 603 853 l cp gs col7 0.95 shd ef gr gs col-1 s gr 
% Polyline
n 677 453 m 752 453 l 752 853 l 677 853 l cp gs col7 0.95 shd ef gr gs col-1 s gr 
/Times-Roman ff 90.00 scf sf
528 554 m
gs 1 -1 sc (0) col-1 sh gr
/Times-Roman ff 90.00 scf sf
1840 554 m
gs 1 -1 sc (15) col-1 sh gr
/Times-Roman ff 90.00 scf sf
1802 1378 m
gs 1 -1 sc (0) col-1 sh gr
/Times-Roman ff 90.00 scf sf
3115 1378 m
gs 1 -1 sc (15) col-1 sh gr
% Polyline
gs  clippath
255 1155 m 225 1275 l 195 1155 l 195 1290 l 255 1290 l cp
clip
n 630 600 m 630 975 l 225 975 l 225 1275 l gs col-1 s gr gr

% arrowhead
n 255 1155 m 225 1275 l 195 1155 l 225 1155 l 255 1155 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
1920 1140 m 1890 1260 l 1860 1140 l 1860 1275 l 1920 1275 l cp
clip
n 720 615 m 720 975 l 1890 975 l 1890 1260 l gs col-1 s gr gr

% arrowhead
n 1920 1140 m 1890 1260 l 1860 1140 l 1890 1140 l 1920 1140 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
246 1906 m 180 2010 l 189 1887 l 147 2015 l 204 2034 l cp
clip
n 255 1440 m 255 1785 l 180 2010 l gs col-1 s gr gr

% arrowhead
n 246 1906 m 180 2010 l 189 1887 l 218 1896 l 246 1906 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
n 390 1995 m 525 1995 l 525 2145 l 390 2145 l cp gs col-1 s gr 
% Polyline
n 645 1995 m 780 1995 l 780 2145 l 645 2145 l cp gs col-1 s gr 
% Polyline
n 885 1995 m 1020 1995 l 1020 2145 l 885 2145 l cp gs col-1 s gr 
% Polyline
n 1110 1995 m 1245 1995 l 1245 2145 l 1110 2145 l cp gs col-1 s gr 
% Polyline
n 1335 1995 m 1470 1995 l 1470 2145 l 1335 2145 l cp gs col-1 s gr 
% Polyline
n 1560 1995 m 1695 1995 l 1695 2145 l 1560 2145 l cp gs col-1 s gr 
% Polyline
n 1785 1995 m 1920 1995 l 1920 2145 l 1785 2145 l cp gs col-1 s gr 
% Polyline
n 120 1995 m 255 1995 l 255 2145 l 120 2145 l cp gs col-1 s gr 
% Polyline
n 240 2235 m 375 2235 l 375 2385 l 240 2385 l cp gs col-1 s gr 
% Polyline
n 510 2250 m 645 2250 l 645 2400 l 510 2400 l cp gs col-1 s gr 
% Polyline
n 750 2250 m 885 2250 l 885 2400 l 750 2400 l cp gs col-1 s gr 
% Polyline
n 975 2250 m 1110 2250 l 1110 2400 l 975 2400 l cp gs col-1 s gr 
% Polyline
n 1230 2250 m 1365 2250 l 1365 2400 l 1230 2400 l cp gs col-1 s gr 
% Polyline
n 1455 2250 m 1590 2250 l 1590 2400 l 1455 2400 l cp gs col-1 s gr 
% Polyline
n 1680 2250 m 1815 2250 l 1815 2400 l 1680 2400 l cp gs col-1 s gr 
% Polyline
n 1950 2250 m 2085 2250 l 2085 2400 l 1950 2400 l cp gs col-1 s gr 
% Polyline
gs  clippath
1746 1906 m 1845 1980 l 1723 1962 l 1847 2013 l 1870 1958 l cp
clip
n 1305 1440 m 1305 1755 l 1845 1980 l gs col-1 s gr gr

% arrowhead
n 1746 1906 m 1845 1980 l 1723 1962 l 1734 1934 l 1746 1906 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
1525 1901 m 1620 1980 l 1499 1955 l 1620 2014 l 1647 1960 l cp
clip
n 1155 1455 m 1155 1755 l 1620 1980 l gs col-1 s gr gr

% arrowhead
n 1525 1901 m 1620 1980 l 1499 1955 l 1512 1928 l 1525 1901 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
1305 1895 m 1395 1980 l 1276 1948 l 1393 2014 l 1423 1961 l cp
clip
n 1020 1470 m 1020 1770 l 1395 1980 l gs col-1 s gr gr

% arrowhead
n 1305 1895 m 1395 1980 l 1276 1948 l 1290 1921 l 1305 1895 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
1096 1881 m 1170 1980 l 1058 1928 l 1163 2013 l 1201 1966 l cp
clip
n 855 1455 m 855 1725 l 1170 1980 l gs col-1 s gr gr

% arrowhead
n 1096 1881 m 1170 1980 l 1058 1928 l 1077 1904 l 1096 1881 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
890 1893 m 960 1995 l 850 1938 l 951 2027 l 991 1982 l cp
clip
n 705 1455 m 705 1770 l 960 1995 l gs col-1 s gr gr

% arrowhead
n 890 1893 m 960 1995 l 850 1938 l 870 1916 l 890 1893 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
660 1865 m 705 1980 l 611 1900 l 689 2010 l 738 1975 l cp
clip
n 555 1455 m 555 1770 l 705 1980 l gs col-1 s gr gr

% arrowhead
n 660 1865 m 705 1980 l 611 1900 l 635 1882 l 660 1865 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
349 2101 m 315 2220 l 289 2099 l 285 2234 l 344 2236 l cp
clip
n 330 1440 m 330 1770 l 315 2220 l gs col-1 s gr gr

% arrowhead
n 349 2101 m 315 2220 l 289 2099 l 319 2100 l 349 2101 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
600 2115 m 570 2235 l 540 2115 l 540 2250 l 600 2250 l cp
clip
n 480 1455 m 480 1755 l 570 1995 l 570 2235 l gs col-1 s gr gr

% arrowhead
n 600 2115 m 570 2235 l 540 2115 l 570 2115 l 600 2115 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
855 2130 m 825 2250 l 795 2130 l 795 2265 l 855 2265 l cp
clip
n 630 1440 m 630 1755 l 825 1965 l 825 2250 l gs col-1 s gr gr

% arrowhead
n 855 2130 m 825 2250 l 795 2130 l 825 2130 l 855 2130 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
1095 2115 m 1065 2235 l 1035 2115 l 1035 2250 l 1095 2250 l cp
clip
n 780 1455 m 780 1755 l 1065 1965 l 1065 2235 l gs col-1 s gr gr

% arrowhead
n 1095 2115 m 1065 2235 l 1035 2115 l 1065 2115 l 1095 2115 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
469 1856 m 465 1980 l 411 1869 l 439 2001 l 497 1988 l cp
clip
n 420 1440 m 420 1770 l 465 1980 l gs col-1 s gr gr

% arrowhead
n 469 1856 m 465 1980 l 411 1869 l 440 1863 l 469 1856 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
1312 2117 m 1275 2235 l 1252 2113 l 1244 2248 l 1304 2252 l cp
clip
n 945 1449 m 945 1755 l 1290 1980 l 1275 2235 l gs col-1 s gr gr

% arrowhead
n 1312 2117 m 1275 2235 l 1252 2113 l 1282 2115 l 1312 2117 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
1537 2117 m 1500 2235 l 1477 2113 l 1469 2248 l 1529 2252 l cp
clip
n 1080 1440 m 1080 1740 l 1515 1980 l 1500 2235 l gs col-1 s gr gr

% arrowhead
n 1537 2117 m 1500 2235 l 1477 2113 l 1507 2115 l 1537 2117 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
1770 2130 m 1740 2250 l 1710 2130 l 1710 2265 l 1770 2265 l cp
clip
n 1230 1455 m 1230 1740 l 1740 1995 l 1740 2250 l gs col-1 s gr gr

% arrowhead
n 1770 2130 m 1740 2250 l 1710 2130 l 1740 2130 l 1770 2130 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
2048 2129 m 2025 2250 l 1988 2132 l 1996 2267 l 2056 2263 l cp
clip
n 1395 1443 m 1395 1725 l 2010 1980 l 2025 2250 l gs col-1 s gr gr

% arrowhead
n 2048 2129 m 2025 2250 l 1988 2132 l 2018 2130 l 2048 2129 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
n 2355 1935 m 2490 1935 l 2490 2085 l 2355 2085 l cp gs col-1 s gr 
% Polyline
n 2820 1935 m 2955 1935 l 2955 2085 l 2820 2085 l cp gs col-1 s gr 
% Polyline
n 3045 1935 m 3180 1935 l 3180 2085 l 3045 2085 l cp gs col-1 s gr 
% Polyline
gs  clippath
2265 1870 m 2370 1935 l 2247 1927 l 2375 1968 l 2393 1911 l cp
clip
n 1905 1425 m 1905 1785 l 2370 1935 l gs col-1 s gr gr

% arrowhead
n 2265 1870 m 2370 1935 l 2247 1927 l 2256 1898 l 2265 1870 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
2972 1823 m 2895 1920 l 2917 1798 l 2861 1921 l 2916 1946 l cp
clip
n 2970 1410 m 2970 1755 l 2895 1920 l gs col-1 s gr gr

% arrowhead
n 2972 1823 m 2895 1920 l 2917 1798 l 2945 1811 l 2972 1823 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
3073 1801 m 3105 1920 l 3020 1830 l 3086 1948 l 3139 1919 l cp
clip
n 3030 1410 m 3030 1785 l 3105 1920 l gs col-1 s gr gr

% arrowhead
n 3073 1801 m 3105 1920 l 3020 1830 l 3047 1815 l 3073 1801 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
330 420 m 450 450 l 330 480 l 465 480 l 465 420 l cp
clip
n 825 150 m 150 150 l 150 450 l 450 450 l gs col-1 s gr gr

% arrowhead
n 330 420 m 450 450 l 330 480 l 330 450 l 330 420 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
n 2056 474 m 2056 360 l 2559 360 l 2559 474 l cp gs col7 0.75 shd ef gr gs col-1 s gr 
% Polyline
n 465 225 m 974 225 l 974 105 l 465 105 l cp gs col7 0.95 shd ef gr gs col-1 s gr 
% Polyline
n 2040 929 m 2040 809 l 2549 809 l 2549 929 l cp gs col7 0.95 shd ef gr gs col-1 s gr 
/Times-Bold ff 150.00 scf sf
2282 1212 m
gs 1 -1 sc (node) col-1 sh gr
/Times-Bold ff 150.00 scf sf
677 1227 m
gs 1 -1 sc (node) col-1 sh gr
/Times-Bold ff 150.00 scf sf
782 2712 m
gs 1 -1 sc (Pages) col-1 sh gr
/Times-Bold ff 150.00 scf sf
1007 417 m
gs 1 -1 sc (node) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2676 930 m
gs 1 -1 sc (Node Capability) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2670 725 m
gs 1 -1 sc (Null Capability) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2683 474 m
gs 1 -1 sc (Page Capability) col-1 sh gr
/Times-Bold ff 150.00 scf sf
1026 180 m
gs 1 -1 sc (Node Capablity) col-1 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 3108 3563 4 v 162 3344 a FM(T)-7 b(o)33 b(perform)e(a)i(memory)f
(reference,)i(the)f(processor)f(presents)g(on)h(behalf)f(of)g(the)h
(program)e(an)i FI(addr)m(ess)g FM(\(e.g.,)37 3493 y
Fn(0x02004008)p FM(\))27 b(and)g(an)h FF(access)g(type)g
FM(\(one)f(of)h Fw(f)p FJ(r)o(ead)p FM(,)g FJ(r)o(ead-write)p
Fw(g)p FM(\).)2250 3463 y FC(11)2359 3493 y FM(The)f(ER)m(OS)i(virtual)
e(machine)g(uses)h(this)37 3643 y(address)21 b(to)g(tra)n(v)o(erse)f
(the)g(memory)f(object)h(be)o(ginning)e(from)i(the)h(process')-5
b(s)20 b(address)h(space)f(capability)-5 b(.)25 b(This)c(tra)n(v)o
(ersal)37 3792 y(results)f(in)g(three)e(pieces)i(of)f(information:)j(a)
e FI(pa)o(g)o(e)p FM(,)f(a)g FI(pa)o(g)o(e)g(of)o(fset)p
FM(,)g(and)g(the)g(set)h(of)f(permitted)g(operations.)k(The)c(permit-)
37 3942 y(ted)j(operations)d(are)i(then)g(compared)e(to)j(the)f
(requested)f(operation,)f(and)i(the)g(memory)e(reference)h(is)i(either)
f(allo)n(wed)f(to)37 4091 y(proceed)f(or)h(generates)f(a)i(memory)d(e)o
(xception.)37 4396 y FG(2.4.1)99 b(Nai)o(v)o(e)25 b(T)-7
b(ra)n(v)o(ersal)37 4604 y FM(T)g(o)29 b(describe)e(the)i(method)e(of)h
(memory)e(address)i(resolution,)h(I)f(will)h(\002rst)h(describe)d(a)i
(nai)n(v)o(e)e(strate)o(gy)h(for)f(tra)n(v)o(ersal.)37
4754 y(This)19 b(strate)o(gy)f(accurately)g(describes)g(the)h
(computation)d(of)j(permitted)e(operations,)g(b)n(ut)i(for)f(reasons)g
(that)h(will)h(become)37 4903 y(apparent)f(the)h(actual)g(tra)n(v)o
(ersal)g(rules)g(used)g(in)g(an)h(ER)m(OS)f(virtual)g(machine)f(use)h
(a)h(v)n(ariant)e(of)h(the)g(nai)n(v)o(e)f(logic.)p 37
4963 1425 4 v 37 5018 a FB(11)104 5042 y FA(In)d(current)i(hardw)o(are)
f(memory)f(management)i(architectures,)i(authority)f(to)d(write)h(a)f
(memory)g(location)i(implies)g(authority)g(to)e(read)h(that)g
(location.)104 5121 y(Handling)k(the)e Ft(r)o(ead-write)i
FA(case)f(is)f(necessary)h(on)f(machines)i(that)f(perform)f
(load-update)j(operations)f(such)e(as)g(\223bit)h(test)g(and)f(set\224)
h(or)f(\223compare)104 5200 y(and)e(sw)o(ap.)-5 b(\224)22
b(Since)c(this)g(case)g(implies)g(write)g(access,)g(I)f(do)g(not)g
(consider)i(the)f(case)g(of)f(\223write)h(only\224)g(separately)l(.)
1777 5410 y FM(30)p eop
%%Page: 31 47
31 46 bop 462 108 a FM(Consider)21 b(an)h(ER)m(OS)h(virtual)e(machine)g
(with)i(a)f(4096)f(byte)g(page)h(size)h(\()p Fx(2)2646
78 y Fs(12)2738 108 y FM(bytes\),)e(pro)o(viding)f(a)i(4)g(gigabyte)f
(\()p Fx(2)3831 78 y Fs(32)337 257 y FM(bytes\))31 b(address)f(space,)j
(whose)d(nodes)g(contain)f(32)h(\()p Fx(2)2018 227 y
Fs(5)2055 257 y FM(\))h(slots.)56 b(A)32 b(nai)n(v)o(e)d(tra)n(v)o
(ersal)h(design)g(w)o(ould)g(tak)o(e)h(the)f(page)337
407 y(address)d(bits)h(and)f(re\002ne)f(them)h(in)h(successi)n(v)o(e)e
(po)n(wers)h(of)g(32)g(\(Figure)f(2.5\).)45 b(Capability)26
b Fy(A)i FM(is)h(e)o(xtracted)c(from)i(the)p 337 533
3563 7 v 337 607 a FJ(Figur)o(e)20 b(2.5)f FM(Nai)n(v)o(e)h
(translation)f(strate)o(gy)-5 b(.)p 337 644 3563 4 v
919 744 a
 18616238 14340423 0 0 18616238 14340423 startTexFig
 919 744 a
%%BeginDocument: naive-xlate.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: naive-xlate.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:09 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 283 218
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-6.0 221.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 4675 m -1000 -1000 l 5812 -1000 l 5812 4675 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 1200 75 m 4800 75 l 4800 375 l 1200 375 l cp gs col0 s gr 
% Polyline
n 1725 75 m 1725 375 l gs col0 s gr 
% Polyline
n 2250 75 m 2250 375 l gs col0 s gr 
% Polyline
n 2775 75 m 2775 375 l gs col0 s gr 
% Polyline
n 3300 75 m 3300 375 l gs col0 s gr 
/Times-Roman ff 180.00 scf sf
1275 300 m
gs 1 -1 sc (31:27) col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 300 m
gs 1 -1 sc (26:22) col0 sh gr
/Times-Roman ff 180.00 scf sf
2325 300 m
gs 1 -1 sc (21:17) col0 sh gr
/Times-Roman ff 180.00 scf sf
2850 300 m
gs 1 -1 sc (16:12) col0 sh gr
/Times-Roman ff 180.00 scf sf
3900 300 m
gs 1 -1 sc (11:0) col0 sh gr
% Ellipse
n 337 562 219 219 0 360 DrawEllipse gs col0 s gr

% Polyline
 [60] 0 sd
gs  clippath
705 1395 m 825 1425 l 705 1455 l 840 1455 l 840 1395 l cp
clip
n 1425 375 m 1425 525 l 600 525 l 600 1425 l 825 1425 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 705 1395 m 825 1425 l 705 1455 l  col0 s
% Polyline
 [60] 0 sd
gs  clippath
1605 2070 m 1725 2100 l 1605 2130 l 1740 2130 l 1740 2070 l cp
clip
n 1950 375 m 1950 1050 l 1425 1050 l 1425 2100 l 1725 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1605 2070 m 1725 2100 l 1605 2130 l  col0 s
% Polyline
 [60] 0 sd
gs  clippath
2430 2670 m 2550 2700 l 2430 2730 l 2565 2730 l 2565 2670 l cp
clip
n 2475 375 m 2475 1125 l 2250 1125 l 2250 2700 l 2550 2700 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2430 2670 m 2550 2700 l 2430 2730 l  col0 s
% Polyline
 [60] 0 sd
gs  clippath
3330 2895 m 3450 2925 l 3330 2955 l 3465 2955 l 3465 2895 l cp
clip
n 3000 375 m 3000 1050 l 3075 1050 l 3075 2925 l 3450 2925 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 3330 2895 m 3450 2925 l 3330 2955 l  col0 s
% Polyline
n 3450 1275 m 3900 1275 l 3900 2175 l 3450 2175 l cp gs col0 s gr 
% Polyline
n 3450 2550 m 3900 2550 l 3900 3450 l 3450 3450 l cp gs col0 s gr 
% Polyline
n 2550 1950 m 3000 1950 l 3000 2850 l 2550 2850 l cp gs col0 s gr 
% Polyline
gs  clippath
3330 2520 m 3450 2550 l 3330 2580 l 3465 2580 l 3465 2520 l cp
clip
n 2625 2700 m 3150 2700 l 3150 2550 l 3450 2550 l gs col0 s gr gr

% arrowhead
n 3330 2520 m 3450 2550 l 3330 2580 l  col0 s
% Polyline
gs  clippath
3330 1245 m 3450 1275 l 3330 1305 l 3465 1305 l 3465 1245 l cp
clip
n 2625 2100 m 3150 2100 l 3150 1275 l 3450 1275 l gs col0 s gr gr

% arrowhead
n 3330 1245 m 3450 1275 l 3330 1305 l  col0 s
% Polyline
gs  clippath
4080 2895 m 4200 2925 l 4080 2955 l 4215 2955 l 4215 2895 l cp
clip
n 3525 2925 m 4200 2925 l gs col0 s gr gr

% arrowhead
n 4080 2895 m 4200 2925 l 4080 2955 l  col0 s
% Polyline
n 4200 2775 m 4575 2775 l 4575 3150 l 4200 3150 l cp gs col0 s gr 
% Polyline
gs  clippath
2505 1920 m 2625 1950 l 2505 1980 l 2640 1980 l 2640 1920 l cp
clip
n 1800 2100 m 2325 2100 l 2325 1950 l 2625 1950 l gs col0 s gr gr

% arrowhead
n 2505 1920 m 2625 1950 l 2505 1980 l  col0 s
% Polyline
n 1725 1275 m 2175 1275 l 2175 2175 l 1725 2175 l cp gs col0 s gr 
% Polyline
gs  clippath
1605 1245 m 1725 1275 l 1605 1305 l 1740 1305 l 1740 1245 l cp
clip
n 900 1425 m 1425 1425 l 1425 1275 l 1725 1275 l gs col0 s gr gr

% arrowhead
n 1605 1245 m 1725 1275 l 1605 1305 l  col0 s
% Polyline
n 825 600 m 1275 600 l 1275 1500 l 825 1500 l cp gs col0 s gr 
% Polyline
gs  clippath
705 570 m 825 600 l 705 630 l 840 630 l 840 570 l cp
clip
n 225 600 m 825 600 l gs col0 s gr gr

% arrowhead
n 705 570 m 825 600 l 705 630 l  col0 s
/Times-Roman ff 180.00 scf sf
4200 3450 m
gs 1 -1 sc (Page) col0 sh gr
/Times-Roman ff 180.00 scf sf
3450 3675 m
gs 1 -1 sc (Node) col0 sh gr
/Times-Roman ff 180.00 scf sf
2625 3075 m
gs 1 -1 sc (Node) col0 sh gr
/Times-Roman ff 180.00 scf sf
3975 2850 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman ff 180.00 scf sf
300 525 m
gs 1 -1 sc (A) col0 sh gr
/Times-Roman ff 180.00 scf sf
1500 1500 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman ff 180.00 scf sf
2400 1875 m
gs 1 -1 sc (C) col0 sh gr
/Times-Roman ff 180.00 scf sf
3225 2475 m
gs 1 -1 sc (D) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 2664 3563 4 v 337 2897 a FM(process)28 b(root')-5
b(s)28 b(address)g(space)g(slot.)49 b(This)28 b(capability)f(names)h(a)
h(node,)g(and)e(bits)i([31:27])d(of)i(the)g(original)f(address)337
3046 y(w)o(ould)18 b(be)h(used)f(as)i(an)e(inde)o(x)g(into)g(this)h
(node)f(to)g(e)o(xtract)g(capability)g Fy(B)t FM(.)25
b(Bits)20 b([26:22])c(in)j(turn)f(name)g(capability)g
Fy(C)6 b FM(,)19 b(and)337 3196 y(so)i(on)e(until)h(\002nally)f
(capability)g Fy(E)25 b FM(w)o(ould)19 b(name)h(the)f(page.)24
b(An)o(y)19 b(slot)i(containing)d(a)i(capability)f(of)g(inappropriate)e
(type)337 3345 y(\(not)k(a)h(node,)e(page,)g(or)h(capage)g(capability)
-5 b(,)19 b(according)h(to)h(le)n(v)o(el)g(in)g(the)g(tree\))g(causes)h
(an)f(in)m(v)n(alid)f(reference)f(e)o(xception)337 3495
y(to)i(be)g(generated.)j(This)c(design)g(w)o(ould)g(require)f(that)i
(four)e(nodes)h(be)g(tra)n(v)o(ersed)g(in)g(order)g(to)g(translate)h(a)
f(page)g(address.)337 3644 y(While)26 b(page)f(tables)g(ha)n(v)o(e)f
(more)h(entries)g(than)f(nodes,)i(current)e(hierarchical)f(memory)h
(management)f(units)i(translate)337 3793 y(addresses)20
b(in)h(precisely)e(this)i(f)o(ashion.)462 3944 y(F)o(or)d(an)o(y)f(gi)n
(v)o(en)g(tra)n(v)o(ersal,)g(the)h(initial)h(set)f(of)g(permitted)f
(operations)f(is)j Fw(f)p FJ(data)e(load)p FM(,)h FJ(data)f(stor)o(e)p
FM(,)h FJ(capability)f(load)p FM(,)337 4093 y FJ(capability)k(stor)o(e)
p Fw(g)p FM(.)28 b(As)22 b(each)g(capability)e(is)j(tra)n(v)o(ersed,)d
(it)j(contrib)n(utes)d(restrictions)h(\(as)h(in)g(T)-7
b(able)21 b(2.1\))g(that)h(constrain)337 4243 y(the)h(permitted)e
(operations.)30 b(At)23 b(the)f(end)g(of)g(the)h(tra)n(v)o(ersal,)f
(the)g FI(union)f FM(of)i(the)f(restrictions)g(imposed)f(by)h(the)h
(tra)n(v)o(ersed)337 4392 y(capabilities)d(is)i(e)o(xamined)c(to)i
(decide)g(if)g(the)g(requested)f(operation)g(is)i(permitted)e(or)h(an)g
(e)o(xception)e(is)j(to)f(be)h(generated.)337 4693 y
FG(2.4.2)99 b(Span-Encoded)28 b(T)-7 b(ra)n(v)o(ersal)337
4901 y FM(Ha)n(ving)29 b(considered)e(the)i(nai)n(v)o(e)f(tra)n(v)o
(ersal,)j(I)e(note)g(that)g(most)g(ER)m(OS)g(programs)e(are)i(quite)g
(small.)52 b(V)-9 b(ery)28 b(fe)n(w)h(ha)n(v)o(e)337
5050 y(more)f(than)f(32)h(total)g(pages.)48 b(A)29 b(fe)n(w)f(occup)o
(y)e(just)j(one.)47 b(At)29 b(the)f(e)o(xtreme,)h(there)e(is)i(one)f
(primordial)e(program)f(that)337 5200 y(runs)f(in)g(a)h(single)f(page)f
(that)h(is)h(read-only)-5 b(.)34 b(Programs)23 b(that)h
FI(do)g FM(require)f(lar)o(ge)g(address)g(spaces)i(are)f(characterized)
e(by)2077 5410 y(31)p eop
%%Page: 32 48
32 47 bop 37 108 a FM(a)30 b(sequentially)d(populated)g(area)i
(containing)e(code)h(and)g(data,)i(follo)n(wed)e(by)g(a)i(lar)o(ge)d
(hole,)k(follo)n(wed)c(by)h(a)i(smaller)37 257 y(sequentially)c
(populated)e(area)i(for)g(the)g(stack.)44 b(Requiring)25
b(all)i(of)f(the)g(interv)o(ening)e(nodes)i(necessary)f(to)i(construct)
e(a)37 407 y(fully)20 b(populated)e(memory)h(tree)h(w)o(ould)f(more)h
(than)g(double)e(the)i(metadata)g(required)e(to)j(describe)e(such)h
(programs.)162 564 y(Instead,)31 b(the)f(ER)m(OS)g(virtual)f(machine)f
(borro)n(ws)g(a)i(trick)g(used)f(in)h(the)g(MC68851)d(memory)h
(management)g(unit)37 713 y(and)f(se)n(v)o(eral)e(others:)38
b(span)26 b(encoding)f([Mot86)n(].)44 b(All)27 b(capabilities)g(that)f
(are)h(v)n(alid)f(in)h(a)g(memory)e(conte)o(xt)g(encode)g(a)37
862 y(v)n(alue)f(gi)n(ving)f(the)i(size)g(of)f(the)h(address)f(space)g
(that)h(the)o(y)f(describe.)37 b(This)24 b(v)n(alue)g(is)h(kno)n(wn)e
(as)j(the)e FF(biased)g(log)g(space)37 1012 y(size)p
FM(,)k(or)d FF(blss)p FM(.)41 b(All)27 b(node,)e(page,)h(and)f(number)e
(capabilities)i(encode)f(a)i FF(blss)g FM(v)n(alue.)40
b(The)25 b(size)h(of)f(a)h(page)f(is)h(encoded)37 1161
y(\(by)i(de\002nition\))f(as)i(2,)h(lar)o(ger)d(spaces)i(are)f(encoded)
f(as)i Fy(l)r(og)1851 1173 y Fs(32)1920 1161 y Fx(\()p
Fy(npag)s(es)p Fx(\))24 b(+)g(2)p FM(.)49 b(At)29 b(an)o(y)f(point)f
(in)i(the)f(memory)f(tree,)37 1311 y(interv)o(ening)f(nodes)i(can)g(be)
h(elided)f(if)h(slot)g(zero)e(of)i(these)f(nodes)g(is)h(the)g(only)f
(populated)e(slot.)50 b(If)29 b(such)f(nodes)g(are)37
1460 y(elided,)19 b(a)h(non-zero)d(v)n(alue)i(in)h(the)f(corresponding)
d(\002elds)k(of)f(the)h(page)e(address)h(causes)h(an)f(in)m(v)n(alid)g
(address)g(e)o(xception.)162 1617 y(A)24 b(node)e(capability)g(may)h
(encode)f(a)h(size)h(that)f(is)i(either)d(lar)o(ger)g(or)h(smaller)g
(than)g(the)g(size)h(of)f(the)g(actual)g(memory)37 1767
y(tree.)i(If)18 b(the)g(encoded)f(size)i(is)g(lar)o(ger)e(than)h(the)g
(size)h(e)o(xpected)d(at)j(a)g(gi)n(v)o(en)e(point)g(in)i(the)f(tra)n
(v)o(ersal,)g(slot)h(zero)e(is)j(tra)n(v)o(ersed)37 1916
y(until)k(a)f(suitable)g(sized)h(subtree)e(is)i(disco)o(v)o(ered.)32
b(A)24 b(256)e(page)h(tree)g(can)g(therefore)f(be)h(placed)f(into)h(a)h
(slot)g(where)e(a)i(32)37 2066 y(page)19 b(tree)h(is)g(e)o(xpected,)e
(b)n(ut)h(only)g(the)g(\002rst)i(32)e(pages)g(of)g(that)g(space)h(will)
g(be)f(referenceable)e(in)j(that)f(mapping)f(conte)o(xt.)162
2223 y(Lik)o(e)n(wise,)29 b(a)f(smaller)g(size)g(can)g(permissably)e
(be)i(encoded,)f(b)n(ut)h(this)g(is)h(less)f(useful)g(if)g(the)f(top)h
(node)e(has)i(v)n(alid)37 2372 y(capabilities)18 b(in)g(slots)h
([1:31].)k(Its)18 b(ef)n(fect)f(under)g(the)h(translation)f(rules)h(is)
g(to)h(generate)d(an)i(unusual)f(stenciled)g(projection)37
2522 y(on)j(the)g(lar)o(ger)f(space.)682 2491 y FC(12)37
2859 y FG(2.4.3)99 b(K)n(ept)25 b(Memory)g(Objects)37
3079 y FM(T)-7 b(o)22 b(support)f(mediated)g(\(e.g.,)g(demand)f
(generated)g(or)i(compressed\))e(and)h(cop)o(y-on-write)e(memory)h
(objects,)i(it)g(is)h(nec-)37 3229 y(essary)d(to)g(pro)o(vide)e(a)j
(mechanism)d(through)g(which)h(in)m(v)n(alid)g(references)f(\(page)h
(not)h(present\))e(and/or)h(access)h(violations)37 3378
y(\(permissions)g(insuf)n(\002cient\))g(can)g(be)h(mediated)f(by)g
(user)h(de\002ned)e(policies.)27 b(Processes)21 b(that)g(implement)e
(such)i(policies)37 3527 y(are)g(kno)n(wn)d(as)j FJ(memory)f(k)o
(eepers)p FM(.)162 3684 y(Memory)27 b(k)o(eepers)g(are)h(de\002ned)f
(by)h(introducing)e(into)i(the)g(node)f(tree)h(of)g(a)h(memory)d
(object)i(a)g(node)g(capability)37 3834 y(whose)f FJ(blss)h
FM(v)n(alue)e(is)h(1.)45 b(This)27 b(v)n(alue)f(signals)g(that)h(the)g
(true)f(size)h(of)g(the)f(memory)f(object)h(de\002ned)g(by)g(that)h
(node)f(is)37 3983 y(encoded)c(in)h(a)h(\002eld)f(of)g(slot)g(31)g(of)g
(the)g(node)f(itself)i(\226)f(the)g Fn(format)48 b(slot)23
b FM(\226)h(which)e(is)i(required)d(to)j(hold)e(a)h(number)37
4133 y(capability)16 b(describing)g(the)h(format)f(of)g(this)i(memory)d
(object.)23 b(In)17 b(addition)f(to)h(allo)n(wing)f(objects)h(that)g
(gro)n(w)f(on)g(demand,)37 4282 y(the)21 b(format)e(capability)g(may)h
(indicate)f(a)i(a)g FF(memory)e(fault)h(handler)h FM(\(a)f(memory)e(k)o
(eeper\).)162 4439 y(As)23 b(with)f(process)f(f)o(ault)h(handlers,)f(a)
i(memory)d(f)o(ault)i(handler)e(is)j(speci\002ed)f(by)g(a)g(start)h
(capability)-5 b(.)28 b(If)22 b(the)g(memory)37 4589
y(reference)27 b(results)i(in)f(a)h(f)o(ault,)h(the)e(virtual)g
(machine)f(synthesizes)h(an)g(upcall)g(\(as)g(with)h(process)f(e)o
(xceptions\))e(to)j(the)37 4738 y FI(near)m(est)e(enclosing)f(callable)
g(fault)g(handler)p FM(.)44 b(The)26 b(initial)h(memory)e(f)o(ault)i
(handler)e(for)h(a)i(memory)d(reference)g(is)j(the)37
4888 y(process)18 b(f)o(ault)g(handler)-5 b(.)24 b(As)19
b(the)f(address)g(is)h(translated)e(by)h(tra)n(v)o(ersing)f(the)h
(memory)f(object,)g(\002ner)h(grain)g(f)o(ault)g(handlers)37
5037 y(may)28 b(be)h(identi\002ed)e(by)h(the)h(memory)e(object.)49
b(The)28 b(nearest)g(enclosing)f(callable)h(f)o(ault)h(handler)d(is)k
(usually)e(the)g(one)p 37 5121 1425 4 v 37 5176 a FB(12)104
5200 y FA(I)17 b(ha)o(v)o(e)g(debated)i(remo)o(ving)g(this)e(ability)l
(,)i(b)o(ut)e(it)h(is)e(not)i(clear)h(ho)n(w)e(one)g(w)o(ould)h(detect)
i(it,)d(or)g(what)g(bene\002t)i(w)o(ould)f(accrue)h(from)d(its)i
(prohibition.)1777 5410 y FM(32)p eop
%%Page: 33 49
33 48 bop 337 108 a FM(closest)21 b(to)g(the)f(page.)462
262 y(If)i(indicated)f(by)h(the)g(k)o(ept)g(node,)f(the)h(ne)o
(xt-to-last)f(capability)g(in)h(the)g(f)o(ault)g(handler)f(in)m(v)n
(ocation)f(will)j(be)f(replaced)337 412 y(by)h(a)g(node)f(capability)g
(to)h(the)f(k)o(ept)h(node.)31 b(This)23 b(allo)n(ws)g(the)g(f)o(ault)g
(handler)e(to)i(restructure)f(the)g(memory)f(object)i(\(e.g.,)337
561 y(supplying)30 b(ne)n(w)i(pages\))e(in)i(response)f(to)h(the)f(f)o
(ault.)59 b(Using)32 b(this)g(mechanism,)h(demand-zero)28
b(and)k(cop)o(y-on-write)337 711 y(memory)19 b(objects)h(can)g(be)g
(constructed)f(by)g(user)h(implemented)f(handlers.)337
1035 y FG(2.4.4)99 b(Indir)n(ect)27 b(In)l(v)o(ocation)337
1250 y FM(If)f(it)g(de\002nes)g(a)g(k)o(eeper)m(,)f(an)h(opaque)e(k)o
(ept)h(node)g(capability)g(also)h(supports)e(indirect)h(in)m(v)n
(ocation.)40 b(An)25 b(in)m(v)n(ocation)f(on)337 1400
y(the)i(node)f(capability)f(to)i(such)g(a)g(node)e(will)j(be)e(passed)h
(through)d(to)j(the)g(k)o(eeper)f(directly)-5 b(.)40
b(Depending)23 b(on)j(the)f(v)n(alue)337 1549 y(of)k(certain)e
(\002elds)i(in)f(the)h(format)e(capability)-5 b(,)29
b(selected)f(re)o(gisters)g(of)g(the)g(in)m(v)n(ocation)f(may)g(be)i
(replaced)e(with)h(\002elds)337 1699 y(of)h(the)f(format)f(capability)h
(and/or)f(with)h(a)h(node)e(capability)h(to)g(the)h(indirection)d
(node.)49 b(Among)27 b(other)g(things,)j(this)337 1848
y(mechanism)c(may)g(be)h(used)f(to)h(e)o(xport)e(a)i(lar)o(ge)f(number)
f(of)h(objects)h(from)e(a)i(single)g(application,)g(as)g(is)h(done)d
(by)i(the)337 1997 y(space)21 b(bank)e(\(Section)g(3.2\).)337
2322 y FG(2.4.5)99 b(Call)24 b(Suppr)n(ession)337 2537
y FM(The)e(\223callable\224)f(quali\002cation,)f(ho)n(we)n(v)o(er)m(,)g
(is)i(important.)28 b(There)21 b(are)h(situations)f(in)h(which)f(a)h
(process)f(wishes)h(to)g(use)g(a)337 2686 y(memory)d(object,)h(b)n(ut)h
(is)g(unwilling)f(to)g(ha)n(v)o(e)g(its)i(reference)d(pattern)g(e)o
(xposed)g(to)i(a)g(f)o(ault)f(handler)-5 b(.)25 b(T)-7
b(o)21 b(pre)n(v)o(ent)e(this,)i(the)337 2836 y(client)i(process)f(may)
h(obtain)e(from)h(its)i(original)d(memory)g(object)h(capability)g(a)h
(capability)e(with)i(a)g FJ(no-call)f FM(restriction)337
2985 y(\(described)f(in)h(Section)g(2.2.4\).)30 b(An)o(y)21
b(f)o(ault)h(handler)f(disco)o(v)o(ered)f(at)j(or)f(belo)n(w)f(a)i
(no-call)e(restriction)h(will)g(be)h(ignored,)337 3135
y(and)d(therefore)f(will)h(not)g(recei)n(v)o(e)f(memory)g(f)o(ault)h
(noti\002cations.)337 3518 y Fz(2.5)119 b(Miscellaneous)31
b(Ser)o(vices)337 3763 y FM(In)18 b(addition)e(to)i(objects,)f(the)h
(ER)m(OS)f(virtual)g(machine)g(de\002nes)g(a)h(small)g(number)d(of)j
(capability)e(protected)g(services)h(that)337 3913 y(are)27
b(not)f(associated)g(with)h(a)g(particular)e(object)h(type.)43
b(These)26 b(services)h(either)f(operate)f(on)h(capabilities)h
(themselv)o(es,)337 4062 y(pro)o(vide)j(access)j(to)e(entities)i(that)f
(f)o(all)g(outside)f(the)h(persistence)f(contract,)i(or)f(pro)o(vide)d
(capability)i(transformation)337 4212 y(services)c(that)h(for)e
(reasons)h(of)f(security)h(must)g(be)g(restricted)f(to)h(a)h(small)f
(set)h(of)f(trusted)f(programs.)44 b(I)27 b(ha)n(v)o(e)g(already)337
4361 y(sho)n(wn)20 b(one)g(e)o(xample:)j(the)e(process)e(tool)h
(service)g(described)f(in)h(Section)g(2.3.5.)337 4685
y FG(2.5.1)99 b(K)n(eyBits)337 4901 y FM(The)32 b FF(k)n(eybits)f
FM(service)g(discloses)h(to)g(its)h(holder)d(the)i(representation)d(of)
j(a)g(capability)-5 b(.)58 b(Gi)n(v)o(en)31 b(this)h(representation,)
337 5050 y(a)d(wielder)e(of)h(the)g(k)o(e)o(ybits)f(service)h(may)f(e)o
(xpose)g(information)f(about)h(which)g(capabilities)h(name)f(the)h
(same)g(object,)337 5200 y(thereby)19 b(violating)g(the)h
(encapsulation)f(implicit)h(in)g(capabilities.)2077 5410
y(33)p eop
%%Page: 34 50
34 49 bop 162 108 a FM(The)19 b(k)o(e)o(ybits)g(service)g(is)h(re)o
(grettably)e(necessary)h(to)g(support)f(certain)h(kinds)g(of)g
(collection)g(objects,)g(for)f(essentially)37 257 y(the)28
b(same)f(reason)g(that)g(a)h(\223pointer)e(to)i(inte)o(ger\224)e(cast)i
(operation)d(is)k(necessary)d(in)i(con)m(v)o(entional)c(programming)g
(lan-)37 407 y(guages.)45 b(That)26 b(said,)j(there)d(appear)g(to)h(be)
g(a)g(v)o(ery)f(limited)g(number)f(of)i(useful)f(collection)g(classes)i
(of)f(this)g(form.)44 b(In)37 556 y(consequence,)25 b(k)o(e)o(ybits)g
(is)i(not)f(usually)f(made)g(a)n(v)n(ailable)h(for)f(general)g(use)h
(in)g(an)g(operating)e(system)i(constructed)e(on)37 705
y(top)c(of)g(the)g(ER)m(OS)g(virtual)f(machine.)24 b(In)c(the)g(ER)m
(OS)g(operating)e(system)i(implementation,)e(k)o(e)o(ybits)h(has)i(pro)
o(v)o(en)c(useful)37 855 y(primarily)i(as)i(a)f(deb)n(ugging)e(tool;)i
(its)h(use)f(is)h(essential)f(only)g(to)g(the)g FF(capability)f(set)i
FM(object.)j(Man)o(y)19 b(situations)h(in)g(which)37
1004 y(k)o(e)o(ybits)g(at)h(\002rst)g(appears)e(necessary)g(can)h(be)h
(handled)d(using)i FF(discrim)g FM(\(belo)n(w\).)37 1318
y FG(2.5.2)99 b(Discrim)37 1530 y FM(The)28 b FF(discrim)g
FM(service)f(pro)o(vides)f(a)i(limited)g(amount)e(of)h(re\003ection)g
(about)g(capabilities.)47 b(It)28 b(pro)o(vides)e(the)h(follo)n(wing)37
1679 y(operations:)37 1968 y FJ(Compar)o(e)20 b(Capabilities)37
2179 y FM(The)26 b FF(compare)f(capabilities)g FM(operation)f(tests)j
(tw)o(o)g(capabilities)e(for)h(identity)-5 b(.)41 b(This)26
b(corresponds)e(closely)i(to)g(the)g FJ(eq)37 2329 y
FM(test)d(of)e(lisp.)30 b(In)21 b(order)f(to)i(compare)e(as)i(equal,)g
(tw)o(o)f(capabilities)h(must)f(name)g(the)h(same)g(object)f(and)g(con)
m(v)o(e)o(y)e(the)i(same)37 2478 y(permissions)c(to)h(that)g(object.)24
b(A)18 b(read-only)d(capability)i(to)h(a)g(page)f(is)h
FI(not)h FM(considered)d(equal)h(to)h(a)g(read-write)f(capability)37
2628 y(for)j(the)g(same)h(page.)37 2916 y FJ(Check)g(Discr)o(etion)37
3128 y FM(The)e FF(c)o(hec)o(k)g(discretion)g FM(operation)e(says)i
(whether)f(a)h(passed)g(capability)f(might)g(\(transiti)n(v)o(ely\))f
(con)m(v)o(e)o(y)f(write)j(authority)-5 b(.)37 3277 y(This)18
b(operation)e(is)j(used)e(by)g(the)h FF(constructor)h
FM(\(Section)d(3.4\))h(to)h(v)o(erify)e(that)i(none)f(of)g(the)h
(capabilities)f(initially)h(held)f(by)37 3427 y(a)k(ne)n(wly)f(created)
f(process)h(con)m(v)o(e)o(y)e(write)i(authority)-5 b(,)18
b(and)h(that)i(the)f(process)g(therefore)e(cannot)h(disclose)h
(information.)37 3716 y FJ(Classify)37 3927 y FM(The)k
FF(classify)h FM(operation)d(says)j(whether)f(a)g(passed)g(capability)g
(f)o(alls)h(into)f(one)g(of)g(a)g(number)f(of)h(broad)f(cate)o(gories.)
36 b(In)37 4077 y(particular)m(,)22 b(it)h(can)f(say)h(whether)e(a)i
(capability)e(is)j(a)f(memory)d(object)i(capability)-5
b(,)22 b(a)g(resume)g(capability)-5 b(,)22 b(or)g(a)h(schedule)37
4226 y(capability)-5 b(.)34 b(This)24 b(operation)d(does)i(not)h(di)n
(vulge)e(the)h(identity)g(of)g(the)h(object)f(named)f(by)h(its)h(ar)o
(gument.)33 b(F)o(or)23 b(the)h(most)37 4376 y(part,)18
b(the)g(classify)g(operation)e(is)i(used)g(to)f(test)i(whether)e(a)h
(capability)f(meets)h(the)f(constraints)g(imposed)g(by)g(v)n(arious)g
(slots)37 4525 y(of)j(the)h(domain)d(root.)37 4839 y
FG(2.5.3)99 b(Retur)o(ner)37 5050 y FM(The)19 b FF(returner)i
FM(resolv)o(es)d(an)h(unfortunate)d(and)j(thorn)o(y)e(problem)g(that)i
(arises)h(in)f(systems)g(that)g(do)g(not)g(b)n(uf)n(fer)e(messages:)37
5200 y(what)k(should)e(be)h(done)f(if)i(the)f(recei)n(v)o(er)f(has)h
(contri)n(v)o(ed)e(to)i(be)g(uncallable?)1777 5410 y(34)p
eop
%%Page: 35 51
35 50 bop 462 108 a FM(There)27 b(are)g(actually)g(tw)o(o)h(related)f
(issues)h(here.)46 b(The)27 b(\002rst)h(concerns)f(in)m(v)n(alid)f
(recei)n(v)o(e)g(areas.)47 b(If)27 b(a)h(user)g(de\002ned)337
257 y(object)20 b(says)h(\223place)g(my)f(incoming)e(ar)o(guments)h
(here\224)h(and)g(\223here\224)f(pro)o(v)o(es)g(not)h(to)h(be)f
(writable)g(\(either)g(due)g(to)h(in)m(v)n(alid)337 407
y(addresses)i(or)g(bad)f(permissions\),)h(the)g(recei)n(v)o(ed)e
(string)i(is)h(truncated.)32 b(This)23 b(is)h(necessary)e(because)g(it)
i(is)g(not)f(possible)337 556 y(to)d(guarantee)e(that)i(the)f(memory)f
(f)o(ault)h(handler)f(will)i(terminate,)f(and)g(in)m(v)n(ocation)f(is)i
(guaranteed)d(to)j(complete)e(without)337 705 y(blocking)h(due)g(to)i
(recei)n(v)o(er)e(f)o(aults.)462 864 y(The)28 b(second)f(issue)i
(concerns)e(the)h(possibility)g(that)g(a)g(client)h(may)e(call)i(a)g
(common)d(service,)j(b)n(ut)g(may)e(contri)n(v)o(e)337
1013 y(\(by)c(means)g(of)g(perv)o(erse)f(in)m(v)n(ocations\))g(to)h
(pass)h(something)e(other)g(than)h(a)h FJ(r)o(esume)g
FM(capability)e(in)i(the)f(slot)h(where)f(the)337 1162
y(service)c(e)o(xpects)f(it.)26 b(Speci\002cally)-5 b(,)18
b(a)h(client)g(might)f FJ(r)o(etur)o(n)h FM(to)g(the)g(service)g(and)f
(pass)h(a)h(start)f(capability)f(in)h(the)g(position)337
1312 y(reserv)o(ed)30 b(for)g(the)h(resume)g(capability)-5
b(.)56 b(If)30 b(the)h(service)g(later)g(performs)e(a)j
FJ(r)o(etur)o(n)e FM(to)h(this)h(capability)-5 b(,)32
b(it)g(becomes)337 1461 y(block)o(ed)19 b(at)i(the)f(merc)o(y)f(of)h
(that)g(client.)462 1619 y(Introducing)d(a)j(dependenc)o(y)c(between)j
(the)h FJ(r)o(etur)o(n)f FM(operation)f(and)h(the)h FJ(r)o(etur)o(n)f
FM(capability)g(is)h(counterproducti)n(v)o(e;)337 1769
y(there)25 b(are)g(le)o(gitimate)f(reasons)g(to)h(perform)e(such)i
(coroutine)e(style)i(interactions)f(in)h(support)e(of)i(lar)o(ge)f
(data)g(transfers.)337 1918 y(The)c(ER)m(OS)h(solution)e(is)i(the)g
(returner)d(service.)462 2076 y(The)23 b FF(returner)h
FM(is)g(a)f(service)g(implemented)e(directly)h(by)h(the)g(virtual)f
(machine.)32 b(It)23 b(checks)g(to)g(see)g(if)g(its)h(last)g(capa-)337
2226 y(bility)g(ar)o(gument)c(is)k(a)g(resume)e(capability)h(and)f(if)i
(so,)g(synthesizes)e(an)h(upcall)g(to)g(that)h(capability)-5
b(.)32 b(The)23 b(check)f(for)h(the)337 2375 y(resume)g(capability)g
(has)h(the)f(ef)n(fect)g(of)g(guaranteeing)e(that)j(a)g(service)f
(performing)e(a)j FJ(r)o(etur)o(n)f FM(by)g(w)o(ay)g(of)h(the)f
(returner)337 2525 y(cannot)c(be)g(block)o(ed)g(by)g(its)h(clients.)25
b(The)20 b(returner)e(is)i(almost)g(uni)n(v)o(ersally)d(used)j(by)f
(shared)g(services)g(for)g(this)h(purpose.)462 2683 y(W)m(ith)30
b(the)g(bene\002t)g(of)f(hindsight,)i(there)e(are)h(better)g(solutions)
f(than)g(the)h(returner)-5 b(.)53 b(It)30 b(w)o(as)h(retained)e
(because)g(it)337 2832 y(pro)o(vides)14 b(a)i(process)g(with)g(the)f
(means)h(to)f(rearrange)f(its)j(capability)d(re)o(gisters.)23
b(The)16 b(latter)f(functionality)f(w)o(as)i(e)n(v)o(entually)337
2982 y(pro)o(vided)21 b(by)h(a)h(\223sw)o(ap)g(capability)e(re)o
(gisters\224)h(instruction,)g(which)g(made)g(this)h(use)g(of)g(the)f
(returner)f(lar)o(gely)h(obsolete.)337 3131 y(In)17 b(the)h(w)o(ak)o(e)
f(of)g(this,)h(the)f(remaining)f(use)h(of)g(the)g(returner)f(w)o(ould)g
(no)n(w)h(be)g(more)f(ef)n(fecti)n(v)o(ely)g(pro)o(vided)e(by)j
(introducing)337 3281 y(a)k(return)e(in)m(v)n(ocation)f(that)j(tests)g
(its)g(ar)o(gument)d(to)i(v)o(erify)f(that)i(it)f(is)i(a)e
FJ(r)o(esume)h FM(capability)-5 b(.)337 3624 y FG(2.5.4)99
b(Ranges)337 3846 y FM(Objects)28 b(in)g(the)g(ER)m(OS)g(virtual)f
(machine)f(are)i(uniquely)d(named)i(by)g(a)h(64-bit)f(object)g
(identi\002er)g(\(OID\).)f(The)i FF(range)337 3995 y
FM(names)k(a)h(particular)d(contiguous)g(re)o(gion)h(within)h(this)g
(name)g(space,)j(and)c(con)m(v)o(e)o(ys)f(the)i(authority)e(to)j(f)o
(abricate)e(or)337 4145 y(rescind)22 b(node,)g(page,)g(and)g(capage)f
(capabilities.)32 b(The)22 b(wielder)g(of)g(a)h(range)e(capability)h
(therefore)e(has)j FI(total)f FM(authority)337 4294 y(o)o(v)o(er)c(the)
g(objects)g(within)g(that)h(range,)e(and)h(must)h(be)f(trusted)g(by)g
(all)h(parties)f(using)g(storage)g(that)g(f)o(alls)h(within)f(the)h
(range.)337 4444 y(The)h FF(superrange)h FM(capability)e(co)o(v)o(ers)g
(the)h(entire)g(object)f(range.)462 4602 y(The)29 b(purpose)e(of)i(the)
g(range)f(service)g(is)i(to)g(enable)e(storage)g(management)f
(functions)h(to)h(be)g(performed)d(by)j(the)337 4751
y(operating)i(system.)62 b(It)33 b(is)h(the)e(responsibility)g(of)g
(the)g(operating)f(system)i(storage)f(manager)f(to)h(remember)f(which)
337 4901 y(objects)h(are)g(implemented)e(by)i(the)g(underlying)d(hardw)
o(are)i(\(i.e.)60 b(ho)n(w)32 b(much)f(disk)h(space)g(is)h(present\))e
(and)g(which)337 5050 y(objects)20 b(are)g(currently)f(allocated)g
(\(i.e.)25 b(already)19 b(in)h(use\).)25 b(The)20 b FF(rescind)i
FM(operation)c(on)i(a)g(node,)f(page)g(or)h(capage)f(causes)337
5200 y(all)25 b(outstanding)d(capabilities)i(to)g(that)g(object)f(to)h
(be)g(ef)n(\002ciently)f(in)m(v)n(alidated,)g(guaranteeing)e(that)j(no)
g(subsequent)e(use)2077 5410 y(35)p eop
%%Page: 36 52
36 51 bop 37 108 a FM(of)20 b(the)h(page)e(will)i(re)n(v)o(eal)e
(content)g(to)i(a)f(pre)n(vious)f(holder)-5 b(.)162 258
y(The)28 b FF(superrange)g FM(capability)f(is)i(typically)e(held)h(by)f
(a)i(single,)g(highly)e(pri)n(vile)o(ged)f(program)g(that)i(is)h(part)f
(of)g(the)37 407 y(trusted)18 b(computing)e(base.)24
b(This)18 b(program)e(pro)o(vides)g(storage)h(allocation)g(services)h
(for)f(the)h(system)g(as)g(a)h(whole.)k(Lesser)37 557
y(range)f(capabilities)h(are)f(sometimes)h(pro)o(vided)d(for)i(use)h
(by)f(subsystems)h(such)f(as)i(databases)e(that)h(must)g(manage)e(con-)
37 706 y(tiguous)16 b(disk)h(storage.)24 b(Because)17
b(range)f(capabilities)g(are)h(not)g(themselv)o(es)f(rescindable,)g
(access)h(to)g(them)g(is)h(commonly)37 856 y(mediated)i(by)f(a)i(small)
g(reference)d(monitor)h(that)h(is)h(controlled)e(by)g(the)i(o)o(v)o
(erall)d(storage)i(manager)-5 b(.)37 1214 y Fz(2.6)119
b(Summary)30 b(of)g(Objects)f(and)i(Ser)o(vices)37 1451
y FM(Figure)19 b(2.6)f(sho)n(ws)h(all)g(of)g(the)g(objects)f(supported)
f(by)h(the)h(ER)m(OS)h(virtual)e(machine,)f(and)i(the)f(hierarchy)f(of)
i(objects)f(and)37 1600 y(intercon)m(v)o(ersions)f(permitted)i(by)h
(these)h(objects.)p 37 1726 3563 7 v 37 1800 a FJ(Figur)o(e)f(2.6)f
FM(ER)m(OS)i(object)f(hierarchy)p 37 1838 3563 4 v 327
1937 a
 23220961 9604136 0 0 23220961 9604136 startTexFig
 327 1937 a
%%BeginDocument: object-hierarchy.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: object-hierarchy.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:10 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 353 146
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 150.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /endash 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
/Times-Bold /Times-Bold-iso isovec ReEncode
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3487 m -1000 -1000 l 6937 -1000 l 6937 3487 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 2550 1650 m 5925 1650 l 5925 2475 l 2550 2475 l cp gs col0 s gr 
/Times-Bold-iso ff 180.00 scf sf
2700 1875 m
gs 1 -1 sc (Miscellaneous Services:) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3000 2100 m
gs 1 -1 sc (Discrim) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3000 2325 m
gs 1 -1 sc (Keybits) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3900 2100 m
gs 1 -1 sc (Process Tool) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3900 2325 m
gs 1 -1 sc (Range) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
5175 2100 m
gs 1 -1 sc (Returner) col0 sh gr
% Polyline
gs  clippath
642 811 m 525 900 l 597 772 l 493 892 l 538 931 l cp
clip
n 1050 300 m 525 900 l gs col0 s gr gr

% arrowhead
n 642 811 m 525 900 l 597 772 l 604 810 l 642 811 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
3705 906 m 3675 1050 l 3645 906 l 3645 1065 l 3705 1065 l cp
clip
n 3675 300 m 3675 1050 l gs col0 s gr gr

% arrowhead
n 3705 906 m 3675 1050 l 3645 906 l 3675 930 l 3705 906 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
4980 831 m 4950 975 l 4920 831 l 4920 990 l 4980 990 l cp
clip
n 4950 300 m 4950 975 l gs col0 s gr gr

% arrowhead
n 4980 831 m 4950 975 l 4920 831 l 4950 855 l 4980 831 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1513 767 m 1575 900 l 1465 803 l 1560 930 l 1608 894 l cp
clip
n 1125 300 m 1575 900 l gs col0 s gr gr

% arrowhead
n 1513 767 m 1575 900 l 1465 803 l 1503 804 l 1513 767 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1605 1506 m 1575 1650 l 1545 1506 l 1545 1665 l 1605 1665 l cp
clip
n 1575 1275 m 1575 1650 l gs col0 s gr gr

% arrowhead
n 1605 1506 m 1575 1650 l 1545 1506 l 1575 1530 l 1605 1506 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1262 433 m 1200 300 l 1310 397 l 1215 270 l 1167 306 l cp
clip
n 1650 900 m 1200 300 l gs col0 s gr gr

% arrowhead
n 1262 433 m 1200 300 l 1310 397 l 1272 396 l 1262 433 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman-iso ff 180.00 scf sf
900 225 m
gs 1 -1 sc (Node) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
75 1200 m
gs 1 -1 sc (Restricted) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
300 1425 m
gs 1 -1 sc (Node) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1275 1200 m
gs 1 -1 sc (Process) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3150 225 m
gs 1 -1 sc (Capability Page) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4650 225 m
gs 1 -1 sc (Data Page) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4650 1200 m
gs 1 -1 sc (Restricted) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4650 1425 m
gs 1 -1 sc (Data Page) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3075 1425 m
gs 1 -1 sc (Capability Page) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3300 1200 m
gs 1 -1 sc (Restricted) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
2100 225 m
gs 1 -1 sc (Number) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1050 1875 m
gs 1 -1 sc (User-Defined) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1275 2100 m
gs 1 -1 sc (Object) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
900 2325 m
gs 1 -1 sc (\(a.k.a. Application\)) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 3257 3563 4 v 37 3698 a Fz(2.7)119 b(Closing)31 b(Comments)37
3935 y FM(In)h(spite)f(of)h(its)g(apparent)e(comple)o(xity)f(and)i(le)n
(v)o(el)g(of)g(detail,)j(the)d(ER)m(OS)h(virtual)f(machine)f(is)j(a)e
(relati)n(v)o(ely)g(simple)37 4084 y(engine.)56 b(It)32
b(pro)o(vides)d(a)i(hierarchical)e(address)i(translation)f(mechanism,)i
(a)f(small)h(number)d(of)h(basic)h(object)g(types)37
4234 y(with)25 b(associated)g(operations,)f(and)g(\002)n(v)o(e)h
(miscellaneous)f(operations)f(related)h(to)h(these)g(types.)38
b(All)26 b(of)e(the)h(operations)37 4383 y(described)g(here)g(could,)g
(in)h(principle,)f(readily)g(be)g(implemented)f(in)h(hardw)o(are)f
(\(though)f(in)j(a)g(fe)n(w)f(cases)i(microcode)37 4533
y(might)20 b(pro)o(v)o(e)e(more)i(appropriate)e(than)h(silicon\).)162
4683 y(The)25 b(ER)m(OS)h(virtual)e(machine)h(dif)n(fers)f(from)g(pre)n
(vious)g(capability)g(machines)h(in)g(man)o(y)f(w)o(ays.)41
b(Se)n(v)o(eral)24 b(of)h(these)37 4832 y(dif)n(ferences)19
b(are)h(particularly)f(important)f(from)h(the)i(standpoint)d(of)i
(performance:)162 5050 y Fw(\017)41 b FM(The)24 b(memory)f(translation)
g(architecture)g(is)i(straightforw)o(ard.)35 b(In)24
b(particular)m(,)g(it)h(does)f(not)g(support)f(nested)h(ob-)245
5200 y(jects.)46 b(Se)n(v)o(eral)26 b(of)g(the)h(early)g(capability)f
(systems)h(follo)n(wed)f(a)h(language-inspired)c(design)j(paradigm,)h
(and)f(a)1777 5410 y(36)p eop
%%Page: 37 53
37 52 bop 545 108 a FM(number)30 b(of)h(attempts)g(were)g(made)g(to)g
(support)f(v)o(ery)g(\002ne)i(grain)e(protection)g(and)h(\223object)f
(containment\224)f(in)545 257 y(hardw)o(are.)24 b(This)c(pro)o(v)o(ed)e
(to)i(lead)g(to)h(performance)c(dif)n(\002culties.)462
473 y Fw(\017)41 b FM(The)24 b(e)o(xception)f(handling)g(mechanism)g
(is)j(simple,)g(insof)o(ar)e(as)h(the)g(virtual)f(machine')-5
b(s)24 b(responsibility)f(is)i(con-)545 622 y(\002ned)20
b(to)g(encapsulating,)e(rather)i(than)f(actually)h(handling,)e(e)o
(xceptions.)462 838 y Fw(\017)41 b FM(The)28 b(machine)g(incorporates)f
(no)h(dynamic)f(resource)h(allocation.)49 b(No)29 b(operation)e
(performed)f(by)i(the)h(virtual)545 988 y(machine)i(requires)g(the)h
(allocation)g(of)g(ne)n(w)g(pages)f(or)h(nodes.)60 b(When)33
b(the)f(system)g(is)h(vie)n(wed)f(as)h(a)f(virtual)545
1137 y(machine,)19 b(this)i(point)e(seems)i(so)f(ob)o(viously)e
(necessary)i(as)h(to)f(be)g(unremarkable.)545 1320 y(Most)29
b(capability)f(system)h(designs)f(ha)n(v)o(e)g(been)g(approached)e(as)k
(operating)c(systems,)32 b(and)c(therefore)f(assume)545
1469 y(freedom)17 b(to)i(allocate)f(resources)g(\(such)g(as)h
(interprocess)e(call)i(stacks\))g(dynamically)-5 b(.)22
b(Such)c(dynamic)g(allocation)545 1619 y FI(must)p FM(,)i(under)f(suf)n
(\002cient)h(pressure,)f(e)o(xhaust)g(real)h(resource)f(and)h
(ultimately)f(result)i(in)f(deadlock.)462 1835 y Fw(\017)41
b FM(The)21 b(machine)f(is)i(lar)o(gely)e(polic)o(y)g(neutral.)28
b(Pro)o(viding)19 b(that)i(a)h(process')-5 b(s)21 b(image)g(can)g(be)g
(minimally)f(interpreted)545 1984 y(by)28 b(the)h(machine,)g
(resolution)e(of)i(e)o(xceptions)e(is)i(left)g(to)g(application)e
(de\002ned)h(polic)o(y)-5 b(.)48 b(Where)29 b(polic)o(y)e(e)o(xists)545
2133 y(\(e.g.,)19 b(page)h(size\),)g(it)h(re\003ects)f(the)g(inherent)f
(nature)h(of)f(the)i(underlying)c(real)j(resources.)462
2349 y Fw(\017)41 b FM(The)19 b(machine)g(is)i(abstraction)d(neutral.)
24 b(While)c(the)g(virtual)f(machine)f(de\002nes)i(a)g(model)f(for)g
(tra)n(v)o(ersing)f(memory)545 2499 y(objects,)k(memory)f(objects)h
(are)g(ultimately)g(constructed)f(out)h(of)g(real)g(physical)f
(resources)h(\(pages)f(and)h(nodes\).)545 2648 y(This)h(is)h(in)f
(contrast)f(to)h(most)f(operating)f(systems,)j(in)f(which)f(memory)f
(objects)i(are)f(abstractions)g(whose)h(rei\002-)545
2798 y(cation)d(is)h(the)f(responsibility)f(of)h(lar)o(ge,)f(comple)o
(x)f(\002le)j(systems)g(and/or)e(object)g(stores.)462
3013 y(I)j(will)g(sho)n(w)g(in)g(Chapter)f(5)h(that)g(this)g
(simplicity)f(mak)o(es)h(it)g(feasible)g(to)g(model)f(the)h
(operational)d(semantics)j(of)g(the)337 3163 y(ER)m(OS)29
b(system)f(formally)-5 b(,)27 b(and)h(in)g(Chapter)f(6)h(that)g(this)g
(model)f(supports)g(useful)g(security)g(e)n(v)n(aluations)g(of)g
(systems)337 3312 y(constructed)19 b(on)h(this)g(virtual)g(machine.)462
3462 y(As)28 b(I)f(will)h(demonstrate)e(by)g(quantitati)n(v)o(e)g(e)n
(v)n(aluation,)h(\(Chapter)f(9\),)i(these)f(decisions)g(do)g(not)g
(impede)f(ER)m(OS')-5 b(s)337 3611 y(performance.)22
b(In)d(some)g(cases)h(the)o(y)e(result)i(in)f(notable)f
FI(impr)l(o)o(vements)p FM(.)24 b(While)c(no)f(ultimate)g(\223proof)5
b(\224)16 b(seems)k(feasible,)337 3761 y(it)30 b(seems)f(a)g
(reasonable)f(hypothesis)f(that)i(the)f(f)o(ailure)h(of)f(pre)n(vious)f
(capability)h(architectures)f(to)i(achie)n(v)o(e)f(adequate)337
3910 y(performance)c(has)k(been)e(the)h(result)g(of)f(interaction)g
(between)g(o)o(v)o(erly)f(comple)o(x)g(architectures)g(and)i
(implementation)337 4059 y(compromises.)2077 5410 y(37)p
eop
%%Page: 38 54
38 53 bop 1777 5410 a FM(38)p eop
%%Page: 39 55
39 54 bop 337 834 a FD(Chapter)45 b(3)337 1374 y FK(The)51
b(ER)-6 b(OS)51 b(Operating)h(System)337 1855 y FM(Ha)n(ving)22
b(described)f(the)i(ER)m(OS)f(virtual)g(machine,)f(I)i(no)n(w)f(turn)f
(to)i(the)f(description)f(of)h(a)h(prototype)d(operating)g(system)337
2005 y(b)n(uilt)h(on)f(top)f(of)h(this)h(virtual)f(machine.)j(The)d
(core)g(of)g(this)h(operating)d(system)i(pro)o(vides)f(the)h(follo)n
(wing)e(services:)462 2219 y Fw(\017)41 b FM(A)21 b(trusted)e(storage)h
(manager)f(\(the)g FF(space)h(bank)p FM(\).)462 2434
y Fw(\017)41 b FM(A)21 b(trusted)e(mechanism)g(for)h(process)g(f)o
(abrication)e(and)i(teardo)n(wn)f(\(the)g FF(process)i(creator)p
FM(\).)462 2649 y Fw(\017)41 b FM(A)21 b(trusted)e(mechanism)g(for)h
(creation)f(of)h(con\002ned)f(processes)h(\(the)f FF(constructor)p
FM(\).)462 2864 y Fw(\017)41 b FM(Common)19 b(memory)f(f)o(ault)j
(handling)d(services,)i(which)g(are)g(trustw)o(orthy)e(by)i(virtue)f
(of)h(the)g(pre)n(vious)f(tw)o(o)i(mech-)545 3014 y(anisms)f(\(e.g.,)f
(the)i FF(virtual)g(copy)e(space)h(k)n(eeper)p FM(\).)337
3228 y(In)f(some)h(sense,)f(these)h(services)f(pro)o(vide)e(only)h(the)
i(sk)o(eleton)e(of)h(an)g(operating)f(system.)25 b(The)18
b(current)g(prototype)f(omits)337 3378 y(some)k(ob)o(vious)d
(components)g(required)g(for)i(an)o(y)f(real)h(implementation.)j(These)
d(include:)462 3592 y Fw(\017)41 b FI(T)-8 b(erminal)30
b(handling)p FM(.)50 b(A)30 b(tentati)n(v)o(e)e(line)i(discipline)f
(implementation)e(e)o(xists,)32 b(b)n(ut)d(has)h(not)f(been)f
(adequately)545 3741 y(tested.)462 3957 y Fw(\017)41
b FI(User)23 b(authentication)p FM(.)j(A)c(mechanism)e(must)i(be)f
(constructed)f(to)i(authenticate)e(users)i(and)f(re-connect)e(them)i
(to)545 4106 y(their)f(sessions.)462 4321 y Fw(\017)41
b FI(Oper)o(ating)24 b(en)m(vir)l(onment)p FM(.)39 b(Some)25
b(sort)h(of)f(common)f(\223operating)f(en)m(vironment\224)f(pro)o
(viding)h(utility)i(programs)545 4471 y(and)18 b(the)g(lik)o(e)g(must)g
(be)g(constructed.)23 b(Suf)n(\002cient)17 b(progress)g(has)h(been)g
(made)f(on)h(a)g(UNIX)g(emulator)f(to)h(kno)n(w)f(that)545
4620 y(this)24 b(can)f(be)h(done)e(in)i(ER)m(OS,)g(and)f(se)n(v)o(eral)
g(operating)e(en)m(vironments)g(were)i(completed)f(for)h(K)n(e)o(yK)n
(OS,)f(b)n(ut)i(no)545 4769 y(complete)19 b(operating)f(en)m(vironment)
g(e)o(xists)i(for)g(the)g(current)f(implementation.)462
4985 y Fw(\017)41 b FI(Database)19 b(system)p FM(.)26
b(A)21 b(nati)n(v)o(e)e(database)g(implementation)f(w)o(ould)i(be)g(e)o
(xtremely)f(useful.)462 5200 y Fw(\017)41 b FI(Network)21
b(pr)l(otocol)f(implementation)p FM(.)j(Some)c(means)h(to)h(talk)f(to)g
(the)h(outside)e(w)o(orld)h(is)h(clearly)f(desirable.)2077
5410 y(39)p eop
%%Page: 40 56
40 55 bop 37 108 a FM(I)22 b(dra)o(w)f(attention)g(to)h(these)f
(omissions)h(to)g(mak)o(e)f(clear)g(what)h(has)g FI(not)g
FM(yet)g(been)f(done)f(in)i(connection)e(with)h(the)h(ER)m(OS)37
257 y(ef)n(fort,)d(and)h(note)g(that)g(all)h(of)f(these)g(services)g(e)
o(xisted)g(in)g(ER)m(OS')-5 b(s)21 b(predecessor)m(,)d(K)n(e)o(yK)n
(OS.)37 734 y Fz(3.1)119 b(Bootstrap)29 b(and)i(P)n(ersistence)37
1012 y FM(A)h(signi\002cant)f(\(and)g(deliberate\))f(omission)g(in)i
(the)f(design)g(of)g(the)g(ER)m(OS)h(virtual)f(machine)f(is)i(an)o(y)f
(pro)o(vision)e(for)37 1161 y(bootstrap.)55 b(There)30
b(e)o(xists)h(no)f(mechanism)g(within)g(the)h(virtual)e(machine)h(to)h
(establish)f(an)h(initial)g(running)d(system)37 1310
y(image.)53 b(This)30 b(design)f(decision)f(w)o(as)j(inherited)d(from)g
(K)n(e)o(yK)n(OS,)h(and)g(gre)n(w)g(out)g(of)g(early)g(w)o(ork)g(in)h
(GNOSIS)g(\(the)37 1460 y(predecessor)19 b(to)h(K)n(e)o(yK)n(OS\))f(to)
i(establish)f(that)g(the)h(system)f(startup)g(procedure)d(could)j(be)g
(rendered)e(secure.)37 1878 y FG(3.1.1)99 b(Phases)25
b(in)g(the)h(Security)g(Ar)o(gument)37 2125 y FM(Security)e(properties)
f(of)h(the)g(remainder)f(of)h(the)g(system)g(are)g(straightforw)o(ard)e
(to)j(establish)f(once)g(an)g(initial)g(arrange-)37 2275
y(ment)c(of)f(objects)g(and)g(services)h(has)f(been)g(successfully)g
(loaded)f(and)h(arranged)f(\(the)h(\223primordial)e(objects\224\).)24
b(Security)37 2424 y(analysis)d(for)e(a)i(system)f(can)g(therefore)f
(be)h(di)n(vided)f(approximately)e(into)j(three)g(stages.)37
2817 y FJ(Bootstrap)g(Analysis)37 3065 y FM(The)29 b(bootstrap)f
(analysis)h(\002rst)g(asks)h(whether)e(the)h(initial)g(conditions)f(of)
g(the)h(machine)f(are)h(well)h(de\002ned)e(and)g(ade-)37
3214 y(quately)h(constrained)f(at)j(the)e(time)h(the)g(operating)e
(system)i(\002rst)g(gains)g(control)e(of)i(the)f(machine.)53
b(This)30 b(in)m(v)n(olv)o(es)e(a)37 3364 y(considerable)e(and)h(dif)n
(\002cult)g(analysis)h(of)f(the)h(hardw)o(are,)f(and)g(e)o(xamination)f
(of)h(the)g(small)h(bit)g(of)g(code)e(that)i(consti-)37
3513 y(tutes)f(the)g(disk)f(bootstrap)f(loader)-5 b(.)44
b(This)26 b(analysis)h(phase)f(is)h(outside)f(the)h(scope)f(of)g(this)h
(dissertation,)g(b)n(ut)g(has)f(been)37 3662 y(addressed)18
b(else)n(where)g(by)h(Arbaugh)e([Arb97)n(].)24 b(Disk)19
b(bootstrap)f(loaders)g(are)h(quite)f(small,)i(and)e(e)o(xhausti)n(v)o
(e)f(inspection)37 3812 y(of)j(the)h(loader)e(itself)i(is)g(therefore)d
(practical.)37 4205 y FJ(Setup)j(Phase)g(Analysis)37
4452 y FM(The)27 b(setup)g(phase)g(is)i(the)e(phase)g(during)e(which)i
(the)g(operating)f(system)h(creates)g(a)h(primordial)d(system)j(image)f
(from)37 4602 y(which)20 b(the)h(balance)e(of)h(the)h(system')-5
b(s)20 b(e)o(x)o(ecution)f(proceeds.)24 b(This)c(commonly)e(includes)i
(creating)f(initial)i(process\(es\),)37 4751 y(starting)28
b(authentication)e(agents,)k(and)e(v)o(erifying)e(the)i(consistenc)o(y)
f(of)h(disk)g(data)g(structures.)48 b(Security)28 b(analysis)g(of)37
4901 y(this)33 b(phase)g(is)g(concerned)d(with)j(sho)n(wing)e(that)i
(the)f(primordial)f(arrangement)e(is)34 b(successfully)e(established.)
61 b(The)37 5050 y(e)o(x)o(ecution)29 b(analysis)i(then)f(endea)n(v)n
(ors)g(to)g(sho)n(w)h(that)g(this)g(arrangement,)f(once)g(established,)
j(enforces)d(the)g(desired)37 5200 y(security)20 b(properties.)1777
5410 y(40)p eop
%%Page: 41 57
41 56 bop 337 108 a FJ(Execution)20 b(Phase)337 327 y
FM(Proceeding)g(from)g(a)h(gi)n(v)o(en)f(a)h(set)h(of)f(primordial)e
(conditions,)h(e)o(x)o(ecution)e(phase)j(security)g(properties)e(are)i
(more)f(easily)337 477 y(established.)728 447 y FC(1)785
477 y FM(If)d(the)f(virtual)h(machine)e(is)j(suitably)e(designed)g(and)
g(the)h(conditions)e(of)i(the)g(primordial)d(system)j(are)g(care-)337
626 y(fully)g(and)g(correctly)f(structured,)h(man)o(y)f(e)o(x)o
(ecution)f(phase)i(security)g(properties)f(can)h(be)h(established)f
(using)f(operational)337 776 y(semantic)k(ar)o(guments)f(that)h
(proceed)e(from)h(the)i(primordial)d(state)j(of)f(the)g(system.)337
1113 y FG(3.1.2)99 b(Eliminating)25 b(the)h(Setup)g(Phase)337
1333 y FM(Setup)f(phase)g(correctness)g(ar)o(guments)e(are)i
(considerably)e(more)i(dif)n(\002cult)f(than)h(e)o(x)o(ecution)e(phase)
i(correctness)f(ar)o(gu-)337 1482 y(ments.)45 b(During)25
b(the)i(setup)g(phase,)g(certain)g(authorities)e(must)i(be)g(granted)e
(to)i(the)g(primordial)d(components)h(by)h(\002at.)337
1632 y(Care)21 b(must)f(then)g(be)g(tak)o(en)g(to)g(ensure)g(that)g
(these)h(authorities)e(are)h(not)g(mishandled,)f(and)g(that)i(the)o(y)e
(arri)n(v)o(e)g(correctly)g(at)337 1781 y(the)h(intended)f(authority)f
(le)n(v)o(els)i(by)f(the)h(time)g(the)g(e)o(x)o(ecution)e(phase)h(be)o
(gins.)24 b(The)c(problem)e(is)j(that)f(these)g(initial)g(grants)337
1931 y(cannot)g(be)g(justi\002ed)g(using)g(the)g(protection)e
(mechanisms)i(of)f(the)i(system)f(itself.)462 2088 y(ER)m(OS)26
b(circumv)o(ents)e(the)i(need)f(for)g(setup)h(phase)f(ar)o(guments)f
(by)h(implementing)f(a)i(persistent)g(virtual)f(machine.)337
2237 y(The)j(primordial)e(system)i(image)f(is)i(hand)d(crafted)h(and)g
(loaded)g(onto)g(a)h(distrib)n(ution)f(disk)h(or)f(CD.)i(This)e
(primordial)337 2387 y(system)20 b(is)g(loaded)f(by)g(the)g(bootstrap)f
(loader)g(when)h(it)h(\002rst)g(runs)f(and)g(is)h(subsequently)e
(cloned)g(onto)h(the)g(tar)o(get)f(system)337 2536 y(disk.)52
b(The)29 b(setup)g(phase)f(itself)i(is)g(not)f(performed)d(by)j(the)g
(system.)52 b(As)30 b(a)f(result,)i(the)e(need)g(for)f(security)h
(analysis)337 2685 y(concerning)15 b(the)j(establishment)e(of)h(the)h
(primordial)d(image)i(at)h(system)f(startup)g(is)h(eliminated;)g(the)f
(problem)f(is)i(reduced)337 2835 y(to)j(\223Gi)n(v)o(en)e(this)i
(initial)f(image,)g(does)g(the)g(system)g(enforce)f(its)i(security)f
(contract?\224)337 3147 y FJ(Construction)g(of)g(Primordial)g(Image)337
3367 y FM(The)h(K)n(e)o(yK)n(OS)e(and)h(GNOSIS)h(implementations)e
(constructed)f(an)j(in-memory)d(primordial)g(system)j(image)f(by)g
(means)337 3517 y(of)h(special)g(logic)f(incorporated)e(in)j(the)f(IPL)
h(k)o(ernel.)26 b(After)20 b(boot,)g(the)h(k)o(ernel)f(w)o(ould)g
(relocate)g(this)h(in-memory)d(image)337 3666 y(and)i(write)h(it)f(to)h
(the)f(disk.)25 b(Collecti)n(v)o(ely)-5 b(,)19 b(this)h(process)g(w)o
(as)h(kno)n(wn)e(as)i(the)f(\223big)g(bang\224)f([Bom92)n(].)462
3823 y(In)g(performing)d(ER)m(OS)k(e)o(xperiments,)e(it)i(w)o(as)g(con)
m(v)o(enient)c(to)k(be)f(able)g(to)h(construct)e(e)o(xperimental)f
(system)j(images)337 3972 y(which,)33 b(for)d(e)o(xample,)i(did)f(not)f
(include)g(a)h(storage)g(allocator)-5 b(.)56 b(ER)m(OS)31
b(therefore)e(replaces)i(the)g(big)f(bang)g(process)337
4122 y(with)22 b(a)f(\223linking)f(loader\224)g(that)h(accepts)g
(programs)e(and)h(descriptions)g(of)h(the)g(relationships)f(between)g
(these)h(programs)337 4271 y(written)f(in)f(an)h(image)f(description)f
(language.)23 b(From)c(these,)g(the)h(image)f(compiler)f(automatically)
g(crafts)i(a)g(disk)f(image)337 4421 y(re\003ecting)32
b(this)h(image)f(description.)60 b(This)32 b(f)o(acilitates)h(the)f
(construction)f(of)h(\223lean\224)g(systems)h(in)f(which)g(dynamic)337
4570 y(storage)d(allocation)e(is)j(not)e(required,)h(or)g(in)g(which)f
(constrained)f(storage)h(a)n(v)n(ailability)g(may)g(lend)h(itself)g(to)
g(simpler)337 4720 y(system)21 b(implementations,)d(e.g.,)h(of)h
(storage)g(allocators)f(or)h(f)o(ault)g(handlers.)2605
4689 y FC(2)p 337 4803 1425 4 v 337 4859 a FB(1)404 4882
y FA(T)-5 b(ypically)l(,)16 b(e)o(x)o(ecution)h(phase)f(security)g
(properties)h(are)e(established)i(by)e(demonstrating)i(some)d(f)o(atal)
j(\003a)o(w)d(in)h(the)g(primordial)i(conditions,)g(at)e(which)404
4961 y(point)j(further)g(e)n(v)n(aluation)j(becomes)d(moot.)337
5018 y FB(2)404 5042 y FA(The)g(ER)m(OS)h(storage)h(manager)g(is)e
(designed)j(to)e(handle)h(terabytes)h(of)e(disk)g(storage,)h(b)o(ut)f
(runs)f(in)h(a)g(4)f(gigabyte)j(address)f(space.)26 b(This)19
b(mak)o(es)g(the)404 5121 y(code)j(and)f(the)h(associated)h(data)g
(structures)f(considerably)i(more)d(comple)o(x)h(than)g(one)g(might)f
(prefer)l(.)34 b(In,)21 b(say)l(,)h(an)f(en)m(vironment)i(limited)g(to)
e(less)404 5200 y(than)d(a)f(gigabyte)i(of)e(storage)h(a)f(completely)j
(dif)n(ferent)g(storage)e(management)h(design)f(w)o(ould)g(be)g(more)f
(appropriate.)2077 5410 y FM(41)p eop
%%Page: 42 58
42 57 bop 162 108 a FM(This)26 b(solution)f(incidentally)f(suggests)h
(a)h(solution)f(to)h(a)g(question)e(that)i(has)g(long)f(plagued)f
(cosmologists.)40 b(From)37 257 y(the)21 b(perspecti)n(v)o(e)d(of)i(a)h
(running)d(ER)m(OS)i(system,)h(the)f(uni)n(v)o(erse)e(has)j(al)o(w)o
(ays)g(e)o(xisted)e(in)i(some)f(con\002guration.)37 663
y FJ(Disk)i(Consistency)e(and)g(P)n(ersistence)37 916
y FM(The)g(other)g(half)g(of)f(the)i(setup)f(phase)f(problem)g(is)i
(ensuring)e(that)h(disk)g(data)g(structures)g(are)g(consistent.)162
1090 y(Modern)15 b(disk)h(dri)n(v)o(es)f(pro)o(vide)f(suf)n
(\002ciently)i(good)f(checking)f(of)i(sector)g(le)n(v)o(el)g(reads)g
(that)g(corruption)e(of)i(data)g(during)37 1239 y(the)22
b(disk)g(write)g(phase)f(will)i(generally)d(be)i(detected)f(during)f(a)
i(subsequent)e(read.)29 b(Disk)22 b(le)n(v)o(el)g(I/O)g(f)o(ailure)f
(is)h(therefore)37 1389 y(not)e(addressed)f(by)h(ER)m(OS.)846
1358 y FC(3)162 1563 y FM(In)h(the)g(absence)f(of)g(lo)n(w)h(le)n(v)o
(el)g(disk)g(errors,)f(disk)h(inconsistencies)f(can)h(only)f(arise)h
(if)g(inconsistent)f(data)h(is)h(written)37 1712 y(to)27
b(the)e(disk.)42 b(In)26 b(most)g(operating)e(systems,)j(there)f(e)o
(xist)g(windo)n(ws)f(of)g(vulnerability)f(during)g(which)h(a)i(hard)e
(reset)h(of)37 1862 y(the)d(machine)e(may)i(result)f(in)h(a)g(disk)f
(image)h(that)f(violates)h(the)f(consistenc)o(y)f(requirements)g(of)h
(the)h(operating)e(system.)37 2011 y(UNIX,)d(for)f(e)o(xample,)f
(frequently)g(reports)g(link)i(count)e(errors)h(resulting)g(from)f(the)
i(f)o(act)g(that)f(the)h(inode)e(link)i(count)e(\002eld)37
2160 y(and)i(the)g(directory)e(update)h(are)h(not)g(performed)d(in)j(a)
g(single)g(transaction.)23 b(If)18 b(a)h(reset)f(occurs)f(between)g
(the)h(tw)o(o)h(updates,)37 2310 y(the)i(count)f(must)g(be)g(corrected)
f(by)h(running)f(a)i(consistenc)o(y)e(check)o(er)g(that)i(kno)n(ws)f
(the)g(lo)n(w)h(le)n(v)o(el)f(\002le)h(system)g(structure)37
2459 y(\(the)d FI(fsc)n(k)i FM(program\).)i(In)17 b(the)h(f)o(ace)f(of)
h(the)f(multithreaded)f(nature)h(of)g(high)g(performance)e(\002le)j
(system)g(implementations,)37 2609 y(the)j(reco)o(v)o(ery)c(strate)o
(gies)j(used)g(by)g(such)g(utilities)h(are)f(necessarily)g(heuristic)f
(and)h(ad)g(hoc.)162 2783 y(ER)m(OS,)j(K)n(e)o(yK)n(OS,)f(and)h(GNOSIS)
g(choose)f(to)h(eliminate)g(this)g(problem)f(by)g(transparently)f
(transacting)h(all)i(modi-)37 2932 y(\002cations)f(of)e(the)i(disk.)30
b(Periodically)-5 b(,)21 b(a)i(snapshot)e(is)i(tak)o(en)f(of)g(the)g
(system)g(and)g(written)g(asynchronously)d(to)j(a)h(write-)37
3082 y(ahead)16 b(log)g(on)g(the)g(disk.)24 b(When)16
b(the)h(entire)f(snapshot)f(has)i(been)e(written,)i(a)g(single)f
(header)f(block)h(is)h(updated)e(to)h(indicate)37 3231
y(that)21 b(the)g(stabilization)f(transaction)f(has)i(completed.)k(If)
20 b(the)h(system)g(f)o(ails,)g(it)g(resumes)f(from)g(the)g(most)h
(recently)f(stabi-)37 3381 y(lized)h(snapshot,)e(which)g(is)j
(consistent)d(by)h(virtue)g(of)f(transacted)h(construction.)37
3812 y FG(3.1.3)99 b(The)26 b(Primordial)f(System)g(Image)37
4064 y FM(Figure)d(3.1)f(sho)n(ws)h(a)g(typical)f(primordial)f
(operating)g(system)i(image)g(suitable)f(for)g(the)h(ER)m(OS)h(virtual)
e(machine.)28 b(This)37 4213 y(image)22 b(consists)h(of)f(a)h(minimum)e
(set)i(of)f(primordial)e(services,)i(a)h(mechanism)e(for)h(obtaining)e
(virtual)i(cop)o(y)f(\(i.e.)31 b(cop)o(y)37 4363 y(on)e(write\))g
(address)f(spaces,)j(and)e(mechanisms)f(for)g(obtaining)f(instances)i
(of)g(other)f(services)h(\(the)g(\223typical)f(service)37
4512 y(constructor)m(,)-6 b(\224)24 b(which)g(is)i(replicated)e(for)g
(each)g(service)h(included)e(in)i(the)g(primordial)e(image\).)38
b(Pro)o(vided)22 b(that)j(the)g(six)37 4662 y(objects)f(in)f(the)g
(minimal)g(con\002guration)d(e)o(xist)k(in)f(the)h(arrangement)c(sho)n
(wn,)j(it)h(is)h FI(possible)e FM(for)f(the)i(system)f(softw)o(are)37
4811 y(to)e(implement)e(a)h(system)h(that)f(will)h(not)f(improperly)e
(disclose)i(information.)p 37 4963 1425 4 v 37 5018 a
FB(3)104 5042 y FA(There)i(is)f(a)h(real)g(and)g(v)n(alid)h(concern,)h
(ho)n(we)n(v)o(er)m(,)h(that)e(the)f Fu(b)o(ussing)f
FA(to)h(these)h(reliable)h(disks)e(is)f(subject)i(to)f(a)f(measurable)j
(\(and)e(uncomfortably)104 5121 y(high\))e(error)f(rate)i(due)e(to)g
(lack)i(of)e(checking)i(on)e(the)h(b)o(us.)26 b(ER)m(OS)19
b(computes)h(in-memory)g(checksums)g(on)f(its)g(state)h(that)h(could)f
(be)f(used)h(to)f(catch)104 5200 y(such)e(errors,)g(b)o(ut)h(the)f
(current)i(implementation)i(does)c(not)g(store)h(the)g(resulting)h(v)n
(alues)g(to)e(the)h(disk.)1777 5410 y FM(42)p eop
%%Page: 43 59
43 58 bop 337 31 3563 7 v 337 105 a FJ(Figur)o(e)20 b(3.1)f
FM(Primordial)g(system)i(image.)p 337 143 3563 4 v 719
243 a
 21773762 25062850 0 0 21773762 25062850 startTexFig
 719 243 a
%%BeginDocument: primordial-image.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: primordial-image.eps
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Tue Oct  5 14:06:32 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 331 381
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-3.0 386.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /endash 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Bold /Times-Bold-iso isovec ReEncode
/Times-BoldItalic /Times-BoldItalic-iso isovec ReEncode
/Times-Roman /Times-Roman-iso isovec ReEncode
/Times-Italic /Times-Italic-iso isovec ReEncode
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 7429 m -1000 -1000 l 6562 -1000 l 6562 7429 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 1897 1155 480 480 0 360 DrawEllipse gs col0 s gr

/Times-Roman-iso ff 180.00 scf sf
1650 975 m
gs 1 -1 sc (Process) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1650 1200 m
gs 1 -1 sc (Creator) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1650 1425 m
gs 1 -1 sc (Creator) col0 sh gr
% Ellipse
n 3300 1125 480 480 0 360 DrawEllipse gs col0 s gr

/Times-Roman-iso ff 180.00 scf sf
3075 1050 m
gs 1 -1 sc (Meta-) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
2850 1275 m
gs 1 -1 sc (Constructor) col0 sh gr
% Ellipse
n 2647 2280 480 480 0 360 DrawEllipse gs col0 s gr

/Times-Roman-iso ff 180.00 scf sf
2325 2625 m
gs 1 -1 sc (Creator) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
2325 2400 m
gs 1 -1 sc (Process) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
2175 2175 m
gs 1 -1 sc (Constructor) col0 sh gr
% Ellipse
n 675 1125 480 480 0 360 DrawEllipse gs col0 s gr

/Times-Roman-iso ff 180.00 scf sf
450 975 m
gs 1 -1 sc (Prime) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
450 1200 m
gs 1 -1 sc (Space) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
450 1425 m
gs 1 -1 sc (Bank) col0 sh gr
% Polyline
n 4350 1350 m 5400 1350 l 5400 1875 l 4350 1875 l cp gs col0 s gr 
/Times-Roman-iso ff 180.00 scf sf
4425 1575 m
gs 1 -1 sc (Constructor) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4650 1800 m
gs 1 -1 sc (Space) col0 sh gr
% Polyline
n 4350 675 m 5400 675 l 5400 1200 l 4350 1200 l cp gs col0 s gr 
/Times-Roman-iso ff 180.00 scf sf
4425 975 m
gs 1 -1 sc (Protospace) col0 sh gr
% Polyline
n 4350 3375 m 5400 3375 l 5400 3933 l 4350 3933 l cp gs col0 s gr 
/Times-Roman-iso ff 180.00 scf sf
4425 3853 m
gs 1 -1 sc (Copy Space) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4575 3614 m
gs 1 -1 sc (Virtual) col0 sh gr
% Polyline
n 4350 4172 m 5400 4172 l 5400 4730 l 4350 4730 l cp gs col0 s gr 
/Times-Roman-iso ff 180.00 scf sf
4425 4411 m
gs 1 -1 sc (Primordial) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4425 4650 m
gs 1 -1 sc (Zero Space) col0 sh gr
% Ellipse
n 3225 4132 562 597 0 360 DrawEllipse gs col0 s gr

/Times-Roman-iso ff 180.00 scf sf
2775 4331 m
gs 1 -1 sc (Constructor) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
2775 4092 m
gs 1 -1 sc (Virtual Copy) col0 sh gr
% Ellipse
n 4897 5399 480 510 0 360 DrawEllipse gs col0 s gr

/Times-Roman-iso ff 180.00 scf sf
4575 5766 m
gs 1 -1 sc (Creator) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4575 5527 m
gs 1 -1 sc (Process) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
4500 5288 m
gs 1 -1 sc (VC Keeper) col0 sh gr
% Polyline
gs  clippath
4202 3583 m 4350 3614 l 4202 3645 l 4365 3645 l 4365 3583 l cp
clip
n 3750 3933 m 4050 3933 l 4050 3614 l 4350 3614 l gs col0 s gr gr

% arrowhead
n 4202 3583 m 4350 3614 l 4202 3645 l 4226 3614 l 4202 3583 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
4202 4380 m 4350 4411 l 4202 4442 l 4365 4442 l 4365 4380 l cp
clip
n 3825 4172 m 4050 4172 l 4050 4411 l 4350 4411 l gs col0 s gr gr

% arrowhead
n 4202 4380 m 4350 4411 l 4202 4442 l 4226 4411 l 4202 4380 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
4277 5416 m 4425 5447 l 4277 5478 l 4440 5478 l 4440 5416 l cp
clip
n 3825 4331 m 3900 4331 l 3900 5447 l 4425 5447 l gs col0 s gr gr

% arrowhead
n 4277 5416 m 4425 5447 l 4277 5478 l 4301 5447 l 4277 5416 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 600 5550 m 1950 5550 l 1950 6075 l 600 6075 l cp gs col0 s gr 
/Times-Italic-iso ff 180.00 scf sf
675 5775 m
gs 1 -1 sc (Service Program) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
675 6000 m
gs 1 -1 sc (Image) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1200 6000 m
gs 1 -1 sc (Space) col0 sh gr
% Ellipse
n 1875 4875 480 480 0 360 DrawEllipse gs col0 s gr

/Times-Roman-iso ff 180.00 scf sf
1425 5025 m
gs 1 -1 sc (Constructor) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
1575 4800 m
gs 1 -1 sc (Typical) col0 sh gr
% Ellipse
n 686 4890 523 523 0 360 DrawEllipse gs col0 s gr

/Times-Italic-iso ff 180.00 scf sf
225 4800 m
gs 1 -1 sc (Per-Service) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
375 5025 m
gs 1 -1 sc (Process) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
375 5250 m
gs 1 -1 sc (Creator) col0 sh gr
% Ellipse
n 1447 3630 480 480 0 360 DrawEllipse gs col0 s gr

/Times-Italic-iso ff 180.00 scf sf
1200 3600 m
gs 1 -1 sc (System) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
1125 3825 m
gs 1 -1 sc (Software) col0 sh gr
% Polyline
gs  clippath
3038 1856 m 2925 1950 l 2992 1819 l 2892 1943 l 2939 1980 l cp
clip
n 3225 1575 m 2925 1950 l gs col0 s gr gr

% arrowhead
n 3038 1856 m 2925 1950 l 2992 1819 l 3000 1856 l 3038 1856 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2223 1639 m 2175 1500 l 2275 1608 l 2193 1472 l 2142 1503 l cp
clip
n 2400 1875 m 2175 1500 l gs col0 s gr gr

% arrowhead
n 2223 1639 m 2175 1500 l 2275 1608 l 2237 1603 l 2223 1639 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2277 606 m 2400 525 l 2319 648 l 2432 536 l 2389 493 l cp
clip
n 2175 750 m 2400 525 l gs col0 s gr gr

% arrowhead
n 2277 606 m 2400 525 l 2319 648 l 2315 610 l 2277 606 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2595 669 m 2625 525 l 2655 669 l 2655 510 l 2595 510 l cp
clip
n 2625 1800 m 2625 525 l gs col0 s gr gr

% arrowhead
n 2595 669 m 2625 525 l 2655 669 l 2625 645 l 2595 669 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1095 669 m 1125 525 l 1155 669 l 1155 510 l 1095 510 l cp
clip
n 1125 900 m 1125 525 l gs col0 s gr gr

% arrowhead
n 1095 669 m 1125 525 l 1155 669 l 1125 645 l 1095 669 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
3720 669 m 3750 525 l 3780 669 l 3780 510 l 3720 510 l cp
clip
n 3750 900 m 3750 525 l gs col0 s gr gr

% arrowhead
n 3720 669 m 3750 525 l 3780 669 l 3750 645 l 3720 669 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1545 2469 m 1575 2325 l 1605 2469 l 1605 2310 l 1545 2310 l cp
clip
n 3600 1575 m 3600 2850 l 1575 2850 l 1575 2325 l gs col0 s gr gr

% arrowhead
n 1545 2469 m 1575 2325 l 1605 2469 l 1575 2445 l 1545 2469 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1695 2469 m 1725 2325 l 1755 2469 l 1755 2310 l 1695 2310 l cp
clip
n 2325 2625 m 1725 2625 l 1725 2325 l gs col0 s gr gr

% arrowhead
n 1695 2469 m 1725 2325 l 1755 2469 l 1725 2445 l 1695 2469 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1830 2031 m 1800 2175 l 1770 2031 l 1770 2190 l 1830 2190 l cp
clip
n 1800 1650 m 1800 2175 l gs col0 s gr gr

% arrowhead
n 1830 2031 m 1800 2175 l 1770 2031 l 1800 2055 l 1830 2031 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1455 2031 m 1425 2175 l 1395 2031 l 1395 2190 l 1455 2190 l cp
clip
n 675 1575 m 675 1875 l 1425 1875 l 1425 2175 l gs col0 s gr gr

% arrowhead
n 1455 2031 m 1425 2175 l 1395 2031 l 1425 2055 l 1455 2031 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
795 1719 m 825 1575 l 855 1719 l 855 1560 l 795 1560 l cp
clip
n 975 3525 m 825 3525 l 825 1575 l gs col0 s gr gr

% arrowhead
n 795 1719 m 825 1575 l 855 1719 l 825 1695 l 795 1719 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1395 2469 m 1425 2325 l 1455 2469 l 1455 2310 l 1395 2310 l cp
clip
n 1200 3225 m 1200 2850 l 1425 2850 l 1425 2325 l gs col0 s gr gr

% arrowhead
n 1395 2469 m 1425 2325 l 1455 2469 l 1425 2445 l 1395 2469 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
345 3594 m 375 3450 l 405 3594 l 405 3435 l 345 3435 l cp
clip
n 975 3750 m 375 3750 l 375 3450 l gs col0 s gr gr

% arrowhead
n 345 3594 m 375 3450 l 405 3594 l 375 3570 l 345 3594 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
4206 870 m 4350 900 l 4206 930 l 4365 930 l 4365 870 l cp
clip
n 3825 1125 m 4050 1125 l 4050 900 l 4350 900 l gs col0 s gr gr

% arrowhead
n 4206 870 m 4350 900 l 4206 930 l 4230 900 l 4206 870 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
4206 1545 m 4350 1575 l 4206 1605 l 4365 1605 l 4365 1545 l cp
clip
n 3750 1275 m 4050 1275 l 4050 1575 l 4350 1575 l gs col0 s gr gr

% arrowhead
n 4206 1545 m 4350 1575 l 4206 1605 l 4230 1575 l 4206 1545 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
3345 1719 m 3375 1575 l 3405 1719 l 3405 1560 l 3345 1560 l cp
clip
n 1875 3600 m 2250 3600 l 2250 3150 l 3375 3150 l 3375 1575 l gs col0 s gr gr

% arrowhead
n 3345 1719 m 3375 1575 l 3405 1719 l 3375 1695 l 3345 1719 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
3870 669 m 3900 525 l 3930 669 l 3930 510 l 3870 510 l cp
clip
n 1875 3750 m 2325 3750 l 2325 3225 l 3900 3225 l 3900 525 l gs col0 s gr gr

% arrowhead
n 3870 669 m 3900 525 l 3930 669 l 3900 645 l 3870 669 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2631 3795 m 2775 3825 l 2631 3855 l 2790 3855 l 2790 3795 l cp
clip
n 1875 3825 m 2775 3825 l gs col0 s gr gr

% arrowhead
n 2631 3795 m 2775 3825 l 2631 3855 l 2655 3825 l 2631 3795 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2595 2919 m 2625 2775 l 2655 2919 l 2655 2760 l 2595 2760 l cp
clip
n 2850 3600 m 2625 3600 l 2625 2775 l gs col0 s gr gr

% arrowhead
n 2595 2919 m 2625 2775 l 2655 2919 l 2625 2895 l 2595 2919 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1920 1794 m 1950 1650 l 1980 1794 l 1980 1635 l 1920 1635 l cp
clip
n 4425 5325 m 3225 5325 l 3225 4875 l 2475 4875 l 2475 3975 l 2100 3975 l
 2100 1950 l 1950 1950 l 1950 1650 l gs col0 s gr gr

% arrowhead
n 1920 1794 m 1950 1650 l 1980 1794 l 1950 1770 l 1920 1794 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2970 2769 m 3000 2625 l 3030 2769 l 3030 2610 l 2970 2610 l cp
clip
n 2175 4500 m 2175 3000 l 3000 3000 l 3000 2625 l gs col0 s gr gr

% arrowhead
n 2970 2769 m 3000 2625 l 3030 2769 l 3000 2745 l 2970 2769 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1845 1794 m 1875 1650 l 1905 1794 l 1905 1635 l 1845 1635 l cp
clip
n 675 4350 m 675 4200 l 2025 4200 l 2025 2100 l 1875 2100 l 1875 1650 l gs col0 s gr gr

% arrowhead
n 1845 1794 m 1875 1650 l 1905 1794 l 1875 1770 l 1845 1794 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2094 5880 m 1950 5850 l 2094 5820 l 1935 5820 l 1935 5880 l cp
clip
n 2250 5250 m 2250 5850 l 1950 5850 l gs col0 s gr gr

% arrowhead
n 2094 5880 m 1950 5850 l 2094 5820 l 2070 5850 l 2094 5880 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2970 4794 m 3000 4650 l 3030 4794 l 3030 4635 l 2970 4635 l cp
clip
n 2325 5100 m 3000 5100 l 3000 4650 l gs col0 s gr gr

% arrowhead
n 2970 4794 m 3000 4650 l 3030 4794 l 3000 4770 l 2970 4794 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1119 5355 m 975 5325 l 1119 5295 l 960 5295 l 960 5355 l cp
clip
n 1500 5175 m 1500 5325 l 975 5325 l gs col0 s gr gr

% arrowhead
n 1119 5355 m 975 5325 l 1119 5295 l 1095 5325 l 1119 5355 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1431 4470 m 1575 4500 l 1431 4530 l 1590 4530 l 1590 4470 l cp
clip
n 1200 4050 m 1200 4500 l 1575 4500 l gs col0 s gr gr

% arrowhead
n 1431 4470 m 1575 4500 l 1431 4530 l 1455 4500 l 1431 4470 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
n 75 300 m 5550 300 l 5550 3075 l 75 3075 l cp gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 75 4275 m 2400 4275 l 2400 6150 l 75 6150 l cp gs col0 s gr  [] 0 sd
% Polyline
 [60] 0 sd
n 2550 3300 m 5550 3300 l 5550 6150 l 2550 6150 l cp gs col0 s gr  [] 0 sd
/Times-Bold-iso ff 180.00 scf sf
2025 525 m
gs 1 -1 sc (Process Tool) col0 sh gr
/Times-Bold-iso ff 180.00 scf sf
675 525 m
gs 1 -1 sc (SuperRange) col0 sh gr
/Times-Bold-iso ff 180.00 scf sf
3450 525 m
gs 1 -1 sc (Discrim) col0 sh gr
/Times-Bold-iso ff 180.00 scf sf
1275 2325 m
gs 1 -1 sc (Returner) col0 sh gr
/Times-Bold-iso ff 180.00 scf sf
75 3450 m
gs 1 -1 sc (KeyBits) col0 sh gr
/Times-BoldItalic-iso ff 180.00 scf sf
75 225 m
gs 1 -1 sc (Minimum Primordial Set) col0 sh gr
/Times-BoldItalic-iso ff 180.00 scf sf
75 6375 m
gs 1 -1 sc (Typical Service Constructor) col0 sh gr
/Times-BoldItalic-iso ff 180.00 scf sf
2550 6375 m
gs 1 -1 sc (Virtual Copy Space Constructor) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 3521 3563 4 v 337 3789 a Fz(3.2)119 b(Storage)30
b(Management)337 4043 y FM(An)c(ER)m(OS)g(system)g(contains)e(some)i
(number)d(of)j(disks)f(that)h(are)g(di)n(vided)e(into)h
FF(ranges)p FM(.)41 b(Each)25 b(range)f(is)j(made)e(up)g(of)337
4193 y(page)e(frames.)33 b(Each)23 b(page)f(frame)h(contains)f(either)h
(a)g(data)g(page,)g(a)h(capability)e(page,)h(or)g(a)g(block)f(of)h
(nodes.)33 b(Each)23 b(of)337 4342 y(these)i(objects)f(is)h(named)e(by)
h(a)h(unique)e(object)h(identi\002er)m(,)g(which)f(is)j(di)n(vided)c
(into)i(a)h(frame)f(identi\002er)f(and)h(an)g(object)337
4491 y(inde)o(x)16 b(relati)n(v)o(e)g(to)h(the)g(containing)e(frame.)23
b(Frame)17 b(identi\002ers)f(are)h(sequentially)f(numbered)e(within)j
(a)g(particular)f(range.)462 4651 y(Allocation)f(and)h(deallocation)f
(of)h(objects)g(is)h(the)f(job)g(of)g(the)g FF(space)g(bank)p
FM(.)23 b(On)17 b(request,)f(a)g(space)h(bank)e(will)i(allocate)337
4800 y(data)26 b(pages,)g(capability)e(pages,)i(or)f(nodes)g(out)g(of)g
(unused)f(storage)g(and)h(return)f(the)i(ne)n(wly)e(allocated)h
(objects)g(to)h(the)337 4950 y(requestor)-5 b(.)664 4919
y FC(4)732 4950 y FM(A)24 b(space)g(bank)f(will)h(also)g(deallocate)f
(an)o(y)g(storage)g(that)g(it)i(has)f(allocated.)34 b(Limits)25
b(may)e(be)g(imposed)g(on)p 337 5042 1425 4 v 337 5097
a FB(4)404 5121 y FA(The)k(space)g(bank)h(is)f(e)o(xpected)i(to)e
(remember)h(which)f(disk)h(frames)f(are)g(in)g(use,)i(and)e(will)h(not)
f(hand)h(out)f(space)h(that)g(is)f(already)i(allocated.)404
5200 y(Management)19 b(of)e(per)o(-frame)h(tagging)h(is)e(handled)i(by)
e(the)h(virtual)h(machine)f(implementation.)2077 5410
y FM(43)p eop
%%Page: 44 60
44 59 bop 37 108 a FM(the)21 b(total)f(storage)g(that)g(a)g(particular)
f(bank)h(will)g(allocate.)37 426 y FG(3.2.1)99 b(The)26
b(Prime)f(Bank)37 639 y FM(All)d(ranges)e(are)g(initially)h(o)n(wned)e
(by)h(a)h(distinguished)e(space)i(bank)e(kno)n(wn)g(as)i(the)g
FF(prime)f(space)h(bank)p FM(,)e(which)h(wields)37 788
y(the)25 b(superrange)e(capability)-5 b(.)37 b(This)25
b(bank)f(is)h(part)g(of)f(the)h(primordial)e(system)i(image,)g(and)f
(is)i(ultimately)e(responsible)37 938 y(for)c(all)h(of)f(the)g(storage)
f(in)i(the)f(system.)1191 908 y FC(5)162 1091 y FM(Ev)o(ery)15
b(space)h(bank)f(with)i(the)f(e)o(xception)e(of)i(the)h(prime)e(bank)g
(has)i(a)g(parent)e(space)h(bank)f(from)h(which)f(it)i(w)o(as)g
(created)37 1241 y(and)23 b(from)f(which)g(its)i(storage)e(is)i
(obtained.)31 b(Storage)23 b(allocated)f(from)g(a)h(gi)n(v)o(en)e(bank)
h(is)i(also)f(allocated)f(from)g(each)h(of)37 1390 y(its)f(parents)d
(in)i(upw)o(ard-recursi)n(v)o(e)16 b(f)o(ashion.)24 b(Each)c(space)g
(bank)g(k)o(eeps)g(track)f(of)h(the)h(objects)e(that)i(it)g(has)f
(allocated.)25 b(On)37 1540 y(destruction)c(of)h(the)g(bank,)g(storage)
f(allocated)h(by)g(that)g(bank)f(is)i(either)f(deallocated)f
(\(returned)f(to)j(the)f(free)g(pool\))f(or)h(is)37 1689
y(inherited)d(by)h(the)g(bank')-5 b(s)20 b(parent.)37
1982 y FJ(Mutual)h(A)l(uthentication)37 2195 y FM(One)j(potential)e
(security)h(attack)h(is)g(to)g(compromise)d(the)i(pro)o(vider)f(of)h
(storage.)34 b(If)23 b(an)g(attack)o(er)g(is)i(able)e(to)h(contri)n(v)o
(e)d(to)37 2345 y(hand)i(you)g(a)h(storage)f(allocator)g(that)h(the)o
(y)f(control,)g(the)h(content)f(of)g(an)o(y)g(storage)g(it)i(allocates)
e(is)i(ob)o(viously)d(compro-)37 2494 y(mised.)k(T)-7
b(o)20 b(preclude)f(this)i(attack,)f(space)h(banks)e(wield)i(the)f
(process)g(tool)g(by)g(special)h(dispensation,)d(and)i(will)h(use)g
(this)37 2644 y(service)e(to)g(identify)f(other)f(space)i(banks)f(as)i
(authentic.)j(The)c(prime)f(bank)f(implements)h(a)h(distinguished)f
(interf)o(ace)f(that)37 2793 y(does)26 b(not)f(permit)f(allocation)h
(or)g(deallocation,)g(b)n(ut)g(will)h(perform)e(the)h
FF(identify)g(bank)g FM(operation.)39 b(This)25 b(interf)o(ace)g(is)37
2943 y(made)20 b(generally)f(a)n(v)n(ailable)g(by)h(the)g(system)h
(softw)o(are)f(to)g(f)o(acilitate)g(bank)g(authentication.)37
3261 y FG(3.2.2)99 b(Indir)n(ect)27 b(Implementation)37
3474 y FM(In)g(the)g(typical)f(case,)j(there)d(is)i(a)f(one)g(to)g(one)
f(relationship)f(between)h(objects)h(and)f(processes)h(in)g(an)f(ER)m
(OS)i(system.)37 3623 y(While)21 b(the)e(ER)m(OS)h(interprocess)f(in)m
(v)n(ocation)e(mechanism)i(is)h(f)o(ast,)g(it)g(is)h(not)e(so)h(f)o
(ast)g(that)g(one)f(w)o(ants)h(to)g(perform)d(recur)n(-)37
3773 y(si)n(v)o(e)22 b(in)m(v)n(ocations)e(up)h(the)h(bank)e(tree)i(in)
g(order)e(to)i(allocate)f(storage.)29 b(T)-7 b(o)22 b(a)n(v)n(oid)f
(this,)h(the)g(space)f(bank)g(implementation)37 3922
y(tak)o(es)i(adv)n(antage)d(of)h(indirect)g(in)m(v)n(ocation)f
(\(Section)h(2.4.4\).)29 b(All)22 b(banks)f(are)h(actually)f
(implemented)f(by)i(a)g(single)g(pro-)37 4072 y(cess,)f(and)f(this)h
(process)e(manages)h(the)g(upw)o(ard)f(recursion)f(internally)-5
b(.)162 4225 y(This)30 b(implementation)d(mak)o(es)i(space)h(banks)f
(relati)n(v)o(ely)f(light)h(weight)h(\(a)f(single)h(node)e(must)i(be)f
(allocated)g(per)37 4375 y(bank\),)17 b(and)g(processes)g(may)g
(allocate)h(storage)f(from)f(multiple)h(banks.)24 b(Space)17
b(banks)g(can)g(therefore)f(be)i(created)f(as)h(part)37
4524 y(of)k(a)g(storage)f(management)f(strate)o(gy)-5
b(,)21 b(and/or)f(to)i(se)o(gre)o(gate)e(ephemeral)g(allocations)h
(from)g(long)g(term)g(allocations.)29 b(A)37 4674 y(serv)o(er)19
b(handling)e(multiple)i(clients,)g(for)g(e)o(xample,)f(can)h(establish)
g(a)h(separate)f(bank)f(for)g(each)h(client)h(and)e(use)i(this)g(bank)
37 4823 y(for)e(all)i(memory)c(allocation)i(related)g(to)h(that)g
(client.)24 b(When)18 b(the)h(client)g(declares)f(that)g(its)i(acti)n
(vities)f(are)f(completed,)g(the)37 4972 y(per)n(-client)i(bank)f(can)h
(be)g(destro)o(yed,)e(deleting)i(all)g(of)g(the)h(storage)e(associated)
h(with)g(that)h(client)f(in)g(a)h(single)f(operation.)p
37 5042 1425 4 v 37 5097 a FB(5)104 5121 y FA(In)c(personal)i
(discussions,)f(Norm)f(Hardy)g(has)h(proposed)g(a)f(design)i(to)e(meet)
h(more)f(stringent)i(security)g(requirements)h(in)d(which)i(storage)f
(w)o(ould)g(be)104 5200 y(se)o(gre)o(gated)i(for)e(reasons)h(of)f
(physical)i(security)f(by)g(ha)o(ving)g(multiple)h(\223prime\224)f
(banks.)1777 5410 y FM(44)p eop
%%Page: 45 61
45 60 bop 462 108 a FM(A)17 b(similar)g(strate)o(gy)f(can)h(be)g(used)f
(for)g(optimistic)h(ephemeral)e(allocation.)23 b(Consider)16
b(constructing)f(a)i(bitmap)f(under)337 257 y(conditions)h(of)i
(bounded)d(memory)-5 b(.)22 b(The)c(bitmap)g(construction)e(code)i(can)
g(allocate)g(all)h(bitmap)f(related)g(storage)g(from)f(a)337
407 y(dedicated)j(bank.)26 b(If)21 b(the)g(bitmap)g(construction)e
(proceeds)g(successfully)-5 b(,)20 b(this)i(storage)e(can)h(then)f(be)h
(inherited)f(upw)o(ard)337 556 y(into)h(the)g(main)g(storage)g(pool)f
(of)h(the)g(program.)k(If)c(the)g(bitmap)f(construction)g(f)o(ails)h
(for)g(lack)g(of)g(storage,)f(the)h(bank)f(and)337 705
y(its)g(storage)d(can)h(be)h(destro)o(yed)d(without)i(e)o(xplicitly)f
(deconstructing)f(the)i(memory)e(object.)24 b(This)19
b(design)e(is)i(particularly)337 855 y(useful)h(when)g(programming)c
(in)21 b(source)e(languages)g(that)h(mak)o(e)g(use)g(of)g(e)o(xception)
f(handling.)337 1246 y Fz(3.3)119 b(Pr)n(ocess)29 b(Cr)n(eation)337
1494 y FM(The)20 b(second)g(primordial)e(service)i(is)h(the)f(creation)
f(of)h(processes.)462 1650 y(As)26 b(described)d(in)i(Section)g(2.3.5,)
f(processes)h(may)f(be)h(f)o(abricated)f(by)g(an)o(y)g(program)f
(wielding)h(the)h(process)f(tool.)337 1799 y(Since)16
b(the)g(ER)m(OS)h(virtual)e(machine)g(includes)g(no)g(process)h
(speci\002c)g(data)f(structures,)h(there)g(is)g(no)g(need)f(to)h(be)g
(concerned)337 1949 y(with)32 b(resource)f(allocation)g(for)g(process)g
(state;)39 b(this)32 b(is)h(accomplished)d(by)h(the)h(space)g(bank)e
(when)i(the)f(nodes)g(that)337 2098 y(constitute)20 b(the)g(process)g
(are)g(allocated.)462 2254 y(Surprisingly)-5 b(,)16 b(the)i(process)f
(tool')-5 b(s)18 b(amplify)f(operation)f(does)i(not)f(present)h(a)g
(security)f(concern)f(as)j(long)e(as)i(wielders)337 2404
y(tak)o(e)28 b(care)f(not)g(to)g(re)n(v)o(eal)g(the)g(brand)f
(capabilities)h(that)g(the)o(y)g(ha)n(v)o(e)g(used.)45
b(In)27 b(spite)h(of)f(this,)j(the)d(process)g(tool)g(is)h(not)337
2553 y(generally)22 b(a)n(v)n(ailable)g(in)h(the)g(ER)m(OS)g(operating)
e(system.)33 b(Instead,)23 b(processes)f(are)h(created)f(and)g(destro)o
(yed)f(by)i(objects)337 2703 y(kno)n(wn)c(as)i FF(process)f(creators)p
FM(.)337 3035 y FG(3.3.1)99 b(The)26 b(Pr)n(ocess)f(Cr)n(eator)337
3253 y FM(Process)e(creators)f(are)h(the)f(only)g(objects)g(in)h(the)g
(ER)m(OS)g(operating)d(system)j(that)g(create)f(processes)g(using)g
(the)h(process)337 3402 y(tool.)47 b(Ev)o(ery)26 b(process)h(creator)f
(possesses)i(a)g(unique)e FF(brand)i FM(that)g(it)g(applies)f(to)h(all)
g(of)f(the)g(processes)g(it)h(creates.)47 b(In)337 3552
y(practice,)25 b(this)g(brand)e(is)j(simply)e(a)g(distinguished)f
(start)i(capability)f(to)g(the)h(process)f(creator)f(itself.)39
b(Process)24 b(creators)337 3701 y(perform)19 b(three)g(operations:)24
b(create)c(process,)f(identify)h(process,)f(and)h(destro)o(y)f
(process.)337 4008 y FJ(Cr)o(eate)g(Pr)o(ocess)337 4226
y FM(The)e FF(create)g(process)h FM(operation)d(tak)o(es)i(a)h(space)f
(bank)f(as)h(an)g(ar)o(gument,)f(allocates)h(the)g(required)e(nodes)h
(from)g(this)i(bank,)337 4376 y(creates)j(a)f(process)g(capability)f
(to)i(the)f(root)f(node,)g(and)h(returns)f(this)i(capability)e(to)h
(the)h(caller)-5 b(.)337 4683 y FJ(Identify)21 b(Pr)o(ocess)337
4901 y FM(The)28 b FF(identify)g(process)h FM(operation)d(answers)i
(whether)f(a)i(particular)e(process)h(w)o(as)h(created)e(by)h(this)h
(process)e(creator)-5 b(.)337 5050 y(The)24 b(process)f(creator)g
(accepts)h(a)h(process,)f(start,)h(or)e(resume)h(capability)e(and)i
(uses)g(the)g(process)g(tool)f(to)h(amplify)f(this)337
5200 y(capability)17 b(into)g(a)g(node)f(capability)-5
b(.)23 b(If)17 b(the)g(amplify)f(operation)g(succeeds,)h(the)g(process)
g(creator)f(says)i(\223yes,)-6 b(\224)17 b(otherwise)2077
5410 y(45)p eop
%%Page: 46 62
46 61 bop 37 108 a FM(it)30 b(says)g(\223no.)-6 b(\224)51
b(This)29 b(operation)e(is)j(used)f(by)g(constructors)e(\(Section)i
(3.4\))f(to)h(authenticate)f(that)h(a)h(process)e(actually)37
257 y(implements)20 b(the)g(service)g(it)h(claims)f(to)h(pro)o(vide.)37
578 y FJ(Destr)o(oy)e(Pr)o(ocess)37 800 y FM(The)e FF(destro)o(y)g
(process)h FM(operation)d(uses)i(the)g(process)g(tool)f(and)h(the)g
(process)f(creator')-5 b(s)17 b(brand)f(to)h(fetch)f(a)i(node)e
(capability)37 950 y(to)25 b(the)g(caller')-5 b(s)25
b(process)f(root)g(node.)38 b(It)24 b(disassembles)h(the)g(process)f
(and)g(returns)g(its)i(storage)e(to)h(the)f(speci\002ed)h(space)37
1099 y(bank.)f(Finally)-5 b(,)20 b(it)h(returns)e(to)h(a)h(capability)e
(pro)o(vided)f(by)i(the)g(caller)-5 b(.)162 1258 y(The)15
b(destro)o(y)g(process)g(operation)f(resolv)o(es)h(a)h(some)n(what)f
(thorn)o(y)f(problem)g(relating)h(to)g(process)h(storage)e(allocation:)
37 1407 y(the)k(constituent)e(nodes)g(and)h(pages)g(of)g(a)h(process)e
(must)i(be)f(returned)e(to)j(a)f(space)h(bank,)e(b)n(ut)h(if)h(this)g
(is)g(done)e(incautiously)37 1556 y(the)24 b(process)e(will)i(cease)f
(to)h(e)o(xist)f(and)f(will)i(therefore)d(be)i(unable)f(to)i(return)e
(to)h(the)g(party)f(that)h(destro)o(yed)f(it.)34 b(Further)m(,)37
1706 y(the)25 b(process)e(must)i(not)f(\(in)g(general\))e(be)i(able)g
(to)h(obtain)e(a)i(node)e(capability)g(to)h(itself,)i(because)d(it)i(w)
o(ould)f(thereby)f(be)37 1855 y(able)k(to)h(e)o(xtract)e(its)i(o)n(wn)f
(brand)e(capability)h(and)h(for)o(ge)e(other)h(processes)h(that)g(w)o
(ould)g(appear)e(to)j(be)f(created)f(by)h(the)37 2005
y(same)21 b(process)f(creator)-5 b(.)162 2163 y(Instead,)25
b(the)g(process)f(is)i(gi)n(v)o(en)d(a)i(capability)f(to)h(its)g(o)n
(wn)g(process)f(creator)-5 b(.)38 b(When)24 b(the)h(process)f(is)i(ask)
o(ed)e(to)h(self)37 2313 y(destruct,)18 b(it)i(tears)e(do)n(wn)g(all)h
(of)f(its)i(state)f(e)o(xcept)e(for)h(a)h(last)g(small)g(portion,)e
(and)h(then)g(in)m(v)n(ok)o(es)g(its)h(process)f(creator)-5
b(.)24 b(The)37 2462 y(process)e(creator)g(tak)o(es)h(responsibility)e
(for)g(returning)g(its)i(remaining)e(storage)h(and)f(returning)g(a)i
(result)f(to)h(the)f(process)37 2612 y(that)f(requested)e(the)h
(destruction.)37 2957 y FG(3.3.2)99 b(The)26 b(Pr)n(ocess)f(Cr)n(eator)
h(Cr)n(eator)37 3180 y FM(Because)20 b(process)f(creators)g(must)h(be)f
(used)g(to)h(create)f(processes,)g(and)g(because)g(unique)f(brands)g
(for)h(dif)n(ferent)f(kinds)h(of)37 3329 y(processes)h(are)h(helpful,)d
(it)j(is)g(desirable)f(to)g(ha)n(v)o(e)g(a)g(ready)f(source)h
(\(storage)f(permitting\))f(of)i(process)g(creators.)162
3487 y(The)28 b FF(process)g(creator)g(creator)g FM(\(PCC\))h(is)g(a)f
(program)e(that)i(accepts)g(a)g(space)g(bank)f(and)h(b)n(uilds)g(a)g
(ne)n(w)g(process)37 3637 y(creator)18 b(from)e(that)j(bank.)k(PCC)c
(is)g(the)f(source)f(of)h(all)h(process)e(creators)g(in)i(the)f(ER)m
(OS)g(operating)e(system.)25 b(Much)17 b(as)i(the)37
3786 y(process)g(creator)f(pro)o(vides)g(destruction)f(services)i(for)g
(its)h(products,)e(PCC)i(pro)o(vides)e(destruction)f(services)j(for)e
(process)37 3936 y(creators.)37 4340 y Fz(3.4)119 b(Ser)o(vice)31
b(F)m(abrication)37 4593 y FM(Processes)17 b(created)f(by)f(the)i
(process)f(creator)f(are)h(well-formed)e(and)i(ha)n(v)o(e)g(a)g(preset)
g(brand,)g(b)n(ut)g(little)h(else.)24 b(In)16 b(particular)m(,)37
4742 y(the)o(y)k(ha)n(v)o(e)g(no)f(address)h(space.)162
4901 y(In)26 b(principle,)h(an)o(y)e(program)g(may)g(use)i(a)g(process)
f(creator)f(to)i(b)n(uild)f(a)h(process,)g(populate)e(this)i(process)f
(with)h(an)37 5050 y(address)18 b(space,)g(and)f(perform)f(a)j
FJ(call)f FM(or)f FJ(send)i FM(operation)e(to)h(initiate)g(this)g(ne)n
(w)g(process.)24 b(In)17 b(practice,)h(it)g(isn')o(t)g(generally)37
5200 y(done)i(this)g(w)o(ay)-5 b(,)20 b(for)g(tw)o(o)g(reasons:)1777
5410 y(46)p eop
%%Page: 47 63
47 62 bop 462 108 a Fw(\017)41 b FM(Processes)21 b(require)e(a)h
(certain)g(amount)f(of)h(en)m(vironment)d(setup)j(before)f(the)o(y)g
(can)h(usefully)f(e)o(x)o(ecute.)24 b(F)o(or)c(e)o(xam-)545
257 y(ple,)g(the)o(y)f(usually)h(w)o(ant)g(a)h(cop)o(y)e(on)h(write)g
(address)g(space.)462 533 y Fw(\017)41 b FM(Such)20 b(a)g(process)g
(cannot)f(be)h(authenticated)f(by)h(its)h(user)-5 b(.)337
793 y(Both)21 b(of)f(these)g(issues)h(are)f(addressed)f(by)h(the)g
(constructor)-5 b(.)337 1171 y FG(3.4.1)99 b(Constructors)337
1405 y FM(A)32 b FF(constructor)f FM(is)h(a)f(program)d(that)j(b)n
(uilds)g(other)f(programs.)54 b(Initially)30 b(a)h(constructor)e(is)j
FI(unfr)l(ozen)p FM(,)g(and)e(may)h(be)337 1554 y(populated)24
b(by)h(the)h(holder)f(with)g(capabilities)h(that)g(serv)o(e)f(as)h(a)g
(template)g(for)f(the)g(process)h(that)f(the)h(constructor)e(will)337
1704 y(create.)g(While)18 b(in)g(this)f(state,)i(the)e(constructor)f
(is)i(also)f(told)h(the)f(initial)h(program)d(counter)h(at)i(which)e
(the)i(process)f(should)337 1853 y(be)o(gin)g(e)o(x)o(ecution.)22
b(Once)17 b(the)h(program)d(has)j(been)f(populated,)f(the)h
(constructor)f(is)i FI(fr)l(ozen)p FM(,)h(after)e(which)g(the)g
(constructor)337 2003 y(will)k(no)f(longer)f(accept)h(capabilities)g
(to)g(be)g(placed)g(in)g(the)g(process.)462 2167 y(Frozen)d
(constructors)g(will)h(create)g(ne)n(w)g(instances)g(of)g(the)g
(program)e(whose)h(template)h(has)g(been)f(loaded)g(into)h(them.)337
2317 y(This)h(instance)f(is)h(referred)e(to)h(as)i(the)e
FF(yield)i FM(of)e(the)g(constructor)-5 b(.)23 b(Ev)o(ery)17
b(constructor)f(possesses)k(an)e(associated)g(process)337
2466 y(creator)h(dedicated)g(to)h(that)g(constructor)-5
b(.)24 b(Using)19 b(this)i(process)e(creator)m(,)g(the)h(constructor)e
(is)j(able)f(to)g(say)g(whether)f(some)337 2615 y(particular)27
b(process)g(w)o(as)i(created)e(by)h(this)g(constructor)-5
b(.)47 b(Frozen)26 b(constructors)h(can)g(also)i(e)o(xamine)d(the)i
(capabilities)337 2765 y(contained)23 b(in)i(their)f(template)h(and)f
(say)g(whether)g(an)o(y)g(of)g(these)h(capabilities)f(constitute)g
(\223holes\224)g(through)f(which)h(in-)337 2914 y(formation)g(may)h(be)
h(leak)o(ed.)41 b(If)25 b(a)i(capability)d(is)j(either)e(discrete)h
(\(in)f(the)h(sense)g(of)f(discrim,)i(Section)e(2.5.2\),)g(or)h(is)g(a)
337 3064 y(capability)20 b(to)g(a)h(frozen)d(constructor)h(whose)h
FI(yield)i FM(is)f(discrete,)f(it)h(is)g(not)f(a)g(hole.)25
b(All)c(other)e(capabilities)h(are)g(holes.)462 3228
y(This)d(mechanism)f(pro)o(vides)g(a)h(means)g(by)g(which)g(clients)g
(may)g(obtain)f(services)h(whose)g(e)o(xternal)f(communications)337
3378 y(are)23 b(controlled)e(e)o(xclusi)n(v)o(ely)g(by)h(the)h(client)f
(program.)30 b(It)23 b(raises)h(tw)o(o)f(additional)e(issues:)31
b(constructor)21 b(authentication)337 3527 y(and)f(mutable)f(address)h
(spaces.)337 3905 y FG(3.4.2)99 b(Constructor)26 b(A)-5
b(uthentication)337 4139 y FM(Constructors)26 b(will)i(tell)g
(requestors)e(that)h(their)g(yield)f(is)i(discrete.)45
b(T)-7 b(o)28 b(kno)n(w)e(if)h(the)g(answer)g(can)f(be)h(belie)n(v)o
(ed,)g(both)337 4288 y(constructors)19 b(and)h(constructor)e(clients)i
(must)h(ha)n(v)o(e)e(the)i(means)e(to)i(ask)f(\223Is)h(this)f(object)g
(a)h(constructor?\224)462 4452 y(As)i(with)f(process)f(creators,)h(all)
g(constructors)f(originate)f(from)h(a)h(common)f(object.)29
b(This)22 b(object)g(is)g(kno)n(wn)f(as)i(the)337 4602
y FF(metaconstructor)p FM(,)i(and)e(is)i(considered)d(a)i(constructor)e
(by)i(special)f(dispensation)g(\(the)h(code)f(of)g(the)h
(metaconstructor)337 4751 y(and)d(the)g(constructor)e(programs)h(dif)n
(fer)g(only)g(super\002cially\).)26 b(Because)21 b(it)h(is)g(the)f
(constructor)f(of)g(all)i(constructors,)e(the)337 4901
y(metaconstructor)c(answers)i(the)g(question)f(\223Is)h(this)h(your)d
(yield?\224)24 b(af)n(\002rmati)n(v)o(ely)16 b(when)h(it)i(is)g(handed)
d(a)j(process)e(that)h(is)h(a)337 5050 y(constructor)-5
b(.)24 b(The)19 b(metaconstructor)e(capability)i(is)i(generally)d(a)n
(v)n(ailable,)h(and)g(can)h(therefore)e(be)h(used)h(to)g(authenticate)
337 5200 y(constructors.)2077 5410 y(47)p eop
%%Page: 48 64
48 63 bop 37 108 a FG(3.4.3)99 b(The)26 b(Pr)n(otospace)37
325 y FM(The)d(problem)e(with)j(the)f(hole)f(check)g(as)i(described)e
(is)i(that)f(it)g(is)h(v)o(ery)e(stringent.)33 b(In)22
b(particular)m(,)g(if)i(the)f(template)f(held)37 474
y(by)28 b(the)h(constructor)d(contains)i(a)g(mutable)g(address)g
(space,)i(it)f(will)g(not)f(pass)h(the)f(hole)g(check.)48
b(Because)29 b(the)f(initial)37 624 y(address)22 b(space)g(image)g(may)
g(be)g(retained)f(by)h(the)g(author)f(of)h(the)g(program,)f(writes)h
(to)h(the)f(initial)h(address)e(space)i(must)37 773 y(be)17
b(considered)e(a)j(potential)d(source)i(of)f(information)e(leaks.)24
b(Unfortunately)-5 b(,)15 b(v)o(ery)g(fe)n(w)i(programs)e(can)i
(operate)e(without)37 922 y(a)21 b(mutable)e(address)h(space.)859
892 y FC(6)162 1078 y FM(The)g(solution)f(to)g(this)i(problem)d(is)j
(to)f(pro)o(vide)e(a)i FF(virtual)g(copy)f(constructor)i
FM(\(Section)e(3.5\))g(for)g(the)h(initial)g(address)37
1227 y(space)j(rather)e(than)g(the)i(initial)f(address)g(space)g
(itself.)31 b(This)22 b(constructor)e(possesses)j(a)g(read-only)-5
b(,)19 b(weak)j(capability)f(to)37 1377 y(the)d(initial)f(address)g
(space)g(image)f(of)h(the)g(program.)22 b(A)c(weak,)f(read-only)e
(capability)h(is)i(discrete,)f(and)g(therefore)e(passes)37
1526 y(the)26 b(discretion)e(check.)39 b(The)25 b(virtual)g(cop)o(y)f
(address)h(space)g(constructor)e(therefore)g(passes)j(the)g(discretion)
e(check,)h(so)37 1676 y(an)o(y)c(program)d(b)n(uilt)j(using)g(this)g
(constructor)e(is)j(discrete.)k(The)21 b(problem)e(is)j(then)e(reduced)
f(to)i(getting)f(this)h(constructor)37 1825 y(called)g(and)e
(transferring)f(control)h(to)h(the)h(resulting)e(space.)25
b(This)20 b(is)h(the)g(job)e(of)h(the)h(protospace.)162
1981 y(The)27 b FF(protospace)f FM(is)i(a)g(single)f(page,)h(read-only)
d(\(and)i(therefore)e(discrete\))i(memory)f(object)g(containing)g(a)i
(hand)37 2130 y(coded)21 b(program)e(\(Algorithm)g(3.1\).)28
b(When)21 b(a)h(constructor)e(b)n(uilds)h(a)h(ne)n(w)f(program,)e(it)j
(installs)g(the)g(protospace)d(as)k(the)37 2279 y(initial)e(address)f
(space)g(of)g(the)g(ne)n(w)g(program.)j(The)d(address)g(space)g
(capability)f(pro)o(vided)f(in)i(the)h(constructor)d(template)37
2429 y(is)27 b(passed)f(to)h(the)f(protospace)e(program)g(in)i(a)h
(well)f(kno)n(wn)f(capability)g(re)o(gister)-5 b(.)42
b(Ev)o(en)25 b(without)g(a)i(mutable)e(address)37 2578
y(space,)20 b(the)g(protospace)e(is)j(able)f(to)g(test)h(the)f
(template)f(address)h(space)g(capability)f(to)h(learn)f(if)h(it)h(is)g
(a)f(constructor)-5 b(.)24 b(If)19 b(so,)37 2728 y(it)26
b(in)m(v)n(ok)o(es)d(this)i(constructor)e(to)i(b)n(uild)f(the)g
(address)g(space)h(for)f(the)g(ne)n(w)g(process.)38 b(No)n(w)24
b(ha)n(ving)g(a)g(\(hopefully)e(v)n(alid\))37 2877 y(address)j(space)g
(capability)g(in)g(hand,)g(it)h(performs)e(the)h FF(set)h(space)f(and)g
(PC)h FM(operation)e(on)g(its)j(process)d(to)i(change)e(the)37
3027 y(running)18 b(address)h(space)h(and)f(program)f(counter)g(in)i(a)
g(single)g(atomic)f(operation.)2445 2997 y FC(7)2501
3027 y FM(This)h(sequence)f(is)h(later)g(re)n(v)o(ersed)e(to)37
3176 y(accomplish)h(program)f(teardo)n(wn.)p 37 3312
3563 7 v 37 3386 a FJ(Algorithm)i(3.1)g FM(Protospace)f(Algorithm)p
37 3424 3563 4 v 121 3514 a(tc)h Fw( )h FI(template)f(addr)m(ess)g
(space)f(capability)p FM(;)121 3614 y FJ(if)h FM(is)p
252 3614 25 4 v 30 w(constructor\(tc\))e FJ(then)204
3713 y FM(\(result,tc\))h Fw( )i FM(create)p 853 3713
V 29 w(yield\(tc\);)204 3813 y FJ(if)f FM(result)g Fw(6)p
Fx(=)h FJ(OK)f(then)287 3913 y(r)o(etur)o(n)f FM(result;)h
FI(//)h(usually)f(space)g(e)n(xhaustion)204 4012 y FJ(end)g(if)121
4112 y(end)g(if)121 4212 y FM(lobotomize\(tc,)p FI(starting)d(pc)p
FM(\);)p 37 4265 3563 4 v 162 4515 a(The)i(protospace)e(incidentally)g
(solv)o(es)i(another)e(problem:)23 b(it)d(transfers)e(responsibility)f
(for)i(initialization)f(from)g(the)37 4664 y(constructor)23
b(to)i(the)f(program)e(itself.)38 b(Once)24 b(the)h(protospace)e(is)i
(set)g(in)g(motion,)f(the)g(constructor)f(becomes)g(a)n(v)n(ailable)37
4813 y(for)g(further)f(in)m(v)n(ocation;)h(it)h(is)g(the)g(process)f
(itself)h(that)f(returns)g(to)g(the)g(original)g(caller)g(of)g(the)g
(constructor)-5 b(.)33 b(In)23 b(conse-)37 4963 y(quence,)h(programs)e
(that)i(require)f(long)g(running)f(initialization)h(do)h(not)g(cause)g
(the)g(constructor)e(to)i(be)g(block)o(ed)f(while)p 37
5040 1425 4 v 37 5096 a FB(6)104 5119 y FA(This)17 b(is)g(especially)j
(true)e(on)f(the)g(x86,)g(which)h(has)f(only)h(se)n(v)o(en)g(usable)g
(re)o(gisters.)37 5176 y FB(7)104 5200 y FA(This)f(operation)i(is)e
(more)g(commonly)h(referred)h(to)e(among)g(the)h(ER)m(OS)f(research)i
(group)e(as)g(the)h Fm(lobotomize)h FA(operation.)1777
5410 y FM(48)p eop
%%Page: 49 65
49 64 bop 337 108 a FM(this)21 b(initialization)f(occurs.)337
628 y Fz(3.5)119 b(V)l(irtual)31 b(Copy)f(Spaces)337
921 y FM(Gi)n(v)o(en)18 b(the)h(mechanisms)e(pro)o(vided)f(by)i(the)h
(ER)m(OS)g(virtual)e(machine,)h(it)h(is)h(straightforw)o(ard)c(to)i
(construct)g(virtual)f(cop)o(y)337 1070 y(spaces)27 b(as)g(user)f(le)n
(v)o(el)f(objects.)43 b(These)25 b(objects)h(are)g(kno)n(wn)f(as)i
FF(V)-5 b(irtual)27 b(Copy)f(Spaces)p FM(,)h(and)f(pro)o(vide)e(lazy)i
(cop)o(y)f(on)337 1220 y(write)31 b(services)f(relati)n(v)o(e)g(to)g
(an)h(initial)f(space.)56 b(If)30 b(no)g(initial)h(space)f(is)h(pro)o
(vided,)f(the)h(def)o(ault)e(initial)i(space)f(is)i(the)337
1369 y FF(primordial)20 b(zero)g(space)p FM(,)g(a)h(fully)e(populated,)
f(immutable)h(memory)g(object)g(containing)f(zeros.)3186
1339 y FC(8)462 1549 y FM(A)i(virtual)e(cop)o(y)g(space)h(is)h(a)f(k)o
(ept)g(memory)e(object)i(whose)f(memory)g(k)o(eeper)g(is)i(the)f
FF(virtual)g(copy)g(memory)f(k)n(eeper)p FM(,)337 1698
y(and)g(whose)g(initial)h(contents)e(are)i(read-only)-5
b(.)21 b(When)d(a)h(write)g(f)o(ault)f(occurs)f(due)h(to)h(a)f(memory)f
(store)h(reference,)f(control)337 1848 y(is)31 b(transferred)d(to)i
(the)f(memory)f(k)o(eeper)-5 b(.)53 b(This)30 b(k)o(eeper)e(clones)i
(the)f(necessary)g(portion)f(of)i(the)f(metadata)g(required)337
1997 y(to)f(insert)f(a)g(replacement)e(page,)j(purchases)e(a)h(ne)n(w)g
(writable)f(page,)i(copies)e(the)h(content)f(of)h(the)g(original)f
(page)g(into)337 2147 y(this)e(page,)f(and)f(inserts)h(the)g(ne)n(w)g
(page)g(into)f(the)h(address)g(space)g(\(Figure)f(3.2,)g(Algorithm)g
(3.2\).)32 b(It)23 b(then)g(resumes)g(the)337 2296 y(f)o(aulting)e
(program.)59 b(All)22 b(storage)f(in)h(the)g(copied)f(space)h(is)h
(allocated)e(from)g(its)h(o)n(wn)g(space)g(bank,)f(supplied)f(when)i
(the)p 337 2481 3563 7 v 337 2554 a FJ(Figur)o(e)e(3.2)f
FM(V)-5 b(irtual)20 b(Cop)o(y)g(implementation.)p 337
2592 3563 4 v 735 2692 a
 21510635 8551628 0 0 21510635 8551628 startTexFig
 735 2692 a
%%BeginDocument: vcs-trick.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: vcs-trick.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:12 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 327 130
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-17.0 139.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /endash 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3304 m -1000 -1000 l 6721 -1000 l 6721 3304 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
gs  clippath
4656 645 m 4800 675 l 4656 705 l 4815 705 l 4815 645 l cp
clip
n 4425 675 m 4800 675 l gs col0 s gr gr

% arrowhead
n 4656 645 m 4800 675 l 4656 705 l 4680 675 l 4656 645 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
4656 870 m 4800 900 l 4656 930 l 4815 930 l 4815 870 l cp
clip
n 4425 900 m 4800 900 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 4656 870 m 4800 900 l 4656 930 l 4680 900 l 4656 870 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman-iso ff 180.00 scf sf
4875 750 m
gs 1 -1 sc (read-write) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4875 975 m
gs 1 -1 sc (read-only) col0 sh gr
% Polyline
n 1500 1500 m 2325 1500 l 2325 1725 l 1500 1725 l cp gs col0 s gr 
% Polyline
n 450 1500 m 1275 1500 l 1275 1725 l 450 1725 l cp gs col0 s gr 
% Polyline
n 975 825 m 1800 825 l 1800 1050 l 975 1050 l cp gs col0 s gr 
% Polyline
n 1500 2100 m 1650 2100 l 1650 2250 l 1500 2250 l cp gs col7 0.75 shd ef gr gs col0 s gr 
% Polyline
n 975 2100 m 1125 2100 l 1125 2250 l 975 2250 l cp gs col0 s gr 
% Polyline
n 750 2100 m 900 2100 l 900 2250 l 750 2250 l cp gs col0 s gr 
% Polyline
n 525 2100 m 675 2100 l 675 2250 l 525 2250 l cp gs col0 s gr 
% Polyline
n 300 2100 m 450 2100 l 450 2250 l 300 2250 l cp gs col0 s gr 
% Polyline
gs  clippath
1380 681 m 1350 825 l 1320 681 l 1320 840 l 1380 840 l cp
clip
n 1350 375 m 1350 825 l gs col0 s gr gr

% arrowhead
n 1380 681 m 1350 825 l 1320 681 l 1350 705 l 1380 681 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
1605 1356 m 1575 1500 l 1545 1356 l 1545 1515 l 1605 1515 l cp
clip
n 1125 900 m 1125 1125 l 1575 1125 l 1575 1500 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1605 1356 m 1575 1500 l 1545 1356 l 1575 1380 l 1605 1356 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
930 1356 m 900 1500 l 870 1356 l 870 1515 l 930 1515 l cp
clip
n 3225 900 m 3225 1200 l 900 1200 l 900 1500 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 930 1356 m 900 1500 l 870 1356 l 900 1380 l 930 1356 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
780 1356 m 750 1500 l 720 1356 l 720 1515 l 780 1515 l cp
clip
n 1050 900 m 1050 1125 l 750 1125 l 750 1500 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 780 1356 m 750 1500 l 720 1356 l 750 1380 l 780 1356 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
405 1956 m 375 2100 l 345 1956 l 345 2115 l 405 2115 l cp
clip
n 525 1575 m 525 1800 l 375 1800 l 375 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 405 1956 m 375 2100 l 345 1956 l 375 1980 l 405 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
630 1956 m 600 2100 l 570 1956 l 570 2115 l 630 2115 l cp
clip
n 600 1575 m 600 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 630 1956 m 600 2100 l 570 1956 l 600 1980 l 630 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
855 1956 m 825 2100 l 795 1956 l 795 2115 l 855 2115 l cp
clip
n 675 1575 m 675 1875 l 825 1875 l 825 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 855 1956 m 825 2100 l 795 1956 l 825 1980 l 855 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
1080 1956 m 1050 2100 l 1020 1956 l 1020 2115 l 1080 2115 l cp
clip
n 750 1575 m 750 1800 l 1050 1800 l 1050 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1080 1956 m 1050 2100 l 1020 1956 l 1050 1980 l 1080 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
1605 1956 m 1575 2100 l 1545 1956 l 1545 2115 l 1605 2115 l cp
clip
n 1575 1575 m 1575 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1605 1956 m 1575 2100 l 1545 1956 l 1575 1980 l 1605 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 3150 825 m 3975 825 l 3975 1050 l 3150 1050 l cp gs col0 s gr 
% Polyline
gs  clippath
3780 1356 m 3750 1500 l 3720 1356 l 3720 1515 l 3780 1515 l cp
clip
n 3300 900 m 3300 1125 l 3750 1125 l 3750 1500 l gs col0 s gr gr

% arrowhead
n 3780 1356 m 3750 1500 l 3720 1356 l 3750 1380 l 3780 1356 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 3600 1500 m 4425 1500 l 4425 1725 l 3600 1725 l cp gs col0 s gr 
% Polyline
n 3600 2100 m 3750 2100 l 3750 2250 l 3600 2250 l cp gs col0 s gr 
% Polyline
gs  clippath
3705 1956 m 3675 2100 l 3645 1956 l 3645 2115 l 3705 2115 l cp
clip
n 3675 1575 m 3675 2100 l gs col0 s gr gr

% arrowhead
n 3705 1956 m 3675 2100 l 3645 1956 l 3675 1980 l 3705 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
3555 681 m 3525 825 l 3495 681 l 3495 840 l 3555 840 l cp
clip
n 3525 375 m 3525 825 l gs col0 s gr gr

% arrowhead
n 3555 681 m 3525 825 l 3495 681 l 3525 705 l 3555 681 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 1725 2100 m 1875 2100 l 1875 2250 l 1725 2250 l cp gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
1830 1956 m 1800 2100 l 1770 1956 l 1770 2115 l 1830 2115 l cp
clip
n 1650 1575 m 1650 1800 l 1800 1800 l 1800 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1830 1956 m 1800 2100 l 1770 1956 l 1800 1980 l 1830 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
2019 2205 m 1875 2175 l 2019 2145 l 1860 2145 l 1860 2205 l cp
clip
n 3750 1575 m 3750 1800 l 2175 1800 l 2175 2175 l 1875 2175 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2019 2205 m 1875 2175 l 2019 2145 l 1995 2175 l 2019 2205 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman-iso ff 180.00 scf sf
525 300 m
gs 1 -1 sc (Original Space \(read-only\)) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
2850 300 m
gs 1 -1 sc (After Copy On Write) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3900 2250 m
gs 1 -1 sc (\(copy of shaded page\)) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 3878 3563 4 v 337 4170 a FM(virtual)k(cop)o(y)g(space)g(w)o(as)i
(created.)37 b(T)-7 b(o)24 b(the)h(e)o(xtent)e(possible)h(both)g(data)g
(and)g(metadata)g(from)f(the)i(original)e(space)i(are)337
4319 y(reused;)20 b(no)g(cop)o(y)f(is)i(performed)d(unnecessarily)-5
b(.)462 4499 y(At)25 b(an)o(y)e(time,)j(the)e(address)g(space)g
(managed)f(by)h(a)h(virtual)e(cop)o(y)h(k)o(eeper)f(can)h(be)g(frozen.)
36 b(Spaces)25 b(frozen)e(by)h(the)337 4648 y(virtual)30
b(cop)o(y)f(k)o(eeper)h(become)f(immutable.)53 b(The)30
b FF(freeze)h FM(operation)d(returns)i(a)g(constructor)f(that)h(will)h
(create)f(ne)n(w)337 4797 y(virtual)18 b(cop)o(y)g(spaces)h(whose)f
(\223original)f(space\224)h(is)i(the)e(frozen)f(space.)25
b(V)-5 b(irtual)18 b(cop)o(y)g(spaces)g(are)h(therefore)d(recursi)n(v)o
(ely)337 4947 y(constructable.)p 337 5121 1425 4 v 337
5176 a FB(8)404 5200 y FA(All)h(of)g(which)h(are)g(contained)i(by)d(a)g
(single)h(page)g(and)g(a)f(small)g(number)h(of)f(nodes.)2077
5410 y FM(49)p eop
%%Page: 50 66
50 65 bop 37 31 3563 7 v 37 105 a FJ(Algorithm)20 b(3.2)g
FM(V)-5 b(irtual)20 b(Cop)o(y)g(Algorithm)p 37 143 3563
4 v 121 233 a(root)p 261 233 25 4 v 28 w(cap)g Fw( )h
FI(r)l(oot)f(of)h(memory)f(object)q FM(;)121 333 y FI(//)29
b FM(root)p 336 333 V 29 w(cap)20 b FI(is)h(r)m(ead-write)f(by)g
(virtue)h(of)f(upcall)121 432 y FM(blss)g Fw( )h FI(size)h(of)e(memory)
g(object)g(\(biased)f(lo)o(g\))p FM(;)121 532 y(addr)g
Fw( )i FI(of)o(fset)f(of)g(fault)g(within)h(memory)f(object)q
FM(;)121 632 y(slot)p 246 632 V 29 w(cap)g Fw( )h FM(root)p
650 632 V 29 w(cap;)121 731 y FJ(r)o(epeat)204 831 y
FM(cap)f Fw( )g FM(slot)p 568 831 V 30 w(cap;)204 930
y(slot)g Fw( )h FM(slot)p 573 930 V 30 w(inde)o(x\(addr)m(,)16
b(blss\);)204 1030 y(slot)p 329 1030 V 29 w(cap)k Fw( )h
FM(fetch\(cap,slot\);)204 1130 y FJ(if)f FM(is)p 335
1130 V 30 w(read)p 509 1130 V 29 w(only\(slot)p 835 1130
V 28 w(cap\))g FJ(then)287 1229 y(if)g FM(is)p 418 1229
V 30 w(node\(slot)p 759 1229 V 28 w(cap\))g FJ(then)370
1329 y FM(ne)n(w)p 512 1329 V 29 w(node)f Fw( )i FM(b)n(uy)p
951 1329 V 28 w(node\(bank\);)370 1429 y(clone\(ne)n(w)p
721 1429 V 27 w(node,slot)p 1052 1429 V 28 w(cap\);)f
FI(copies)g(R)m(O)g(node)f(to)h(ne)o(w)h(node)370 1528
y FM(store\(cap,ne)n(w)p 839 1528 V 27 w(node,slot\)\);)d
FI(Update)h(containing)f(node)370 1628 y FM(slot)p 495
1628 V 29 w(cap)i Fw( )h FM(ne)n(w)p 901 1628 V 29 w(node;)287
1727 y FJ(end)g(if)204 1827 y(end)f(if)204 1927 y FM(blss)g
Fw( )h FM(blss)g(-)g(1;)121 2026 y FJ(until)f FM(is)p
367 2026 V 31 w(page)p 556 2026 V 28 w(cap\(slot)p 848
2026 V 29 w(cap\))121 2126 y(ne)n(w)p 263 2126 V 29 w(pg)f
Fw( )i FM(b)n(uy)p 623 2126 V 29 w(page\(bank\);)121
2226 y(clone\(ne)n(w)p 472 2226 V 27 w(pg,slot)p 724
2226 V 29 w(cap\);)e FI(copies)h(R)m(O)g(pa)o(g)o(e)g(to)g(ne)o(w)h(pa)
o(g)o(e)121 2325 y FM(store\(cap,ne)n(w)p 590 2325 V
27 w(page,slot\)\);)d FI(Update)h(containing)f(node)121
2425 y FM(return;)h FI(//)i(r)m(estart)g(faulted)e(pr)l(ocess)p
FM(;)p 37 2478 3563 4 v 37 2813 a Fz(3.6)119 b(Session)30
b(Management)37 3129 y FM(While)25 b(no)f(implementation)e(of)h
(session)i(management)d(e)o(xists)i(in)g(the)g(ER)m(OS)h(prototype,)e
(a)h(description)f(of)g(the)h(oper)n(-)37 3279 y(ating)g(system)h(w)o
(ould)e(not)h(be)h(complete)e(without)g(a)i(sk)o(etch)f(of)g(ho)n(w)g
(session)h(management)d(is)j(accomplished)e(in)h(this)37
3428 y(style)d(of)f(system.)162 3620 y(All)g(terminals)f(are)g(guarded)
f(by)g(\223front)h(end\224)f(objects.)25 b(The)19 b(terminal)f(front)h
(end)f(\()p FF(termf)o(e)p FM(\))h(sits)i(between)d(the)i(client)37
3769 y(and)27 b(the)g(actual)f(terminal)h(de)n(vice)f(\(Figure)f
(3.3\).)44 b(On)27 b(the)g(client)g(side,)i(all)e(data)g(is)h(passed)f
(through)d(to)j(the)g(terminal)37 3919 y(itself.)32 b(On)22
b(the)g(terminal)f(side,)i(all)f(k)o(e)o(ystrok)o(es)f(e)o(xcept)g(the)
h(\223secure)f(attention\224)h(and)f(the)h(\223disconnect\224)e
(operation)h(are)37 4068 y(passed)g(through)d(to)i(the)g(client.)162
4260 y(All)28 b(of)e(the)h(e)o(xceptional)e(cases)j(causes)f(the)g
(client)g(to)h(be)f(placed)f(\223on)g(hold.)-6 b(\224)45
b(This)27 b(appears)f(to)h(the)g(client)g(code)37 4410
y(as)f(though)d(the)h(user)h(typed)e(the)i(\003o)n(w)g(control)e(k)o(e)
o(y)h(and)g(w)o(alk)o(ed)g(a)o(w)o(ay)-5 b(.)38 b(While)25
b(the)g(client)f(is)i(on)e(hold,)h(access)g(to)g(the)37
4559 y(terminal)16 b(is)h(transferred)d(to)i(the)g(control)f(channel,)h
(which)f(is)i(held)f(by)g(the)g(session)g(manager)-5
b(.)23 b(On)16 b(receipt)f(of)h(control,)g(the)37 4709
y(session)23 b(manager)e(uses)j(the)e(control)f(channel)h(to)h(nullify)
e(the)i(terminal)e(de)n(vice)h(connection,)f(and)h(acti)n(v)n(ates)h(a)
g(distinct)37 4858 y FJ(termfe)c FM(on)f(the)h(same)g(terminal)g(de)n
(vice)f(that)h(is)g(connected)e(to)i(a)h(login)e(authenticator)f
(session.)25 b(This)19 b(session)g(is)h(o)n(wned)37 5008
y(by)g(the)g(login)g(authenticator)m(,)e(which)h(also)i(holds)e(a)i
(control)e(channel)g(to)h(its)h(session.)162 5200 y(The)k(login)g
(authenticator)e(performs)h(whate)n(v)o(er)g(form)h(of)g
(authentication)e(is)k(appropriate)c(to)i(the)h(system.)41
b(When)1777 5410 y(50)p eop
%%Page: 51 67
51 66 bop 337 31 3563 7 v 337 105 a FJ(Figur)o(e)20 b(3.3)f
FM(T)-6 b(erminal)20 b(front)f(end.)p 337 142 3563 4
v 1140 242 a
 15129804 7433338 0 0 15129804 7433338 startTexFig
 1140 242 a
%%BeginDocument: termfe.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: termfe.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:11 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 230 113
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-7.0 112.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 2853 m -1000 -1000 l 4934 -1000 l 4934 2853 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 487 1500 346 346 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1679 1500 346 346 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1725 375 375 375 0 360 DrawEllipse gs col0 s gr

% Polyline
gs  clippath
1206 1545 m 1350 1575 l 1206 1605 l 1365 1605 l 1365 1545 l cp
clip
n 825 1575 m 1350 1575 l gs col0 s gr gr

% arrowhead
n 1206 1545 m 1350 1575 l 1206 1605 l 1230 1575 l 1206 1545 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
969 1455 m 825 1425 l 969 1395 l 810 1395 l 810 1455 l cp
clip
n 1350 1425 m 825 1425 l gs col0 s gr gr

% arrowhead
n 969 1455 m 825 1425 l 969 1395 l 945 1425 l 969 1455 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2406 1545 m 2550 1575 l 2406 1605 l 2565 1605 l 2565 1545 l cp
clip
n 2025 1575 m 2550 1575 l gs col0 s gr gr

% arrowhead
n 2406 1545 m 2550 1575 l 2406 1605 l 2430 1575 l 2406 1545 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2169 1455 m 2025 1425 l 2169 1395 l 2010 1395 l 2010 1455 l cp
clip
n 2550 1425 m 2025 1425 l gs col0 s gr gr

% arrowhead
n 2169 1455 m 2025 1425 l 2169 1395 l 2145 1425 l 2169 1455 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1680 1056 m 1650 1200 l 1620 1056 l 1620 1215 l 1680 1215 l cp
clip
n 1650 750 m 1650 1200 l gs col0 s gr gr

% arrowhead
n 1680 1056 m 1650 1200 l 1620 1056 l 1650 1080 l 1680 1056 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1770 819 m 1800 675 l 1830 819 l 1830 660 l 1770 660 l cp
clip
n 1800 1200 m 1800 675 l gs col0 s gr gr

% arrowhead
n 1770 819 m 1800 675 l 1830 819 l 1800 795 l 1770 819 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Bold ff 180.00 scf sf
2550 1575 m
gs 1 -1 sc (Terminal Device) col0 sh gr
/Times-Roman ff 180.00 scf sf
1425 1575 m
gs 1 -1 sc (termfe) col0 sh gr
/Times-Roman ff 180.00 scf sf
1425 300 m
gs 1 -1 sc (session) col0 sh gr
/Times-Roman ff 180.00 scf sf
1425 450 m
gs 1 -1 sc (manager) col0 sh gr
/Times-Roman ff 180.00 scf sf
225 1575 m
gs 1 -1 sc (client) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 1286 3563 4 v 337 1549 a FM(authentication)k(is)i(successfully)e
(accomplished,)g(the)i(login)e(authenticator)f(reaches)i(into)g(its)h
(database)f(of)g(\(user)m(,)g(ses-)337 1698 y(sion\))19
b(pairs)g(and)f(e)o(xtracts)g(the)h(primary)e(session)j(associated)e
(with)h(this)h(user)-5 b(.)24 b(It)19 b(disconnects)f(its)i(o)n(wn)e
FJ(termfe)h FM(from)f(the)337 1848 y(terminal,)i(reconnects)e(the)j
(user')-5 b(s)20 b(primary)f(session,)h(and)g(tak)o(es)g(the)g(user)h
(session)f FJ(termfe)g FM(of)n(f)f(of)h(\223hold.)-6
b(\224)462 2004 y(Conceptually)h(,)20 b(the)i(user')-5
b(s)22 b(login)f(session)h(ne)n(v)o(er)e(actually)h(e)o(xits.)30
b(If)22 b(the)f(user)h(runs)f(in)h(an)g(operating)e(en)m(vironment)337
2154 y(that)h(e)o(xpects)e(a)i(ne)n(w)f(\223shell\224)g(whene)n(v)o(er)
e(a)j(login)e(occurs,)h(this)g(can)g(be)g(simulated)g(by)g(a)g
(suitable)g(front)g(end)f(object.)337 2546 y Fz(3.7)119
b(Closing)31 b(Comments)337 2795 y FM(W)m(ith)20 b(the)g(e)o(xception)d
(of)i(the)h(session)f(manager)f(described)g(in)i(Section)f(3.6,)f(the)i
(objects)f(described)f(in)h(this)h(chapter)f(are)337
2944 y(implemented)h(and)g(w)o(orking)f(\(along)h(with)h(se)n(v)o(eral)
f(others)h(omitted)f(here\).)26 b(It)c(should)e(be)g(emphasized,)g(ho)n
(we)n(v)o(er)m(,)e(that)337 3094 y(operating)24 b(system)i
(implementation)d(must)i(at)h(this)g(stage)f(be)h(considered)d(a)j
(prototype.)38 b(Its)26 b(description)e(is)i(included)337
3243 y(because)32 b(the)g(operating)f(system)h(structure)g(has)g
(implications)f(for)h(system)h(security)e(and)h(performance.)58
b(W)m(ithout)337 3393 y(an)30 b(understanding)c(of)k(at)g(least)g
(these)g(f)o(acilities,)i(neither)d(the)g(formal)g(e)o(xamination)e(of)
i(Chapters)h(5)f(and)g(6)h(nor)f(the)337 3542 y(performance)18
b(e)n(v)n(aluation)g(presented)h(in)h(Chapter)g(9)g(can)g(be)g
(understood)e(in)j(conte)o(xt.)462 3698 y(W)m(ith)j(respect)g(to)g(the)
g(proof)e(construction,)g(the)i(correctness)f(of)h(the)f(space)h(bank)f
(implementation)f(is)i(crucial.)36 b(In)337 3848 y(particular)m(,)21
b(the)h(space)g(bank)f(must)h(ne)n(v)o(er)e(reallocate)i(an)f(object)h
(that)g(is)h(already)e(in)h(use.)30 b(The)22 b(formal)f(e)n(v)n
(aluation)f(will)337 3997 y(\002nesse)e(this)f(issue)g(by)g(assuming)f
(that)g(there)h(is)g(a)g(lar)o(ge)f(\002nite)h(pool)f(of)g(unallocated)
f(objects,)i(and)f(that)h(these)g(objects)g(are)337 4147
y(ne)n(v)o(er)h(reused.)24 b(The)19 b(space)g(bank)f(accomplishes)g
(this)h(by)g(rescinding)e(access)j(to)f(deallocated)f(objects)h(and)f
(re-inserting)337 4296 y(these)j(objects)f(into)g(the)g(unallocated)e
(pool.)462 4452 y(W)m(ith)26 b(respect)f(to)h(performance,)e(the)i
(principal)e(issues)j(that)f(must)g(be)f(addressed)g(by)g(an)h
(operating)e(system)h(con-)337 4602 y(structed)30 b(on)f(top)g(of)h
(the)f(ER)m(OS)i(virtual)e(machine)f(are)i(storage)f(allocation,)i
(page)e(f)o(ault)g(handling,)h(and)f(in)m(v)n(ocation)337
4751 y(of)i(user)g(de\002ned)f(objects)g(\(i.e.)57 b(interprocess)29
b(communication\).)54 b(Storage)30 b(allocation)g(\(or)g
(deallocation\))f(must)i(be)337 4901 y(performed)23 b(in)j(association)
f(with)h(e)n(v)o(ery)e(process)h(creation,)g(e)n(v)o(ery)f(memory)g(e)o
(xception,)h(and)g(e)n(v)o(ery)f(serialization)h(of)337
5050 y(objects)d(into)f(some)g(canonical)f(interchange)f(format)h
(\(\002les\).)29 b(Each)21 b(of)g(these)g(operations)f(also)i(requires)
e(multiple)h(user)337 5200 y(object)j(in)m(v)n(ocations.)34
b(The)23 b(implementation)f(of)i(the)f(space)h(bank)f(and)g(the)h
(virtual)f(cop)o(y)g(object)g(described)g(here)g(ha)n(v)o(e)2077
5410 y(51)p eop
%%Page: 52 68
52 67 bop 37 108 a FM(been)18 b(carefully)f(performed)e(to)k(satisfy)f
(these)g(performance)e(demands.)23 b(The)17 b(underlying)f(virtual)h
(machine)g(implemen-)37 257 y(tation)j(pro)o(vides)f(an)h(e)o
(xceptionally)e(f)o(ast)j(interprocess)d(in)m(v)n(ocation)h(mechanism.)
37 601 y FG(3.7.1)99 b(Allocation)25 b(vs.)30 b(Access)37
823 y FM(An)20 b(interesting)e(side)h(note)g(to)g(this)h(design)f(is)h
(that)f(it)h(is)g(straightforw)o(ard)d(to)i(design)g(systems)g(in)h
(which)e(there)h(is)h(a)g(clean)37 972 y(separation)j(between)h(the)g
(ability)g(to)g(allocate)g(system)h(resources)e(and)g(the)i(ability)e
(to)i(e)o(xamine)e(the)h(content)f(of)h(those)37 1121
y(resources.)f(A)18 b(system)f(administrator)e(must)i(create)g(the)g
(initial)g(operating)e(en)m(vironment)f(for)i(each)h(user)-5
b(.)24 b(T)-7 b(ypically)i(,)16 b(this)37 1271 y(is)23
b(done)d(by)g(\002rst)i(creating)e(a)i(user)f(speci\002c)g(subspace)g
(bank)f(and)g(allocating)g(the)i(entire)e(operating)g(en)m(vironment)e
(from)37 1420 y(the)23 b(storage)e(authorized)f(for)h(that)i(user)-5
b(.)30 b(The)22 b(administrator)e(retains)i(a)h(cop)o(y)e(of)h(the)g
(user')-5 b(s)22 b(space)g(bank)f(capability)g(so)37
1570 y(that)g(the)f(account)f(can)h(be)g(destro)o(yed)f(along)g(with)h
(all)h(of)f(its)h(storage.)162 1728 y(Note,)27 b(ho)n(we)n(v)o(er)m(,)d
(that)i(possession)f(of)g(this)h(space)g(bank)e(capability)h(does)g
FI(not)i FM(con)m(v)o(e)o(y)c(to)j(the)f(administrator)f(an)o(y)37
1877 y(ability)c(to)g(e)o(xamine)e(the)i(data)f(stored)g(in)h(that)g
(space)g(by)f(the)h(user)-5 b(.)25 b(Conceptually)-5
b(,)17 b(the)j(user)f(has)h(a)g(contract)f(to)h(use)g(their)37
2027 y(en)m(vironment)i(in)i(an)o(y)g(w)o(ay)g(the)o(y)f(see)i(\002t,)h
(and)e(the)g(administrator)f(has)h(no)g(authority)-5
b(,)23 b(need,)h FI(or)h(ability)f FM(to)h(inspect)f(the)37
2176 y(user')-5 b(s)21 b(premises.)162 2334 y(T)-7 b(w)o(o)32
b(recent)g(le)o(gal)g(decisions)f(suggest)h(that)g(this)h(separation)e
(of)h(concerns)f(may)g(be)i(highly)e(desirable)g(from)g(a)37
2484 y(standpoint)19 b(of)h(liability)-5 b(.)162 2642
y(In)23 b(Stratton)g(Oakmont)f(v)-5 b(.)34 b(Prodigy)22
b(Services)i(Co.,)1699 2612 y FC(9)1756 2642 y FM(the)f(Court)h(held)e
(that)i FI(because)e FM(Prodigy)g(e)o(x)o(ercised)g(editorial)37
2791 y(control)d(o)o(v)o(er)g(content,)g(it)i(played)e(the)h(role)g(of)
g(an)g(originating)e(publisher:)245 3033 y(PR)m(ODIGY)k(held)f(itself)h
(out)f(as)i(an)e(on-line)g(service)g(that)h(e)o(x)o(ercised)e
(editorial)h(control)f(o)o(v)o(er)g(the)i(content)245
3183 y(of)17 b(messages)h(posted)f(on)g(its)h(computer)e(b)n(ulletin)h
(boards,)g(thereby)f(e)o(xpressly)g(dif)n(ferentiating)f(itself)j(from)
245 3332 y(its)j(competition)e(and)g(e)o(xpressly)g(lik)o(ening)g
(itself)i(to)g(a)f(ne)n(wspaper)-5 b(.)37 3574 y(Prodigy)19
b(w)o(as)i(therefore)e(held)g(liable)i(for)e(libelous)h(statements)g
(made)g(on)f(its)j(\223Mone)o(y)c(T)-7 b(alk\224)20 b(b)n(ulletin)g
(board.)162 3732 y(In)k(Smith)h(v)-5 b(.)38 b(California,)935
3702 y FC(10)1023 3732 y FM(the)24 b(Court)h(struck)f(do)n(wn)g(on)g
(First)h(Ammendmant)e(grounds)g(an)h(ordinance)f(that)i(im-)37
3882 y(posed)c(liability)h(on)f(a)g(bookseller)f(for)h(possession)g(of)
g(an)h(obscene)e(book,)g(re)o(gardless)g(of)h(whether)g(the)g
(bookseller)f(had)37 4031 y(kno)n(wledge)i(of)h(the)h(book')-5
b(s)22 b(contents.)34 b(In)24 b(Cubby)e(v)-5 b(.)35 b(CompuServ)o(e,)
2109 4001 y FC(11)2193 4031 y FM(the)24 b(Court)f(e)o(xtended)e(the)j
(same)g(protection)d(to)37 4180 y(Compuserv)o(e)e(because)g(Compuserv)o
(e)f(w)o(as)j FI(unable)e FM(to)h(e)o(x)o(ercise)g(editorial)f
(control:)245 4422 y(While)j(CompuServ)o(e)d(may)i(decline)f(to)i
(carry)e(a)i(gi)n(v)o(en)e(publication)f(altogether)m(,)h(in)h(reality)
-5 b(,)21 b(once)f(it)i(does)245 4572 y(decide)27 b(to)g(carry)g(a)g
(publication,)g(it)h(will)h(ha)n(v)o(e)d(little)i(or)f(no)g(editorial)g
(control)f(o)o(v)o(er)g(that)h(publication')-5 b(s)245
4721 y(contents.)24 b(This)19 b(is)h(especially)f(so)g(when)g
(CompuServ)o(e)e(carries)i(the)g(publication)e(as)j(part)f(of)g(a)g
(forum)f(that)245 4871 y(is)j(managed)e(by)g(a)i(compan)o(y)d
(unrelated)h(to)h(CompuServ)o(e.)p 37 4958 1425 4 v 37
5014 a FB(9)104 5037 y FA(1995)d(WL)f(323710)i(\(N.Y)-9
b(.)16 b(Sup.)21 b(Ct.)g(May)c(24,)g(1995\).)37 5095
y FB(10)104 5119 y FA(361)g(U.S.)f(147,)h(152-53,)g(80)g(S.Ct.)k(215,)
16 b(218-19,)i(4)f(L.Ed.2d)e(205)i(\(1959\).)37 5176
y FB(11)104 5200 y FA(776)g(F)-5 b(.)16 b(Supp.)21 b(135)c(\(S.D.N.Y)-9
b(.)15 b(1991\).)1777 5410 y FM(52)p eop
%%Page: 53 69
53 68 bop 337 108 a FM(In)25 b(the)g(e)o(yes)g(of)g(the)g(la)o(w)-5
b(,)25 b(companies)f(that)h(act)h(as)f(redistrib)n(utors)f(or)h(common)
e(carriers)h(are)h(held)g(to)g(the)g(lesser)g(le)o(gal)337
257 y(standard)20 b(of)f(\223kno)n(w)g(or)h(ha)n(v)o(e)g(reason)f(to)i
(kno)n(w\224)e(where)g(liability)h(is)i(concerned.)2077
5410 y(53)p eop
%%Page: 54 70
54 69 bop 1777 5410 a FM(54)p eop
%%Page: 55 71
55 70 bop 1869 1819 a FD(P)n(art)44 b(II)1797 2358 y
FK(Theory)2077 5410 y FM(55)p eop
%%Page: 56 72
56 71 bop eop
%%Page: 57 73
57 72 bop 337 835 a FD(Chapter)45 b(4)337 1375 y FK(The)51
b Fl(Diminish-T)-19 b(ak)-6 b(e)53 b FK(Access)f(Model)337
1857 y FM(Because)19 b(capability)f(systems)i(permit)e(the)h(transfer)e
(of)i(access)g(rights)g(as)g(well)h(as)f(information)e(between)h
(programs,)f(an)337 2007 y(access)22 b(model)e(for)h(such)f(a)i(system)
f(must)g(tak)o(e)g(into)g(account)f(both)g(information)e(\003o)n(w)k
(and)e(access)i(rights)e(\003o)n(w)-5 b(.)27 b(Gi)n(v)o(en)337
2156 y(an)21 b(initial)g(system)f(con\002guration,)e(and)i(a)h
(capability)f(accessible)g(to)h(process)f Fy(p)p Fx(1)p
FM(,)g(this)h(model)f(must)g(re)n(v)o(eal)g(what)g(other)337
2306 y(processes)h(might)f(obtain)g(that)h(capability)f(from)f
Fy(p)p Fx(1)p FM(,)i(and)f(what)h(parties)f(are)h(able)g(to)g
(communicate)d(as)k(a)f(consequence)337 2455 y(of)f(this)h
(propagation.)462 2605 y(The)e(classic)h(access)g(model)f(for)g
(capability)f(systems)i(is)g(the)g FI(tak)o(e-gr)o(ant)f
FM(model)f([Jon76)n(,)i(Sn)o(y77)n(],)f(as)i(enhanced)c(by)337
2755 y(Bishop)k([Bis79)o(].)27 b(In)21 b(this)g(model,)f(the)g
(protection)f(state)j(of)e(a)i(system)e(is)i(modeled)d(by)i(a)g
(directed)f(graph)f(whose)h(nodes)337 2904 y(are)g(subjects)g
(\(processes\))e(and)h(objects,)g(and)g(whose)h(arcs)f(represent)g
(capabilities)g(and)g(their)g(associated)h(access)g(rights)337
3054 y(\()p FE(tak)m(e)q FM(,)g FE(gran)m(t)q FM(,)g
FE(read)q FM(,)g(and)f FE(write)p FM(\).)24 b(By)d(constructing)c(a)j
(transiti)n(v)o(e)f(re\003e)o(xi)n(v)o(e)f(closure)h(on)g(a)h(gi)n(v)o
(en)f(initial)g(graph,)g(the)337 3203 y(potential)h(e)o(xposure)e(of)i
(both)f(access)i(rights)f(and)g(information)d(can)j(be)h(re)n(v)o
(ealed.)462 3353 y(Systems)c(whose)f(access)h(policies)f(can)g(be)g
(described)f(within)h(the)h FI(tak)o(e-gr)o(ant)f FM(model)f(cannot)h
(enforce)f(con\002nement)337 3503 y([Kar88)o(].)622 3472
y FC(1)679 3503 y FM(The)o(y)h(therefore)g(ha)n(v)o(e)h(limited)g
(utility)g(from)f(the)i(standpoint)e(of)h(information)e(or)i(f)o(ault)g
(containment.)22 b(While)337 3652 y(it)d(is)f(possible)g(within)f(a)h
FI(tak)o(e-gr)o(ant)g FM(system)f(to)h(construct)f(a)h(subsystem)f
(that)h(is)g(con\002ned,)f(it)h(is)g(not)g(possible)f(to)h(answer)337
3801 y FI(post)25 b(hoc)e FM(whether)g(a)i(gi)n(v)o(en)e(subsystem)g
(is)i(con\002ned)e(without)g(performing)e(global)j(graph)e(analysis.)37
b(In)24 b(general,)g(the)337 3951 y(party)d(inquiring)f(as)i(to)g(the)f
(con\002nement)f(status)i(of)f(a)h(subsystem)f(lacks)h(the)g(authority)
d(to)j(perform)e(such)h(an)g(analysis;)337 4100 y(the)g(problem)e(is)i
(therefore)d(not)i(endogenously)e(decidable.)24 b(Further)m(,)19
b(a)h(global)g(graph)f(analysis)h(of)g(a)h(complete)e(system)337
4250 y(has)i(prohibiti)n(v)o(e)d(cost)i(in)h(both)e(space)h(and)g
(time.)462 4400 y(Since)26 b(it)g(is)h(claimed)e(that)h(the)g(ER)m(OS)g
(system)g(enforces)f(con\002nement,)g(it)h(is)h(necessary)e(for)g(this)
h(dissertation)f(to)337 4549 y(sho)n(w:)441 4767 y(1.)41
b(Ho)n(w)20 b(the)g(ER)m(OS)h(access)g(model)e(dif)n(fers)g(from)h
FI(tak)o(e-gr)o(ant)q FM(.)441 4986 y(2.)41 b(That)25
b(the)g(ER)m(OS)g(virtual)f(machine)g(enforces)g(con\002nement,)g(in)h
(the)g(sense)g(that)g(an)g(initially)g(con\002ned)e(system)p
337 5042 1425 4 v 337 5097 a FB(1)404 5121 y FA(Kar)o(ger')l(s)d(claim)
g(is)f(that)i(capability)i(systems)c(as)g(described)i(by)e(V)-7
b(an)19 b(Horn)g(in)h([Den66)q(])f(cannot)i(enforce)f(con\002nement.)29
b(The)19 b Fu(tak)o(e-gr)o(ant)k FA(access)404 5200 y(model)18
b(describes)g(such)g(systems.)i(It)d(follo)n(ws)i(from)d(this)i
(statement)h(that)f Fu(tak)o(e-gr)o(ant)j FA(systems)c(cannot)i
(enforce)f(multile)n(v)o(el)j(security)e(policies.)2077
5410 y FM(57)p eop
%%Page: 58 74
58 73 bop 245 108 a FM(cannot)19 b(become)g(uncon\002ned.)141
330 y(3.)41 b(That)19 b(the)h(requirements)e(for)h(initial)g
(con\002nement)f(are)i(not)f(o)o(v)o(erly)f(restricti)n(v)o(e,)g(in)i
(that)g(the)o(y)f(permit)f(an)i(interest-)245 479 y(ing)g(and)g(useful)
f(class)i(of)f(programs)f(to)h(be)g(run.)37 700 y(The)27
b(\002rst)h(is)f(the)g(subject)g(of)f(this)h(chapter)-5
b(.)45 b(The)26 b(second)g(and)g(third)g(are)h(the)g(subject)g(of)f
(Chapters)h(5)f(and)h(6.)45 b(In)26 b(this)37 849 y(chapter)m(,)18
b(I)h(\002rst)h(describe)e(the)g FI(tak)o(e-gr)o(ant)h
FM(model,)f(and)g(then)h(describe)f(enhancements)e(to)j(this)h(model)e
(that)h(account)e(for)37 999 y(the)25 b(dif)n(ferences)e(between)g
(\223unmodi\002ed\224)g(capability)g(systems)i(and)f(ER)m(OS.)h(These)f
(enhancements)e(account)i(for)g(the)37 1148 y(impact)c(of)g(the)g
Fy(w)r(eak)s(en)p Fx(\()p Fw(\001)p Fx(\))h FM(operation)e(and)g(the)h
(ef)n(fect)g(of)g(modi\002able)f(memory)f(object)i(metadata.)37
1511 y Fz(4.1)119 b(The)31 b Fk(T)-11 b(ak)l(e-Grant)30
b Fz(Model)37 1750 y FM(In)19 b(the)h FI(tak)o(e-gr)o(ant)f
FM(access)g(model,)g(the)g(protection)e(state)j(of)f(a)h(system)f(is)h
(modeled)e(by)h(a)g(directed)g(graph)e(whose)i(nodes)37
1899 y(are)f(subjects)h(\(processes\))e(and)g(objects,)h(and)g(whose)f
(arcs)i(represent)e(capabilities)g(and)h(their)g(associated)f(access)i
(rights.)37 2049 y(The)30 b(model)g(has)g(four)f(access)i(rights,)h
(each)e(con)m(v)o(e)o(ying)d(authority)h(to)j(perform)d(an)i(operation)
f(of)g(the)i(same)f(name:)37 2198 y FE(read)q FM(,)24
b FE(write)p FM(,)g FE(tak)m(e)q FM(,)g(and)e FE(gran)m(t)q
FM(.)34 b(The)23 b FE(read)h FM(and)e FE(write)h FM(rights)g(con)m(v)o
(e)o(y)e(the)i(authority)e(to)i(e)o(xamine)f(and)g(modify)37
2347 y(data.)35 b FE(T)-8 b(ak)m(e)25 b FM(and)e FE(gran)m(t)h
FM(con)m(v)o(e)o(y)d(the)j(authority)d(to)j(read)e(and)h(write)h
(\(respecti)n(v)o(ely\))d(capabilities.)34 b(Ev)o(ery)22
b(capability)37 2497 y(has)27 b(a)f(set)h(of)f(access)h(rights)f(tak)o
(en)f(from)h(this)g(set.)44 b(Possession)26 b(of)g(a)h(capability)e
(allo)n(ws)h(the)g(holder)f(to)h(perform)f(the)37 2646
y(authorized)19 b(operation\(s\))f(on)h(the)i(object)e(designated)g(by)
h(that)g(capability)-5 b(.)162 2797 y(Some)31 b(descriptions)g(of)g
(the)g FI(tak)o(e-gr)o(ant)h FM(model)e(include)h(a)h
FE(call)g FM(operation)d([Jon76)n(].)59 b(As)33 b(this)f(operation)d
(has)37 2947 y(no)24 b(impact)f(on)g(the)h(propagation)c(of)k
(authority)-5 b(,)22 b(and)h(a)h(dif)n(ferent)e(interprocess)g
(communication)f(model)i(semantics)h(is)37 3096 y(desired)j(for)f
FI(diminish-tak)o(e)g FM(than)g(the)h(one)g(usually)f(described)g(in)h
(association)f(with)i(the)f FI(tak)o(e-gr)o(ant)f FM(model,)i(I)f(ha)n
(v)o(e)37 3246 y(omitted)20 b(discussion)g(of)g(the)g
FE(call)g FM(right)g(in)g(the)h(description)d(of)i FI(tak)o(e-gr)o(ant)
g FM(pro)o(vided)e(here.)37 3550 y FG(4.1.1)99 b(Summary)26
b(of)f(Notation)37 3758 y FM(Consider)19 b(the)g(graph)e(describing)h
(tw)o(o)h(processes)g Fy(p)p Fx(1)g FM(and)f Fy(p)p Fx(2)h
FM(and)f(an)h(object)g Fy(o)h FM(\(Figure)e(4.1\).)23
b Fy(p)p Fx(1)c FM(has)g(a)h(capability)e(to)h Fy(o)37
3908 y FM(con)m(v)o(e)o(ying)d(read)i(and)g(write)h(access)h(to)f
Fy(o)p FM(.)25 b Fy(p)p Fx(2)19 b FM(has)g(a)g(capability)f(to)h
Fy(o)h FM(con)m(v)o(e)o(ying)15 b(read)j(access.)51 b(V)-5
b(ie)n(wed)18 b(statically)-5 b(,)19 b(this)p 37 4035
3563 7 v 37 4109 a FJ(Figur)o(e)h(4.1)f FM(Process)i(ha)n(ving)e
(read-write)g(access)i(to)f(an)g(object.)p 37 4147 3563
4 v 1015 4246 a
 12366970 3683778 0 0 12366970 3683778 startTexFig
 1015 4246 a
%%BeginDocument: tg-rw.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: tg-rw.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:11 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 188 56
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-14.0 62.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 2027 m -1000 -1000 l 4362 -1000 l 4362 2027 l cp clip
 0.06000 0.06000 sc
% Arc
7.500 slw
gs  clippath
1474 479 m 1500 600 l 1420 506 l 1480 627 l 1534 600 l cp
clip
n 1072.5 727.5 446.1 -153.0 -16.6 arc
gs col0 s gr
 gr

% arrowhead
n 1474 479 m 1500 600 l 1420 506 l 1447 492 l 1474 479 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2179 504 m 2100 600 l 2124 479 l 2066 601 l 2121 626 l cp
clip
n 2488.9 701.8 402.0 -26.1 -165.3 arcn
gs col0 s gr
 gr

% arrowhead
n 2179 504 m 2100 600 l 2124 479 l 2151 492 l 2179 504 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 525 750 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3084 713 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 1500 600 m 2100 600 l 2100 900 l 1500 900 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
975 225 m
gs 1 -1 sc (r, w) col0 sh gr
/Times-Roman ff 180.00 scf sf
450 750 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 825 m
gs 1 -1 sc (o) col0 sh gr
/Times-Roman ff 180.00 scf sf
3000 750 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2475 225 m
gs 1 -1 sc (r) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 4816 3563 4 v 37 5050 a FM(access)e(graph)e(pro)o(vides)f
(information)g(equi)n(v)n(alent)h(to)h(that)g(of)g(the)g
(subject-object)f(access)h(matrix)g(\(T)-7 b(able)17
b(4.1\))f(using)h(the)37 5200 y(model)22 b(\002rst)g(described)f(by)h
(Lampson)e([Lam71)n(].)31 b(Each)21 b(arc)h(represents)f(a)i
(capability)e(stored)g(in)h(an)g(object)g(or)f(held)h(by)1777
5410 y(58)p eop
%%Page: 59 75
59 74 bop 337 108 a FM(a)23 b(process.)31 b(The)22 b(arro)n(w)f
(identi\002es)h(the)g(object)g(designated)f(by)h(the)g(capability)-5
b(,)21 b(while)i(the)f(label)g(describes)g(the)g(access)337
257 y(rights)e(that)h(the)f(capability)f(con)m(v)o(e)o(ys.)p
337 445 3563 7 v 337 518 a FJ(T)-8 b(able)22 b(4.1)d
FM(Access)i(matrix)f(corresponding)c(to)21 b(Figure)e(4.1.)p
337 556 3563 4 v 1970 756 4 100 v 2054 726 a Fy(o)p 2175
756 V 153 w(:)14 b(:)g(:)p 1789 759 619 4 v 1838 829
a(p)p Fx(1)p 1970 859 4 100 v 99 w FM(r)m(,w)p 2175 859
V 120 w Fy(:)g(:)g(:)p 1789 862 619 4 v 1838 932 a(p)p
Fx(2)p 1970 961 4 100 v 138 w FM(r)p 2175 961 V 159 w
Fy(:)g(:)g(:)p 337 1064 3563 4 v 337 1679 a FG(4.1.2)99
b(Dir)n(ect)26 b(vs.)k(P)n(otential)25 b(Access)337 1945
y FM(Unlik)o(e)f(the)g(access)g(matrix)f(model,)h(the)g
FI(tak)o(e-gr)o(ant)f FM(model)g(is)i(concerned)c(with)j(both)f(the)h
FI(dir)m(ect)i FM(access)e(rights)f(con-)337 2094 y(v)o(e)o(yed)e(by)h
(capabilities)f(and)h(the)g FI(potential)f FM(access)i(implied)e(by)h
(those)f(rights.)31 b(Potential)21 b(access)i(includes)f(both)f(those)
337 2244 y(access)g(rights)f(that)g(can)g(arise)g(from)f(e)o(xchange)f
(of)i(capabilities)f(\()p FF(de)h(jure)h FM(access)g(rights\))e(and)g
(those)h(access)h(rights)e(that)337 2393 y(are)26 b(implied)f(by)h(a)g
(particular)e(graph)h(\()p FF(de)g(facto)g FM(access)h(rights\))f
([Bis79].)41 b(The)26 b(graph)e(representation)g(readily)h(lends)337
2542 y(itself)i(to)g(simultaneous)d(e)o(xpression)h(of)h(both,)g(as)h
(illustrated)f(in)g(Figure)g(4.2.)129 b(The)26 b(initial)g(authorities)
f(are)h(sho)n(wn)337 2692 y(as)f(solid)f(arcs,)g(while)g(the)g
(resulting)e(potential)h(access)i(is)f(sho)n(wn)f(as)h(dashed)f(arcs.)
36 b FI(De)24 b(facto)f FM(access)i(is)f(sho)n(wn)f(using)337
2841 y(parenthesized)k(labels.)51 b FI(De)29 b(jur)m(e)g
FM(access)h(subsumes)e FI(de)g(facto)h FM(access;)34
b(Where)28 b(both)g FI(de)h(jur)m(e)g FM(and)f FI(de)h(facto)f
FM(access)337 2991 y(e)o(xists,)21 b(only)e FI(de)h(jur)m(e)h
FM(access)g(appears)e(in)h(the)g(graph.)p 337 3178 3563
7 v 337 3252 a FJ(Figur)o(e)g(4.2)f FM(Potential)h(access)h(con)m(v)o
(e)o(yed)c(by)j(Figure)g(4.1.)p 337 3290 3563 4 v 1094
3390 a
 15853404 6183485 0 0 15853404 6183485 startTexFig
 1094 3390 a
%%BeginDocument: tg-rw_t.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: tg-rw_t.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:12 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 241 94
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-14.0 100.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 2659 m -1000 -1000 l 5242 -1000 l 5242 2659 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 3964 731 270 270 0 360 DrawEllipse gs col0 s gr

/Times-Roman ff 180.00 scf sf
3900 750 m
gs 1 -1 sc (p2) col0 sh gr
% Arc
gs  clippath
1883 496 m 1950 600 l 1842 539 l 1940 632 l 1982 588 l cp
clip
n 1274.4 1210.8 910.8 -131.2 -42.1 arc
gs col0 s gr
 gr

% arrowhead
n 1883 496 m 1950 600 l 1842 539 l 1863 518 l 1883 496 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2655 535 m 2550 600 l 2613 493 l 2518 590 l 2561 632 l cp
clip
n 3184.8 1119.6 820.4 -46.5 -140.7 arcn
gs col0 s gr
 gr

% arrowhead
n 2655 535 m 2550 600 l 2613 493 l 2634 514 l 2655 535 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3786 1099 m 3900 1050 l 3823 1147 l 3930 1065 l 3894 1017 l cp
clip
 [60] 0 sd
n 2212.5 -1021.9 2672.1 129.2 50.8 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 3786 1099 m 3900 1050 l 3823 1147 l 3805 1123 l 3786 1099 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
776 1046 m 675 975 l 798 990 l 672 942 l 650 998 l cp
clip
 [60] 0 sd
n 2212.5 -2812.5 4087.7 67.9 112.1 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 776 1046 m 675 975 l 798 990 l 787 1018 l 776 1046 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3634 867 m 3750 825 l 3667 917 l 3779 841 l 3746 792 l cp
clip
 [60] 0 sd
n 3095.6 -7.5 1058.9 121.0 51.8 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 3634 867 m 3750 825 l 3667 917 l 3651 892 l 3634 867 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
833 917 m 750 825 l 866 867 l 754 792 l 721 841 l cp
clip
 [60] 0 sd
n 1404.4 -7.5 1058.9 59.0 128.2 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 833 917 m 750 825 l 866 867 l 849 892 l 833 917 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 525 750 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 1950 600 m 2550 600 l 2550 900 l 1950 900 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
450 750 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2175 825 m
gs 1 -1 sc (o) col0 sh gr
/Times-Roman ff 180.00 scf sf
1200 225 m
gs 1 -1 sc (r, w) col0 sh gr
/Times-Roman ff 180.00 scf sf
3150 225 m
gs 1 -1 sc (r) col0 sh gr
/Times-Roman ff 180.00 scf sf
2100 1200 m
gs 1 -1 sc (\(r\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
2025 1575 m
gs 1 -1 sc (\(w\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
3000 975 m
gs 1 -1 sc (\(w\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
1125 975 m
gs 1 -1 sc (\(r,w\)) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 4276 3563 4 v 462 4602 a FI(De)25 b(facto)g FM(access)g(is)h
(symmetric.)37 b(If)25 b Fy(a)1686 4548 y Fs(\()p Fj(r)p
Fs(\))1660 4602 y Fw(\000)-14 b(!)32 b Fy(b)24 b FM(\()p
Fy(a)h FM(holds)g(a)g(capability)e(to)i Fy(b)g FM(con)m(v)o(e)o(ying)d
(access)j(rights)g Fw(f)p FM(r)p Fw(g)p FM(\),)f(then)337
4751 y Fy(b)431 4697 y Fs(\()p Fj(w)q Fs(\))418 4751
y Fw(\000)-14 b(!)44 b Fy(a)p FM(.)61 b(This)32 b(should)f(be)h
(understood)d(to)j(mean)g(\223there)f(e)o(xists)h(a)h(channel)d(by)i
(which)f(data)h(held)f(by)h Fy(b)g FM(can)g(be)337 4901
y(transmitted)23 b(to)g Fy(a)p FM(.)-6 b(\224)35 b FI(De)24
b(jur)m(e)f FM(access)h(is)g(not)f(directly)g(symmetric,)g(b)n(ut)g
(nonetheless)f(has)i(a)g(de)o(gree)e(of)h(symmetry)e(that)337
5050 y(de)n(v)n(olv)o(es)f(from)f(the)i(f)o(act)f(that)h
FI(de)f(jur)m(e)h FM(access)g(subsumes)f FI(de)g(facto)g
FM(access.)27 b(Thus,)20 b Fy(a)2945 5003 y Fj(r)2893
5050 y Fw(\000)-14 b(!)24 b Fy(b)c FM(implies)h Fy(b)3445
4996 y Fs(\()p Fj(w)q Fs(\))3432 5050 y Fw(\000)-14 b(!)23
b Fy(a)p FM(.)k(Just)21 b(as)337 5200 y FI(de)g(facto)e
FE(read)j FM(and)d FE(write)i FM(are)f(symmetric,)f FI(de)h(facto)g
FE(tak)m(e)i FM(and)d FE(gran)m(t)j FM(are)e(also)h(symmetric.)2077
5410 y(59)p eop
%%Page: 60 76
60 75 bop 37 108 a FG(4.1.3)99 b(Pr)n(esumed)27 b(Collusion)37
327 y FM(Information)18 b(\003o)n(w)j(e)n(v)n(aluations)d(are)j
(typically)e(moti)n(v)n(ated)g(by)h(security)g(or)g(reliability)g
(assessments.)26 b(In)20 b(either)g(case,)h(it)37 477
y(is)i(pessimistically)e(assumed)g(that)g(if)g(tw)o(o)h(processes)f
FI(can)f FM(collude)g(in)i(order)e(to)h(communicate)e(\(security\))h
(or)h(generate)37 626 y(errors)27 b(\(reliability\),)g(the)o(y)g
FI(will)p FM(.)47 b(I)27 b(will)h(refer)f(to)g(this)h(as)g(the)f
FF(presumed)g(collusion)g FM(assumption.)3014 596 y FC(2)3093
626 y FM(If)g(a)g(security)g(or)37 776 y(reliability)d(design)f(is)i
(sustainable)e(under)f(presumed)h(collusion,)g(well)i(beha)n(v)o(ed)d
(programs)g(are)h(not)h(impeded,)f(b)n(ut)h(ill)37 925
y(beha)n(v)o(ed)19 b(programs)f(are)i(pre)n(v)o(ented)e(from)h
(performing)f(inappropriate)f(actions.)162 1082 y(The)23
b(presumed)f(collusion)h(assumption)f(is)j(o)o(v)o(erly)c(pessimistic)k
(if)e(operational)f(restrictions)h(can)g(be)h(reliably)f(im-)37
1231 y(posed)k(by)g(language)e(le)n(v)o(el)i(encapsulation)e(and/or)h
(type)g(safety)-5 b(.)46 b(Recent)27 b(w)o(ork)f(on)h(programming)d
(language)h(based)37 1381 y(security)f(suggests)f(that)h(this)g(may)f
(indeed)g(by)g(possible,)h(b)n(ut)g(w)o(ork)f(in)h(this)g(area)f(is)i
(just)f(be)o(ginning.)33 b(The)23 b(b)n(ulk)g(of)h(in-)37
1530 y(formation)19 b(and)h(resource)f(leaks)i(that)g(e)o(xist)g(in)f
(Ja)n(v)n(a,)h(for)f(e)o(xample,)f(arise)i(more)f(from)f(careless)i
(design)f(of)g(the)h(runtime)37 1680 y(system)g(\(the)f(classes)h(in)f
(the)h Fn(java.*)e FM(packages\))g(than)h(from)f(\003a)o(ws)i(in)f(the)
g(virtual)g(machine.)2860 1650 y FC(3)162 1837 y FM(Both)30
b(the)g(ER)m(OS)g(system)g(and)f(the)h(associated)g(access)g(models)f
(esche)n(w)h(assumptions)f(about)g(language)f(based)37
1986 y(safety)-5 b(.)37 2323 y FG(4.1.4)99 b(Computation)26
b(of)f(P)n(otential)g(Access)37 2542 y FM(Under)j(the)g(presumed)e
(collusion)h(assumption,)i(potential)e(access)h(is)h(determined)d(by)i
(assuming)f(that)h(all)h(processes)37 2692 y(are)20 b(acti)n(v)o(ely)g
(collaborating)d(to)j(construct)f(both)g(direct)h(\()p
FI(de)g(jur)m(e)p FM(\))f(and)h(implicit)g(\()p FI(de)f(facto)p
FM(\))h(communication)d(channels.)37 2841 y(Imagine,)34
b(for)d(purposes)f(of)i(e)n(v)n(aluation,)h(that)f(a)g(single)g
(programmer)c(wrote)k(the)g(code)f(for)g(the)h(tw)o(o)g(processes)f(in)
37 2991 y(Figure)20 b(4.2,)g(and)g(designed)f(them)h(in)g(adv)n(ance)f
(to)i(communicate)d(if)i(it)i(is)f(possible)f(to)h(do)e(so.)26
b(Under)20 b(these)g(conditions,)37 3140 y Fy(p)p Fx(1)e
FM(can)e(therefore)g(write)h(to)h Fy(p)p Fx(2)f FM(by)f(virtue)h(of)g
(the)g(tw)o(o)g(hop)g(communication)d(path)j(via)g Fy(o)p
FM(.)24 b Fy(p)p Fx(2)17 b FM(can)g(read)g(from)f Fy(p)p
Fx(1)h FM(because)37 3290 y(potential)j(write)g(and)g(potential)f(read)
h(access)h(are)f(symmetric.)162 3446 y(Because)27 b(of)f(the)h
(presumed)e(collusion)h(rule,)h(access)g(rights)g(may)f(or)g(may)g(not)
h(be)f(transiti)n(v)o(e)g(depending)e(on)j(the)37 3596
y(nature)18 b(of)g(the)g(access)h(right)e(and)h(the)g(entity)g(in)g
(the)g(middle)g(of)f(the)i(path)e(\(Figure)g(4.3\).)24
b(Under)17 b(the)h(presumed)f(collusion)37 3745 y(assumption,)i(it)h
(is)g(assumed)f(that)g Fy(p)p Fx(2)g FM(is)i(aiding)d(and)h(abetting)f
(the)i(transfer)e(of)h(information.)j(Objects)e(are)f(passi)n(v)o(e,)g
(and)37 3895 y(therefore)g(do)h(not)g(pro)o(vide)e FI(de)i(facto)g
FM(access)g(under)f(this)i(particular)e(combination)f(of)i(access)g
(rules.)162 4052 y(F)o(or)e(the)h FE(read)h FM(and)e
FE(write)h FM(rights,)g(the)g(potential)e(access)j(combination)c(rules)
j(are)g(sho)n(wn)f(in)g(Figure)h(4.4.)k(Because)37 4201
y(read)16 b(and)f(write)g(access)i(do)e(not)g(con)m(v)o(e)o(y)e
(authority)h(to)i(transfer)f(access)h(rights,)g(all)g(access)g
(resulting)f(from)g(combinations)37 4351 y(of)26 b(read)f(and)h(write)g
(authority)e(is)j FI(de)f(facto)f FM(access.)43 b(Either)25
b FI(de)h(facto)f FM(or)h FI(de)g(jur)m(e)g FM(access)g(is)h(suf)n
(\002cient)e(to)h(satisfy)h(the)37 4500 y(left)22 b(hand)d(side)j
(requirements.)j(Note)c(that)g(the)g(e)o(xistence)f(of)g
Fy(p)p Fx(1)1982 4446 y Fs(\()p Fj(w)q Fs(\))1969 4500
y Fw(\000)-14 b(!)24 b Fy(p)p Fx(2)d FM(implies)g(the)g(e)o(xistence)f
(of)g Fy(p)p Fx(2)3173 4446 y Fs(\()p Fj(r)p Fs(\))3148
4500 y Fw(\000)-14 b(!)24 b Fy(p)p Fx(1)d FM(under)37
4649 y(the)i(symmetry)e(rules)i(abo)o(v)o(e.)31 b(Where)22
b(a)h FI(de)g(facto)f FM(right)g(is)i(implied)e(by)g(symmetry)-5
b(,)21 b(it)i(is)h(not)e(e)o(xplicitly)g(sho)n(wn)g(in)h(the)37
4799 y(potential)d(access)h(combination)c(rules)k(in)f(this)h(chapter)
-5 b(.)p 37 4882 1425 4 v 37 4937 a FB(2)104 4961 y FA(This)16
b(assumption)i(con\003icts)g(with)f(the)g(notion)h(that)g(a)f(trusted)g
(system)g(service)h(might)f(be)g(implemented)i(by)d(a)h(process)g
(rather)h(than)g(by)e(the)h(system)104 5040 y(supervisor)l(.)22
b(A)15 b(good)h(security)h(design)g(minimizes)g(the)f(number)h(of)e
(trusted)i(services,)g(and)f(in)g(an)o(y)g(case)h(the)f(actions)i
(performed)e(by)g(such)g(services)104 5119 y(must)h(be)g(handled)i(as)e
(specially)l(.)37 5176 y FB(3)104 5200 y FA(Personal)h(communication)i
(from)d(Larry)g(K)n(o)o(v)n(ad.)1777 5410 y FM(60)p eop
%%Page: 61 77
61 76 bop 337 31 3563 7 v 337 105 a FJ(Figur)o(e)20 b(4.3)f
FM(Entity-sensiti)n(v)o(e)g(transiti)n(vity)-5 b(.)p
337 143 3563 4 v 1255 321 a(Let)20 b Fy(a)h FM(be)f(an)o(y)f(entity)h
(\(process)g(or)g(object\),)f Fy(o)i FM(an)o(y)e(object,)1255
420 y Fy(p)p Fx(1)p FM(,)h Fy(p)p Fx(2)g FM(be)g(processes)g(in:)1255
656 y Fy(p)p Fx(1)1387 602 y Fs(\()p Fj(r)p Fs(\))1361
656 y Fw(\000)-14 b(!)23 b Fy(p)p Fx(2)82 b Fw(^)i Fy(p)p
Fx(2)1954 602 y Fs(\()p Fj(r)p Fs(\))1929 656 y Fw(\000)-14
b(!)23 b Fy(a)83 b Fw(\))g Fy(p)p Fx(1)2511 602 y Fs(\()p
Fj(r)p Fs(\))2485 656 y Fw(\000)-14 b(!)23 b Fy(a)191
b FI(b)n(ut)1276 792 y Fy(p)p Fx(1)1408 738 y Fs(\()p
Fj(r)p Fs(\))1383 792 y Fw(\000)-15 b(!)23 b Fy(o)105
b Fw(^)g Fy(o)1933 738 y Fs(\()p Fj(r)p Fs(\))1907 792
y Fw(\000)-14 b(!)23 b Fy(a)105 b Fw(6\))83 b Fy(p)p
Fx(1)2511 738 y Fs(\()p Fj(r)p Fs(\))2485 792 y Fw(\000)-14
b(!)23 b Fy(a)p 337 933 V 337 1056 3563 7 v 337 1130
a FJ(Figur)o(e)d(4.4)f FM(Potential)h(access)h(from)e(composition)g(of)
h FE(read)h FM(and)f FE(write)p 337 1168 3563 4 v 1090
1345 a FM(Let)g Fy(a)h FM(be)f(an)o(y)f(entity)h(\(process)f(or)h
(object\),)f Fy(p)p Fx(1)p FM(,)h Fy(p)p Fx(2)g FM(be)g(processes)g
(in:)470 1581 y Fy(p)p Fx(1)576 1527 y Fj(r)p Fi(j)p
Fs(\()p Fj(r)p Fs(\))576 1581 y Fw(\000)-14 b(!)23 b
Fy(p)p Fx(2)87 b Fw(^)c Fy(p)p Fx(2)1148 1527 y Fj(r)p
Fi(j)p Fs(\()p Fj(r)p Fs(\))1148 1581 y Fw(\000)-14 b(!)23
b Fy(a)83 b Fw(\))103 b Fy(p)p Fx(1)1750 1527 y Fs(\()p
Fj(r)p Fs(\))1724 1581 y Fw(\000)-14 b(!)23 b Fy(a)320
b(p)p Fx(1)2351 1527 y Fj(w)q Fi(j)p Fs(\()p Fj(w)q Fs(\))2375
1581 y Fw(\000)-14 b(!)47 b Fy(p)p Fx(2)82 b Fw(^)i Fy(p)p
Fx(2)2967 1527 y Fj(w)q Fi(j)p Fs(\()p Fj(w)q Fs(\))2991
1581 y Fw(\000)-14 b(!)47 b Fy(a)83 b Fw(\))g Fy(p)p
Fx(1)3585 1527 y Fs(\()p Fj(w)q Fs(\))3571 1581 y Fw(\000)-14
b(!)23 b Fy(a)466 1717 y(p)p Fx(1)572 1663 y Fj(w)q Fi(j)p
Fs(\()p Fj(w)q Fs(\))596 1717 y Fw(\000)-14 b(!)47 b
Fy(a)83 b Fw(^)g Fy(p)p Fx(2)1148 1663 y Fj(r)p Fi(j)p
Fs(\()p Fj(r)p Fs(\))1148 1717 y Fw(\000)-14 b(!)23 b
Fy(a)83 b Fw(\))g Fy(p)p Fx(1)1718 1663 y Fs(\()p Fj(w)q
Fs(\))1705 1717 y Fw(\000)-15 b(!)23 b Fy(p)p Fx(2)p
337 1966 V 337 2231 a FG(4.1.5)99 b(T)-9 b(ak)o(e)26
b(and)g(Grant)337 2452 y FM(Where)j(the)f(\223r\224)g(and)g(\223w\224)g
(rights)g(describe)g(the)g(authority)e(to)j(read)e(and)h(write)h(data,)
g(the)g(\223t\224)f(and)g(\223g\224)g(describe)g(the)337
2602 y(authority)g(to)i(tak)o(e)f(\(read\))f(and)h(grant)f(\(write\))h
(capabilities.)52 b(Consider)29 b(the)g(initial)h(and)e(potential)h
(access)h(rights)f(of)337 2751 y(Figure)20 b(4.5,)f(whose)h(graph)f(is)
i(surprisingly)e(strongly)f(connected.)p 337 2892 3563
7 v 337 2966 a FJ(Figur)o(e)i(4.5)f FM(Direct)i(and)e(potential)h
(access)g(with)h(tak)o(e)f(and)g(grant)f(rights.)p 337
3003 3563 4 v 1185 3103 a
 14406205 6578176 0 0 14406205 6578176 startTexFig
 1185 3103 a
%%BeginDocument: tg-tg1.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: tg-tg1.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:12 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 219 100
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-14.0 107.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 2779 m -1000 -1000 l 4871 -1000 l 4871 2779 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 3085 794 270 270 0 360 DrawEllipse gs col0 s gr

/Times-Roman ff 180.00 scf sf
3000 825 m
gs 1 -1 sc (p2) col0 sh gr
% Arc
gs  clippath
1969 478 m 1950 600 l 1910 483 l 1921 618 l 1981 612 l cp
clip
 [60] 0 sd
n 1800.0 537.5 162.5 157.4 22.6 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 1969 478 m 1950 600 l 1910 483 l 1940 480 l 1969 478 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2202 530 m 2100 600 l 2157 490 l 2068 592 l 2113 631 l cp
clip
 [60] 0 sd
n 2512.5 862.5 488.9 -32.5 -147.5 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2202 530 m 2100 600 l 2157 490 l 2179 510 l 2202 530 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2215 630 m 2100 675 l 2180 581 l 2070 659 l 2105 708 l cp
clip
n 2475.0 1068.8 543.8 -46.4 -133.6 arcn
gs col0 s gr
 gr

% arrowhead
n 2215 630 m 2100 675 l 2180 581 l 2198 605 l 2215 630 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
1425 576 m 1500 675 l 1388 623 l 1493 708 l 1530 661 l cp
clip
n 1162.5 975.0 451.6 -138.4 -41.6 arc
gs col0 s gr
 gr

% arrowhead
n 1425 576 m 1500 675 l 1388 623 l 1406 600 l 1425 576 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
694 403 m 675 525 l 635 408 l 646 543 l 706 537 l cp
clip
 [60] 0 sd
n 525.0 462.5 162.5 157.4 22.6 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 694 403 m 675 525 l 635 408 l 665 405 l 694 403 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3495 855 m 3375 825 l 3495 795 l 3360 795 l 3360 855 l cp
clip
 [60] 0 sd
n 3450.0 675.0 167.7 -153.4 116.6 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 3495 855 m 3375 825 l 3495 795 l 3495 825 l 3495 855 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2652 838 m 2775 825 l 2672 894 l 2799 848 l 2779 792 l cp
clip
 [60] 0 sd
n 2437.5 112.5 788.4 115.3 64.7 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2652 838 m 2775 825 l 2672 894 l 2662 866 l 2652 838 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3035 1096 m 3150 1050 l 3070 1145 l 3180 1066 l 3145 1017 l cp
clip
 [60] 0 sd
n 1837.5 -637.5 2137.8 127.9 52.1 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 3035 1096 m 3150 1050 l 3070 1145 l 3053 1120 l 3035 1096 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
759 1066 m 675 975 l 792 1015 l 679 942 l 646 992 l cp
clip
 [60] 0 sd
n 1856.9 -695.8 2046.6 58.5 125.3 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 759 1066 m 675 975 l 792 1015 l 776 1040 l 759 1066 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
851 971 m 750 900 l 873 915 l 747 867 l 725 923 l cp
clip
 [60] 0 sd
n 1067.5 287.5 689.9 51.2 117.4 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 851 971 m 750 900 l 873 915 l 862 943 l 851 971 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 525 750 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 1500 600 m 2100 600 l 2100 900 l 1500 900 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
450 750 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 825 m
gs 1 -1 sc (o) col0 sh gr
/Times-Roman ff 180.00 scf sf
975 675 m
gs 1 -1 sc (r,w,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
1575 300 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
2400 750 m
gs 1 -1 sc (r,t) col0 sh gr
/Times-Roman ff 180.00 scf sf
2325 300 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
600 300 m
gs 1 -1 sc (\(r,w\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
3225 375 m
gs 1 -1 sc (\(r,w,t,g\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
1575 1725 m
gs 1 -1 sc (\(r,w,g\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
1575 1200 m
gs 1 -1 sc (\(r,w,t\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
900 900 m
gs 1 -1 sc (\(r,w,t\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
2100 1050 m
gs 1 -1 sc (\(r,w,t,g\)) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 4039 3563 4 v 462 4295 a FM(The)d(rules)g(for)f(combining)f
FE(tak)m(e)k FM(and)d FE(gran)m(t)j FM(rights)e(with)g(the)g(pre)n
(viously)e(described)h FE(read)i FM(and)f FE(write)g
FM(rights)g(are)337 4444 y(described)21 b(by)h(Figure)g(4.6.)30
b(The)22 b(\002rst)h(four)e(rules)h(describe)f FI(de)i(facto)e
FM(access)i(relationships,)f(while)g(the)g(last)h(describes)337
4594 y FI(de)e(jur)m(e)g FM(relationships.)26 b(Note)21
b(that)g FI(unlik)o(e)g FM(the)f FE(read)q FM(,)h FE(write)p
FM(,)g(and)g FE(gran)m(t)h FM(rights,)f FE(tak)m(e)h
FM(rights)f(are)f(transiti)n(v)o(e)h(across)337 4743
y(passi)n(v)o(e)f(objects.)25 b(As)c(a)g(result,)f(access)g(rights)g
(are)g(dif)n(\002cult)g(to)g(restrict)h(to)f(desired)g(subgraphs.)462
4901 y(Gi)n(v)o(en)31 b(these)h(rules,)i(I)e(can)f(no)n(w)h(describe)e
(ho)n(w)i(to)f(b)n(uild)h(the)f(potential)g(access)i(graphs)d(I)i(ha)n
(v)o(e)f(sho)n(wn.)59 b(The)337 5050 y(potential)22 b(access)h(graph)e
(is)i(simply)f(the)g(graph)f(that)h(results)h(from)e(iterati)n(v)o(ely)
g(applying)f(the)j(combination)d(rules)i(until)337 5200
y(no)e(ne)n(w)h(arcs)f(are)h(added)e(to)h(the)h(graph.)j(The)c
(resulting)g(access)h(graph)e(describes)g(all)i(of)g(the)f(access)h
(that)f(is)i(potentially)2077 5410 y(61)p eop
%%Page: 62 78
62 77 bop 37 31 3563 7 v 37 106 a FJ(Figur)o(e)20 b(4.6)f
FM(Composition)g(rules)h(in)m(v)n(olving)f FE(tak)m(e)i
FM(and)f FE(gran)m(t)p 37 143 3563 4 v 329 321 a FM(Let)g
Fy(a)p FM(,)h Fy(b)f FM(be)g(an)o(y)g(entity)f(\(process)h(or)g
(object\),)f Fy(p)p Fx(1)p FM(,)h Fy(p)p Fx(2)g FM(be)g(processes,)f
Fy(x)j FM(an)o(y)d(access)i(right,)e(in:)151 557 y Fy(p)p
Fx(1)259 502 y Fj(t)p Fi(j)p Fs(\()p Fj(t)p Fs(\))258
557 y Fw(\000)-15 b(!)23 b Fy(a)91 b Fw(^)107 b Fy(a)780
502 y Fj(t)p Fi(j)p Fs(\()p Fj(t)p Fs(\))778 557 y Fw(\000)-14
b(!)23 b Fy(b)106 b Fw(\))h Fy(p)p Fx(1)1400 502 y Fs(\()p
Fj(t)p Fs(\))1374 557 y Fw(\000)-15 b(!)23 b Fy(b)324
b(p)p Fx(1)1996 502 y Fj(g)q Fi(j)p Fs(\()p Fj(g)q Fs(\))2004
557 y Fw(\000)-14 b(!)30 b Fy(p)p Fx(2)83 b Fw(^)g Fy(p)p
Fx(2)2579 502 y Fj(g)q Fi(j)p Fs(\()p Fj(g)q Fs(\))2587
557 y Fw(\000)-14 b(!)30 b Fy(b)83 b Fw(\))g Fy(p)p Fx(1)3164
502 y Fs(\()p Fj(g)q Fs(\))3142 557 y Fw(\000)-14 b(!)23
b Fy(b)144 693 y(p)p Fx(1)250 638 y Fj(g)q Fi(j)p Fs(\()p
Fj(g)q Fs(\))258 693 y Fw(\000)-15 b(!)31 b Fy(a)83 b
Fw(^)g Fy(p)p Fx(2)795 638 y Fj(t)p Fi(j)p Fs(\()p Fj(t)p
Fs(\))794 693 y Fw(\000)-15 b(!)24 b Fy(a)82 b Fw(\))h
Fy(p)p Fx(1)1371 638 y Fs(\()p Fj(g)q Fs(\))1350 693
y Fw(\000)-14 b(!)23 b Fy(p)p Fx(2)151 928 y Fy(p)p Fx(1)259
874 y Fj(t)p Fi(j)p Fs(\()p Fj(t)p Fs(\))258 928 y Fw(\000)-15
b(!)23 b Fy(a)91 b Fw(^)107 b Fy(a)826 881 y Fv(x)778
928 y Fw(\000)-14 b(!)23 b Fy(b)106 b Fw(\))h Fy(p)p
Fx(1)1421 881 y Fj(x)1374 928 y Fw(\000)-15 b(!)23 b
Fy(b)344 b(p)p Fx(1)2016 874 y Fj(g)q Fi(j)p Fs(\()p
Fj(g)q Fs(\))2024 928 y Fw(\000)-15 b(!)31 b Fy(a)103
b Fw(^)90 b Fy(p)p Fx(1)2635 881 y Fv(x)2587 928 y Fw(\000)-14
b(!)23 b Fy(b)90 b Fw(\))103 b Fy(a)3171 881 y Fv(x)3123
928 y Fw(\000)-15 b(!)23 b Fy(b)p 37 1069 V 37 1310 a
FM(realizable)d(if)g(e)n(v)o(eryone)e(colludes)i(from)f(a)h(gi)n(v)o
(en)f(initial)i(state)g(so)f(as)h(to)g(maximize)e(access.)p
37 1431 3563 7 v 37 1504 a FJ(Figur)o(e)h(4.7)f FM(Stepwise)i(e)n(v)n
(olution)e(of)h(Figure)f(4.5.)p 37 1542 3563 4 v 165
1642 a
 25786449 13682606 0 0 25786449 13682606 startTexFig
 165 1642 a
%%BeginDocument: tg-tg1_steps.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: tg-tg1_steps.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:12 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 392 208
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-10.0 215.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 4579 m -1000 -1000 l 7684 -1000 l 7684 4579 l cp clip
 0.06000 0.06000 sc
% Arc
7.500 slw
gs  clippath
1345 281 m 1425 375 l 1310 330 l 1420 408 l 1455 359 l cp
clip
n 1050.0 768.8 543.8 -133.6 -46.4 arc
gs col0 s gr
 gr

% arrowhead
n 1345 281 m 1425 375 l 1310 330 l 1327 305 l 1345 281 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
1314 730 m 1425 675 l 1353 776 l 1456 688 l 1417 642 l cp
clip
n 1518.8 900.0 243.8 112.6 -112.6 arc
gs col0 s gr
 gr

% arrowhead
n 1314 730 m 1425 675 l 1353 776 l 1334 753 l 1314 730 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 450 525 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1660 1170 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 1425 375 m 2025 375 l 2025 675 l 1425 675 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
375 525 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1650 600 m
gs 1 -1 sc (o) col0 sh gr
/Times-Roman ff 180.00 scf sf
900 450 m
gs 1 -1 sc (r,w,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
1575 1200 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 975 m
gs 1 -1 sc (r,t) col0 sh gr
% Arc
gs  clippath
3520 281 m 3600 375 l 3485 330 l 3595 408 l 3630 359 l cp
clip
n 3225.0 768.8 543.8 -133.6 -46.4 arc
gs col0 s gr
 gr

% arrowhead
n 3520 281 m 3600 375 l 3485 330 l 3502 305 l 3520 281 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3489 730 m 3600 675 l 3528 776 l 3631 688 l 3592 642 l cp
clip
n 3693.8 900.0 243.8 112.6 -112.6 arc
gs col0 s gr
 gr

% arrowhead
n 3489 730 m 3600 675 l 3528 776 l 3509 753 l 3489 730 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4018 259 m 3975 375 l 3958 252 l 3944 387 l 4003 393 l cp
clip
n 3862.5 287.5 142.5 142.1 37.9 arc
gs col0 s gr
 gr

% arrowhead
n 4018 259 m 3975 375 l 3958 252 l 3988 256 l 4018 259 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 2625 525 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3835 1170 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 3600 375 m 4200 375 l 4200 675 l 3600 675 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
2550 525 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
3825 600 m
gs 1 -1 sc (o) col0 sh gr
/Times-Roman ff 180.00 scf sf
3075 450 m
gs 1 -1 sc (r,w,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
3750 1200 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
3225 975 m
gs 1 -1 sc (r,t) col0 sh gr
/Times-Roman ff 180.00 scf sf
4050 225 m
gs 1 -1 sc (r,w,g) col0 sh gr
% Arc
gs  clippath
5770 281 m 5850 375 l 5735 330 l 5845 408 l 5880 359 l cp
clip
n 5475.0 768.8 543.8 -133.6 -46.4 arc
gs col0 s gr
 gr

% arrowhead
n 5770 281 m 5850 375 l 5735 330 l 5752 305 l 5770 281 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5739 730 m 5850 675 l 5778 776 l 5881 688 l 5842 642 l cp
clip
n 5943.8 900.0 243.8 112.6 -112.6 arc
gs col0 s gr
 gr

% arrowhead
n 5739 730 m 5850 675 l 5778 776 l 5759 753 l 5739 730 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
6268 259 m 6225 375 l 6208 252 l 6194 387 l 6253 393 l cp
clip
n 6112.5 287.5 142.5 142.1 37.9 arc
gs col0 s gr
 gr

% arrowhead
n 6268 259 m 6225 375 l 6208 252 l 6238 256 l 6268 259 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 4875 525 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 6085 1170 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 5850 375 m 6450 375 l 6450 675 l 5850 675 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
4800 525 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
6075 600 m
gs 1 -1 sc (o) col0 sh gr
/Times-Roman ff 180.00 scf sf
5325 450 m
gs 1 -1 sc (r,w,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
6000 1200 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
5175 975 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
6300 225 m
gs 1 -1 sc (r,w,g) col0 sh gr
% Arc
gs  clippath
2095 2006 m 2175 2100 l 2060 2055 l 2170 2133 l 2205 2084 l cp
clip
n 1800.0 2493.8 543.8 -133.6 -46.4 arc
gs col0 s gr
 gr

% arrowhead
n 2095 2006 m 2175 2100 l 2060 2055 l 2077 2030 l 2095 2006 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2064 2455 m 2175 2400 l 2103 2501 l 2206 2413 l 2167 2367 l cp
clip
n 2268.8 2625.0 243.8 112.6 -112.6 arc
gs col0 s gr
 gr

% arrowhead
n 2064 2455 m 2175 2400 l 2103 2501 l 2084 2478 l 2064 2455 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2593 1984 m 2550 2100 l 2533 1977 l 2519 2112 l 2578 2118 l cp
clip
n 2437.5 2012.5 142.5 142.1 37.9 arc
gs col0 s gr
 gr

% arrowhead
n 2593 1984 m 2550 2100 l 2533 1977 l 2563 1981 l 2593 1984 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 1200 2250 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 2410 2895 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 2175 2100 m 2775 2100 l 2775 2400 l 2175 2400 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
1125 2250 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2400 2325 m
gs 1 -1 sc (o) col0 sh gr
/Times-Roman ff 180.00 scf sf
1650 2175 m
gs 1 -1 sc (r,w,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
2325 2925 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
1500 2700 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
2625 1950 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
% Arc
gs  clippath
4870 1931 m 4950 2025 l 4835 1980 l 4945 2058 l 4980 2009 l cp
clip
n 4575.0 2418.8 543.8 -133.6 -46.4 arc
gs col0 s gr
 gr

% arrowhead
n 4870 1931 m 4950 2025 l 4835 1980 l 4852 1955 l 4870 1931 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4839 2380 m 4950 2325 l 4878 2426 l 4981 2338 l 4942 2292 l cp
clip
n 5043.8 2550.0 243.8 112.6 -112.6 arc
gs col0 s gr
 gr

% arrowhead
n 4839 2380 m 4950 2325 l 4878 2426 l 4859 2403 l 4839 2380 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4111 2598 m 4125 2475 l 4171 2590 l 4153 2456 l 4093 2464 l cp
clip
 [60] 0 sd
n 4657.8 2479.4 532.9 56.8 -179.5 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4111 2598 m 4125 2475 l 4171 2590 l 4141 2594 l 4111 2598 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4907 3114 m 5025 3075 l 4939 3164 l 5054 3092 l 5022 3042 l cp
clip
 [60] 0 sd
n 4592.0 2532.2 694.3 -175.3 51.4 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4907 3114 m 5025 3075 l 4939 3164 l 4923 3139 l 4907 3114 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5368 1909 m 5325 2025 l 5308 1902 l 5294 2037 l 5353 2043 l cp
clip
n 5212.5 1937.5 142.5 142.1 37.9 arc
gs col0 s gr
 gr

% arrowhead
n 5368 1909 m 5325 2025 l 5308 1902 l 5338 1906 l 5368 1909 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5591 2968 m 5475 2925 l 5598 2908 l 5463 2894 l 5457 2953 l cp
clip
 [60] 0 sd
n 5562.5 2812.5 142.5 -127.9 127.9 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5591 2968 m 5475 2925 l 5598 2908 l 5594 2938 l 5591 2968 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4193 1846 m 4125 1950 l 4136 1827 l 4092 1954 l 4148 1974 l cp
clip
 [60] 0 sd
n 3996.4 1826.8 178.1 164.3 43.8 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4193 1846 m 4125 1950 l 4136 1827 l 4164 1837 l 4193 1846 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5430 2505 m 5400 2625 l 5370 2505 l 5370 2640 l 5430 2640 l cp
clip
 [60] 0 sd
n 5175.0 2550.0 237.2 -71.6 18.4 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5430 2505 m 5400 2625 l 5370 2505 l 5400 2505 l 5430 2505 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4317 2291 m 4275 2175 l 4367 2258 l 4291 2146 l 4242 2179 l cp
clip
 [60] 0 sd
n 4612.5 2037.5 364.4 22.2 157.8 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4317 2291 m 4275 2175 l 4367 2258 l 4342 2274 l 4317 2291 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 3975 2175 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 5185 2820 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 4950 2025 m 5550 2025 l 5550 2325 l 4950 2325 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
3900 2175 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
5175 2250 m
gs 1 -1 sc (o) col0 sh gr
/Times-Roman ff 180.00 scf sf
4425 2100 m
gs 1 -1 sc (r,w,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
5100 2850 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
4275 2625 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
4350 2925 m
gs 1 -1 sc (\(r,w,t\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
3525 3150 m
gs 1 -1 sc (\(r,w,g\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
5400 1875 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
4125 1650 m
gs 1 -1 sc (\(r,w\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
5700 2700 m
gs 1 -1 sc (\(r,w,t,g\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
5400 2475 m
gs 1 -1 sc (\(r,w,t,g\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
4425 2325 m
gs 1 -1 sc (\(r,w,t\)) col0 sh gr
/Times-Bold ff 180.00 scf sf
525 1650 m
gs 1 -1 sc (Initial Graph) col0 sh gr
/Times-Bold ff 180.00 scf sf
2925 1650 m
gs 1 -1 sc (Step 1) col0 sh gr
/Times-Bold ff 180.00 scf sf
5100 1650 m
gs 1 -1 sc (Step 2) col0 sh gr
/Times-Bold ff 180.00 scf sf
3975 3525 m
gs 1 -1 sc (de facto access) col0 sh gr
/Times-Bold ff 180.00 scf sf
1425 3525 m
gs 1 -1 sc (Step 3) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 3478 3563 4 v 162 3705 a FM(The)30 b(stepwise)h(e)n(v)n(olution)e
(of)i(Figure)e(4.5,)k(sho)n(wn)c(in)i(Figure)f(4.7,)i(illustrates)f(ho)
n(w)f(potential)g(access)h(emer)o(ges)37 3855 y(from)h(the)g(initial)h
(access)g(graph.)60 b Fy(p)p Fx(1)32 b FM(uses)h(its)h(grant)d
(authority)g(to)h Fy(o)i FM(to)e(store)g(its)i Fy(o)f
FM(capability)e(into)i Fy(o)p FM(.)62 b Fy(p)p Fx(2)32
b FM(no)n(w)37 4004 y(e)o(xtracts)e(this)g(capability)-5
b(,)30 b(at)h(which)e(point)g(it)h(has)g(unrestricted)e(rights)h(to)h
Fy(o)p FM(.)55 b(The)29 b(tw)o(o)h(no)n(w)f(switch)h(roles)g(and)f
Fy(p)p Fx(2)37 4154 y FM(transfers)j(unrestricted)e(authority)g(to)h
Fy(p)p Fx(1)p FM(.)60 b(The)31 b(tw)o(o)h(processes)f(can)h(no)n(w)f(e)
o(xchange)e(arbitrary)h(data,)k(and)d Fy(p)p Fx(1)h FM(can)37
4303 y(transfer)20 b(capabilities)g(to)g Fy(p)p Fx(2)p
FM(,)g(resulting)f(in)i(the)f FI(de)g(facto)g FM(access)g(sho)n(wn.)162
4452 y(The)15 b(k)o(e)o(y)g(insight)g(to)h(dra)o(w)e(from)h(this)h(e)o
(xample)e(is)i(that)f FI(the)h(authority)e(to)i(tr)o(ansmit)f(and)g(r)m
(eceive)g(capabilities)g(has)g(far)37 4602 y(r)m(eac)o(hing)j(and)g
(seriously)i(dama)o(ging)d(consequences)g FM(for)i(the)g(ability)g(to)g
(restrict)g(information)e(\003o)n(w)-5 b(.)25 b(Indeed,)17
b(based)i(on)37 4751 y(the)f(rights)e(I)i(ha)n(v)o(e)e(sho)n(wn)h(so)g
(f)o(ar)g(one)g(w)o(ould)f(almost)h(certainly)f(conclude)g(that)h(no)g
(restricted)f(subsystem)h(can)g(safely)g(be)37 4901 y(granted)e
FI(either)k FM(tak)o(e)d(or)g(grant)g(access)g(to)h(an)f(object)g
(unless)g(that)h(object)e(is)j FF(exclusiv)o(ely)e(held)q
FM(.)24 b(Allo)n(wing)15 b(tak)o(e)i(and)e(grant)37 5050
y(rights)20 b(on)f(non-e)o(xclusi)n(v)o(e)e(objects)i(risks)i(the)e
(transmission)h(of)f(capabilities)h(in)g(such)f(a)h(w)o(ay)g(as)h(to)f
(violate)f(information)37 5200 y(\003o)n(w)k(restrictions,)e(as)i(sho)n
(wn)e(in)h(Figure)f(4.8.)30 b(In)21 b(this)i(e)o(xample,)e(a)h(party)f
(e)o(xamining)f(the)i(initial)g(capabilities)g(held)f(by)1777
5410 y(62)p eop
%%Page: 63 79
63 78 bop 337 31 3563 7 v 337 105 a FJ(Figur)o(e)20 b(4.8)f
FM(Information)f(\003o)n(w)i(compromised)e(by)i(tak)o(e)g(and)g(grant.)
p 337 143 3563 4 v 623 243 a
 23286743 9669918 0 0 23286743 9669918 startTexFig
 623 243 a
%%BeginDocument: tg-notconfined.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: tg-notconfined.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:11 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 354 147
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-8.0 154.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3562 m -1000 -1000 l 7024 -1000 l 7024 3562 l cp clip
 0.06000 0.06000 sc
% Arc
7.500 slw
gs  clippath
1474 479 m 1500 600 l 1420 506 l 1480 627 l 1534 600 l cp
clip
n 1072.5 727.5 446.1 -153.0 -16.6 arc
gs col0 s gr
 gr

% arrowhead
n 1474 479 m 1500 600 l 1420 506 l 1447 492 l 1474 479 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
1406 980 m 1500 900 l 1455 1015 l 1533 905 l 1484 870 l cp
clip
n 1893.8 1275.0 543.8 136.4 -136.4 arc
gs col0 s gr
 gr

% arrowhead
n 1406 980 m 1500 900 l 1455 1015 l 1430 998 l 1406 980 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
464 1542 m 525 1650 l 421 1583 l 513 1682 l 557 1640 l cp
clip
n 731.2 1350.0 364.1 -124.5 124.5 arcn
gs col0 s gr
 gr

% arrowhead
n 464 1542 m 525 1650 l 421 1583 l 443 1563 l 464 1542 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 525 750 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 1810 1694 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 1500 600 m 2100 600 l 2100 900 l 1500 900 l cp gs col0 s gr 
% Polyline
n 150 1650 m 750 1650 l 750 1950 l 150 1950 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
975 225 m
gs 1 -1 sc (g) col0 sh gr
/Times-Roman ff 180.00 scf sf
450 750 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 825 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 1725 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
1200 1350 m
gs 1 -1 sc (t) col0 sh gr
/Times-Roman ff 180.00 scf sf
450 1875 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
450 1350 m
gs 1 -1 sc (r,w) col0 sh gr
% Arc
gs  clippath
3949 479 m 3975 600 l 3895 506 l 3955 627 l 4009 600 l cp
clip
n 3547.5 727.5 446.1 -153.0 -16.6 arc
gs col0 s gr
 gr

% arrowhead
n 3949 479 m 3975 600 l 3895 506 l 3922 492 l 3949 479 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3881 980 m 3975 900 l 3930 1015 l 4008 905 l 3959 870 l cp
clip
n 4368.8 1275.0 543.8 136.4 -136.4 arc
gs col0 s gr
 gr

% arrowhead
n 3881 980 m 3975 900 l 3930 1015 l 3905 998 l 3881 980 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3081 1099 m 3075 975 l 3138 1081 l 3099 952 l 3042 969 l cp
clip
 [60] 0 sd
n 4118.6 739.9 1069.7 97.7 167.3 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 3081 1099 m 3075 975 l 3138 1081 l 3109 1090 l 3081 1099 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2565 1602 m 2550 1725 l 2506 1609 l 2522 1743 l 2582 1736 l cp
clip
n 3487.5 1537.5 956.1 -138.2 168.7 arcn
gs col0 s gr
 gr

% arrowhead
n 2565 1602 m 2550 1725 l 2506 1609 l 2536 1606 l 2565 1602 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4002 1942 m 4125 1950 l 4012 2001 l 4145 1977 l 4134 1918 l cp
clip
 [60] 0 sd
n 3877.1 1029.2 953.6 -176.7 74.9 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4002 1942 m 4125 1950 l 4012 2001 l 4007 1972 l 4002 1942 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2794 1085 m 2850 975 l 2852 1099 l 2883 967 l 2824 954 l cp
clip
 [60] 0 sd
n -2137.5 -112.5 5104.7 21.1 12.3 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2794 1085 m 2850 975 l 2852 1099 l 2823 1092 l 2794 1085 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3920 564 m 3975 675 l 3874 604 l 3962 706 l 4008 667 l cp
clip
 [60] 0 sd
n 3571.5 922.5 473.4 -137.1 -31.5 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 3920 564 m 3975 675 l 3874 604 l 3897 584 l 3920 564 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3329 816 m 3225 750 l 3348 759 l 3220 717 l 3201 774 l cp
clip
 [60] 0 sd
n 3600.0 -150.0 975.0 67.4 112.6 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 3329 816 m 3225 750 l 3348 759 l 3339 788 l 3329 816 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4098 970 m 4200 900 l 4142 1009 l 4232 909 l 4188 869 l cp
clip
 [60] 0 sd
n 4425.0 1200.0 375.0 143.1 -126.9 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4098 970 m 4200 900 l 4142 1009 l 4120 990 l 4098 970 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4697 1631 m 4575 1650 l 4674 1576 l 4550 1628 l 4573 1683 l cp
clip
 [60] 0 sd
n 4687.5 1725.0 135.2 146.3 -146.3 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4697 1631 m 4575 1650 l 4674 1576 l 4686 1604 l 4697 1631 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4543 484 m 4500 600 l 4483 477 l 4469 612 l 4528 618 l cp
clip
 [60] 0 sd
n 4387.5 512.5 142.5 142.1 37.9 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4543 484 m 4500 600 l 4483 477 l 4513 481 l 4543 484 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2660 2142 m 2700 2025 l 2719 2147 l 2731 2013 l 2671 2007 l cp
clip
 [60] 0 sd
n 2550.0 2087.5 162.5 -157.4 -22.6 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2660 2142 m 2700 2025 l 2719 2147 l 2690 2145 l 2660 2142 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2900 329 m 2925 450 l 2846 355 l 2904 477 l 2959 451 l cp
clip
 [60] 0 sd
n 2767.5 442.5 157.7 87.3 2.7 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2900 329 m 2925 450 l 2846 355 l 2873 342 l 2900 329 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2995 2127 m 2925 2025 l 3034 2083 l 2934 1993 l 2894 2037 l cp
clip
 [60] 0 sd
n 3642.4 1336.4 994.4 38.1 136.2 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2995 2127 m 2925 2025 l 3034 2083 l 3015 2105 l 2995 2127 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4159 1994 m 4275 1950 l 4194 2043 l 4304 1966 l 4270 1917 l cp
clip
 [60] 0 sd
n 3641.1 1172.2 1003.4 135.5 50.8 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4159 1994 m 4275 1950 l 4194 2043 l 4177 2019 l 4159 1994 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4539 1474 m 4425 1425 l 4548 1415 l 4415 1393 l 4405 1452 l cp
clip
 [60] 0 sd
n 4542.0 1173.9 277.1 -98.7 115.0 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4539 1474 m 4425 1425 l 4548 1415 l 4543 1444 l 4539 1474 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 3000 750 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 4285 1694 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 3975 600 m 4575 600 l 4575 900 l 3975 900 l cp gs col0 s gr 
% Polyline
n 2325 1725 m 2925 1725 l 2925 2025 l 2325 2025 l cp gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
2820 2145 m 2850 2025 l 2880 2145 l 2880 2010 l 2820 2010 l cp
clip
n 4575 750 m 5475 750 l 5475 2475 l 2850 2475 l 2850 2025 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2820 2145 m 2850 2025 l 2880 2145 l 2850 2145 l 2820 2145 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
4695 705 m 4575 675 l 4695 645 l 4560 645 l 4560 705 l cp
clip
n 2775 2025 m 2775 2550 l 5550 2550 l 5550 675 l 4575 675 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 4695 705 m 4575 675 l 4695 645 l 4695 675 l 4695 705 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 180.00 scf sf
3450 225 m
gs 1 -1 sc (g) col0 sh gr
/Times-Roman ff 180.00 scf sf
2925 750 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 825 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 1725 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
3900 1275 m
gs 1 -1 sc (t) col0 sh gr
/Times-Roman ff 180.00 scf sf
3300 1425 m
gs 1 -1 sc (\(r,w,t\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
2550 1950 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2325 1350 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
3300 2400 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
2625 1650 m
gs 1 -1 sc (\(r,w\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
4125 300 m
gs 1 -1 sc (\(r,w\),t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
3300 975 m
gs 1 -1 sc (\(r,w,t\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
5175 1725 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
5625 1575 m
gs 1 -1 sc (\(r,w\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
3525 2175 m
gs 1 -1 sc (\(r,w\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
3300 600 m
gs 1 -1 sc (\(r,w\),g) col0 sh gr
/Times-Roman ff 180.00 scf sf
2250 300 m
gs 1 -1 sc (\(r,w\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
3300 1875 m
gs 1 -1 sc (\(r,w,g\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
4050 1275 m
gs 1 -1 sc (\(r,w\),t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
4725 1125 m
gs 1 -1 sc (\(r,w,t,g\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
4650 2025 m
gs 1 -1 sc (\(r,w,t,g\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
2400 2400 m
gs 1 -1 sc (r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
4575 1200 m
gs 1 -1 sc (t,g) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 1571 3563 4 v 337 1829 a Fy(p)p Fx(2)28 b FM(has)f(no)g(w)o(ay)g
(to)h(disco)o(v)o(er)d(the)i(channel)f(to)i Fy(p)p Fx(1)f
FM(based)g(on)g(local)g(information,)f(nor)h(can)g(it)h(discern)e(the)h
(e)o(xistence)337 1978 y(of)22 b(object)g Fy(o)p Fx(2)g
FM(by)g(which)f(the)h(tw)o(o)g(processes)g(will)h(come)e(to)h(directly)
f(communicate)f(information.)28 b(Indeed,)21 b Fy(o)p
Fx(2)h FM(might)337 2127 y(come)k(to)g(be)g(accessible)g(to)g
Fy(p)p Fx(1)f FM(only)g(after)h(some)g(amount)e(of)i(e)o(x)o(ecution)e
(has)i(already)e(occurred,)i(and)f(might)g(not)h(be)337
2277 y(present)20 b(in)g(the)h(capability)e(set)i(initially)f
(associated)g(with)g Fy(p)p Fx(1)g FM(at)h(all.)337 2597
y FG(4.1.6)99 b(Effect)27 b(of)e(Intrinsic)g(\223Self)5
b(\224)25 b(Rights)337 2811 y FM(In)d(man)o(y)f(capability)h(systems,)h
(processes)e(ha)n(v)o(e)h(intrinsic)g(authority)e(to)j(create)f
(capabilities)g(to)g(themselv)o(es)f(that)i(pro-)337
2961 y(vide)c Fw(f)p FE(read)p Fy(;)14 b FE(write)p Fy(;)g
FE(tak)m(e)q Fy(;)g FE(gran)m(t)p Fw(g)19 b FM(rights.)25
b(Such)18 b(capabilities)h(may)f(be)h(kno)n(wn)f(as)h(\223entry)f
(ports\224)h(\(Mach\))f(or)g(\223start)337 3110 y(capabilities\224)29
b(\(ER)m(OS,)f(K)n(e)o(yK)n(OS\).)f(Figure)h(4.9)g(sho)n(ws)g(the)h(ef)
n(fect)f(of)g(such)g(\223self)5 b(\224)29 b(rights)f(on)g(the)h(access)
g(graph)e(of)p 337 3243 3563 7 v 337 3317 a FJ(Figur)o(e)20
b(4.9)f FM(Impact)h(of)g(e)o(xplicit)f(\223self)5 b(\224)20
b(rights)g(on)g(Figure)f(4.5.)p 337 3355 3563 4 v 1127
3454 a
 15327150 6315048 0 0 15327150 6315048 startTexFig
 1127 3454 a
%%BeginDocument: tg-tg2.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: tg-tg2.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:12 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 233 96
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-9.0 102.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 2695 m -1000 -1000 l 5017 -1000 l 5017 2695 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 3085 794 270 270 0 360 DrawEllipse gs col0 s gr

/Times-Roman ff 180.00 scf sf
3000 825 m
gs 1 -1 sc (p2) col0 sh gr
% Arc
gs  clippath
1969 478 m 1950 600 l 1910 483 l 1921 618 l 1981 612 l cp
clip
 [60] 0 sd
n 1800.0 537.5 162.5 157.4 22.6 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 1969 478 m 1950 600 l 1910 483 l 1940 480 l 1969 478 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2202 530 m 2100 600 l 2157 490 l 2068 592 l 2113 631 l cp
clip
 [60] 0 sd
n 2512.5 862.5 488.9 -32.5 -147.5 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2202 530 m 2100 600 l 2157 490 l 2179 510 l 2202 530 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2215 630 m 2100 675 l 2180 581 l 2070 659 l 2105 708 l cp
clip
n 2475.0 1068.8 543.8 -46.4 -133.6 arcn
gs col0 s gr
 gr

% arrowhead
n 2215 630 m 2100 675 l 2180 581 l 2198 605 l 2215 630 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
498 329 m 525 450 l 445 356 l 505 477 l 559 450 l cp
clip
n 393.8 431.2 132.6 135.0 8.1 arc
gs col0 s gr
 gr

% arrowhead
n 498 329 m 525 450 l 445 356 l 471 343 l 498 329 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3496 725 m 3375 750 l 3470 671 l 3348 729 l 3374 784 l cp
clip
n 3382.5 592.5 157.7 177.3 92.7 arc
gs col0 s gr
 gr

% arrowhead
n 3496 725 m 3375 750 l 3470 671 l 3483 698 l 3496 725 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
1420 581 m 1500 675 l 1385 630 l 1495 708 l 1530 659 l cp
clip
n 1125.0 1068.8 543.8 -133.6 -46.4 arc
gs col0 s gr
 gr

% arrowhead
n 1420 581 m 1500 675 l 1385 630 l 1402 605 l 1420 581 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
1445 489 m 1500 600 l 1399 529 l 1487 631 l 1533 592 l cp
clip
 [60] 0 sd
n 1096.5 847.5 473.4 -137.1 -31.5 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 1445 489 m 1500 600 l 1399 529 l 1422 509 l 1445 489 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
928 894 m 825 825 l 948 838 l 821 792 l 801 848 l cp
clip
 [60] 0 sd
n 1162.5 112.5 788.4 64.7 115.3 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 928 894 m 825 825 l 948 838 l 938 866 l 928 894 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2957 1086 m 3075 1050 l 2987 1137 l 3103 1068 l 3073 1017 l cp
clip
 [60] 0 sd
n 1800.0 -930.0 2355.0 122.8 57.2 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2957 1086 m 3075 1050 l 2987 1137 l 2972 1112 l 2957 1086 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
757 1068 m 675 975 l 791 1018 l 680 942 l 646 991 l cp
clip
 [60] 0 sd
n 1800.0 -525.0 1875.0 53.1 126.9 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 757 1068 m 675 975 l 791 1018 l 774 1043 l 757 1068 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2652 842 m 2775 825 l 2675 898 l 2800 847 l 2778 792 l cp
clip
 [60] 0 sd
n 2489.4 320.2 580.0 132.2 60.5 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2652 842 m 2775 825 l 2675 898 l 2664 870 l 2652 842 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 525 750 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 1500 600 m 2100 600 l 2100 900 l 1500 900 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
450 750 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 825 m
gs 1 -1 sc (o) col0 sh gr
/Times-Roman ff 180.00 scf sf
1575 300 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
2400 750 m
gs 1 -1 sc (r,t) col0 sh gr
/Times-Roman ff 180.00 scf sf
2325 300 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
1575 1650 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
3525 375 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
150 225 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
975 750 m
gs 1 -1 sc (r,w,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
900 300 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
1575 1275 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
975 1050 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
/Times-Roman ff 180.00 scf sf
2175 1050 m
gs 1 -1 sc (r,w,t,g) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 4357 3563 4 v 337 4597 a FM(Figure)g(4.5.)24 b(If)19
b(processes)g(ha)n(v)o(e)f(self)i(rights,)f(a)g FI(unidir)m(ectional)e
FM(path)i(for)g(capability)f(transfer)g(path)h(between)f(processes)337
4747 y(is)k(suf)n(\002cient)e(to)h(construct)f(a)h FI(bidir)m(ectional)
e FM(capability)h(transfer)g(path,)g(which)g(means)g(that)h
(capabilities)f(can)h(be)f(freely)337 4896 y(e)o(xchanged)i(between)i
(such)g(processes.)38 b(Under)24 b(the)g(presumed)f(collusion)h
(assumption,)g(there)g(is)i(a)f(strong)f(tendenc)o(y)337
5046 y(for)c(potential)f(access)i(graphs)e(to)i(become)e(fully)g
(connected)f(under)h(these)i(conditions.)462 5200 y(One)29
b(design)g(decision)g(that)h(can)f(be)g(inferred)f(from)h(this)h(e)o
(xample)e(is)i(that)g(the)f(authority)f(by)h(which)g(a)h(process)2077
5410 y(63)p eop
%%Page: 64 80
64 79 bop 37 108 a FM(modi\002es)27 b(itself)h(should)e(probably)f(be)i
(an)h FI(intrinsic)f FM(authority)f(that)h(is)h(not)f(e)o(xplicitly)f
(represented)g(by)h(a)g(capability)-5 b(.)37 257 y(Processes)29
b(must)f(be)g(able)g(to)g(modify)f(their)h(o)n(wn)f(state)i(in)f(order)
f(to)i(e)o(x)o(ecute,)f(b)n(ut)g(manifesting)f(this)h(authority)f(in)h
(a)37 407 y(capability)j(mak)o(es)g(it)i(transferable,)f(which)f(in)h
(man)o(y)e(cases)i(will)h(be)e(more)g(authority)f(than)h(one)g(wishes)h
(to)g(grant.)37 556 y(Lea)n(ving)15 b(\223self)5 b(\224)15
b(rights)h(out)f(of)h(the)f(model)g(is)i(not)e(damaging;)g(self)h
(rights)f(can)h(be)g(simulated)f(by)g(granting)f(e)n(v)o(ery)g(process)
37 705 y(a)29 b(suitable)f(capability)g(to)g(itself)h(on)f(creation.)49
b(In)28 b(the)g(balance)g(of)g(this)h(dissertation,)g(I)g(will)g(mak)o
(e)f(the)g(pessimistic)37 855 y(assumption)19 b(that)i(all)g(processes)
e(ha)n(v)o(e)h(such)g(\223self)5 b(\224)20 b(rights.)37
1229 y Fz(4.2)119 b(Limitations)30 b(of)f Fk(T)-11 b(ak)l(e-Grant)37
1471 y FM(Gi)n(v)o(en)27 b(the)g FI(tak)o(e-gr)o(ant)h
FM(access)g(model)e(and)h(the)g(observ)n(ations)f(of)h(Section)g
(4.1.6,)h(\223safe\224)f(subsystems)g(must)h(not)f(be)37
1620 y(gi)n(v)o(en)d(tak)o(e)i(or)e(grant)h(rights)g(unless)g(it)h(can)
f(be)g(sho)n(wn)f(that)h(the)g(objects)g(and)g(processes)g(that)g
(these)g(rights)g(name)g(are)37 1770 y(e)o(xclusi)n(v)o(ely)h(held.)45
b(An)27 b FF(exclusiv)o(ely)f(held)j FM(object)d(is)i(one)f(to)g(which)
f(no)h(capabilities)g(e)o(xist)g(outside)f(the)h(subsystem.)37
1919 y(In)k(practice,)i(ho)n(we)n(v)o(er)m(,)e(precluding)d(tak)o(e)j
(and)g(grant)f(rights)g(within)h(a)g(subsystem)g(is)g(an)g
(unacceptably)e(draconian)37 2069 y(restriction.)61 b(Such)32
b(a)g(restriction)g(precludes)f(all)i(transfer)e(of)h(access)h(rights,)
i(which)c(w)o(ould)h(in)g(turn)g(preclude)f(the)37 2218
y(establishment)20 b(of)g(shared)f(memory)g(re)o(gions)g(or)h
(interprocess)e(communications)g(within)i(the)g(subsystem.)162
2371 y(Equally)31 b(important,)i(three)e(crucial)h(\223design)f
(patterns\224)g(cannot)g(be)h(supported)e(within)h(the)h
FI(tak)o(e-gr)o(ant)g FM(access)37 2520 y(model:)269
2490 y FC(4)162 2767 y Fw(\017)41 b FM(The)25 b(model)f(does)h(not)f
(pro)o(vide)f(suf)n(\002cient)i(mechanism)e(to)i(support)f(selecti)n(v)
o(e)h(access)g(re)n(v)n(ocation,)g(because)f(it)245 2916
y(pro)o(vides)h(no)h(means)g(for)g(indirect)f(access.)45
b(Selecti)n(v)o(e)26 b(re)n(v)n(ocation)e(is)k(a)f(necessary)e(feature)
h(for)g(discretionary)245 3066 y(access)21 b(control.)162
3295 y Fw(\017)41 b FM(F)o(or)20 b(the)g(same)g(reason,)g(the)g
FI(tak)o(e-gr)o(ant)g FM(model)f(is)i(unable)e(to)i(model)e(shared)h
(memory)e(mapping)g(structures.)162 3525 y Fw(\017)41
b FM(A)32 b(\223safe\224)g(process)g(cannot)e(be)i(gi)n(v)o(en)f
FE(tak)m(e)i FM(or)f FE(gran)m(t)h FM(access)g(to)f(capability-link)o
(ed)d(structures)i(\(e.g.,)j(\002le)245 3674 y(systems\))20
b(that)h(are)f(created)f(by)h(other)f(processes.)162
3921 y(F)o(ollo)n(wing)g(tw)o(o)h(e)o(xamples,)f(I)i(will)f(re)n(vise)g
(the)h(model)e(so)h(as)h(to)g(resolv)o(e)e(these)h(issues.)37
4236 y FG(4.2.1)99 b(Example)26 b(1:)31 b(Selecti)o(v)o(e)25
b(Access)g(Re)o(v)o(ocation)37 4448 y FM(Consider)h(tw)o(o)g(processes)
g Fy(p)p Fx(1)g FM(and)g Fy(p)p Fx(2)g FM(operating)e(on)h(behalf)h(of)
f Fy(user)r Fx(1)h FM(and)g Fy(user)r Fx(2)g FM(respecti)n(v)o(ely)-5
b(.)41 b(Both)26 b(ha)n(v)o(e)f(been)37 4597 y(granted)e(access)h(to)g
(a)h(sensiti)n(v)o(e)e(object)h Fy(o)p Fx(1)p FM(.)36
b(The)24 b(second)f(user)g(has)h(switched)g(or)o(ganizations,)e(and)h
(it)h(is)h(necessary)e(to)37 4746 y(ensure)e(that)g(the)g(object)f
Fy(o)p Fx(1)i FM(is)g(no)e(longer)g(accessible)h(to)g(this)h(user)-5
b(.)28 b(In)20 b(consequence,)f(it)j(is)g(necessary)e(to)h
FF(rescind)i Fy(p)p Fx(2)p FM(')-5 b(s)37 4896 y(access)21
b(to)g Fy(o)p Fx(1)p FM(.)k(This)20 b(must)g(be)h(done)e(without)g
(altering)h Fy(p)p Fx(1)p FM(')-5 b(s)20 b(authority)f(to)h(access)h
Fy(o)p Fx(1)p FM(.)p 37 4963 1425 4 v 37 5018 a FB(4)104
5042 y FA(In)f(personal)i(communication,)i(Mark)c(Miller)i(has)f
(suggested)h(that)f(some)f(of)h(these)g(patterns)h(can)f(be)g
(simulated)h(by)e(trusted)i(processes.)32 b(This)20 b(is)104
5121 y(true,)f(b)o(ut)f(the)g(simulation)i(approach)g(requires)g(that)f
(security)g(ar)o(guments)g(rely)g(on)f(aspects)i(of)d(the)i(beha)o
(vior)h(of)d(these)i(simulation)h(processes)f(that)104
5200 y(cannot)g(be)e(represented)j(within)e(the)g(model.)j(The)c
(number)g(of)g(such)h(assumptions)g(should)f(clearly)j(be)d(minimized.)
1777 5410 y FM(64)p eop
%%Page: 65 81
65 80 bop 462 108 a FM(One)24 b(might)f(ar)o(gue)f(that)i(a)h
(reference)d(monitor)g(might)h(k)o(eep)h(track)f(of)h(which)f
(processes)h(hold)f(capabilities)g(to)h Fy(o)p Fx(1)p
FM(,)337 257 y(and)19 b(simply)f(remo)o(v)o(e)f(those)h(capabilities)g
(from)g(the)h(appropriate)d(processes)i(on)h(demand.)j(Unfortunately)-5
b(,)16 b(there)i(e)o(xists)337 407 y(no)24 b(one-to-one)e(relationship)
h(between)h(principals)f(and)h(processes.)37 b(The)24
b(second)g(user)m(,)g Fy(user)r Fx(2)p FM(,)h(may)f(ha)n(v)o(e)g
(colluded)337 556 y(with)d(a)f(third)g(user)g(to)g(sa)n(v)o(e)h(a)f
(cop)o(y)g(of)g(the)g Fy(o)p Fx(1)g FM(capability)g(in)g(a)h(reco)o(v)o
(erable)c(location.)462 709 y(A)f(straightforw)o(ard)d(and)j(ef)n
(\002cient)f(solution)g(w)o(ould)f(be)i(to)g(introduce)e(an)h
(additional)g(le)n(v)o(el)g(of)g(indirection,)g(as)h(sho)n(wn)337
858 y(in)k(Figure)f(4.10.)k(The)c(problem)f(with)h(this)h(solution)f
(is)h(that)f(the)h FI(tak)o(e-gr)o(ant)f FM(model)f(pro)o(vides)g(no)h
(access)h(right)e(that)i(can)p 337 990 3563 7 v 337 1064
a FJ(Figur)o(e)g(4.10)f FM(The)h(indirection)e(problem.)p
337 1102 3563 4 v 1323 1201 a
 12235407 8156938 0 0 12235407 8156938 startTexFig
 1323 1201 a
%%BeginDocument: tg-indirect.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: tg-indirect.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:11 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 186 124
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 130.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3152 m -1000 -1000 l 4162 -1000 l 4162 3152 l cp clip
 0.06000 0.06000 sc
% Arc
7.500 slw
gs  clippath
873 411 m 825 525 l 814 402 l 793 535 l 852 544 l cp
clip
n 666.3 424.0 188.1 110.7 32.5 arc
gs col0 s gr
 gr

% arrowhead
n 873 411 m 825 525 l 814 402 l 843 406 l 873 411 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 825 750 270 270 0 360 DrawEllipse gs col0 s gr

/Times-Roman ff 180.00 scf sf
750 825 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
75 225 m
gs 1 -1 sc (t,g,r,w) col0 sh gr
% Arc
gs  clippath
873 1536 m 825 1650 l 814 1527 l 793 1660 l 852 1669 l cp
clip
n 666.3 1549.0 188.1 110.7 32.5 arc
gs col0 s gr
 gr

% arrowhead
n 873 1536 m 825 1650 l 814 1527 l 843 1531 l 873 1536 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 825 1875 270 270 0 360 DrawEllipse gs col0 s gr

/Times-Roman ff 180.00 scf sf
750 1950 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
75 1350 m
gs 1 -1 sc (t,g,r,w) col0 sh gr
% Polyline
n 1650 600 m 2100 600 l 2100 975 l 1650 975 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
1800 900 m
gs 1 -1 sc (o2) col0 sh gr
% Polyline
n 1650 1650 m 2100 1650 l 2100 2025 l 1650 2025 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
1800 1950 m
gs 1 -1 sc (o3) col0 sh gr
% Polyline
gs  clippath
1530 720 m 1650 750 l 1530 780 l 1665 780 l 1665 720 l cp
clip
n 1125 750 m 1650 750 l gs col0 s gr gr

% arrowhead
n 1530 720 m 1650 750 l 1530 780 l 1530 750 l 1530 720 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2580 720 m 2700 750 l 2580 780 l 2715 780 l 2715 720 l cp
clip
n 2100 750 m 2700 750 l gs col0 s gr gr

% arrowhead
n 2580 720 m 2700 750 l 2580 780 l 2580 750 l 2580 720 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 2700 600 m 3150 600 l 3150 975 l 2700 975 l cp gs col0 s gr 
% Polyline
gs  clippath
1530 1845 m 1650 1875 l 1530 1905 l 1665 1905 l 1665 1845 l cp
clip
n 1125 1875 m 1650 1875 l gs col0 s gr gr

% arrowhead
n 1530 1845 m 1650 1875 l 1530 1905 l 1530 1875 l 1530 1845 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2612 986 m 2700 900 l 2663 1018 l 2733 903 l 2682 872 l cp
clip
n 2100 1875 m 2700 900 l gs col0 s gr gr

% arrowhead
n 2612 986 m 2700 900 l 2663 1018 l 2637 1002 l 2612 986 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 180.00 scf sf
1275 675 m
gs 1 -1 sc (??) col0 sh gr
/Times-Roman ff 180.00 scf sf
2775 825 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2325 675 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
1275 1800 m
gs 1 -1 sc (??) col0 sh gr
/Times-Roman ff 180.00 scf sf
2250 1275 m
gs 1 -1 sc (t,r) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 2338 3563 4 v 337 2576 a FM(serv)o(e)g(in)g(the)g(place)g(of)f
(the)h(\223??\224)25 b(rights)17 b(in)h(the)g(\002gure.)24
b(The)17 b FE(tak)m(e)j FM(right)d(w)o(ould)g(allo)n(w)h(both)f
(processes)h(to)g(obtain)f(direct)337 2725 y(access)28
b(to)e Fy(o)p Fx(1)p FM(,)i(which)e(cannot)g(subsequently)f(be)h(re)n
(v)n(ok)o(ed)f(selecti)n(v)o(ely)-5 b(.)43 b(The)26 b
FE(read)i FM(right)d(w)o(ould)h(not)g(permit)g FI(either)337
2875 y FM(process)20 b(to)h(access)f Fy(o)p Fx(1)p FM(.)462
3028 y(This)27 b(problem)e(is)j(similar)f(to)g(the)g(problem)e(of)h
(shared)g(memory)f(management)g(structures.)44 b(Consider)26
b(a)h(shared)337 3177 y(memory)19 b(re)o(gion)g(used)h(as)i(a)f(cache)f
(between)f(a)i(producer)d(and)i(a)h(consumer)-5 b(.)25
b(The)20 b(producer)e(may)i(need)g(for)g(reasons)g(of)337
3327 y(inte)o(grity)g(to)g(change)f(the)i(access)g(rights)f(to)h
(objects)f(in)h(the)f(shared)g(re)o(gion)f(\(as)h(is)i(commonly)c(done)
h(in)i(object)f(oriented)337 3476 y(databases\).)43 b(T)-7
b(o)27 b(do)f(so,)i(it)f(must)g(be)f(able)g(to)h(pro)o(vide)d(indirect)
i(access)h(to)f(the)h(objects)f(themselv)o(es)f(while)i(retaining)337
3626 y(e)o(xclusi)n(v)o(e)18 b(control)h(o)o(v)o(er)e(the)j(mapping)d
(structures.)24 b(In)19 b(the)h(absence)e(of)h(indirection)f(rights)h
(this)h(does)f(not)g(appear)f(to)i(be)337 3775 y(possible)i(without)e
(resorting)g(to)i(a)f(message)h(oriented)e(communication)e(protocol)i
(between)g(consumer)g(and)h(producer)-5 b(.)337 3924
y(Because)18 b(messaging)f(designs)h(introduce)d(additional)i(conte)o
(xt)f(switches)j(and)e(b)n(uf)n(fering)e(into)j(each)f(such)h(designs)f
(yield)337 4074 y(signi\002cantly)j(reduced)e(performance.)337
4390 y FG(4.2.2)99 b(Example)26 b(2:)31 b(Shar)n(ed)26
b(Link)o(ed)h(Structur)n(e)337 4602 y FM(The)20 b(dif)n(\002culty)g
(with)g(capability)f(link)o(ed)h(structures)g(is)h(illustrated)f(in)g
(Figure)g(4.11.)k(On)c(the)h(left)f(is)h(a)g(graph)e(sho)n(wing)g(a)337
4751 y(process)k Fy(p)p Fx(1)46 b FM(with)24 b(a)f(capability-link)o
(ed)d(structure)i(that)i(is)g(accessible)f(e)o(xclusi)n(v)o(ely)e(by)h
Fy(p)p Fx(1)h FM(\(i.e.)34 b(is)23 b(e)o(xclusi)n(v)o(ely)f(held\).)337
4901 y(While)28 b(this)f(structure)f(is)i(safe,)g(runtime)e(v)o
(eri\002cation)f(of)i(its)h(safety)e(requires)g(a)h(reference)e
(monitor)h(that)h(can)f(freeze)337 5050 y(the)i(access)g(graph)e(and)g
(perform)g(the)h(necessary)f(graph)g(tra)n(v)o(ersal.)46
b(Such)27 b(a)h(monitor)d(must)j(compute)d(the)j(complete)337
5200 y(partial)h(access)h(graph,)g(which)f(temporarily)e(requires)h
(more)h(storage)f(than)h(the)g(graph)f(it)i(e)n(v)n(aluates.)52
b(The)29 b(graph)e(in)2077 5410 y(65)p eop
%%Page: 66 82
66 81 bop 37 31 3563 7 v 37 105 a FJ(Figur)o(e)20 b(4.11)f
FM(The)h(shared)f(link)o(ed)h(structure)f(problem.)p
37 143 3563 4 v 181 243 a
 25523322 9077882 0 0 25523322 9077882 startTexFig
 181 243 a
%%BeginDocument: tg-caplink.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: tg-caplink.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:11 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 388 138
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 143.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3367 m -1000 -1000 l 7526 -1000 l 7526 3367 l cp clip
 0.06000 0.06000 sc
% Arc
7.500 slw
gs  clippath
2351 1576 m 2475 1575 l 2366 1634 l 2497 1600 l 2482 1542 l cp
clip
 [60] 0 sd
n 2100.0 396.4 1236.8 148.1 72.3 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2351 1576 m 2475 1575 l 2366 1634 l 2359 1605 l 2351 1576 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2372 307 m 2475 375 l 2352 363 l 2479 408 l 2499 352 l cp
clip
 [60] 0 sd
n 1978.6 1551.5 1276.9 -136.7 -67.1 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2372 307 m 2475 375 l 2352 363 l 2362 335 l 2372 307 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
873 561 m 825 675 l 814 552 l 793 685 l 852 694 l cp
clip
n 666.3 574.0 188.1 110.7 32.5 arc
gs col0 s gr
 gr

% arrowhead
n 873 561 m 825 675 l 814 552 l 843 556 l 873 561 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 825 900 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
n 1650 750 m 2100 750 l 2100 1125 l 1650 1125 l cp gs col0 s gr 
% Polyline
n 2475 300 m 2925 300 l 2925 675 l 2475 675 l cp gs col0 s gr 
% Polyline
n 2475 1350 m 2925 1350 l 2925 1725 l 2475 1725 l cp gs col0 s gr 
% Polyline
gs  clippath
1530 870 m 1650 900 l 1530 930 l 1665 930 l 1665 870 l cp
clip
n 1125 900 m 1650 900 l gs col0 s gr gr

% arrowhead
n 1530 870 m 1650 900 l 1530 930 l 1530 900 l 1530 870 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2392 1333 m 2475 1425 l 2359 1383 l 2471 1458 l 2504 1408 l cp
clip
n 2025 1125 m 2475 1425 l gs col0 s gr gr

% arrowhead
n 2392 1333 m 2475 1425 l 2359 1383 l 2375 1358 l 2392 1333 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2670 795 m 2700 675 l 2730 795 l 2730 660 l 2670 660 l cp
clip
n 2700 1350 m 2700 675 l gs col0 s gr gr

% arrowhead
n 2670 795 m 2700 675 l 2730 795 l 2700 795 l 2670 795 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1996 723 m 1875 750 l 1969 670 l 1848 730 l 1875 784 l cp
clip
n 2475 450 m 1875 750 l gs col0 s gr gr

% arrowhead
n 1996 723 m 1875 750 l 1969 670 l 1982 696 l 1996 723 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 180.00 scf sf
1275 825 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
750 975 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 1050 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2625 525 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2625 1650 m
gs 1 -1 sc (o3) col0 sh gr
/Times-Roman ff 180.00 scf sf
2100 1425 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
2775 1050 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
2025 525 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
1725 1500 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
1350 300 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
75 375 m
gs 1 -1 sc (t,g,r,w) col0 sh gr
% Arc
gs  clippath
4771 1043 m 4875 975 l 4815 1083 l 4907 984 l 4863 944 l cp
clip
 [60] 0 sd
n 4625.7 844.9 281.2 168.7 27.6 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4771 1043 m 4875 975 l 4815 1083 l 4793 1063 l 4771 1043 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5576 1576 m 5700 1575 l 5591 1634 l 5722 1600 l 5707 1542 l cp
clip
 [60] 0 sd
n 5325.0 396.4 1236.8 148.1 72.3 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5576 1576 m 5700 1575 l 5591 1634 l 5584 1605 l 5576 1576 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5597 307 m 5700 375 l 5577 363 l 5704 408 l 5724 352 l cp
clip
 [60] 0 sd
n 5203.6 1551.5 1276.9 -136.7 -67.1 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5597 307 m 5700 375 l 5577 363 l 5587 335 l 5597 307 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4098 561 m 4050 675 l 4039 552 l 4018 685 l 4077 694 l cp
clip
n 3891.3 574.0 188.1 110.7 32.5 arc
gs col0 s gr
 gr

% arrowhead
n 4098 561 m 4050 675 l 4039 552 l 4068 556 l 4098 561 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5752 1238 m 5700 1350 l 5693 1227 l 5668 1359 l 5727 1370 l cp
clip
 [60] 0 sd
n 5512.5 1237.5 218.7 -149.0 31.0 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5752 1238 m 5700 1350 l 5693 1227 l 5722 1232 l 5752 1238 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
6158 767 m 6075 675 l 6191 717 l 6079 642 l 6046 691 l cp
clip
 [60] 0 sd
n 5937.5 1012.5 364.4 67.8 -67.8 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 6158 767 m 6075 675 l 6191 717 l 6174 742 l 6158 767 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5449 830 m 5325 825 l 5436 771 l 5304 799 l 5317 857 l cp
clip
 [60] 0 sd
n 5319.6 433.9 391.1 13.5 89.2 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5449 830 m 5325 825 l 5436 771 l 5442 800 l 5449 830 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 4050 900 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 4456 2090 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
gs  clippath
4803 1225 m 4875 1125 l 4858 1248 l 4908 1122 l 4853 1100 l cp
clip
n 4575 1875 m 4875 1125 l gs col0 s gr gr

% arrowhead
n 4803 1225 m 4875 1125 l 4858 1248 l 4830 1236 l 4803 1225 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 4875 750 m 5325 750 l 5325 1125 l 4875 1125 l cp gs col0 s gr 
% Polyline
n 5700 300 m 6150 300 l 6150 675 l 5700 675 l cp gs col0 s gr 
% Polyline
n 5700 1350 m 6150 1350 l 6150 1725 l 5700 1725 l cp gs col0 s gr 
% Polyline
gs  clippath
4755 870 m 4875 900 l 4755 930 l 4890 930 l 4890 870 l cp
clip
n 4350 900 m 4875 900 l gs col0 s gr gr

% arrowhead
n 4755 870 m 4875 900 l 4755 930 l 4755 900 l 4755 870 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
5617 1333 m 5700 1425 l 5584 1383 l 5696 1458 l 5729 1408 l cp
clip
n 5250 1125 m 5700 1425 l gs col0 s gr gr

% arrowhead
n 5617 1333 m 5700 1425 l 5584 1383 l 5600 1358 l 5617 1333 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
5895 795 m 5925 675 l 5955 795 l 5955 660 l 5895 660 l cp
clip
n 5925 1350 m 5925 675 l gs col0 s gr gr

% arrowhead
n 5895 795 m 5925 675 l 5955 795 l 5925 795 l 5895 795 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
5221 723 m 5100 750 l 5194 670 l 5073 730 l 5100 784 l cp
clip
n 5700 450 m 5100 750 l gs col0 s gr gr

% arrowhead
n 5221 723 m 5100 750 l 5194 670 l 5207 696 l 5221 723 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 180.00 scf sf
4500 825 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
3975 975 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
5025 1050 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
5850 525 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
5850 1650 m
gs 1 -1 sc (o3) col0 sh gr
/Times-Roman ff 180.00 scf sf
5325 1425 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
6000 1050 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
5250 525 m
gs 1 -1 sc (t,r) col0 sh gr
/Times-Roman ff 180.00 scf sf
3300 375 m
gs 1 -1 sc (t,g,r,w) col0 sh gr
/Times-Roman ff 180.00 scf sf
4350 2100 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
5100 1800 m
gs 1 -1 sc (?) col0 sh gr
/Times-Roman ff 180.00 scf sf
4650 1275 m
gs 1 -1 sc (?) col0 sh gr
/Times-Roman ff 180.00 scf sf
4950 225 m
gs 1 -1 sc (?) col0 sh gr
/Times-Roman ff 180.00 scf sf
6450 1050 m
gs 1 -1 sc (?) col0 sh gr
/Times-Roman ff 180.00 scf sf
5775 1050 m
gs 1 -1 sc (?) col0 sh gr
/Times-Roman ff 180.00 scf sf
5625 900 m
gs 1 -1 sc (?) col0 sh gr
/Times-Roman ff 180.00 scf sf
4500 1725 m
gs 1 -1 sc (??) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 1496 3563 4 v 37 1854 a FM(turn)29 b(will)g(typically)f(e)o(xceed)g
(the)h(size)g(of)g(main)f(memory)f(by)i(se)n(v)o(eral)f(orders)g(of)h
(magnitude.)49 b(While)29 b(computable,)37 2003 y(such)22
b(an)f(algorithm)f(is)j(clearly)e(not)g(f)o(ast)i(enough)c(to)j(suf)n
(\002ce)f(for)g(critical)h(operations.)28 b(Finally)-5
b(,)21 b(the)g(monitor)f(itself)j(is)f(a)37 2153 y(comple)o(x)d(piece)h
(of)g(trusted)g(softw)o(are)g(whose)g(security)g(must)g(be)g(carefully)
f(e)n(v)n(aluated)g(and)h(is)h(pragmatically)d(prone)h(to)37
2302 y(compromise)g(as)i(the)f(program)e(is)j(maintained.)162
2506 y(Stepping)d(be)o(yond)g(e)o(xclusi)n(v)o(ely)g(held)h
(structures,)g(one)g(w)o(ould)g(actually)g(lik)o(e)h(it)g(to)g(be)f
(possible)h(for)f Fy(p)p Fx(1)g FM(to)h(be)g(grant-)37
2656 y(ed)j(access)g(to)g FI(pr)m(ee)n(xisting)g FM(structures)f(b)n
(uilt)h(by)f(some)h(other)e(party)h(\(right\).)32 b(The)22
b(dif)n(\002culty)g(lies)h(in)g(the)g(f)o(act)g(that)f(only)37
2805 y(a)j(reference)d(monitor)h(is)i(able)f(to)g(determine)e(what)i
(access)h(rights)f(\(the)f(\223??\224)37 b(in)24 b(the)g(right)f(hand)g
(graph\))g(the)h(creating)37 2955 y(process)h(retains)g(to)g(the)g
(structure,)g(or)g(may)f(ha)n(v)o(e)h(gi)n(v)o(en)e(out)i(to)g(third)g
(party)f(processes.)39 b(In)24 b(consequence,)g(it)i(is)g(pro-)37
3104 y(hibiti)n(v)o(ely)d(e)o(xpensi)n(v)o(e)e(to)j(kno)n(w)f(the)h
(potential)e(access)j(within)e(the)h(graph,)f(without)g(which)g(no)g
(statement)h(about)e Fy(p)p Fx(1)p FM(')-5 b(s)37 3254
y(safety)21 b(can)e(be)i(made.)162 3458 y(Suppose,)26
b(for)f(e)o(xample,)h(that)g Fy(p)p Fx(1)g FM(is)h(prohibited)d(from)h
(con)m(v)o(e)o(ying)d(information)i(to)i(third)f(parties.)42
b(If)26 b Fy(p)p Fx(2)g FM(retains)37 3607 y FE(gran)m(t)e
FM(rights)e(to)h(the)f(shared)g(structure,)g(it)h(can)f(modify)f(the)h
(structure)f(in)i(such)f(a)h(w)o(ay)f(as)h(to)g(con)m(v)o(e)o(y)d
(write)i(authority)37 3757 y(to)f Fy(p)p Fx(1)p FM(,)f(thereby)e
(creating)i(a)g(channel)f(for)h(information)d(leakage.)37
4412 y Fz(4.3)119 b(The)31 b Fk(Diminish-T)-11 b(ak)l(e)31
b Fz(Access)e(Model)37 4751 y FM(The)23 b FI(diminish-tak)o(e)e
FM(access)i(model)f(is)h(an)g(e)o(xtension)e(of)h(the)h
FI(tak)o(e-gr)o(ant)f FM(model)g(that)h(adds)f(indirection)f(f)o
(acilities)i(and)37 4901 y(a)30 b(ne)n(w)f(pair)g(of)g(fundamental)e
(access)j(rights:)43 b FE(diminished)18 b(tak)m(e)31
b FM(and)d FE(diminished)18 b(gran)m(t)q FM(.)53 b(Indirection)27
b(pro-)37 5050 y(vides)19 b(the)g(necessary)g(mechanism)f(to)h(support)
f(selecti)n(v)o(e)g(re)n(v)n(ocation)g(and)g(shared)g(memory)g(mapping)
f(structures.)24 b(The)37 5200 y FE(diminish)18 b FM(right)i
(eliminates)g(the)g(need)g(for)f(a)i(reference)d(monitor)h(to)h
(determine)f(safety)h(in)g(man)o(y)f(cases.)1777 5410
y(66)p eop
%%Page: 67 83
67 82 bop 337 31 3563 7 v 337 105 a FJ(Figur)o(e)20 b(4.12)f
FM(Combination)f(rules)j(for)e(indirection)g(rights)p
337 143 3563 4 v 554 321 a(Let)h Fy(a)p FM(,)g Fy(b)h
FM(be)f(an)o(y)f(entity)h(\(process)g(or)f(object\),)g
Fy(p)p Fx(1)p FM(,)h Fy(p)p Fx(2)g FM(be)g(processes,)554
420 y Fy(xi)g FM(an)o(y)g(indirection)e(right,)i Fy(xa)h
FM(an)o(y)e(access)i(right,)e(in:)554 644 y Fy(p)p Fx(1)696
597 y Fv(xi)660 644 y Fw(\000)-14 b(!)23 b Fy(a)83 b
Fw(^)g Fy(a)1185 597 y Fv(xi)1149 644 y Fw(\000)-14 b(!)23
b Fy(b)82 b Fw(\))h Fy(p)p Fx(1)1733 597 y Fv(xi)1697
644 y Fw(\000)-14 b(!)23 b Fy(b)299 b(p)p Fx(1)2332 597
y Fv(xi)2296 644 y Fw(\000)-15 b(!)23 b Fy(a)83 b Fw(^)h
Fy(a)2815 597 y Fv(xa)2785 644 y Fw(\000)-15 b(!)23 b
Fy(b)83 b Fw(\))g Fy(p)p Fx(1)3363 597 y Fv(xa)3332 644
y Fw(\000)-14 b(!)23 b Fy(b)p 337 785 V 337 1043 a FG(4.3.1)99
b(Indir)n(ection)27 b(Rights)337 1257 y FM(T)-7 b(o)24
b(pro)o(vide)d(for)i(selecti)n(v)o(e)f(re)n(v)n(ocation)g(and)h
(sharing)f(of)h(memory)e(mapping)g(structures,)i(indirect)g(access)h
(rights)f(must)337 1406 y(be)17 b(added)f(to)h(the)g(access)h(model.)23
b(An)17 b(indirect)f(right)g(con)m(v)o(e)o(ys)f(no)i(authority)e(to)i
(manipulate)e(an)i(object)g(or)f(e)o(xtract)h(infor)n(-)337
1555 y(mation)k(from)g(that)h(object,)f(b)n(ut)g(it)i
FI(does)e FM(pro)o(vide)f(means)h(to)h(reference)e(a)i(second)f(object)
g(by)g(means)g(of)g(the)h(\002rst.)30 b(Each)337 1705
y(access)21 b(right)e(in)h(the)g FI(tak)o(e-gr)o(ant)g
FM(model)f(is)i(replaced)d(by)i FI(two)g FM(access)g(rights)g(in)g(the)
g FI(diminish-tak)o(e)e FM(model)h(\(T)-7 b(able)20 b(4.2\).)p
337 1970 3563 7 v 337 2043 a FJ(T)-8 b(able)22 b(4.2)d
FI(T)-8 b(ak)o(e-gr)o(ant)21 b FM(with)f(indirection)e(rights.)p
337 2081 3563 4 v 937 2251 a FE(ri)114 b FM(read)20 b(indirection)339
b FE(ra)114 b FM(read)19 b(access)i(\()p FI(tak)o(e-gr)o(ant)f
FE(r)h FM(right\))922 2350 y FE(wi)99 b FM(write)21 b(indirection)297
b FE(w)m(a)101 b FM(write)20 b(access)h(\()p FI(tak)o(e-gr)o(ant)e
FE(w)j FM(right\))938 2450 y FE(ti)115 b FM(tak)o(e)20
b(indirection)346 b FE(ta)115 b FM(tak)o(e)20 b(access)h(\()p
FI(tak)o(e-gr)o(ant)e FE(t)i FM(right\))933 2549 y FE(gi)109
b FM(grant)20 b(indirection)307 b FE(ga)109 b FM(grant)19
b(access)i(\()p FI(tak)o(e-gr)o(ant)e FE(g)j FM(right\))p
337 2682 V 462 2945 a(The)30 b(\223access\224)h(rights)f(\()p
FE(ra)q FM(,)j FE(w)m(a)q FM(,)g(etc.\))56 b(correspond)28
b(to)j(the)g(base)f(rights)h(pro)o(vided)d(by)i(the)g
FI(tak)o(e-gr)o(ant)h FM(model.)337 3094 y(The)25 b(indirection)f
(rights)g(e)o(xtend)g(the)h(conditions)f(under)f(which)i
FI(de)g(facto)f FM(access)i(is)g(realized.)39 b(W)m(ith)25
b(the)g(addition)f(of)337 3244 y(indirection)e(rights,)h(the)g(ne)n(w)g
(combination)e(rules)i(sho)n(wn)g(in)g(Figure)f(4.12)g(are)h(added)f
(to)i(the)f(model.)33 b(All)24 b(rules)f(from)337 3393
y(the)e FI(tak)o(e-gr)o(ant)f FM(model)f(are)h(carried)f(forw)o(ard,)g
(subject)h(to)g(the)g(ob)o(vious)f(relabeling.)462 3547
y(There)e(are)h(no)g FI(de)f(facto)h FM(indirection)e(rights.)24
b(The)18 b(ef)n(fect)f(of)h(an)g(indirection)e(right)h(is)i(to)f(grant)
f(a)i(form)e(of)g FI(conting)o(ent)337 3696 y FM(authority)k(that)h
(cannot)g(be)g(e)o(x)o(ercised)f(unless)h(a)h(true)f(access)h(right)e
(is)i(found)e(that)h(is)i(connected)c(by)i(a)h(suitable)f(path)f(to)337
3846 y(a)g(matching)e(indirection)f(right.)25 b(F)o(or)20
b(the)g(same)g(reason,)f(indirection)g(rights)h(are)g(not)g(symmetric.)
462 4000 y(Figure)i(4.13)f(illustrates)i(ho)n(w)f(the)g(indirection)f
(rights)h(are)g(used.)31 b(In)22 b(this)h(e)o(xample,)e
Fy(p)p Fx(1)i FM(is)g(able)f(to)h(read)f(and)f(write)337
4149 y Fy(o)p Fx(3)26 b FM(by)f(virtue)g(of)g(being)g(able)g(to)h
(indirect)e(through)f Fy(o)p Fx(1)j FM(and)f Fy(o)p Fx(2)p
FM(.)41 b(This)26 b(authority)d(does)j FI(not)g FM(gi)n(v)o(e)f
Fy(p)p Fx(1)g FM(the)h(authority)d(to)337 4299 y(e)o(xamine)c(or)h
(modify)e Fy(o)p Fx(1)j FM(and)e Fy(o)p Fx(2)p FM(.)26
b(The)19 b(labels)i(\223page)e(directory)-5 b(,)f(\224)18
b(\223page)h(table,)-6 b(\224)20 b(and)f(\223page\224)g(are)h(purely)f
(an)h(appeal)f(to)337 4448 y(the)24 b(imagination,)e(and)g(should)h
(not)g(be)g(considered)e(to)j(foreshado)n(w)d(the)i(design)g(or)g
(implementation)e(described)g(later)337 4597 y(in)j(this)g
(dissertation.)35 b(Similarly)-5 b(,)23 b(an)o(y)g(inferred)f
(similarity)i(between)e(page)h(table)h(entries)f(and)g(capabilities)h
(w)o(ould)f(be)337 4747 y(premature)c(at)i(this)f(stage.)462
4901 y(Indirection)c(rights)i(also)g(resolv)o(e)f(the)h(problem)e(of)i
(selecti)n(v)o(e)g(re)n(v)n(ocation.)k(By)d(granting)d(to)i(the)g(user)
g(a)g(capability)f(to)337 5050 y(a)h(per)n(-user)e(indirection)f
(object,)i(a)h(particular)e(user')-5 b(s)17 b(access)h(to)f(an)g
(object)g(is)h(straightforw)o(ardly)c(rescinded)i(by)h(deleting)337
5200 y(the)k(indirection)d(object.)2077 5410 y(67)p eop
%%Page: 68 84
68 83 bop 37 31 3563 7 v 37 106 a FJ(Figur)o(e)20 b(4.13)f
FM(Example)g(of)h FE(ri)g FM(and)g FE(wi)g FM(rights.)p
37 143 3563 4 v 685 243 a
 17563729 6972866 0 0 17563729 6972866 startTexFig
 685 243 a
%%BeginDocument: rt-indir-rw.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: rt-indir-rw.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:10 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 267 106
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 112.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 2854 m -1000 -1000 l 5512 -1000 l 5512 2854 l cp clip
 0.06000 0.06000 sc
% Arc
7.500 slw
gs  clippath
2814 1030 m 2925 975 l 2853 1076 l 2956 988 l 2917 942 l cp
clip
 [60] 0 sd
n 1987.5 -7.5 1358.0 133.7 46.3 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2814 1030 m 2925 975 l 2853 1076 l 2834 1053 l 2814 1030 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3938 1028 m 4050 975 l 3976 1074 l 4081 989 l 4043 942 l cp
clip
 [60] 0 sd
n 2429.4 -901.4 2479.4 128.1 49.2 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 3938 1028 m 4050 975 l 3976 1074 l 3957 1051 l 3938 1028 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
3974 502 m 4050 600 l 3937 549 l 4043 633 l 4080 586 l cp
clip
 [60] 0 sd
n 3037.5 1762.5 1541.6 -131.1 -48.9 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 3974 502 m 4050 600 l 3937 549 l 3956 526 l 3974 502 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
873 411 m 825 525 l 814 402 l 793 535 l 852 544 l cp
clip
n 666.3 424.0 188.1 110.7 32.5 arc
gs col0 s gr
 gr

% arrowhead
n 873 411 m 825 525 l 814 402 l 843 406 l 873 411 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 825 750 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
gs  clippath
1680 720 m 1800 750 l 1680 780 l 1815 780 l 1815 720 l cp
clip
n 1125 750 m 1800 750 l gs col0 s gr gr

% arrowhead
n 1680 720 m 1800 750 l 1680 780 l 1680 750 l 1680 720 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 2925 600 m 3375 600 l 3375 975 l 2925 975 l cp gs col0 s gr 
% Polyline
n 1800 600 m 2250 600 l 2250 975 l 1800 975 l cp gs col0 s gr 
% Polyline
gs  clippath
2805 720 m 2925 750 l 2805 780 l 2940 780 l 2940 720 l cp
clip
n 2250 750 m 2925 750 l gs col0 s gr gr

% arrowhead
n 2805 720 m 2925 750 l 2805 780 l 2805 750 l 2805 720 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
3930 720 m 4050 750 l 3930 780 l 4065 780 l 4065 720 l cp
clip
n 3375 750 m 4050 750 l gs col0 s gr gr

% arrowhead
n 3930 720 m 4050 750 l 3930 780 l 3930 750 l 3930 720 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 4050 600 m 4500 600 l 4500 975 l 4050 975 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
1275 675 m
gs 1 -1 sc (ri,wi) col0 sh gr
/Times-Roman ff 180.00 scf sf
4275 825 m
gs 1 -1 sc (o3) col0 sh gr
/Times-Roman ff 180.00 scf sf
3075 825 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
1950 825 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
3525 675 m
gs 1 -1 sc (ra,wa) col0 sh gr
/Times-Roman ff 180.00 scf sf
2400 675 m
gs 1 -1 sc (ri,wi) col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 1275 m
gs 1 -1 sc (ri,wi) col0 sh gr
/Times-Roman ff 180.00 scf sf
2700 1425 m
gs 1 -1 sc (ra,wa) col0 sh gr
/Times-Roman ff 180.00 scf sf
3600 300 m
gs 1 -1 sc (ra,wa) col0 sh gr
/Times-Roman ff 180.00 scf sf
750 825 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
75 225 m
gs 1 -1 sc (ta,ga,ra,wa) col0 sh gr
/Times-Italic ff 180.00 scf sf
2775 1800 m
gs 1 -1 sc (page table) col0 sh gr
/Times-Italic ff 180.00 scf sf
4125 1800 m
gs 1 -1 sc (page) col0 sh gr
/Times-Italic ff 180.00 scf sf
1425 1800 m
gs 1 -1 sc (page directory) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 1229 3563 4 v 37 1333 3563 7 v 37 1407 a FJ(Figur)o(e)g(4.14)f
FM(Combination)f(rules)j(in)m(v)n(olving)d(diminished)g(access)j
(rights.)p 37 1445 3563 4 v 784 1622 a(Let)g Fy(a)p FM(,)f
Fy(b)h FM(be)f(an)o(y)f(entity)h(\(process)f(or)h(object\),)f
Fy(p)p Fx(1)p FM(,)h Fy(p)p Fx(2)g FM(be)g(processes,)784
1722 y Fy(r)k FM(an)o(y)19 b(access)i(right,)f(in:)784
1957 y Fy(p)p Fx(1)891 1903 y Fj(dga)o Fi(j)p Fs(\()p
Fj(dga)p Fs(\))976 1957 y Fw(\000)-15 b(!)108 b Fy(a)83
b Fw(^)h Fy(p)p Fx(2)1589 1903 y Fj(ta)p Fi(j)p Fs(\()p
Fj(ta)p Fs(\))o Fi(j)p Fj(dta)p Fi(j)p Fs(\()p Fj(dta)p
Fs(\))1777 1957 y Fw(\000)-14 b(!)211 b Fy(a)83 b Fw(\))g
Fy(p)p Fx(1)2521 1903 y Fs(\()p Fj(dga)p Fs(\))2539 1957
y Fw(\000)-15 b(!)40 b Fy(p)p Fx(2)826 2093 y Fy(p)p
Fx(1)933 2039 y Fj(ga)o Fi(j)p Fs(\()p Fj(ga)p Fs(\))976
2093 y Fw(\000)-15 b(!)67 b Fy(a)124 b Fw(^)195 b Fy(p)p
Fx(2)1701 2039 y Fj(dta)o Fi(j)p Fs(\()p Fj(dta)p Fs(\))1777
2093 y Fw(\000)-14 b(!)100 b Fy(a)194 b Fw(\))83 b Fy(p)p
Fx(1)2521 2039 y Fs(\()p Fj(dga)p Fs(\))2539 2093 y Fw(\000)-15
b(!)40 b Fy(p)p Fx(2)793 2229 y Fy(p)p Fx(1)899 2175
y Fj(dta)p Fi(j)p Fs(\()p Fj(dta)p Fs(\))976 2229 y Fw(\000)-15
b(!)100 b Fy(a)91 b Fw(^)296 b Fy(a)1812 2182 y Fv(r)1762
2229 y Fw(\000)-15 b(!)23 b Fy(b)295 b Fw(\))90 b Fy(p)p
Fx(1)2529 2175 y Fv(dim)p Fs(\()p Fv(r)r Fs(\))2562 2229
y Fw(\000)-14 b(!)57 b Fy(b)784 2365 y(p)p Fx(1)891 2311
y Fj(dga)o Fi(j)p Fs(\()p Fj(dga)p Fs(\))976 2365 y Fw(\000)-15
b(!)108 b Fy(a)83 b Fw(^)276 b Fy(p)p Fx(1)1832 2318
y Fv(r)1781 2365 y Fw(\000)-14 b(!)23 b Fy(b)275 b Fw(\))110
b Fy(a)2509 2311 y Fv(dim)p Fs(\()p Fv(r)r Fs(\))2543
2365 y Fw(\000)-15 b(!)57 b Fy(b)p 37 2507 V 37 2750
a FG(4.3.2)99 b(The)26 b Fh(Diminish)e FG(Operation)37
2955 y FM(The)c Fy(diminish)p Fx(\()p Fw(\001)p Fx(\))g
FM(operation)f(reduces)g(the)h(authorities)f(held)h(by)g(a)g
(capability)-5 b(.)24 b(This)c(operation)f(is)i(de\002ned)e(as:)1157
3190 y Fy(diminish)p Fx(\()p Fy(r)r Fx(\))83 b(=)g Fy(r)21
b Fw(\\)e(f)p FE(ri)o Fy(;)14 b FE(ra)q Fy(;)g FE(dti)o
Fy(;)g FE(dta)q Fw(g)p Fy(:)162 3406 y FM(The)k FI(diminish-tak)o(e)e
FM(model)h(introduces)f(tw)o(o)j(ne)n(w)e(fundamental)f(access)i
(rights)g(using)f(this)h(operation:)23 b FI(diminished)37
3556 y(tak)o(e)k FM(and)g FI(diminished)e(gr)o(ant)p
FM(,)j(along)e(with)h(corresponding)c(indirection)i(rights.)44
b(I)27 b(will)h(label)f(these)g(rights)f FE(dta)i FM(and)37
3705 y FE(dga)q FM(,)20 b(respecti)n(v)o(ely)-5 b(,)18
b(and)i(the)g(corresponding)d(indirection)h(rights)i(as)h
FE(dti)f FM(and)g FE(dgi)o FM(.)162 3855 y(The)15 b FE(diminished)i
(tak)m(e)g FM(right)e(is)h(similar)g(to)f(the)h FE(tak)m(e)h
FM(right.)22 b(The)15 b(dif)n(ference)f(is)i(that)f(where)g(the)g
FE(tak)m(e)i FM(operation)37 4004 y FI(copies)25 b FM(a)f(capability)-5
b(,)24 b(the)h Fy(diminish)p Fx(\()p Fw(\001)p Fx(\))f
FM(operation)e(returns)i(a)h(capability)e(whose)h(rights)g(ha)n(v)o(e)g
(been)g(reduced)f(by)h(the)37 4154 y Fy(diminish)p Fx(\()p
Fw(\001)p Fx(\))e FM(operation.)28 b(Similarly)-5 b(,)21
b(the)g FE(diminished)d(gran)m(t)23 b FM(operation)d
FI(stor)m(es)j FM(a)f(capability)e(whose)i(rights)f(ha)n(v)o(e)37
4303 y(been)f(reduced)f(by)g(the)i Fy(diminish)p Fx(\()p
Fw(\001)p Fx(\))e FM(operation.)162 4452 y(The)j(potential)f(access)i
(combination)d(rules)i(associated)g(with)g(the)g(diminished)f(rights)h
(are)g(sho)n(wn)f(in)h(Figure)g(4.14.)37 4602 y(The)17
b(ef)n(fect)f(of)h(these)g(rules)g(is)h(to)f(guarantee)e
FI(tr)o(ansitive)i FM(read-only)d(authority)h(o)o(v)o(er)h(all)h
(objects)g(reachable)e(by)i(tra)n(v)o(ersing)37 4751
y(a)k(diminished)e(capability)-5 b(.)162 4901 y(Consider)26
b(a)i FI(diminish-tak)o(e)d FM(v)o(ersion)h(of)g(the)h(graph)f(of)g
(Figure)g(4.11.)44 b(The)27 b(access)g(rights)g(ha)n(v)o(e)f(been)g
(relabeled,)37 5050 y(and)21 b(the)f(internal)g(links)h(between)f
Fy(o)p Fx(1)p FM(,)h Fy(o)p Fx(2)p FM(,)f(and)h Fy(o)p
Fx(3)g FM(ha)n(v)o(e)f(been)g(strengthened)e(to)j(con)m(v)o(e)o(y)d
FE(gran)m(t)k FM(rights)f(\(Figure)e(4.15\).)37 5200
y(The)i(left)g(hand)e(side)i(sho)n(ws)g(the)f(direct)h(and)f(potential)
g(access)h(rights)f(a)n(v)n(ailable)g(to)h Fy(p)p Fx(1)g
FM(under)e(the)h(assumption)g(that)h(the)1777 5410 y(68)p
eop
%%Page: 69 85
69 84 bop 337 31 3563 7 v 337 105 a FJ(Figur)o(e)20 b(4.15)f
FM(Safe,)h(shared)f(link)o(ed)h(structure)f(in)i FI(diminish-tak)o(e)p
FM(.)p 337 142 3563 4 v 406 242 a
 26707394 9209446 0 0 26707394 9209446 startTexFig
 406 242 a
%%BeginDocument: dt-caplink.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: dt-caplink.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:09 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 406 140
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 143.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3367 m -1000 -1000 l 7826 -1000 l 7826 3367 l cp clip
 0.06000 0.06000 sc
% Arc
7.500 slw
gs  clippath
5576 1576 m 5700 1575 l 5591 1634 l 5722 1600 l 5707 1542 l cp
clip
 [60] 0 sd
n 5325.0 396.4 1236.8 148.1 72.3 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5576 1576 m 5700 1575 l 5591 1634 l 5584 1605 l 5576 1576 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5597 307 m 5700 375 l 5577 363 l 5704 408 l 5724 352 l cp
clip
 [60] 0 sd
n 5203.6 1551.5 1276.9 -136.7 -67.1 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5597 307 m 5700 375 l 5577 363 l 5587 335 l 5597 307 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4098 561 m 4050 675 l 4039 552 l 4018 685 l 4077 694 l cp
clip
n 3891.3 574.0 188.1 110.7 32.5 arc
gs col0 s gr
 gr

% arrowhead
n 4098 561 m 4050 675 l 4039 552 l 4068 556 l 4098 561 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5752 1238 m 5700 1350 l 5693 1227 l 5668 1359 l 5727 1370 l cp
clip
 [60] 0 sd
n 5512.5 1237.5 218.7 -149.0 31.0 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5752 1238 m 5700 1350 l 5693 1227 l 5722 1232 l 5752 1238 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5449 830 m 5325 825 l 5436 771 l 5304 799 l 5317 857 l cp
clip
 [60] 0 sd
n 5319.6 433.9 391.1 13.5 89.2 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5449 830 m 5325 825 l 5436 771 l 5442 800 l 5449 830 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2351 1576 m 2475 1575 l 2366 1634 l 2497 1600 l 2482 1542 l cp
clip
 [60] 0 sd
n 2100.0 396.4 1236.8 148.1 72.3 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2351 1576 m 2475 1575 l 2366 1634 l 2359 1605 l 2351 1576 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2372 307 m 2475 375 l 2352 363 l 2479 408 l 2499 352 l cp
clip
 [60] 0 sd
n 1978.6 1551.5 1276.9 -136.7 -67.1 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2372 307 m 2475 375 l 2352 363 l 2362 335 l 2372 307 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
873 561 m 825 675 l 814 552 l 793 685 l 852 694 l cp
clip
n 666.3 574.0 188.1 110.7 32.5 arc
gs col0 s gr
 gr

% arrowhead
n 873 561 m 825 675 l 814 552 l 843 556 l 873 561 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
6198 661 m 6075 675 l 6177 605 l 6050 652 l 6072 708 l cp
clip
 [60] 0 sd
n 6281.2 1012.5 395.5 121.4 -121.4 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 6198 661 m 6075 675 l 6177 605 l 6187 633 l 6198 661 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 4456 2090 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 825 900 270 270 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 4050 900 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
gs  clippath
4803 1225 m 4875 1125 l 4858 1248 l 4908 1122 l 4853 1100 l cp
clip
n 4575 1875 m 4875 1125 l gs col0 s gr gr

% arrowhead
n 4803 1225 m 4875 1125 l 4858 1248 l 4830 1236 l 4803 1225 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 4875 750 m 5325 750 l 5325 1125 l 4875 1125 l cp gs col0 s gr 
% Polyline
n 5700 300 m 6150 300 l 6150 675 l 5700 675 l cp gs col0 s gr 
% Polyline
n 5700 1350 m 6150 1350 l 6150 1725 l 5700 1725 l cp gs col0 s gr 
% Polyline
gs  clippath
4755 870 m 4875 900 l 4755 930 l 4890 930 l 4890 870 l cp
clip
n 4350 900 m 4875 900 l gs col0 s gr gr

% arrowhead
n 4755 870 m 4875 900 l 4755 930 l 4755 900 l 4755 870 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
5617 1333 m 5700 1425 l 5584 1383 l 5696 1458 l 5729 1408 l cp
clip
n 5250 1125 m 5700 1425 l gs col0 s gr gr

% arrowhead
n 5617 1333 m 5700 1425 l 5584 1383 l 5600 1358 l 5617 1333 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
5895 795 m 5925 675 l 5955 795 l 5955 660 l 5895 660 l cp
clip
n 5925 1350 m 5925 675 l gs col0 s gr gr

% arrowhead
n 5895 795 m 5925 675 l 5955 795 l 5925 795 l 5895 795 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
5221 723 m 5100 750 l 5194 670 l 5073 730 l 5100 784 l cp
clip
n 5700 450 m 5100 750 l gs col0 s gr gr

% arrowhead
n 5221 723 m 5100 750 l 5194 670 l 5207 696 l 5221 723 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 1650 750 m 2100 750 l 2100 1125 l 1650 1125 l cp gs col0 s gr 
% Polyline
n 2475 300 m 2925 300 l 2925 675 l 2475 675 l cp gs col0 s gr 
% Polyline
n 2475 1350 m 2925 1350 l 2925 1725 l 2475 1725 l cp gs col0 s gr 
% Polyline
gs  clippath
1530 870 m 1650 900 l 1530 930 l 1665 930 l 1665 870 l cp
clip
n 1125 900 m 1650 900 l gs col0 s gr gr

% arrowhead
n 1530 870 m 1650 900 l 1530 930 l 1530 900 l 1530 870 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2392 1333 m 2475 1425 l 2359 1383 l 2471 1458 l 2504 1408 l cp
clip
n 2025 1125 m 2475 1425 l gs col0 s gr gr

% arrowhead
n 2392 1333 m 2475 1425 l 2359 1383 l 2375 1358 l 2392 1333 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
2670 795 m 2700 675 l 2730 795 l 2730 660 l 2670 660 l cp
clip
n 2700 1350 m 2700 675 l gs col0 s gr gr

% arrowhead
n 2670 795 m 2700 675 l 2730 795 l 2700 795 l 2670 795 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
1996 723 m 1875 750 l 1969 670 l 1848 730 l 1875 784 l cp
clip
n 2475 450 m 1875 750 l gs col0 s gr gr

% arrowhead
n 1996 723 m 1875 750 l 1969 670 l 1982 696 l 1996 723 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 180.00 scf sf
3975 975 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
5025 1050 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
5850 525 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
5850 1650 m
gs 1 -1 sc (o3) col0 sh gr
/Times-Roman ff 180.00 scf sf
3300 375 m
gs 1 -1 sc (ta,ga,ra,wa) col0 sh gr
/Times-Roman ff 180.00 scf sf
4350 2100 m
gs 1 -1 sc (p2) col0 sh gr
/Times-Roman ff 180.00 scf sf
4950 225 m
gs 1 -1 sc (dta,ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
5775 1050 m
gs 1 -1 sc (?) col0 sh gr
/Times-Roman ff 180.00 scf sf
5625 900 m
gs 1 -1 sc (?) col0 sh gr
/Times-Roman ff 180.00 scf sf
750 975 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 1050 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2625 525 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
2625 1650 m
gs 1 -1 sc (o3) col0 sh gr
/Times-Roman ff 180.00 scf sf
2775 1050 m
gs 1 -1 sc (ta,ga,ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
75 375 m
gs 1 -1 sc (ta,ga,ra,wa) col0 sh gr
/Times-Roman ff 180.00 scf sf
3750 1725 m
gs 1 -1 sc (ta,ga,ra,wa) col0 sh gr
/Times-Roman ff 180.00 scf sf
3750 1575 m
gs 1 -1 sc (ti,gi,ri,wi,) col0 sh gr
/Times-Roman ff 180.00 scf sf
1800 525 m
gs 1 -1 sc (ta,ga,ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
1650 1350 m
gs 1 -1 sc (ta,ga,ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
1425 1725 m
gs 1 -1 sc (dta,ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
5100 1800 m
gs 1 -1 sc (dta.ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
4950 1425 m
gs 1 -1 sc (ta,ga,ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
4950 525 m
gs 1 -1 sc (ta,ga,ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
6000 1050 m
gs 1 -1 sc (ta,ga,ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
6750 1050 m
gs 1 -1 sc (?) col0 sh gr
/Times-Roman ff 180.00 scf sf
4350 825 m
gs 1 -1 sc (dta,ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
1125 825 m
gs 1 -1 sc (dta,ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
1200 300 m
gs 1 -1 sc (dta,ra) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 1511 3563 4 v 337 1776 a FM(structure)f(is)i(e)o(xclusi)n(v)o(ely)
d(held.)26 b(The)20 b(right)g(hand)g(side)h(sho)n(ws)g(the)g(potential)
f(access)h(rights)f(for)h(the)f(same)h(graph)f(if)h(the)337
1926 y(structure)f(is)h(simultaneously)d(accessible)j(to)f(another)f
(party)g FI(with)i(unr)m(estricted)f(access)p FM(.)462
2083 y(Note)30 b(that)g(while)g Fy(p)p Fx(2)g FM(has)g(essentially)g
(total)h(control)e(of)g(the)h(link)o(ed)g(structure,)h(there)e(e)o
(xists)i(no)f(means)f(for)h Fy(p)p Fx(1)337 2232 y FM(to)e(obtain)e
(mutate)h(authority)e(o)o(v)o(er)h(this)h(graph.)44 b(Mutate)27
b(authority)f(to)h Fy(o)p Fx(1)g FM(is)h(precluded)d(by)i(the)g
(absence)f(of)h FE(gran)m(t)337 2382 y FM(and)f FE(write)h
FM(access)g(in)g Fy(p)p Fx(1)p FM(')-5 b(s)26 b(capability)g(to)h
Fy(o)p Fx(1)p FM(.)44 b(Mutate)26 b(authority)f(to)h(the)h(remaining)d
(objects)j(is)g(precluded)d(by)j(the)337 2531 y Fy(r)r(estr)r(ict)p
Fx(\()p Fw(\001)p Fx(\))22 b FM(operation.)h(Because)d(mutate)f
(authority)f(is)j(precluded,)d(no)h(reference)f(monitor)g(is)j
(required)d(to)i(determine)337 2681 y(the)29 b(safety)f(of)g
Fy(p)p Fx(1)p FM(.)49 b(Static)29 b(e)o(xamination)d(of)i
Fy(p)p Fx(1)p FM(')-5 b(s)29 b(initial)f(capabilities)g(is)i(suf)n
(\002cient)d(to)i(sho)n(w)f(that)g(it)h(cannot)e(obtain)337
2830 y(mutating)19 b(authority)g(to)h(objects)g(in)h(the)f(shared)f
(structure.)337 3170 y FG(4.3.3)99 b(Inter)o(pr)n(ocess)27
b(Communication)e(Rights)337 3390 y FM(As)c(originally)d(described)g
(by)i([Jon76)n(],)f(the)h FI(tak)o(e-gr)o(ant)g FM(model)e(included)h
(a)h FE(call)g FM(right.)k(This)c(right)f(w)o(as)h(subsequently)337
3540 y(dropped)i(in)i([Sn)o(y77)n(,)g(Bis79].)37 b(In)24
b FI(tak)o(e-gr)o(ant)g FM(the)g FE(call)g FM(right)g(introduces)e(a)i
(ne)n(w)g(process.)36 b(In)24 b FI(diminish-tak)o(e)f
FM(I)h(ha)n(v)o(e)337 3689 y(chosen)c(to)g(include)f(a)i(dif)n(ferent)d
(mechanism)h(for)h(interprocess)f(communication.)462
3847 y(In)f(both)f(models,)h(the)h(interprocess)e(communication)e
(right)j(con)m(v)o(e)o(ys)e(the)i(authority)f(to)h(send)g(capabilities)
g(and)g(data)337 3996 y(to)25 b(the)g(recipient)e(and)i(a)o(w)o(ait)f
(a)h(reply)-5 b(.)37 b(In)25 b(the)f(reply)-5 b(,)24
b(the)h(recipient)f(sends)g(capabilities)h(and)f(data)g(back)g(to)h
(the)f(caller)-5 b(.)337 4146 y(Since)18 b(these)f(authorities)g(are)g
(all)h(included)e(in)i(a)f(capability)g(whose)g(rights)g(are)g
Fw(f)p FE(ra)p Fy(;)d FE(w)m(a)q Fy(;)g FE(ta)p Fy(;)g
FE(ga)p Fw(g)p FM(,)k(some)f(account)g(must)337 4295
y(be)k(gi)n(v)o(en)e(for)g(ho)n(w)h(the)g FE(call)h FM(right)e(is)i
(dif)n(ferent)e(from)g(this)i(combination.)462 4452 y(The)i
(distinction)f(lies)h(in)g(the)g(implicit)g(authority)e(of)i(the)f
FE(call)i FM(right)e(to)h FI(activate)f FM(the)h(recipient.)32
b(This)23 b(is)h(the)e(oper)n(-)337 4602 y(ation)j(that)g(causes)g(an)g
(object)f(to)h(become)f(a)h(subject.)39 b(Because)25
b(the)g(combining)e(rules)i(dif)n(fer)f(according)f(to)i(whether)337
4751 y(the)c(entity)g(in)g(the)f(middle)g(is)i(a)f(process)f(or)h(an)g
(object,)f(the)h(call)g(authority)e(potentially)g(increases)i(the)g(ef)
n(fecti)n(v)o(e)e(access)337 4901 y(graph.)31 b(The)22
b(dif)n(ference)f(can)h(be)h(seen)f(in)h(the)f(left)h(and)f(right)g
(graphs)g(of)g(Figure)g(4.16.)30 b(In)23 b(the)f(right)g(hand)g(v)n
(ariant,)g(the)337 5050 y(object)i Fy(o)p Fx(1)h FM(is)h(surrounded)21
b(by)j(a)h(rounded-corner)20 b(box)k(to)g(indicate)g(that)h(it)g
(became)f(a)h(process)f(during)f(the)h(course)g(of)337
5200 y(the)d(e)o(x)o(ecution.)2077 5410 y(69)p eop
%%Page: 70 86
70 85 bop 37 31 3563 7 v 37 105 a FJ(Figur)o(e)20 b(4.16)f
FM(Ef)n(fect)h(of)f(call)i(right.)p 37 143 3563 4 v 85
243 a
 27036303 8551628 0 0 27036303 8551628 startTexFig
 85 243 a
%%BeginDocument: dt-rr-cr.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: dt-rr-cr.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:09 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 411 130
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-4.0 136.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3261 m -1000 -1000 l 7912 -1000 l 7912 3261 l cp clip
 0.06000 0.06000 sc
% Arc
7.500 slw
gs  clippath
4688 549 m 4575 600 l 4651 502 l 4545 586 l 4582 633 l cp
clip
 [60] 0 sd
n 4921.9 918.8 471.1 -31.2 -137.4 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4688 549 m 4575 600 l 4651 502 l 4669 526 l 4688 549 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5867 592 m 5775 675 l 5817 559 l 5742 671 l 5791 704 l cp
clip
 [60] 0 sd
n 6112.5 812.5 364.4 -22.2 -157.8 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5867 592 m 5775 675 l 5817 559 l 5842 576 l 5867 592 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4398 486 m 4350 600 l 4339 477 l 4318 610 l 4377 619 l cp
clip
n 4191.3 499.0 188.1 110.7 32.5 arc
gs col0 s gr
 gr

% arrowhead
n 4398 486 m 4350 600 l 4339 477 l 4368 481 l 4398 486 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5213 952 m 5325 900 l 5250 999 l 5355 914 l 5318 867 l cp
clip
 [60] 0 sd
n 4987.5 600.0 451.6 138.4 41.6 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5213 952 m 5325 900 l 5250 999 l 5231 975 l 5213 952 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
5667 1166 m 5625 1050 l 5717 1133 l 5642 1021 l 5592 1054 l cp
clip
 [60] 0 sd
n 5550.0 1190.6 159.4 -118.1 -61.9 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 5667 1166 m 5625 1050 l 5717 1133 l 5692 1150 l 5667 1166 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
6395 1161 m 6450 1050 l 6454 1174 l 6483 1042 l 6424 1029 l cp
clip
 [60] 0 sd
n 5393.1 893.1 1068.5 167.5 8.4 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 6395 1161 m 6450 1050 l 6454 1174 l 6424 1167 l 6395 1161 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
4177 1172 m 4200 1050 l 4237 1168 l 4229 1033 l 4169 1037 l cp
clip
 [60] 0 sd
n 5400.0 1052.3 1200.0 -0.1 -179.9 arc
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 4177 1172 m 4200 1050 l 4237 1168 l 4207 1170 l 4177 1172 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 4350 825 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
gs  clippath
5205 795 m 5325 825 l 5205 855 l 5340 855 l 5340 795 l cp
clip
n 4650 825 m 5325 825 l gs col0 s gr gr

% arrowhead
n 5205 795 m 5325 825 l 5205 855 l 5205 825 l 5205 795 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 6450 675 m 6900 675 l 6900 1050 l 6450 1050 l cp gs col0 s gr 
% Polyline
gs  clippath
6330 795 m 6450 825 l 6330 855 l 6465 855 l 6465 795 l cp
clip
n 5775 825 m 6450 825 l gs col0 s gr gr

% arrowhead
n 6330 795 m 6450 825 l 6330 855 l 6330 825 l 6330 795 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 5430 675 m 5325 675 5325 945 105 arcto 4 {pop} repeat
  5325 1050 5670 1050 105 arcto 4 {pop} repeat
  5775 1050 5775 780 105 arcto 4 {pop} repeat
  5775 675 5430 675 105 arcto 4 {pop} repeat
 cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
6600 900 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
5475 900 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
6000 750 m
gs 1 -1 sc (ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
5925 375 m
gs 1 -1 sc (\(wa\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
4275 900 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
4800 750 m
gs 1 -1 sc (ra,ca) col0 sh gr
/Times-Roman ff 180.00 scf sf
4575 1200 m
gs 1 -1 sc (\(wa,ta,ga\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
4875 1500 m
gs 1 -1 sc (\(wa,ta,ga\),ra,ca) col0 sh gr
/Times-Roman ff 180.00 scf sf
5475 1875 m
gs 1 -1 sc (ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
4425 375 m
gs 1 -1 sc (ra,wa,ta,ga,ca) col0 sh gr
/Times-Roman ff 180.00 scf sf
3600 225 m
gs 1 -1 sc (ra,wa,ta,ga,ca) col0 sh gr
/Times-Roman ff 180.00 scf sf
5250 2175 m
gs 1 -1 sc (\(wa\)) col0 sh gr
% Arc
gs  clippath
1163 549 m 1050 600 l 1126 502 l 1020 586 l 1057 633 l cp
clip
 [60] 0 sd
n 1396.9 918.8 471.1 -31.2 -137.4 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 1163 549 m 1050 600 l 1126 502 l 1144 526 l 1163 549 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
2342 592 m 2250 675 l 2292 559 l 2217 671 l 2266 704 l cp
clip
 [60] 0 sd
n 2587.5 812.5 364.4 -22.2 -157.8 arcn
gs col0 s gr
 gr
 [] 0 sd
% arrowhead
n 2342 592 m 2250 675 l 2292 559 l 2317 576 l 2342 592 l  cp gs 0.00 setgray ef gr  col0 s
% Arc
gs  clippath
873 486 m 825 600 l 814 477 l 793 610 l 852 619 l cp
clip
n 666.3 499.0 188.1 110.7 32.5 arc
gs col0 s gr
 gr

% arrowhead
n 873 486 m 825 600 l 814 477 l 843 481 l 873 486 l  cp gs 0.00 setgray ef gr  col0 s
% Ellipse
n 825 825 270 270 0 360 DrawEllipse gs col0 s gr

% Polyline
gs  clippath
1680 795 m 1800 825 l 1680 855 l 1815 855 l 1815 795 l cp
clip
n 1125 825 m 1800 825 l gs col0 s gr gr

% arrowhead
n 1680 795 m 1800 825 l 1680 855 l 1680 825 l 1680 795 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 2925 675 m 3375 675 l 3375 1050 l 2925 1050 l cp gs col0 s gr 
% Polyline
n 1800 675 m 2250 675 l 2250 1050 l 1800 1050 l cp gs col0 s gr 
% Polyline
gs  clippath
2805 795 m 2925 825 l 2805 855 l 2940 855 l 2940 795 l cp
clip
n 2250 825 m 2925 825 l gs col0 s gr gr

% arrowhead
n 2805 795 m 2925 825 l 2805 855 l 2805 825 l 2805 795 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 180.00 scf sf
3075 900 m
gs 1 -1 sc (o2) col0 sh gr
/Times-Roman ff 180.00 scf sf
1950 900 m
gs 1 -1 sc (o1) col0 sh gr
/Times-Roman ff 180.00 scf sf
2475 750 m
gs 1 -1 sc (ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
1350 750 m
gs 1 -1 sc (ra) col0 sh gr
/Times-Roman ff 180.00 scf sf
1200 375 m
gs 1 -1 sc (\(wa\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
2400 375 m
gs 1 -1 sc (\(wa\)) col0 sh gr
/Times-Roman ff 180.00 scf sf
750 900 m
gs 1 -1 sc (p1) col0 sh gr
/Times-Roman ff 180.00 scf sf
75 225 m
gs 1 -1 sc (ra,wa,ta,ga,ca) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 1429 3563 4 v 162 1767 a FM(Because)k(the)g(inclusion)f(of)h(the)g
FE(call)g FM(right)g(in)g(the)g(graph)f(alters)h(the)g(resulting)f
(potential)g(access,)j(the)e FE(call)g FM(right)37 1917
y(must)g(be)g(included)e(in)i(the)g(access)g(model.)37
b(As)26 b(with)f(the)f(pre)n(vious)g(access)h(rights,)g(the)g
FE(call)g FM(right)f(has)h(both)f FI(indir)m(ect)37 2066
y FM(and)c FI(access)h FM(forms.)162 2261 y(If)29 b(the)g(intended)f
(use)h(of)g(the)g FE(call)h FM(right)e(is)i(remote)e(procedure)f(call,)
k(then)e(the)g(call)h(right)e(must)h(be)g(considered)37
2410 y(symmetric:)c Fy(a)535 2363 y Fj(ca)503 2410 y
Fw(\000)-14 b(!)23 b Fy(b)d FM(implies)g(that)f Fy(b)1216
2363 y Fj(ca)1184 2410 y Fw(\000)-14 b(!)23 b Fy(a)p
FM(.)i(This)20 b(is)g(inherent)e(in)i(the)f(presumption)f(that)h(the)h
FI(call)g FM(operation)d(e)o(xpects)37 2559 y(a)24 b(reply)-5
b(.)33 b(If)24 b(the)f FE(call)h FM(right)f(is)h(instead)f(being)f
(used)h(to)h(characterize)e(the)h(acti)n(v)n(ation)f(of)i(a)f(ne)n(w)g
(thread)g(of)g(control,)g(the)37 2709 y FE(call)e FM(right)e(should)g
(not)h(be)g(considered)e(symmetric.)24 b(F)o(or)c(purposes)e(of)i(this)
h(dissertation,)e(I)h(ha)n(v)o(e)f(elected)h(to)g(treat)g
FE(call)37 2858 y FM(symmetrically)-5 b(.)37 3460 y Fz(4.4)119
b(Summary)30 b(of)g(the)g Fk(Diminish-T)-11 b(ak)l(e)31
b Fz(Access)f(Model)37 3780 y FM(Gi)n(v)o(en)23 b(the)h(number)e(of)i
(graphs)f(I)h(ha)n(v)o(e)f(sho)n(wn,)h(the)g(number)e(of)h(access)i
(rights)e(added,)g(and)h(the)g(comple)o(xity)d(of)j(their)37
3929 y(interactions,)19 b(a)i(uni\002ed)e(summary)g(of)h(the)g
FI(diminish-tak)o(e)f FM(model)g(is)j(pro)o(vided.)p
37 4143 3563 7 v 37 4217 a FJ(Figur)o(e)e(4.17)f FI(Diminish-T)-8
b(ak)o(e)20 b FM(fundamental)e(access)i(rights.)p 37
4255 3563 4 v 956 4424 a(Indirect)98 b(Access)i(Authority)19
b(to...)1053 4524 y FE(ri)270 b(ra)175 b FM(read)20 b(data)g(from)f(an)
h(object)1038 4624 y FE(wi)241 b(w)m(a)162 b FM(write)20
b(data)g(to)h(an)f(object)1054 4723 y FE(ti)272 b(ta)176
b FM(tak)o(e)20 b(capability)f(from)h(an)g(object)1048
4823 y FE(gi)262 b(ga)170 b FM(grant)19 b(capability)h(to)g(an)g
(object)1051 4922 y FE(ci)267 b(ca)174 b FM(acti)n(v)n(ate)20
b(a)g(process)p 37 5055 V 1777 5410 a(70)p eop
%%Page: 71 87
71 86 bop 337 31 3563 7 v 337 105 a FJ(Figur)o(e)20 b(4.18)f
FI(Diminish-T)-8 b(ak)o(e)20 b FM(access)h(combination)c(rules.)p
337 142 3563 4 v 571 320 a(Let)k Fy(a)p FM(,)f Fy(b)g
FM(be)h(an)o(y)e(entity)h(\(process)f(or)h(object\),)f
Fy(p)p Fx(1)p FM(,)h Fy(p)p Fx(2)g FM(be)g(processes,)571
419 y Fy(r)k FM(an)o(y)19 b(fundamental)f(access)j(right,)e(in:)656
644 y Fy(p)p Fx(1)800 597 y Fv(x)p Fj(i)762 644 y Fw(\000)-14
b(!)23 b Fy(a)182 b Fw(^)309 b Fy(a)1614 597 y Fv(x)p
Fj(i)1576 644 y Fw(\000)-14 b(!)23 b Fy(b)295 b Fw(\))123
b Fy(p)p Fx(1)2414 597 y Fv(x)p Fj(i)2377 644 y Fw(\000)-14
b(!)23 b Fy(b)123 b FM(Indirection)18 b(Composition)656
770 y Fy(p)p Fx(1)800 723 y Fv(x)p Fj(i)762 770 y Fw(\000)-14
b(!)23 b Fy(a)182 b Fw(^)309 b Fy(a)1606 723 y Fv(x)p
Fj(a)1576 770 y Fw(\000)-14 b(!)23 b Fy(b)295 b Fw(\))123
b Fy(p)p Fx(1)2407 723 y Fv(x)p Fj(a)2377 770 y Fw(\000)-14
b(!)23 b Fy(b)621 1006 y(p)p Fx(1)728 951 y Fj(ta)o Fi(j)p
Fs(\()p Fj(ta)p Fs(\))762 1006 y Fw(\000)-14 b(!)58 b
Fy(a)147 b Fw(^)309 b Fy(a)1627 959 y Fv(r)1576 1006
y Fw(\000)-14 b(!)23 b Fy(b)295 b Fw(\))123 b Fy(p)p
Fx(1)2427 959 y Fv(r)2377 1006 y Fw(\000)-14 b(!)23 b
Fy(b)169 b FI(De)21 b(J)m(ur)m(e)f FM(T)m(ransfer)f(Rules)613
1142 y Fy(p)p Fx(1)719 1087 y Fj(ga)o Fi(j)p Fs(\()p
Fj(ga)p Fs(\))762 1142 y Fw(\000)-14 b(!)66 b Fy(a)139
b Fw(^)289 b Fy(p)p Fx(1)1646 1095 y Fv(r)1596 1142 y
Fw(\000)-15 b(!)24 b Fy(b)275 b Fw(\))143 b Fy(a)2408
1095 y Fv(r)2357 1142 y Fw(\000)-14 b(!)23 b Fy(b)579
1278 y(p)p Fx(1)686 1223 y Fj(dta)o Fi(j)p Fs(\()p Fj(dta)p
Fs(\))762 1278 y Fw(\000)-14 b(!)100 b Fy(a)105 b Fw(^)309
b Fy(a)1627 1231 y Fv(r)1576 1278 y Fw(\000)-14 b(!)23
b Fy(b)295 b Fw(\))90 b Fy(p)p Fx(1)2343 1223 y Fv(dim)p
Fs(\()p Fv(r)r Fs(\))2377 1278 y Fw(\000)-14 b(!)56 b
Fy(b)571 1414 y(p)p Fx(1)678 1359 y Fj(dga)n Fi(j)p Fs(\()p
Fj(dga)p Fs(\))762 1414 y Fw(\000)-14 b(!)108 b Fy(a)97
b Fw(^)289 b Fy(p)p Fx(1)1646 1367 y Fv(r)1596 1414 y
Fw(\000)-15 b(!)24 b Fy(b)275 b Fw(\))109 b Fy(a)2323
1359 y Fv(dim)p Fs(\()p Fv(r)r Fs(\))2357 1414 y Fw(\000)-14
b(!)57 b Fy(b)599 1649 y(p)p Fx(1)705 1595 y Fj(w)n(a)o
Fi(j)p Fs(\()p Fj(w)n(a)p Fs(\))762 1649 y Fw(\000)-14
b(!)81 b Fy(a)124 b Fw(^)249 b Fy(p)p Fx(2)1555 1595
y Fj(ra)p Fi(j)p Fs(\()p Fj(ra)p Fs(\))1592 1649 y Fw(\000)-15
b(!)60 b Fy(a)235 b Fw(\))96 b Fy(p)p Fx(1)2350 1595
y Fs(\()p Fj(w)n(a)p Fs(\))2353 1649 y Fw(\000)-14 b(!)26
b Fy(p)p Fx(2)139 b FI(De)21 b(F)-6 b(acto)19 b FM(Access)i(Rules)613
1785 y Fy(p)p Fx(1)719 1731 y Fj(ga)o Fi(j)p Fs(\()p
Fj(ga)p Fs(\))762 1785 y Fw(\000)-14 b(!)66 b Fy(a)139
b Fw(^)250 b Fy(p)p Fx(2)1557 1731 y Fj(ta)p Fi(j)p Fs(\()p
Fj(ta)p Fs(\))1592 1785 y Fw(\000)-15 b(!)58 b Fy(a)237
b Fw(\))100 b Fy(p)p Fx(1)2357 1731 y Fs(\()p Fj(ga)p
Fs(\))2353 1785 y Fw(\000)-14 b(!)23 b Fy(p)p Fx(2)571
1921 y Fy(p)p Fx(1)678 1867 y Fj(dga)n Fi(j)p Fs(\()p
Fj(dga)p Fs(\))762 1921 y Fw(\000)-14 b(!)108 b Fy(a)97
b Fw(^)g Fy(p)p Fx(2)1403 1867 y Fj(ta)p Fi(j)p Fs(\()p
Fj(ta)p Fs(\))p Fi(j)p Fj(dta)o Fi(j)p Fs(\()p Fj(dta)p
Fs(\))1592 1921 y Fw(\000)-15 b(!)212 b Fy(a)83 b Fw(\))g
Fy(p)p Fx(1)2336 1867 y Fs(\()p Fj(dga)p Fs(\))2353 1921
y Fw(\000)-14 b(!)40 b Fy(p)p Fx(2)613 2057 y Fy(p)p
Fx(1)719 2003 y Fj(ga)o Fi(j)p Fs(\()p Fj(ga)p Fs(\))762
2057 y Fw(\000)-14 b(!)66 b Fy(a)139 b Fw(^)209 b Fy(p)p
Fx(2)1515 2003 y Fj(dta)p Fi(j)p Fs(\()p Fj(dta)p Fs(\))1592
2057 y Fw(\000)-15 b(!)100 b Fy(a)195 b Fw(\))83 b Fy(p)p
Fx(1)2336 2003 y Fs(\()p Fj(dga)p Fs(\))2353 2057 y Fw(\000)-14
b(!)40 b Fy(p)p Fx(2)656 2268 y Fy(p)p Fx(1)794 2221
y Fj(ca)762 2268 y Fw(\000)-14 b(!)23 b Fy(a)168 b Fw(\))205
b FM(a)20 b(is)h(a)g(process)676 b(Object)20 b Fw(\))h
FM(Process)g(Promotion)p 337 2409 V 337 2680 a Fz(4.5)119
b(Closing)31 b(Comments)337 2936 y FM(Mark)f(Miller)g(pointed)f(out)h
(in)h(the)f(course)f(of)h(re)n(vie)n(wing)f(this)i(chapter)e(that)h
(the)h FI(tak)o(e-gr)o(ant)f FM(model)f(can)h(be)g(made)337
3086 y(to)d(encompass)f(the)h FI(diminish-tak)o(e)e FM(model)h(if)h(a)g
(notion)f(of)g(trusted)g(processes)h(is)g(introduced.)43
b(In)26 b(this)h(formulation,)337 3235 y(processes)17
b(are)f(tagged)f(with)i(types)f(from)f(the)i(set)g Fw(f)p
FJ(weak)o(ener)p FM(,)p FJ(indir)o(ecter)p FM(,)p FI(other)r
Fw(g)p FM(.)j(It)d(is)g(non-ob)o(vious,)c(b)n(ut)k(this)g(simple)337
3384 y(reformulation)h(does)i(not)g(quite)f(w)o(ork,)h(and)f(the)i(tw)o
(o)f(models)g(therefore)e(are)i(not)g(identical.)462
3545 y(The)32 b(problem)e(is)k(that)e(the)g(trusted)g(process)g
(formulation)d(requires)j(the)g(introduction)d(of)j(a)h
FE(call)g FM(right)e(that)i(is)337 3694 y(distinct)22
b(from)e(the)h FE(tak)m(e)i FM(or)e FE(gran)m(t)h FM(right.)28
b(This)21 b(is)h(necessary)f(because)f(a)i(trusted)e(weak)o(ener)g
(must)i(not)e(be)h(subject)g(to)337 3844 y(e)o(xternal)g
(modi\002cation)e(or)i(inspection;)g(a)h(client)f(possessing)g
FE(tak)m(e)q FM(,)h FE(gran)m(t)q FM(,)g(or)f FE(write)h
FM(rights)f(to)g(a)h(weak)o(ener)e(w)o(ould)337 3993
y(be)f(able)g(to)g(compromise)e(it.)26 b(An)19 b(ar)o(gument)d(can)j
(be)g(made)f(that)h(the)g FI(e)n(xistence)h FM(of)e(a)i(reference)d
(monitor)g(should)h(also)i(be)337 4143 y(transparent)e(in)i(some)f
(cases.)26 b(If)19 b(this)h(is)g(required,)e(the)h(access)h(rights)f
(granted)f(by)h(a)h(capability)e(must)i(be)f(opaque)f(to)i(the)337
4292 y(holder)-5 b(.)35 b(That)24 b(is:)33 b(the)23 b(rights)h(con)m(v)
o(e)o(yed)c(by)k(a)g(capability)e(can)i(be)g(disco)o(v)o(ered)d(only)i
(by)g(in)m(v)n(oking)f(the)h(capability)g(and)337 4441
y(observing)c(its)i(beha)n(vior)-5 b(.)462 4602 y(In)31
b(f)o(act,)k(the)c(introduction)e(of)i(a)h(distinct)g
FE(call)g FM(right)f(for)g(processes)g(is)i(e)o(xtremely)d(useful,)j
(because)e(it)h(allo)n(ws)337 4751 y(processes)20 b(to)g(ha)n(v)o(e)g
(\223object)f(nature.)-6 b(\224)24 b(In)c(real)f(systems,)i(processes)e
(must)h(be)g(represented)e(by)i(storage.)k(Depending)18
b(on)337 4901 y(the)f(operating)e(system,)i(this)g(storage)e(may)h(be)h
(subject)f(to)g FE(tak)m(e)r FM(,)h FE(gran)m(t)q FM(,)h
FE(read)p FM(,)g(and/or)d FE(write)h FM(operations,)g(which)g(are)337
5050 y(distinct)i(from)e(the)h(authority)e(to)j(perform)d(these)i
(operations)e(on)i(the)g(program)e(embodied)g(by)i(the)g(process.)24
b(Introducing)337 5200 y(the)h FE(call)f FM(right)g(is)h(useful)f
(primarily)f(because)g(it)i(demonstrates)e(that)i(all)g(processes)f
(may)f(simultaneously)g(be)h(treated)2077 5410 y(71)p
eop
%%Page: 72 88
72 87 bop 37 31 3563 7 v 37 105 a FJ(Figur)o(e)20 b(4.19)f
FI(Diminish-T)-8 b(ak)o(e)20 b FM(symmetry)f(rules)p
37 143 3563 4 v 1095 321 a(Let)h Fy(a)p FM(,)h Fy(b)f
FM(be)g(an)o(y)g(entity)f(\(process)h(or)g(object\))f(in:)1143
556 y Fy(a)1210 502 y Fj(ra)p Fi(j)p Fs(\()p Fj(ra)p
Fs(\))1247 556 y Fw(\000)-15 b(!)60 b Fy(b)131 b Fw(\))335
b Fy(b)2083 502 y Fs(\()p Fj(w)n(a)p Fs(\))2087 556 y
Fw(\000)-14 b(!)26 b Fy(a)1122 692 y(a)1189 638 y Fj(w)n(a)p
Fi(j)p Fs(\()p Fj(w)n(a)p Fs(\))1247 692 y Fw(\000)-15
b(!)81 b Fy(b)110 b Fw(\))338 b Fy(b)2094 638 y Fs(\()p
Fj(ra)p Fs(\))2087 692 y Fw(\000)-14 b(!)23 b Fy(a)1145
828 y(a)1212 774 y Fj(ta)p Fi(j)p Fs(\()p Fj(ta)p Fs(\))1247
828 y Fw(\000)-15 b(!)58 b Fy(b)133 b Fw(\))338 b Fy(b)2091
774 y Fs(\()p Fj(ga)p Fs(\))2087 828 y Fw(\000)-14 b(!)23
b Fy(a)1137 964 y(a)1204 910 y Fj(ga)o Fi(j)p Fs(\()p
Fj(ga)p Fs(\))1247 964 y Fw(\000)-15 b(!)67 b Fy(b)124
b Fw(\))338 b Fy(b)2095 910 y Fs(\()p Fj(ta)p Fs(\))2087
964 y Fw(\000)-14 b(!)23 b Fy(a)1103 1100 y(a)1170 1046
y Fj(dta)p Fi(j)p Fs(\()p Fj(dta)p Fs(\))1247 1100 y
Fw(\000)-15 b(!)100 b Fy(b)91 b Fw(\))321 b Fy(b)2070
1046 y Fs(\()p Fj(dga)p Fs(\))2087 1100 y Fw(\000)-14
b(!)40 b Fy(a)1095 1236 y(a)1162 1182 y Fj(dga)o Fi(j)p
Fs(\()p Fj(dga)p Fs(\))1247 1236 y Fw(\000)-15 b(!)108
b Fy(b)83 b Fw(\))325 b Fy(b)2074 1182 y Fs(\()p Fj(dta)p
Fs(\))2087 1236 y Fw(\000)-14 b(!)36 b Fy(a)1180 1347
y(a)1278 1300 y Fj(ca)1247 1347 y Fw(\000)-15 b(!)23
b Fy(b)168 b Fw(\))338 b Fy(b)2119 1300 y Fj(ca)2087
1347 y Fw(\000)-14 b(!)23 b Fy(a)p 37 1488 V 37 1737
a FM(as)e(objects)f FI(without)i FM(altering)d(the)h(potential)g
(access)g(graph.)1777 5410 y(72)p eop
%%Page: 73 89
73 88 bop 337 834 a FD(Chapter)45 b(5)337 1374 y Fl(SW)11
b FK(:)51 b(A)h(F)-5 b(ormal)52 b(Model)g(f)-5 b(or)51
b(ER)-6 b(OS)337 1855 y FM(I)27 b(turn)e(no)n(w)h(to)g(the)h(de)n(v)o
(elopment)c(of)j(a)h(formal)e(model)g(for)h(ER)m(OS)g(that)h(can)f(be)g
(used)g(to)g(e)n(v)n(aluate)f(the)i(con\002nement)337
2005 y(properties)e(of)h(the)g(architecture.)41 b(Unless)27
b(the)f(architecture)e(is)j(sound,)g(there)e(is)i(little)g(point)f(in)g
(a)g(formal)f(e)n(v)n(aluation)337 2154 y(of)g(the)f(system)h(itself.)
38 b(Further)m(,)24 b(if)h(a)g(f)o(amily)f(of)g(architectures)f(can)h
(be)h(identi\002ed)f(that)g FI(do)g FM(enforce)f(the)i(con\002nement)
337 2304 y(property)-5 b(,)23 b(it)i(may)e(re)n(v)o(eal)h(that)g(there)
g(are)g(simpler)g(realizations)f(of)h(that)g(architecture)f(than)g(ER)m
(OS)i(has)f(implemented)337 2453 y(\(as,)d(in)f(f)o(act,)g(there)g
(are\).)462 2602 y(Three)f(steps)i(are)f(required)f(to)h(sho)n(w)g
(that)g(a)h(capability)e(architecture)g(supports)g(con\002nement:)441
2802 y(1.)41 b(A)21 b(formal)e(model)g(of)g(the)h(architecture)f(must)h
(be)g(de)n(v)o(eloped)d(that)k(re)n(v)o(eals)e(the)h(\003o)n(w)g(of)g
(information)d(and)j(access)545 2952 y(rights)g(under)f(that)h
(architecture.)441 3159 y(2.)41 b(The)20 b(requirements)e(of)i
(con\002nement)e(must)i(be)h(formally)d(stated.)441 3367
y(3.)41 b(The)20 b(modeled)f(architecture)f(must)i(be)h(sho)n(wn)e(to)h
(satisfy)h(these)f(requirements.)462 3567 y(This)27 b(chapter)f
(describes)g FI(SW)p FM(,)h(a)g(f)o(amily)g(of)f(capability)g(based)h
(protection)e(systems)i(for)f(which)h(both)f(rights)g(and)337
3716 y(information)17 b(leakage)g(problems)h(are)g(decidable.)23
b(It)c(describes)f(the)h(fundamental)d(access)k(rights)e(of)g
FI(SW)25 b FM(and)18 b(its)i(opera-)337 3866 y(tional)f(semantics.)24
b(In)18 b(addition,)g(it)h(identi\002es)f(those)h(aspects)g(of)f
FI(SW)25 b FM(that)18 b(do)g(not)g(correspond)e(to)j(ER)m(OS)g(as)g
(Chapters)f(2)337 4015 y(and)i(3)g(ha)n(v)o(e)g(described)f(it,)i(and)e
(why)h(these)g(dif)n(ferences)e(do)i(not)g(impact)g(the)g(v)n(alidity)f
(of)h(the)g(model)g(for)f(ER)m(OS.)462 4165 y FI(SW)30
b FM(pro)o(vides)22 b(a)i(rich)f(semantic)g(model,)g(incorporating)e
(both)h(user)i(de\002ned)e(objects)i(and)f(opaque)f(indirect)g(refer)n
(-)337 4314 y(ence.)39 b(Opaque)23 b(indirection)g(models)h(both)g
(memory)f(indirect)h(operations)g(and)g(the)g(beha)n(vior)g(of)g
(protected)f(memory)337 4464 y(subsystems,)d(in)h(which)e(mapping)g
(tables)h(can)g(be)g(tra)n(v)o(ersed)f(without)h(being)f(directly)g
(visible)i(to)f(the)g(application.)337 4815 y Fz(5.1)119
b(Naming)337 5050 y FI(SW)35 b FM(describes)28 b(a)h(f)o(amily)f(of)g
(capability)g(systems.)50 b(In)28 b FI(SW)p FM(,)h(a)g
FF(capability)e FM(is)i(a)g(pair)f Fx(\()p Fy(o;)14 b(r)r
Fx(\))31 b FM(consisting)c(of)i(an)f(object)337 5200
y(descriptor)d Fy(o)i FM(\(a)f(name\))g(and)f(a)i(set)g(of)f(access)g
(rights)g Fy(r)r FM(.)44 b(An)o(y)26 b(program)e(that)i(possesses)h(a)g
(capability)e(may)h(perform)2077 5410 y(73)p eop
%%Page: 74 90
74 89 bop 37 31 3563 7 v 37 105 a FJ(Figur)o(e)20 b(5.1)f
FM(A)i(capability)p 37 143 3563 4 v 1223 243 a
 9077882 3420651 0 0 9077882 3420651 startTexFig
 1223 243
a
%%BeginDocument: cap.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: cap.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:09 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 138 52
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-3.0 55.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 1912 m -1000 -1000 l 3337 -1000 l 3337 1912 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 405 375 m 300 375 300 570 105 arcto 4 {pop} repeat
  300 675 1245 675 105 arcto 4 {pop} repeat
  1350 675 1350 480 105 arcto 4 {pop} repeat
  1350 375 405 375 105 arcto 4 {pop} repeat
 cp gs col0 s gr 
/Times-Roman ff 150.00 scf sf
375 600 m
gs 1 -1 sc (Access Rights) col0 sh gr
% Polyline
n 75 75 m 1350 75 l 1350 375 l 75 375 l cp gs col0 s gr 
/Times-Roman ff 150.00 scf sf
375 225 m
gs 1 -1 sc (Descriptor) col0 sh gr
% Polyline
n 1950 150 m 2250 75 l 2175 225 l 2250 375 l 2325 525 l 2025 825 l
 1800 900 l 1575 750 l 1575 375 l 1800 300 l 1800 75 l
 cp gs col0 s gr 
% Polyline
gs  clippath
1680 270 m 1800 300 l 1680 330 l 1815 330 l 1815 270 l cp
clip
n 825 300 m 1800 300 l gs col0 s gr gr

% arrowhead
n 1680 270 m 1800 300 l 1680 330 l 1680 300 l 1680 270 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman ff 150.00 scf sf
1650 600 m
gs 1 -1 sc (Object) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 779 3563 4 v 37 1037 a FM(the)k(actions)g(authorized)e(by)h(that)h
(capability')-5 b(s)25 b(access)g(rights)g(on)f(the)h(designated)e
(object.)39 b(The)24 b(actions)h(a)n(v)n(ailable)f(to)37
1187 y(a)h(program)c(are)j(determined)e(by)i(the)g(capabilities)f(that)
h(it)h(holds.)35 b FI(SW)30 b FM(is)25 b(a)f(model)f(of)h(pure)f
(capability)g(architectures;)37 1336 y(capabilities)d(are)h(the)f
FI(only)f FM(means)h(by)g(which)g(a)g(program)e(is)k(authorized)c(to)i
(perform)e(actions)i(under)f(this)i(model.)37 1717 y
Fz(5.2)119 b(Fundamental)32 b(Access)d(Rights)37 1961
y FM(This)24 b(section)f(de)n(v)o(elops)f(the)h(fundamental)e(access)j
(rights)f(of)g FI(SW)p FM(,)g(and)g(considers)g(the)g(meaning)f(of)h
(holding)f(capabil-)37 2110 y(ities)j(con)m(v)o(e)o(ying)20
b(distinct)j(access)h(rights)f(to)g(the)h(same)f(object.)34
b(A)24 b(rigorous)d(de\002nition)i(of)g(\223object\224)f(is)i(deferred)
e(until)37 2260 y(Section)h(5.3.)31 b(F)o(or)22 b(no)n(w)-5
b(,)22 b(it)i(suf)n(\002ces)e(to)h(say)g(that)g(an)f(object)g(consists)
h(of)g(a)g(set)g(of)f(capabilities)h(and)f(some)g(data,)h(which)37
2409 y(are)e(partitioned)d(from)h(each)h(other)-5 b(.)37
2730 y FG(5.2.1)99 b(A)25 b(Simple)h(Access)f(Right)f(Model)37
2945 y FM(A)18 b(simple)g(access)g(rights)f(model)g(might)g(include)f
(three)h(fundamental)e(rights:)24 b Fw(f)p FE(rd)p Fy(;)14
b FE(wr)p Fy(;)g FE(exec)p Fw(g)p FM(,)k(corresponding)c(to)k(the)37
3094 y(authority)h(to)h(read)g(an)g(object,)g(to)g(write)g(an)g
(object,)g(and)f(to)i(cause)f(an)g(object)g(to)g(e)o(x)o(ecute.)2684
3064 y FC(1)162 3248 y FM(This)h(model)e(is)j(suf)n(\002cient)e(if)h
(data)f(is)i(the)e(only)g(thing)g(that)g(can)h(be)f(read)g(or)g
(written)h(to)f(an)h(object.)k(If,)20 b(ho)n(we)n(v)o(er)m(,)f(the)37
3398 y(operational)k(semantics)i(incorporates)e(operations)g(that)i
(allo)n(w)g FI(rights)g FM(to)g(be)g(written)g(to)g(objects,)g(such)g
(as)h(capability)37 3547 y(read/write)g(operations,)g(this)h(simple)f
(access)h(model)f(becomes)f(inadequate)g(in)h(practice.)43
b(The)26 b(problem)f(is)i(that)f(an)o(y)37 3697 y(directed)20
b(access)g(path)g(between)g(processes)f(implies)i(an)f(undirected)e
(access)j(path)f(\(Lemma)f(5.1\).)p 37 3830 3563 7 v
37 3904 a FJ(Lemma)i(5.1)f FM(Access)h(Bidirection)e(Lemma)p
37 3925 3563 4 v 1173 4139 a Fy(p)1238 4085 y Fi(f)p
Fj(wr)q Fi(g)1248 4139 y Fw(\000)-14 b(!)33 b Fy(o)18
b Fw(^)h Fy(p)1589 4105 y Fi(0)1635 4085 y(f)p Fj(rd)p
Fi(g)1639 4139 y Fw(\000)-15 b(!)27 b Fy(o)46 b Fx(=)-14
b Fw(\))46 b Fy(p)2130 4085 y Fi(f)p Fj(rd)p Fv(;)p Fj(wr)p
Fi(g)2177 4139 y Fw( )-14 b(!)70 b Fy(p)2441 4105 y Fi(0)37
4353 y FE(Pro)s(of)30 b(Sk)m(etc)m(h)25 b Fx(:)17 b Fw(8)p
Fy(p)p FM(,)f(if)h Fy(p)g FM(can)f(e)o(x)o(ecute)f(then)h
Fy(p)1515 4298 y Fi(f)p Fj(rd)p Fv(;)p Fj(wr)p Fi(g)1571
4353 y Fw(\000)-14 b(!)79 b Fy(p)p FM(.)24 b(Gi)n(v)o(en)15
b(this,)j(it)f(is)h(possible)e(for)g Fy(p)p Fx(1)g FM(to)g(write)h(the)
g(capability)37 4452 y Fx(\()p Fy(p)p Fx(1)p Fy(;)d Fw(f)p
FE(rd)p Fy(;)g FE(wr)p Fw(g)p Fx(\))19 b FM(to)f Fy(o)p
FM(.)25 b Fy(p)p Fx(2)18 b FM(no)n(w)g(reads)g(this)h(capability)f
(from)f Fy(o)i FM(and)f(transfers)f(the)i(capability)e
Fx(\()p Fy(p)p Fx(2)p Fy(;)d Fw(f)p FE(rd)p Fy(;)g FE(wr)p
Fw(g)p Fx(\))k FM(directly)37 4587 y(to)f Fy(p)p Fx(1)p
FM(.)24 b(Then)16 b Fy(p)p Fx(1)542 4533 y Fi(f)p Fj(rd)p
Fv(;)p Fj(wr)p Fi(g)589 4587 y Fw( )-14 b(!)70 b Fy(p)p
Fx(2)p FM(.)24 b(Note)16 b(that)h(in)g(the)g(simple)f(access)i(right)e
(model)f(the)i FE(exec)h FM(right)e(is)i(essentially)e(equi)n(v)n
(alent)37 4687 y(to)21 b(ha)n(ving)e(both)g FE(rd)i FM(and)f
FE(wr)h FM(access.)p 37 4725 V 162 4970 a(The)g(Bidirection)g(Lemma)f
(demands)g(that)i(secure)f(subsystems)g(be)g(constructed)f(under)g(a)h
(careful)g(audit)g(to)g(ensure)p 37 5042 1425 4 v 37
5097 a FB(1)104 5121 y FA(Access)c(list)f(models)h(usually)g(include)h
(a)f(non-transferable)i Fg(o)n(wn)c FA(right)i(as)f(well.)22
b(In)15 b(capability)20 b(models)c(there)i(is)e(no)g(access)h(right)g
(corresponding)104 5200 y(to)g(o)n(wnership.)1777 5410
y FM(74)p eop
%%Page: 75 91
75 90 bop 337 108 a FM(that)30 b(no)f(access)h(paths)g(e)o(xists)g
(across)f(the)h(security)e(boundary)-5 b(.)50 b(Such)29
b(audits)h(are)f(dif)n(\002cult,)i(time)f(consuming,)f(and)337
257 y(e)o(xpensi)n(v)o(e.)337 565 y FG(5.2.2)99 b(The)26
b(\223W)-6 b(eak\224)24 b(Right)337 775 y FM(By)k(introducing)c(a)k(ne)
n(w)e(basic)h(access)h(right,)g(the)f(need)f(for)g(this)i(audit)e(can)h
(be)g(remo)o(v)o(ed.)43 b(The)26 b FI(weak)j FM(access)e(right,)337
924 y(denoted)20 b FE(wk)p FM(,)h(con)m(v)o(e)o(ys)e(the)i(authority)e
(to)i(read)f(data)h(and)f(capabilities,)g(b)n(ut)h(the)g(ef)n(fect)f
(of)h(reading)e(a)i(capability)f(under)337 1074 y(a)h
FI(weak)h FM(right)d(is)j(to)e(reduce)f(the)h(authority)f(of)h(that)g
(capability:)1228 1310 y Fy(w)r(eak)s(en)1507 1322 y
Fv(simple)1712 1310 y Fx(\(\()p Fy(o;)14 b(r)r Fx(\)\))85
b(=)d(\()p Fy(o;)14 b(r)22 b Fw(\000)c(f)p FE(rd)p Fy(;)c
FE(wr)p Fy(;)g FE(exec)p Fw(g)p Fx(\))2041 1485 y(=)82
b(\()p Fy(o;)14 b(r)22 b Fw(\\)d(f)p FE(wk)p Fw(g)p Fx(\))337
1722 y FM(Because)i(of)f(the)g(ef)n(fect)g(of)g(the)g
Fy(w)r(eak)s(en)g FM(operation,)1445 1959 y Fy(p)p Fx(1)1552
1904 y Fi(f)p Fj(wr)p Fi(g)1561 1959 y Fw(\000)-14 b(!)33
b Fy(o)19 b Fw(^)f Fy(p)p Fx(2)1967 1904 y Fi(f)p Fj(wk)o
Fi(g)1981 1959 y Fw(\000)-15 b(!)38 b Fy(o)2288 1912
y Fi(\003)2238 1959 y Fx(=)-14 b Fw(\))46 b Fy(p)p Fx(2)2524
1904 y Fi(f)p Fj(wk)p Fi(g)2538 1959 y Fw(\000)-14 b(!)37
b Fy(p)p Fx(1)337 2195 y FM(Based)22 b(on)e(the)h(initially)g(a)n(v)n
(ailable)g(capabilities,)g Fy(p)p Fx(1)f FM(can)h(obtain)f(no)h
(capability)f(to)h Fy(p)p Fx(2)p FM(,)g(and)f Fy(p)p
Fx(2)h FM(can)g(obtain)f(only)g(weak)337 2345 y(capabilities)h(to)f
Fy(p)p Fx(1)p FM(.)25 b(Note)20 b(that)h(the)f(ef)n(fect)g(of)g(weak)g
(access)h(is)g FI(tr)o(ansitive)p FM(.)k(No)c(sequence)e(of)h
(operations)f(starting)h(from)337 2494 y(a)h(weak)f(capability)f(will)i
(con)m(v)o(e)o(y)d(mutate)i(rights)f(to)i(the)f(holder)-5
b(.)462 2646 y(Because)24 b(weak)g(access)h(is)g(a)g(transiti)n(v)o(e)e
(restriction,)i(the)f(weak)g(access)h(right)e(allo)n(ws)i(a)f(lar)o(ge)
g(body)e(of)i(objects)g(to)337 2795 y(be)e(constructed)e(in)i(whate)n
(v)o(er)e(f)o(ashion)g(is)j(con)m(v)o(enient.)j(A)c(weak)f(capability)g
(can)g(then)g(be)h(f)o(abricated)e(to)i(some)f(root)g(of)337
2945 y(this)g(structure)e(and)h(passed)g(to)h(a)f(subsystem)g(without)f
(concern)g(that)h(it)h(will)g(con)m(v)o(e)o(y)d(an)o(y)h(write)h
(authority)-5 b(.)337 3253 y FG(5.2.3)99 b(Opaque)26
b(Indir)n(ection)337 3462 y FM(The)20 b FE(rd)h FM(and)f
FE(wk)h FM(access)g(rights)f(are)g(transiti)n(v)o(e,)f(and)h(combine)f
(in)h(well)h(de\002ned)e(w)o(ays:)1318 3682 y Fy(p)1383
3628 y Fi(f)p Fj(wk)p Fi(g)1397 3682 y Fw(\000)-15 b(!)38
b Fy(o)p Fx(1)82 b Fw(^)94 b Fy(o)p Fx(1)1986 3628 y
Fi(f)p Fj(rd)p Fi(g)1990 3682 y Fw(\000)-15 b(!)27 b
Fy(o)p Fx(2)116 b(=)-14 b Fw(\))106 b Fy(p)2653 3628
y Fi(f)p Fj(wk)p Fi(g)2667 3682 y Fw(\000)-14 b(!)37
b Fy(o)p Fx(2)1339 3833 y Fy(p)1404 3779 y Fi(f)p Fj(rd)p
Fi(g)1407 3833 y Fw(\000)-14 b(!)27 b Fy(o)p Fx(1)82
b Fw(^)i Fy(o)p Fx(1)1976 3779 y Fi(f)p Fj(wk)o Fi(g)1990
3833 y Fw(\000)-15 b(!)37 b Fy(o)p Fx(2)106 b(=)-14 b
Fw(\))106 b Fy(p)2653 3779 y Fi(f)p Fj(wk)p Fi(g)2667
3833 y Fw(\000)-14 b(!)37 b Fy(o)p Fx(2)337 4031 y FM(Similarly)-5
b(,)20 b(the)g FE(rd)h FM(right)f(combines)f(with)h(the)g
FE(wr)h FM(and)f FE(exec)h FM(rights)f(in)g(the)g(e)o(xpected)f(w)o
(ays:)1280 4251 y Fy(p)1345 4197 y Fi(f)p Fj(rd)p Fi(g)1349
4251 y Fw(\000)-15 b(!)27 b Fy(o)p Fx(1)83 b Fw(^)111
b Fy(o)p Fx(1)1945 4197 y Fi(f)p Fj(wr)p Fi(g)1955 4251
y Fw(\000)-14 b(!)33 b Fy(o)p Fx(2)134 b(=)-14 b Fw(\))106
b Fy(p)2642 4197 y Fi(f)p Fj(wr)q Fi(g)2652 4251 y Fw(\000)-14
b(!)33 b Fy(o)p Fx(2)1280 4402 y Fy(p)1345 4348 y Fi(f)p
Fj(rd)p Fi(g)1349 4402 y Fw(\000)-15 b(!)27 b Fy(o)p
Fx(1)83 b Fw(^)g Fy(o)p Fx(1)1917 4348 y Fi(f)p Fj(exec)q
Fi(g)1955 4402 y Fw(\000)-14 b(!)61 b Fy(o)p Fx(2)106
b(=)-14 b Fw(\))106 b Fy(p)2642 4348 y Fi(f)p Fj(exec)r
Fi(g)2681 4402 y Fw(\000)-15 b(!)62 b Fy(o)p Fx(2)337
4600 y FM(One)16 b(w)o(ould)f(lik)o(e,)i(ho)n(we)n(v)o(er)m(,)d(to)i
(be)f(able)h(to)g(model)f(systems)h(that)g(distinguish)e(between)h(the)
h(authority)e(to)i FI(r)m(ead)h FM(an)f(object)337 4749
y(and)23 b(the)f(authority)f(to)i(mak)o(e)f(an)h FI(indir)m(ect)f(r)m
(efer)m(ence)h FM(through)e(that)h(object.)32 b(That)23
b(is,)h(I)f(w)o(ould)f(lik)o(e)g(to)h(model)f(systems)337
4899 y(in)i(which)g(the)g(interv)o(ening)d(objects)i(on)h(an)g(access)g
(path)f(are)h(not)g(directly)f(readable)f(by)h(the)h(process)g
(performing)d(the)337 5048 y(access.)26 b(I)20 b(shall)h(refer)e(to)i
(this)f(as)h FI(opaque)e(indir)m(ection)p FM(.)462 5200
y(There)g(are)i(tw)o(o)f(reasons)g(to)g(model)f FI(opaque)g(indir)m
(ection)p FM(:)2077 5410 y(75)p eop
%%Page: 76 92
76 91 bop 162 108 a Fw(\017)41 b FM(It)27 b(describes)g(the)g(beha)n
(vior)f(of)h(operating)e(system)i(page)g(table)g(structures,)h(which)e
(are)h(not)g(accessible)g(to)h(the)245 257 y(referencing)18
b(process.)162 471 y Fw(\017)41 b FM(It)21 b(also)f(models)g(the)g
(interactions)f(of)h(user)g(le)n(v)o(el)g(page)f(f)o(ault)h(and)g(e)o
(xception)e(handlers.)37 682 y(The)i(second)g(is)h(of)f(particular)f
(interest)h(in)g(the)g(conte)o(xt)f(of)h(ER)m(OS.)162
831 y(T)-7 b(o)20 b(model)g(indirect)f(reference,)g(I)h(e)o(xpand)f
(the)h(fundamental)e(access)j(rights)e(so)i(as)g(to)g(distinguish)e
(between)g FI(access)37 981 y FM(authority)30 b(and)g
FI(indir)m(ection)g FM(authority)-5 b(.)55 b(That)30
b(is,)k(I)d(will)h(di)n(vide)e(the)h(access)g(rights)g
FE(rd)p FM(,)j FE(wk)p FM(,)g FE(wr)46 b FM(and)30 b
FE(exec)i FM(into)37 1130 y Fw(f)p FE(rd)19 b(ind)p Fy(;)14
b FE(rd)k(acc)r Fw(g)p FM(,)g Fw(f)p FE(wk)h(ind)o Fy(;)14
b FE(wk)19 b(acc)q Fw(g)p FM(,)g Fw(f)p FE(wr)f(ind)p
Fy(;)c FE(wr)k(acc)r Fw(g)p FM(,)g(and)g Fw(f)p FE(exec)g(ind)p
Fy(;)c FE(exec)19 b(acc)q Fw(g)p FM(,)f(respecti)n(v)o(ely)-5
b(,)16 b(with)37 1280 y(the)21 b(intention)e(that)h(these)g(rights)g
(will)h(combine)e(as)i(follo)n(ws:)401 1490 y Fy(p)466
1435 y Fi(f)p Fv(x)f Fj(ind)p Fi(g)514 1490 y Fw(\000)-14
b(!)72 b Fy(o)p Fx(1)83 b Fw(^)111 b Fy(o)p Fx(1)1156
1435 y Fi(f)p Fv(x)20 b Fj(acc)q Fi(g)1204 1490 y Fw(\000)-14
b(!)71 b Fy(o)p Fx(2)134 b(=)-14 b Fw(\))134 b Fy(p)1958
1435 y Fi(f)p Fv(x)20 b Fj(acc)q Fi(g)2006 1490 y Fw(\000)-14
b(!)71 b Fy(o)p Fx(2)111 b Fw(8)p Fy(x)22 b Fw(2)i(f)p
FE(wk)o Fy(;)14 b FE(rd)q Fy(;)g FE(wr)p Fy(;)g FE(exec)p
Fw(g)366 1641 y Fy(p)431 1586 y Fi(f)p Fj(rd)20 b(ind)p
Fi(g)497 1641 y Fw(\000)-14 b(!)89 b Fy(o)p Fx(1)83 b
Fw(^)g Fy(o)p Fx(1)1128 1586 y Fi(f)p Fj(wk)20 b(acc)q
Fi(g)1204 1641 y Fw(\000)-14 b(!)99 b Fy(o)p Fx(2)106
b(=)-14 b Fw(\))106 b Fy(p)1930 1586 y Fi(f)p Fj(wk)20
b(acc)q Fi(g)2006 1641 y Fw(\000)-14 b(!)99 b Fy(o)p
Fx(2)345 1791 y Fy(p)410 1737 y Fi(f)p Fj(wk)20 b(ind)p
Fi(g)486 1791 y Fw(\000)-14 b(!)100 b Fy(o)p Fx(1)83
b Fw(^)94 b Fy(o)p Fx(1)1138 1737 y Fi(f)p Fj(rd)21 b(acc)q
Fi(g)1204 1791 y Fw(\000)-14 b(!)89 b Fy(o)p Fx(2)116
b(=)-14 b Fw(\))106 b Fy(p)1930 1737 y Fi(f)p Fj(wk)20
b(acc)q Fi(g)2006 1791 y Fw(\000)-14 b(!)99 b Fy(o)p
Fx(2)162 1980 y FM(I)20 b(must)h(also)f(rede\002ne)f(the)i
Fy(w)r(eak)s(en)f FM(operator)e(to)j(remo)o(v)o(e)d(indirect)h(rights)h
(whene)n(v)o(er)e(it)j(remo)o(v)o(es)e(access)h(rights:)1032
2206 y Fy(w)r(eak)s(en)p Fx(\(\()p Fy(o;)14 b(r)r Fx(\)\))25
b(=)e(\()p Fy(o;)14 b(r)21 b Fw(\\)e(f)p FE(wk)i(ind)o
Fy(;)14 b FE(wk)21 b(acc)q Fw(g)p Fx(\))37 2501 y FG(5.2.4)99
b(Access)25 b(Rights)g(of)g Fh(SW)37 2707 y FM(I)c(can)f(no)n(w)g
(de\002ne)f(the)h(access)h(rights)f(of)g FI(SW)p FM(.)162
2856 y(The)g(set)h Fw(R)g FM(of)f FI(SW)26 b FM(fundamental)18
b(access)j(rights)f(is:)537 3083 y Fw(f)p FE(wk)h(ind)o
Fy(;)14 b FE(rd)21 b(ind)p Fy(;)14 b FE(wr)21 b(ind)o
Fy(;)14 b FE(exec)21 b(ind)p Fy(;)14 b FE(wk)21 b(acc)q
Fy(;)14 b FE(rd)21 b(acc)r Fy(;)14 b FE(wr)20 b(acc)r
Fy(;)14 b FE(exec)21 b(acc)q Fw(g)37 3310 y FM(The)f(rights)g(of)g
(capabilities)g(in)g FI(SW)27 b FM(are)20 b(the)g(members)f(of)h
Fw(R)p FM(,)h(subject)f(to)g(the)h(follo)n(wing)d(restriction.)162
3459 y(It)k(is)h(possible)f(for)f(a)i(process)e Fy(p)i
FM(to)f(hold)f(tw)o(o)h(capabilities)g Fx(\()p Fy(o;)14
b(r)r Fx(1\))23 b FM(and)f Fx(\()p Fy(o;)14 b(r)r Fx(2\))23
b FM(that)f(name)g(the)g(same)g(object)f(with)37 3609
y(distinct)29 b(access)g(rights.)48 b(Because)29 b(a)f(single)g
(process)g Fy(p)h FM(might)e(hold)h(both)f(capabilities)h
(simultaneously)-5 b(,)28 b(it)h(will)g(be)37 3758 y(necessary)21
b(to)h(de\002ne)g(the)f(access)i(rights)e(on)g Fy(o)i
FM(that)f(accrue)e(to)i(the)g(process)f Fy(p)h FM(by)g(virtue)f(of)g
(holding)f(both)h(capabilities)37 3908 y(simultaneously)-5
b(.)24 b(This)c(is)i(most)e(easily)h(accomplished)d(by)i(imposing)f(a)i
(complete)e(partial)h(order)f(\(CPO\))i(on)f(the)g(rights)37
4057 y(that)h(can)f(be)g(associated)g(with)g(an)o(y)g(particular)f
(object.)24 b(I)c(therefore)f(impose)g(the)i(follo)n(wing)d(sanity)i
(requirement:)935 4265 y(Let)g Fy(o)h FM(be)f(an)h(object,)e(and)h(let)
g Fy(r)r(t)k Fw(2)g(f)p FE(wk)o Fy(;)14 b FE(rd)q Fy(;)g
FE(wr)p Fy(;)g FE(exec)p Fw(g)p Fy(:)1018 4415 y Fw(8)p
Fx(\()p Fy(o;)g(r)r Fx(\))24 b Fw(2)f FE(capabilities)1101
4564 y FI(either)85 b Fy(r)r(t)21 b FE(acc)j Fw(2)g Fy(r)49
b Fx(=)-14 b Fw(\))46 b Fy(r)r(t)21 b FE(ind)i Fw(2)g
Fy(r)1101 4714 y FI(or)205 b Fy(r)r(t)21 b FE(acc)j Fw(2)g
Fy(r)49 b Fx(=)-14 b Fw(\))46 b Fy(r)r(t)21 b FE(ind)i
Fw(62)g Fy(r)37 4901 y FM(This)i(sanity)g(condition)e(ensures)h(that)h
(the)g(combination)e(of)h(access)i(rights)e(by)g(least)i(upper)d(bound)
g(yields)i(consistent)37 5050 y(authorities.)57 b(In)31
b(practice,)i(one)d(w)o(ould)h(e)o(xpect)f(that)h(objects)g(w)o(ould)f
(be)h(partitioned)e(by)i(type,)i(and)d(that)h(the)h(CPO)37
5200 y(restriction)20 b(w)o(ould)f(be)i(identical)e(for)h(all)h
(objects)e(of)h(a)h(gi)n(v)o(en)e(type.)1777 5410 y(76)p
eop
%%Page: 77 93
77 92 bop 337 108 a Fz(5.3)119 b(Semantic)31 b(Entities)337
351 y FM(W)m(ith)21 b(the)f(desired)g(access)g(rights)g(de\002ned,)f(I)
i(no)n(w)e(turn)h(attention)f(to)i(specifying)d(the)i(actions)g(and)g
(semantics)g(of)g FI(SW)p FM(.)462 505 y FI(SW)27 b FM(is)21
b(a)f(structured)f(operational)f(semantics)i(whose)g(judgments)f(are)h
(of)g(the)g(form)1872 746 y Fy(S)1923 758 y Fv(i)2002
692 y Fs(\()p Fv(p;\013)p Fs(\))1974 746 y Fw(\000)-27
b(\000)-19 b(\000)-26 b(!)23 b Fy(S)2254 758 y Fv(i)p
Fs(+1)337 988 y FM(with)e(the)f(intended)f(meaning)f(\223When)i(the)h
(system)f(w)o(as)h(in)f(state)h Fy(S)2329 1000 y Fv(i)2378
988 y FM(process)e Fy(p)i FM(did)f(action)f Fy(\013)p
FM(,)i(which)f(resulted)f(in)i(state)337 1137 y Fy(S)388
1149 y Fv(i)p Fs(+1)500 1137 y FM(.)-6 b(\224)42 b(The)26
b(actions)f(of)g FI(SW)32 b FM(correspond)24 b(to)h(the)h(fundamental)d
(operations)i(of)g(the)h(underlying)d(machine,)i(which)h(is)337
1286 y(typically)20 b(implemented)e(by)i(pri)n(vile)o(ged)e(softw)o
(are)i(\(a)g(k)o(ernel\))f(or)h(hardw)o(are.)462 1440
y(There)j(is)i(no)f(strong)f(distinction)g(in)i FI(SW)30
b FM(between)23 b(processes)h(and)f(objects;)j(a)f(process)e(is)i
(simply)f(an)g(object)f(that)337 1590 y(initiates)f(an)f(action.)27
b(The)21 b(term)g(\223process\224)f(is)i(used)f(solely)g(as)h(a)g
(descripti)n(v)o(e)d(con)m(v)o(enience)g(to)i(distinguish)f(actor)h
(from)337 1739 y(actee.)p 337 1855 3563 7 v 337 1929
a FJ(De\002nition)g(5.1)e FM(Semantic)h(entities)p 337
1950 3563 4 v 2497 2036 a FI(Capability)f(T)-6 b(ypes)842
2136 y(Univer)o(sal)21 b(Sets)624 b FE(ObCap)470 b FM(the)20
b(set)h(of)f(object)g(capabilities)619 2236 y FJ(Object)137
b FM(the)21 b(set)g(of)e(objects)288 b FE(ResumeCap)346
b FM(the)21 b(set)g(of)f(resume)f(capabilities)636 2335
y FE(Caps)145 b FM(set)21 b(of)f(capabilities)703 2435
y Fw(R)192 b FM(set)21 b(of)f(access)h(rights)902 b FI(Utility)21
b(Functions)710 2535 y Fw(S)198 b FM(set)21 b(of)f(system)g(states)329
b FE(target)q Fx(\()p Fw(\001)p Fx(\))601 b FE(Caps)24
b Fw(!)f FE(Ob)5 b(ject)1932 2634 y(righ)m(ts)o Fx(\()p
Fw(\001)p Fx(\))698 b FE(Caps)24 b Fw(!)f Fx(2)3333 2604
y Fi(R)p 337 2692 V 462 2949 a FM(De\002nition)d(5.1)h(gi)n(v)o(es)f
(the)h(basic)g(semantic)g(entities)g(of)g FI(SW)p FM(.)g(All)g(system)h
(resources)e(are)h(objects,)f(which)h(can)f(hold)337
3099 y(both)k(capabilities)f(and)g(data.)36 b(The)24
b(operational)e(semantics)i(ensures)f(that)h(capabilities)g(and)f(data)
h(are)g(partitioned.)34 b(In)337 3248 y(the)23 b FI(SW)29
b FM(model,)22 b(processes)g(are)h(simply)f(objects,)h(which)f
(simpli\002es)h(describing)e(the)i(ef)n(fect)f(of)g(actions)h(on)f
(processes)337 3398 y(in)f(the)f(operational)e(semantics.)462
3551 y(There)23 b(is)h(a)g(\002nite,)g(uni)n(v)o(ersal)e(set)j(of)e
(objects.)34 b(Creation)23 b(of)g(a)h(ne)n(w)g(object)f(is)h(the)f
(introduction)e(of)j(an)f(element)g(of)337 3701 y FJ(Object)j
FM(which)g(has)g(ne)n(v)o(er)f(been)h(used)g(before.)42
b(When)26 b(destro)o(ying)f(an)h(object,)h(all)g(outstanding)d
(capabilities)i(to)h(the)337 3850 y(object)18 b(are)g(destro)o(yed.)k
(The)c(object)f(is)i(then)e(mo)o(v)o(ed)f(to)i(the)g(destro)o(yed)e
(set,)j(ne)n(v)o(er)e(to)h(be)f(used)h(again.)23 b(This)18
b(ensures)f(that)337 4000 y(if)24 b(one)e(looks)g(at)h(the)g(state)g
(of)g(the)g(system)f(at)i(the)e(be)o(ginning)f(and)h(the)h(end,)f(it)i
(is)f(clear)g(there)f(is)i(no)e(residual)g(authority)337
4149 y(accessible)f(through)d(destro)o(yed)h(objects)h(that)g(w)o(ould)
f(violate)h(the)g(constraints)g(of)g(the)g(protection)e(model.)462
4303 y(Capabilities)g(can)f(be)h(either)f FE(ob)5 b(ject)19
b FM(or)e FE(resume)g FM(capabilities.)24 b(If)17 b Fy(k)k
FM(is)e(a)f(capability)-5 b(,)16 b FE(target)q Fx(\()p
Fy(k)s Fx(\))j FM(is)f(the)g(resource)337 4452 y(that)28
b(capability)e(refers)g(to,)j(and)d FE(righ)m(ts)p Fx(\()p
Fy(k)s Fx(\))i FM(is)g(the)f(set)h(of)e(access)i(rights)f(associated)f
(with)i(that)f(capability)-5 b(.)44 b(A)27 b(full-)337
4602 y(\003edged)22 b(object)g(reference)f(capability)h(has)g(the)h
(rights)f Fw(R)i FM(\(i.e.)32 b(all)23 b(rights\).)31
b(Resume)23 b(capabilities)f(con)m(v)o(e)o(y)e FE(exec)k(acc)337
4751 y FM(rights)d(on)f(their)g(tar)o(get.)25 b(I)c(use)g
FE(ResumeCap)e FM(and)g FE(ObCap)j FM(as)f(constructors:)j(If)d
Fy(o)j Fw(2)g FJ(Object)n FM(,)d(then)f FE(ObCap)q Fx(\()p
Fy(o;)14 b(r)r Fx(\))337 4901 y FM(is)22 b(the)e(unique)e(object)i
(capability)f(that)h(refers)g(to)g Fy(o)h FM(with)f(access)h(rights)f
Fy(r)r FM(.)26 b(Since)20 b(resume)g(capabilities)f(al)o(w)o(ays)i(con)
m(v)o(e)o(y)337 5050 y Fw(f)p FE(exec)h(acc)q Fw(g)g
FM(rights,)e(their)h(constructors)f(ha)n(v)o(e)g(only)h(one)f(ar)o
(gument.)26 b(A)21 b(capability)g(whose)f(rights)h(are)g(the)g(empty)g
(set)337 5200 y(con)m(v)o(e)o(ys)e(no)g(authority)-5
b(.)2077 5410 y(77)p eop
%%Page: 78 94
78 93 bop 37 108 a FG(5.3.1)99 b(Resume)26 b(Capabilities)37
314 y FM(Resume)21 b(capabilities)g(dif)n(fer)e(from)h(object)g
(capabilities)g(in)h(that)g(all)g(resume)f(capabilities)g(to)h(an)g
(object)f(are)g(consumed)37 464 y(when)i FI(any)f FM(resume)g
(capability)g(to)h(that)g(object)f(is)i(in)m(v)n(ok)o(ed.)28
b(Resume)22 b(capabilities)f(thereby)g(assure)g(that)h(the)g(e)o
(xpected)37 613 y(meaning)f(of)h(procedure)d(call)j(is)h(preserv)o(ed:)
k(e)n(v)o(ery)21 b(call)h(recei)n(v)o(es)f FI(at)h(most)h(one)e(r)m
(eturn)p FM(.)30 b(Resume)22 b(capabilities)g(in)g(turn)37
763 y(require)j(the)i(introduction)c(of)j(process)g(states,)i(because)e
(the)o(y)g(introduce)e(a)i(dif)n(ferentiation)e(between)i(processes)f
(that)37 912 y(are)c FI(available)e FM(to)h(be)g(called)g(and)g
(processes)g(that)g(are)g FI(waiting)g FM(for)g(a)h(return.)j(By)c
(embodying)e(call/return)h(dependenc)o(y)37 1062 y(in)i(a)f(capability)
g(rather)f(than)h(a)g(call)h(stack,)f(object)g(oriented)f(calls)i
(become)d(coprocess)i(in)m(v)n(ocation.)162 1212 y(Since)28
b(the)g(authority)e(of)h(resume)h(capabilities)f(is)i(a)f(subset)g(of)g
(the)f(authority)f(of)i(object)f(capabilities,)i(it)g(can)f(be)37
1361 y(ar)o(gued)f(that)i(resume)f(capabilities)h(are)g(an)g
(unnecessary)e(complication)g(of)h(the)h FI(SW)35 b FM(entities,)c(and)
e(that)f(resume)h(ca-)37 1510 y(pabilities)c(and)f(the)h(associated)f
(process)g(states)i(should)d(therefore)g(be)h(remo)o(v)o(ed)e(from)i
(the)g(model.)37 b(A)26 b(v)n(ariant)d(of)h FI(SW)37
1660 y FM(has)h(been)e(suf)n(\002ciently)h(e)o(xplored)e(to)i
(con\002rm)f(this)i(ar)o(gument,)d(and)i(the)g(resulting)f(model)h(is)h
(both)e(simpler)h(and)f(more)37 1809 y(general)d(than)f
FI(SW)p FM(.)162 1959 y(The)o(y)g(are)h(retained)f(in)i
FI(SW)26 b FM(for)20 b(se)n(v)o(eral)f(reasons:)162 2177
y Fw(\017)41 b FM(The)o(y)20 b(demonstrate)g(that)h FI(selective)g(r)m
(e)o(vocation)f FM(does)h(not)f(violate)h(the)g(access)h(control)e
(model.)26 b(Because)c(of)f(the)245 2327 y(scope)f(of)g(mutation)f
(inherent)g(in)h(re)n(v)n(ocation,)e(this)j(is)g(not)f(immediately)f
(ob)o(vious.)162 2545 y Fw(\017)41 b FM(The)o(y)21 b(allo)n(w)h
(objects)g(to)g(call)g(other)f(objects)h(without)f(being)h(able)f(to)i
(call)f(themselv)o(es.)30 b(F)o(or)21 b(reasons)h(discussed)245
2694 y(in)f(Section)f(4.1.6,)f(choices)h(about)g(intrinsic)g(rights)h
(can)f(ha)n(v)o(e)g(considerable)f(impact)h(on)g(information)e
(propaga-)245 2844 y(tion.)43 b(The)26 b FI(SW)32 b FM(proof)25
b(demonstrates)g(that)h(this)h(particular)e(intrinsic)h(right)f(is)i
(not)f(damaging,)g(which)f(has)i(not)245 2993 y(pre)n(viously)18
b(been)i(formally)e(sho)n(wn.)162 3212 y Fw(\017)41 b
FM(The)20 b(associated)g(process)g(states)h(impose)f(an)g(implicit)h
(mute)o(x)e(around)f(object)i(in)m(v)n(ocation.)k FI(SW)i
FM(therefore)19 b(mod-)245 3361 y(els)29 b(systems)f(in)g(which)g
(higher)e(le)n(v)o(els)i(of)g(abstraction)f(can)g(predicate)g(their)h
(correctness)f(on)g(non-reentrance)245 3510 y(and/or)19
b(mutual)g(e)o(xclusion.)162 3729 y Fw(\017)41 b FM(The)o(y)20
b(are)h(included)e(in)i(the)g(ER)m(OS)g(implementation,)e(and)h(are)h
(unusual)e(enough)g(that)i(I)g(wished)g(to)g(v)o(erify)e(them)245
3878 y(e)o(xplicitly)-5 b(.)37 4245 y FG(5.3.2)99 b Fh(SW)30
b FG(Model)25 b(State)37 4452 y FM(The)19 b(de\002nition)e(of)h
FI(SW)25 b FM(state)19 b(is)h(sho)n(wn)d(in)i(Figure)f(5.2.)23
b(Processes)c(are)g(simply)f(objects)g(in)h Fy(S)2797
4422 y Fj(run)2915 4452 y FM(.)25 b(Where)18 b(appropriate,)37
4601 y(I)25 b(shall)g(use)f Fy(p)h FM(to)g(designate)e(the)h(process)g
(performing)e(an)i(action,)h(and)e Fy(o)j FM(to)e(designate)g(the)g
(object)g(acted)g(upon.)36 b(The)37 4751 y(sanity)c(conditions)d
(ensure)i(that)g(I)h(don')o(t)d(ha)n(v)o(e)i(to)g(deal)g(with)h
(nonsensical)e(capabilities)h(or)g(objects)g(in)g(impossible)37
4900 y(running)19 b(states.)162 5050 y(T)-7 b(o)21 b(model)f(the)g(ef)n
(fect)g(of)h(indirect)e(reference,)g FI(SW)27 b FM(dedicates)20
b(a)h FI(r)m(efer)m(ence)g(r)m(e)m(gister)i FM(to)e(each)f(object.)25
b(This)c(re)o(gister)37 5200 y(is)i(similar)e(to)g(an)g(accumulator)m
(,)e(and)i(acts)g(as)h(a)g(\223current)e(object\224)g(pointer)g(during)
g(indirect)g(reference.)26 b(The)21 b Fy(S)3336 5169
y Fj(ref)3457 5200 y FM(map)1777 5410 y(78)p eop
%%Page: 79 95
79 94 bop 337 31 3563 7 v 337 105 a FJ(De\002nition)21
b(5.2)e FM(System)i(state)p 337 143 3563 4 v 337 230
a(System)g(state:)26 b Fy(S)h Fx(=)c(\()p Fy(S)1058 200
y Fj(run)1177 230 y Fy(;)14 b(S)1270 200 y Fj(w)n(ait)1413
230 y Fy(;)g(S)1506 200 y Fj(a)n(v)l(ail)1658 230 y Fy(;)g(S)1751
200 y Fj(caps)1897 230 y Fy(;)g(S)1990 200 y Fj(ref)2089
230 y Fy(;)g(S)2182 200 y Fj(dead)2340 230 y Fx(\))24
b Fw(2)f(S)1010 412 y Fy(S)1066 382 y Fj(run)1207 412
y Fw(\022)g FJ(Object)260 b FM(the)20 b(set)h(of)f(running)e(objects)
998 512 y Fy(S)1054 482 y Fj(w)n(ait)1220 512 y Fw(\022)k
FJ(Object)248 b FM(the)20 b(set)h(of)f(w)o(aiting)g(objects)993
613 y Fy(S)1049 583 y Fj(a)n(v)l(ail)1224 613 y Fw(\022)j
FJ(Object)243 b FM(the)20 b(set)h(of)f(a)n(v)n(ailable)f(objects)849
713 y Fy(S)905 682 y Fj(caps)1073 713 y Fx(:)k FJ(Object)f
Fw(!)h Fx(2)1530 682 y Fj(Caps)1796 713 y FM(the)d(map)g(between)f
(objects)h(and)g(sets)h(of)f(capabilities)872 813 y Fy(S)928
783 y Fj(ref)1051 813 y Fx(:)j FJ(Object)f Fw(!)h FE(Caps)124
b FM(the)20 b(per)n(-process)f(accumulator)f(re)o(gister)990
913 y Fy(S)1046 883 y Fj(dead)1227 913 y Fw(\022)23 b
FJ(Object)240 b FM(the)20 b(set)h(of)f(all)h(objects)e(which)h(ha)n(v)o
(e)g(been)f(destro)o(yed)337 1105 y(Notation:)25 b Fy(S)733
1075 y Fj(exist)914 1105 y Fx(=)e Fy(S)1058 1075 y Fj(run)1195
1105 y Fw([)18 b Fy(S)1324 1075 y Fj(w)n(ait)1486 1105
y Fw([)h Fy(S)1616 1075 y Fj(a)n(v)l(ail)337 1205 y FM(Sanity)h
(conditions:)441 1371 y(1.)41 b Fy(S)601 1341 y Fj(run)719
1371 y FM(,)21 b Fy(S)817 1341 y Fj(w)n(ait)960 1371
y FM(,)f Fy(S)1057 1341 y Fj(a)n(v)l(ail)1231 1371 y
FM(and)g Fy(S)1428 1341 y Fj(dead)1607 1371 y FM(are)g(disjoint)441
1470 y(2.)41 b(The)20 b(follo)n(wing)e(implications)i(hold:)594
1603 y(\(a\))41 b Fy(k)26 b Fw(2)d FE(extan)m(t)q Fx(\()p
Fy(S)5 b Fx(\))19 b Fw(\\)g FE(ObCap)46 b Fx(=)-14 b
Fw(\))46 b FE(target)p Fx(\()p Fy(k)s Fx(\))24 b Fw(2)f
Fy(S)2391 1573 y Fj(exist)589 1703 y FM(\(b\))41 b Fy(k)26
b Fw(2)d FE(extan)m(t)q Fx(\()p Fy(S)5 b Fx(\))19 b Fw(\\)g
FE(ResumeCap)44 b Fx(=)-14 b Fw(\))46 b FE(target)p Fx(\()p
Fy(k)s Fx(\))23 b Fw(2)h Fy(S)2596 1673 y Fj(w)n(ait)1585
1985 y FI(wher)m(e)d FE(extan)m(t)q Fx(\()p Fy(S)5 b
Fx(\))23 b(=)2377 1906 y Ff([)2302 2085 y Fv(c)p Fi(2)p
Fe(Object)2558 1985 y Fy(S)2614 1951 y Fj(caps)2759 1985
y Fx(\()p Fy(c)p Fx(\))p 337 2208 V 337 2492 a FM(maintains)d(the)g(v)n
(alue)g(of)g(this)g(re)o(gister)g(for)g(each)f(process.)337
2946 y Fz(5.4)119 b(Actions)337 3215 y FM(The)31 b(actions)f(that)g(a)h
FI(SW)37 b FM(process)30 b Fy(p)g FM(can)h(tak)o(e)f(are)g(enumerated)f
(in)h(Figure)g(5.3.)55 b(Each)30 b(action)g(has)g(an)h(associated)337
3364 y(precondition.)23 b(If)d(the)g(precondition)d(is)k(not)f(true,)g
(the)g(action)g(cannot)f(be)h(performed.)462 3532 y(The)28
b(actions)f(may)g(be)h(thought)e(of)i(as)g(microoperations)d(that)j
(compose)f(to)h(form)f(higher)f(le)n(v)o(el)i(operations.)46
b(As)337 3681 y(an)24 b(e)o(xample,)e(consider)g(a)i(process)f(that)g
(wishes)h(to)g(read)e(data)h(from)g(a)g(page)g(in)g(its)i(address)e
(space.)34 b(The)23 b(sequence)f(of)337 3831 y(operations)d(performed)f
(is)j(as)g(follo)n(ws:)389 4032 y(1.)41 b(The)18 b(process)g(performs)g
(a)h FE(refstart)q Fx(\()p Fw(\001)p Fx(\))h FM(operation)d(to)h(load)h
(its)h(address)e(space)h(capability)e(\(an)i(object)f(capability\))493
4182 y(into)i(its)h(reference)d(re)o(gister)i Fy(S)1396
4152 y Fj(ref)1495 4182 y Fx(\()p Fy(p)p Fx(\))p FM(.)389
4366 y(2.)41 b(The)19 b(process)g(then)g(performs)f(a)i(series)g(of)g
FE(rdw)m(alk)q Fx(\()p Fw(\001)p Fx(\))h FM(operations)d(to)h(tra)n(v)o
(erse)g(the)h(address)f(space)h(until)f Fy(S)3694 4336
y Fj(ref)3794 4366 y Fx(\()p Fy(p)p Fx(\))493 4515 y
FM(holds)g(an)i(accessible)f(object)g(capability)-5 b(.)389
4699 y(3.)41 b(The)16 b(process)f(no)n(w)h(performs)e(a)j
FE(load)o Fx(\()p Fw(\001)p Fx(\))h FM(operation)c(to)i(load)g(the)g
(desired)f(data)h(from)f(the)h(page)g(named)f(by)g Fy(S)3673
4669 y Fj(ref)3773 4699 y Fx(\()p Fy(p)p Fx(\))p FM(.)462
4901 y(The)27 b(partitioning)e(between)h(capabilities)g(and)h(data)g
(is)h(maintained)d(by)i(separate)f(accessor)h(and)f(mutator)g(opera-)
337 5050 y(tions.)f(The)20 b FE(read)q Fx(\()p Fw(\001)p
Fx(\))h FM(and)e FE(write)p Fx(\()p Fw(\001)p Fx(\))i
FM(operations)e(transfer)g(data)h(to)g(and)f(from)g(an)h(object.)25
b(The)19 b FE(fetc)m(h)q Fx(\()p Fw(\001)p Fx(\))i FM(and)f
FE(store)o Fx(\()p Fw(\001)p Fx(\))337 5200 y FM(operations)f(transfer)
g(capabilities)h(to)h(and)e(from)g(an)i(object.)2077
5410 y(79)p eop
%%Page: 80 96
80 95 bop 37 31 3563 7 v 37 105 a FJ(De\002nition)21
b(5.3)e FM(Action)h(types)p 37 143 3563 4 v 37 163 3558
4 v 87 233 a FI(Action)g(T)-6 b(ype)265 b(Restrictions)1203
b(Description)p 37 266 V 87 336 a FE(refstart)q Fx(\()p
Fy(p)p Fx(\))243 b Fy(o)23 b Fw(2)h Fy(S)944 305 y Fj(caps)1089
336 y Fx(\()p Fy(p)p Fx(\))1151 b FM(be)o(gin)19 b(object)g(reference)
87 436 y FE(rdw)m(alk)q Fx(\()p Fy(p;)14 b(k)s Fx(\))188
b Fw(f)p FE(wk)21 b(ind)o Fy(;)14 b FE(rd)21 b(ind)p
Fw(g)d(\\)h FE(righ)m(ts)o Fx(\()p Fy(S)1803 406 y Fj(ref)1903
436 y Fx(\()p Fy(p)p Fx(\)\))24 b Fw(6)p Fx(=)e Fw(;)p
Fy(;)746 536 y(k)k Fw(2)d Fy(S)949 505 y Fj(caps)1095
536 y Fx(\()p FE(target)p Fx(\()p Fy(S)1466 505 y Fj(ref)1566
536 y Fx(\()p Fy(p)p Fx(\)\)\))2346 436 y FM(indirect)c(tra)n(v)o
(ersal)h(for)f(read)h(access)87 636 y FE(wrw)m(alk)q
Fx(\()p Fy(p;)14 b(k)s Fx(\))172 b FE(wr)21 b(ind)i Fw(2)g
FE(righ)m(ts)p Fx(\()p Fy(S)1436 606 y Fj(ref)1536 636
y Fx(\()p Fy(p)p Fx(\)\))p Fy(;)746 736 y(k)j Fw(2)d
Fy(S)949 705 y Fj(caps)1095 736 y Fx(\()p FE(target)p
Fx(\()p Fy(S)1466 705 y Fj(ref)1566 736 y Fx(\()p Fy(p)p
Fx(\)\)\))2346 636 y FM(indirect)c(tra)n(v)o(ersal)h(for)f(write)i
(access)87 836 y FE(execw)m(alk)q Fx(\()p Fy(p;)14 b(k)s
Fx(\))100 b FE(exec)21 b(ind)i Fw(2)g FE(righ)m(ts)p
Fx(\()p Fy(S)1508 806 y Fj(ref)1608 836 y Fx(\()p Fy(p)p
Fx(\)\))p Fy(;)746 936 y(k)j Fw(2)d Fy(S)949 905 y Fj(caps)1095
936 y Fx(\()p FE(target)p Fx(\()p Fy(S)1466 905 y Fj(ref)1566
936 y Fx(\()p Fy(p)p Fx(\)\)\))2346 836 y FM(indirect)c(tra)n(v)o
(ersal)h(for)f(e)o(x)o(ec)h(access)87 1036 y FE(read)q
Fx(\()p Fy(p)p Fx(\))370 b Fw(f)p FE(wk)21 b(acc)q Fy(;)14
b FE(rd)21 b(acc)q Fw(g)d(\\)h FE(righ)m(ts)p Fx(\()p
Fy(S)1801 1006 y Fj(ref)1901 1036 y Fx(\()p Fy(p)p Fx(\)\))k
Fw(6)p Fx(=)g Fw(;)154 b FM(read)19 b(data)h(from)f(an)i(object)87
1136 y FE(write)p Fx(\()p Fy(p)p Fx(\))337 b FE(wr)21
b(acc)j Fw(2)g FE(righ)m(ts)p Fx(\()p Fy(S)1435 1106
y Fj(ref)1534 1136 y Fx(\()p Fy(p)p Fx(\)\))674 b FM(write)20
b(data)g(to)g(an)h(object)87 1237 y FE(fetc)m(h)q Fx(\()p
Fy(p;)14 b(k)s Fx(\))267 b Fw(f)p FE(wk)21 b(acc)q Fy(;)14
b FE(rd)21 b(acc)q Fw(g)d(\\)h FE(righ)m(ts)p Fx(\()p
Fy(S)1801 1207 y Fj(ref)1901 1237 y Fx(\()p Fy(p)p Fx(\)\))k
Fw(6)p Fx(=)g Fw(;)p Fy(;)746 1336 y(k)j Fw(2)d Fy(S)949
1306 y Fj(caps)1095 1336 y Fx(\()p FE(target)p Fx(\()p
Fy(S)1466 1306 y Fj(ref)1566 1336 y Fx(\()p Fy(p)p Fx(\)\)\))2346
1237 y FM(fetch)c(capability)h(from)f(an)h(object)87
1437 y FE(store)p Fx(\()p Fy(p;)14 b(k)s Fx(\))264 b
FE(wr)21 b(acc)j Fw(2)g FE(righ)m(ts)p Fx(\()p Fy(S)1435
1407 y Fj(ref)1534 1437 y Fx(\()p Fy(p)p Fx(\)\))p Fy(;)14
b(k)27 b Fw(2)c Fy(S)1913 1407 y Fj(caps)2059 1437 y
Fx(\()p Fy(p)p Fx(\))181 b FM(store)20 b(capability)f(to)h(object)87
1537 y FE(remo)m(v)m(e)p Fx(\()p Fy(p;)14 b(k)s Fx(\))170
b FE(wr)21 b(acc)j Fw(2)g FE(righ)m(ts)p Fx(\()p Fy(S)1435
1507 y Fj(ref)1534 1537 y Fx(\()p Fy(p)p Fx(\)\))p Fy(;)746
1637 y(k)i Fw(2)d Fy(S)949 1607 y Fj(caps)1095 1637 y
Fx(\()p FE(target)p Fx(\()p Fy(S)1466 1607 y Fj(ref)1566
1637 y Fx(\()p Fy(p)p Fx(\)\)\))2346 1537 y FM(remo)o(v)o(e)18
b(capability)h(from)g(object)87 1737 y FE(send)p Fx(\()p
Fy(p;)14 b(a)p Fx(\))284 b FE(exec)21 b(acc)j Fw(2)g
FE(righ)m(ts)p Fx(\()p Fy(S)1507 1707 y Fj(ref)1606 1737
y Fx(\()p Fy(p)p Fx(\)\))p Fy(;)14 b(a)24 b Fw(\022)f
Fy(S)1993 1707 y Fj(caps)2138 1737 y Fx(\()p Fy(p)p Fx(\))102
b FM(send)20 b(to)g(a)h(process)87 1837 y FE(call)p Fx(\()p
Fy(p;)14 b(a)p Fx(\))330 b FE(exec)21 b(acc)j Fw(2)g
FE(righ)m(ts)p Fx(\()p Fy(S)1507 1807 y Fj(ref)1606 1837
y Fx(\()p Fy(p)p Fx(\)\))p Fy(;)14 b(a)24 b Fw(\022)f
Fy(S)1993 1807 y Fj(caps)2138 1837 y Fx(\()p Fy(p)p Fx(\))102
b FM(call)20 b(a)h(process)87 1938 y FE(return)q Fx(\()p
Fy(p;)14 b(a)p Fx(\))206 b FE(exec)21 b(acc)j Fw(2)g
FE(righ)m(ts)p Fx(\()p Fy(S)1507 1908 y Fj(ref)1606 1938
y Fx(\()p Fy(p)p Fx(\)\))p Fy(;)14 b(a)24 b Fw(\022)f
Fy(S)1993 1908 y Fj(caps)2138 1938 y Fx(\()p Fy(p)p Fx(\))102
b FM(return)19 b(to)h(a)h(process)87 2037 y FE(create)q
Fx(\()p Fy(p;)14 b(a)p Fx(\))219 b Fy(a)23 b Fw(\022)g
Fy(S)957 2007 y Fj(caps)1102 2037 y Fx(\()p Fy(p)p Fx(\))1138
b FM(create)17 b(ne)n(w)h(object)g(with)g(capabilities)g
Fy(a)87 2138 y FE(destro)m(y)r Fx(\()p Fy(p)p Fx(\))245
b FE(wr)21 b(acc)j Fw(2)g FE(righ)m(ts)p Fx(\()p Fy(S)1435
2108 y Fj(ref)1534 2138 y Fx(\()p Fy(p)p Fx(\)\))674
b FM(object)19 b(destruction)p 37 2188 3563 4 v 37 2640
a Fz(5.5)119 b(Operational)31 b(Semantics)37 3069 y FM(Before)h
(de\002ning)f(the)h(operational)f(semantics)h(of)g FI(SW)p
FM(,)g(I)g(must)g(de\002ne)g(tw)o(o)h(helper)e(functions)f
FE(restrict)q Fx(\()p Fw(\001)p Fy(;)14 b Fw(\001)p Fx(\))33
b FM(and)37 3218 y FE(erase)p Fx(\()p Fw(\001)p Fy(;)14
b Fw(\001)p Fx(\))p FM(.)162 3469 y(The)20 b FE(restrict)p
Fx(\()p Fw(\001)p Fy(;)14 b Fw(\001)p Fx(\))22 b FM(function)c(reduces)
h(the)h(authority)f(of)h(a)h(capability:)440 3985 y FE(restrict)q
Fx(\()p Fy(k)s(;)14 b(r)r Fx(\))24 b(=)1041 3790 y Ff(8)1041
3864 y(>)1041 3889 y(<)1041 4039 y(>)1041 4064 y(:)1115
3910 y FE(ObCap)p Fx(\()p FE(target)q Fx(\()p Fy(k)s
Fx(\))p Fy(;)14 b FE(righ)m(ts)p Fx(\()p Fy(k)s Fx(\))19
b Fw(\\)g Fy(r)r Fx(\))105 b FM(if)20 b Fy(k)26 b Fw(2)e
FE(ObCap)1115 4089 y(ResumeCap)n Fx(\()p FE(target)q
Fx(\()p Fy(k)s Fx(\)\))418 b FM(if)20 b Fy(k)26 b Fw(2)e
FE(ResumeCap)37 4500 y FM(Note)32 b(that)f(where)n(v)o(er)e
FE(restrict)q Fx(\()p Fw(\001)p Fy(;)14 b Fw(\001)p Fx(\))32
b FM(is)g(used,)i(both)c(the)h(access)h(and)f(the)g(indirection)e(form)
i(of)f(a)i(gi)n(v)o(en)e(right)h(are)37 4650 y(preserv)o(ed)19
b(or)h(remo)o(v)o(ed)d(simultaneously)-5 b(,)18 b(which)i(preserv)o(es)
f(the)h(CPO)h(constraint)f(identi\002ed)f(in)h(Section)g(5.2.4.)162
4901 y(The)h(function)f FE(erase)p Fx(\()p Fy(S;)14 b(a)p
Fx(\))23 b FM(remo)o(v)o(es)d(all)i(elements)f(of)h Fy(a)g
FM(from)e(the)i(system)g(state)g(S.)g(It)g(is)h(used)e(in)h(the)g
(de\002nition)37 5050 y(when)30 b(all)g(outstanding)e(instances)h(of)h
(certain)f(capabilities)g(must)h(be)g(destro)o(yed.)52
b(The)29 b(ef)n(fect)g(of)h(this)g(operation)e(is)37
5200 y(desribed)20 b(by:)1777 5410 y(80)p eop
%%Page: 81 97
81 96 bop 911 307 a FM(Let)1104 456 y Fy(statecap)1408
426 y Fi(0)1520 456 y Fx(=)1745 378 y Ff([)1668 556 y
Fv(p)p Fi(2)p Fe(Object)1914 456 y Fw(f)p Fx(\()p Fy(p;)14
b(x)19 b Fw(\000)f Fy(a)p Fx(\))p Fw(j)p Fx(\()p Fy(p;)c(x)p
Fx(\))24 b Fw(2)f Fy(S)2663 426 y Fj(caps)2809 456 y
Fx(\()p Fy(p)p Fx(\))p Fw(g)1104 776 y Fy(stater)r(ef)1414
746 y Fi(0)1520 776 y Fx(=)1745 697 y Ff([)1668 876 y
Fv(p)p Fi(2)p Fe(Object)1928 581 y Ff(8)1928 656 y(>)1928
681 y(<)1928 830 y(>)1928 855 y(:)2002 702 y Fw(f)p Fx(\()p
Fy(p;)14 b(k)s Fx(\))p Fw(g)543 b FM(if)21 b Fx(\()p
Fy(p;)14 b(k)s Fx(\))23 b Fw(2)g Fy(S)3236 672 y Fj(ref)3356
702 y FM(and)d Fy(k)26 b Fw(62)d Fy(a)2002 881 y Fw(f)p
Fx(\()p Fy(p;)14 b FE(ObCap)p Fx(\()p Fy(p;)g Fw(R)p
Fx(\)\))p Fw(g)83 b FM(otherwise)911 1039 y(In)1104 1189
y FE(erase)p Fx(\()p Fy(S;)14 b(a)p Fx(\))24 b(=)e(\()p
Fy(S)1710 1159 y Fj(run)1829 1189 y Fy(;)14 b(S)1922
1159 y Fj(w)n(ait)2065 1189 y Fy(;)g(S)2158 1159 y Fj(a)n(v)l(ail)2311
1189 y Fy(;)g(statecap)2652 1159 y Fi(0)2674 1189 y Fy(;)g(stater)r(ef)
3021 1159 y Fi(0)3043 1189 y Fy(;)g(S)3136 1159 y Fj(dead)3295
1189 y Fx(\))462 1413 y FM(Gi)n(v)o(en)19 b(these)i(helper)e
(functions,)f(I)j(de\002ne)f(the)g(transition)f(relation)2495
1365 y Fi(\001)2456 1413 y Fw(\000)-49 b(!)p Fx(:)23
b Fw(S)i(\002)18 b(A)23 b(!)g(S)k FM(as)21 b(follo)n(ws:)1926
1648 y Fy(S)2033 1594 y Fs(\()p Fv(p;\013)p Fs(\))2004
1648 y Fw(\000)-26 b(\000)-19 b(\000)-27 b(!)23 b Fy(S)2289
1614 y Fi(0)337 1884 y FM(where)g Fy(p)28 b Fw(2)h Fy(S)774
1854 y Fj(run)916 1884 y FM(and)22 b(the)i(state)f(transformation)e
(performed)f(by)j(each)g(action)f Fy(\013)i FM(is)g(sho)n(wn)f(in)g
(De\002nitions)g(5.4,)f(5.5,)337 2034 y(5.6,)31 b(and)e(5.7.)52
b(Note)29 b(that)h(ne)n(w)f(objects)g(are)h(created)e(in)i(the)f
FI(available)f FM(state,)k(which)d(permits)g(them)g(to)h(be)f(called,)
337 2183 y(thereby)19 b(being)g(acti)n(v)n(ated)h(as)h(processes.)p
337 2311 3563 7 v 337 2385 a FJ(De\002nition)g(5.4)e
FM(Operational)g(semantics)h(\226)h(tra)n(v)o(ersal)p
337 2423 3563 4 v 769 2585 a FI(All)g(components)d(of)i
Fy(S)1445 2554 y Fi(0)1489 2585 y FI(ar)m(e)h(assumed)e(to)i(be)f(the)g
(same)g(as)h(in)f Fy(S)26 b FI(unless)20 b(stated)g(otherwise)o(.)p
586 2779 3066 4 v 627 2849 a Fy(\013)589 b FM(semantics)p
586 2882 V 586 2899 V 627 2981 a FE(refstart)q Fx(\()p
Fy(p)p Fx(\))226 b Fy(S)1325 2951 y Fi(0)1348 2939 y
Fj(ref)1471 2981 y Fx(=)23 b Fy(S)1615 2951 y Fj(ref)1715
2981 y Fx([)p Fy(p)f Fw(!)i FE(ObCap)p Fx(\()p Fy(p;)14
b Fw(R)p Fx(\)])p 586 3014 V 627 3097 a FE(rdw)m(alk)q
Fx(\()p Fy(p;)g(k)s Fx(\))171 b Fy(S)1325 3067 y Fi(0)1348
3055 y Fj(ref)1471 3097 y Fx(=)23 b Fy(S)1615 3067 y
Fj(ref)1715 3097 y Fx([)p Fy(p)f Fw(!)i FE(restrict)p
Fx(\()p Fy(k)s(;)14 b Fw(f)p FE(wk)20 b(ind)p Fy(;)14
b FE(wk)21 b(acc)q Fy(;)14 b FE(rd)21 b(ind)p Fy(;)14
b FE(rd)21 b(acc)q Fw(g)p Fx(\)])p 586 3130 V 627 3212
a FE(wrw)m(alk)q Fx(\()p Fy(p;)14 b(k)s Fx(\))155 b Fy(S)1325
3182 y Fi(0)1348 3170 y Fj(ref)1471 3212 y Fx(=)23 b
Fy(S)1615 3182 y Fj(ref)1715 3212 y Fx([)p Fy(p)f Fw(!)i
FE(restrict)p Fx(\()p Fy(k)s(;)14 b Fw(f)p FE(wr)20 b(ind)p
Fy(;)14 b FE(wr)21 b(acc)q Fw(g)p Fx(\)])p 586 3245 V
627 3328 a FE(execw)m(alk)q Fx(\()p Fy(p;)14 b(k)s Fx(\))83
b Fy(S)1325 3297 y Fi(0)1348 3286 y Fj(ref)1471 3328
y Fx(=)23 b Fy(S)1615 3297 y Fj(ref)1715 3328 y Fx([)p
Fy(p)f Fw(!)i FE(restrict)p Fx(\()p Fy(k)s(;)14 b Fw(f)p
FE(exec)20 b(ind)p Fy(;)14 b FE(exec)21 b(acc)q Fw(g)p
Fx(\)])p 586 3361 V 337 3464 3563 4 v 462 3698 a FM(The)h(read)g(and)g
(write)g(operations)f(do)h(not)g(af)n(fect)g(the)g(state)h(at)g(all.)32
b(Since)22 b(these)h(operations)d(only)i(af)n(fect)g(data,)g(and)337
3848 y(the)c(system)g(state)h(captures)e(only)g(capabilities,)h(this)g
(is)h(correct.)k(The)17 b FI(fact)j FM(of)d(a)h(read)g(or)f(write)h
(operation)e FI(is)j FM(observ)n(able,)337 3997 y(and)h(the)g
(requirements)f(statement)h(will)g(insist)i(upon)c(the)j(proper)d
(security)i(beha)n(vior)-5 b(.)337 4362 y Fz(5.6)119
b(Departur)n(es)31 b(Relati)o(v)o(e)f(to)f(ER)l(OS)337
4600 y FM(The)g FI(SW)34 b FM(model)28 b(mak)o(es)g(a)h(number)d(of)i
(simplifying)f(assumptions)h(relati)n(v)o(e)f(to)i(the)f(virtual)g
(machine)f(described)g(by)337 4750 y(Chapter)20 b(2.)25
b(F)o(our)19 b(of)h(these)h(are)f(signi\002cant.)462
4901 y(First,)d FI(SW)22 b FM(assumes)16 b(that)g FI(any)f
FM(object)h(may)f(perform)e(operations.)22 b(ER)m(OS)17
b(incorporates)c(objects)j(that)g(are)f(\223passi)n(v)o(e.)-6
b(\224)337 5050 y(As)29 b(Chapter)d(6)i(will)g(sho)n(w)-5
b(,)28 b(this)g(dif)n(ference)d(does)i(not)g(damage)f(the)h(ability)g
(of)g(architectures)f(that)i(\002t)g(the)f(model)f(to)337
5200 y(restrict)h(information)e(\003o)n(w)-5 b(.)44 b(The)26
b(acti)n(v)o(e)g(nature)g(of)g(all)i(objects)e(under)f
FI(SW)33 b FM(some)n(what)26 b(resembles)g(the)h(model)f(used)2077
5410 y(81)p eop
%%Page: 82 98
82 97 bop 37 305 3563 7 v 37 378 a FJ(De\002nition)21
b(5.5)e FM(Operational)g(semantics)h(\226)h(object)e(instantiation)p
37 416 3563 4 v 469 578 a FI(All)i(components)d(of)i
Fy(S)1145 548 y Fi(0)1189 578 y FI(ar)m(e)h(assumed)e(to)i(be)f(the)g
(same)g(as)h(in)f Fy(S)26 b FI(unless)20 b(stated)g(otherwise)o(.)858
678 y(r)m(ef)h(is)g Fy(S)1100 648 y Fj(ref)1199 678 y
Fx([)p Fy(p)p Fw(\000)i Fy(>)f FE(ObCap)q Fx(\()p Fy(p;)14
b Fw(R)p Fx(\)])21 b FI(unless)f(stated)g(otherwise)o(.)p
129 876 3381 4 v 170 946 a Fy(\013)470 b FM(semantics)p
129 979 V 129 996 V 170 1066 a FE(create)q Fx(\()p Fy(p;)14
b(a)p Fx(\))83 b FM(let)21 b Fy(o)837 1036 y Fi(0)883
1066 y Fw(2)j FJ(Object)17 b Fw(\000)h Fy(S)1359 1036
y Fj(exist)1536 1066 y Fw(\000)g Fy(S)1675 1036 y Fj(dead)1854
1066 y FM(in)755 1179 y Fy(S)811 1148 y Fi(0)834 1137
y Fj(a)n(v)l(ail)1010 1179 y Fx(=)23 b Fy(S)1154 1148
y Fj(a)n(v)l(ail)1325 1179 y Fw([)c(f)p Fy(o)1481 1148
y Fi(0)1504 1179 y Fw(g)755 1278 y Fy(S)811 1248 y Fi(0)834
1236 y Fj(caps)1003 1278 y Fx(=)k Fy(S)1147 1248 y Fj(caps)1292
1278 y Fx([)p Fy(o)1355 1248 y Fi(0)1402 1278 y Fw(!)g
Fy(a)p Fx(][)p Fy(p)g Fw(!)g Fy(S)1825 1248 y Fj(caps)1970
1278 y Fx(\()p Fy(p)p Fx(\))c Fw([)g(f)p FE(ObCap)p Fx(\()p
Fy(o)2576 1248 y Fi(0)2599 1278 y Fy(;)14 b Fw(R)p Fx(\))p
Fw(g)p Fx(])755 1390 y Fy(S)811 1360 y Fi(0)834 1348
y Fj(ref)957 1390 y Fx(=)23 b Fy(r)r(ef)p 129 1424 V
170 1511 a FE(destro)m(y)r Fx(\()p Fy(p)p Fx(\))109 b
FM(let)21 b Fy(C)29 b Fx(=)23 b FE(ResumeCap)n Fx(\()p
FE(target)p Fx(\()p Fy(S)1842 1481 y Fj(ref)1942 1511
y Fx(\()p Fy(p)p Fx(\)\)\))d Fw([)2241 1432 y Ff([)2205
1615 y Fv(r)r Fi(2)p Fs(2)2316 1599 y Fd(R)2370 1511
y FE(ObCap)p Fx(\()p FE(target)q Fx(\()p Fy(S)3035 1481
y Fj(ref)3134 1511 y Fx(\()p Fy(p)p Fx(\)\))p Fy(;)14
b(r)r Fx(\))23 b FM(in)755 1698 y Fy(r)r(un)h Fx(=)e
Fy(S)1059 1668 y Fj(run)1196 1698 y Fw(\000)c(f)p Fy(p)p
Fw(g)755 1798 y Fy(av)s(ail)24 b Fx(=)f Fy(S)1108 1768
y Fj(a)n(v)l(ail)1279 1798 y Fw(\000)18 b(f)p Fy(p)p
Fw(g)755 1898 y Fy(w)r(ait)24 b Fx(=)e Fy(S)1086 1868
y Fj(w)n(ait)1248 1898 y Fw(\000)c(f)p Fy(p)p Fw(g)755
1999 y Fy(dead)23 b Fx(=)g Fy(S)1091 1969 y Fj(dead)1268
1999 y Fw([)c(f)p Fy(S)1440 1969 y Fj(ref)1539 1999 y
Fx(\()p Fy(p)p Fx(\))p Fw(g)755 2098 y Fy(S)811 2068
y Fi(0)857 2098 y Fx(=)k FE(erase)p Fx(\(\()p Fy(r)r(un;)14
b(w)r(ait;)g(av)s(ail)r(;)g(caps;)g(r)r(ef)t(;)g(dead)p
Fx(\))p Fy(;)g(C)6 b Fx(\))p 129 2132 V 37 2235 3563
4 v 37 2854 3563 7 v 37 2928 a FJ(De\002nition)21 b(5.6)e
FM(Operational)g(semantics)h(\226)h(accessors)f(and)f(mutators)p
37 2966 3563 4 v 469 3128 a FI(All)i(components)d(of)i
Fy(S)1145 3098 y Fi(0)1189 3128 y FI(ar)m(e)h(assumed)e(to)i(be)f(the)g
(same)g(as)h(in)f Fy(S)26 b FI(unless)20 b(stated)g(otherwise)o(.)858
3228 y(r)m(ef)h(is)g Fy(S)1100 3198 y Fj(ref)1199 3228
y Fx([)p Fy(p)p Fw(\000)i Fy(>)f FE(ObCap)q Fx(\()p Fy(p;)14
b Fw(R)p Fx(\)])21 b FI(unless)f(stated)g(otherwise)o(.)p
309 3426 3019 4 v 351 3496 a Fy(\013)518 b FM(semantics)p
309 3529 V 309 3546 V 351 3628 a FE(read)p Fx(\()p Fy(p)p
Fx(\))283 b Fy(S)978 3598 y Fi(0)1001 3586 y Fj(ref)1124
3628 y Fx(=)23 b Fy(r)r(ef)p 309 3661 V 351 3743 a FE(write)p
Fx(\()p Fy(p)p Fx(\))249 b Fy(S)978 3713 y Fi(0)1001
3701 y Fj(ref)1124 3743 y Fx(=)23 b Fy(r)r(ef)p 309 3777
V 351 3847 a FE(fetc)m(h)q Fx(\()p Fy(p;)14 b(k)s Fx(\))179
b FM(if)21 b FE(rd)g(acc)j Fw(2)g FE(righ)m(ts)o Fx(\()p
Fy(S)1666 3817 y Fj(ref)1766 3847 y Fx(\()p Fy(p)p Fx(\)\))e
FM(then)985 3947 y Fy(S)1041 3917 y Fi(0)1064 3905 y
Fj(caps)1209 3947 y Fx(\()p Fy(p)p Fx(\))i(=)e Fy(S)1482
3917 y Fj(caps)1628 3947 y Fx(\()p Fy(p)p Fx(\))c Fw([)h(f)p
Fy(k)s Fw(g)922 4047 y FM(else)i(if)g FE(wk)g(acc)j Fw(2)f
FE(righ)m(ts)p Fx(\()p Fy(S)1843 4017 y Fj(ref)1943 4047
y Fx(\()p Fy(p)p Fx(\)\))e FM(then)985 4147 y Fy(S)1041
4117 y Fi(0)1064 4105 y Fj(caps)1209 4147 y Fx(\()p Fy(p)p
Fx(\))j(=)e Fy(S)1482 4117 y Fj(caps)1628 4147 y Fx(\()p
Fy(p)p Fx(\))c Fw([)h(f)p FE(restrict)p Fx(\()p Fy(k)s(;)14
b Fw(f)p FE(wk)21 b(ind)o Fy(;)14 b FE(wk)21 b(acc)r
Fw(g)p Fx(\))p Fw(g)922 4246 y FM(end)922 4358 y Fy(S)978
4328 y Fi(0)1001 4317 y Fj(ref)1124 4358 y Fx(=)i Fy(r)r(ef)p
309 4392 V 351 4462 a FE(store)p Fx(\()p Fy(p;)14 b(k)s
Fx(\))176 b Fy(S)978 4432 y Fi(0)1001 4420 y Fj(caps)1170
4462 y Fx(=)23 b Fy(S)1314 4432 y Fj(caps)1459 4462 y
Fx([)p FE(target)q Fx(\()p Fy(S)1822 4432 y Fj(ref)1921
4462 y Fx(\()p Fy(p)p Fx(\)\))h Fw(!)f Fy(S)2245 4432
y Fj(caps)2391 4462 y Fx(\()p FE(target)p Fx(\()p Fy(S)2762
4432 y Fj(ref)2862 4462 y Fx(\()p Fy(p)p Fx(\)\)\))d
Fw([)e(f)p Fy(k)s Fw(g)p Fx(])922 4574 y Fy(S)978 4544
y Fi(0)1001 4532 y Fj(ref)1124 4574 y Fx(=)23 b Fy(r)r(ef)p
309 4607 V 351 4678 a FE(remo)m(v)m(e)o Fx(\()p Fy(p;)14
b(k)s Fx(\))83 b Fy(S)978 4648 y Fi(0)1001 4636 y Fj(caps)1170
4678 y Fx(=)23 b Fy(S)1314 4648 y Fj(caps)1459 4678 y
Fx([)p FE(target)q Fx(\()p Fy(S)1822 4648 y Fj(ref)1921
4678 y Fx(\()p Fy(p)p Fx(\)\))h Fw(!)f Fy(S)2245 4648
y Fj(caps)2391 4678 y Fx(\()p FE(target)p Fx(\()p Fy(S)2762
4648 y Fj(ref)2862 4678 y Fx(\()p Fy(p)p Fx(\)\)\))d
Fw(\000)e(f)p Fy(k)s Fw(g)p Fx(])922 4790 y Fy(S)978
4760 y Fi(0)1001 4748 y Fj(ref)1124 4790 y Fx(=)23 b
Fy(r)r(ef)p 309 4823 V 37 4926 3563 4 v 1777 5410 a FM(82)p
eop
%%Page: 83 99
83 98 bop 337 844 3563 7 v 337 918 a FJ(De\002nition)21
b(5.7)e FM(Operational)g(semantics)h(\226)h(control)d(transfer)p
337 956 3563 4 v 769 1118 a FI(All)j(components)d(of)i
Fy(S)1445 1088 y Fi(0)1489 1118 y FI(ar)m(e)h(assumed)e(to)i(be)f(the)g
(same)g(as)h(in)f Fy(S)26 b FI(unless)20 b(stated)g(otherwise)o(.)1158
1217 y(r)m(ef)h(is)g Fy(S)1400 1187 y Fj(ref)1499 1217
y Fx([)p Fy(p)p Fw(\000)i Fy(>)f FE(ObCap)q Fx(\()p Fy(p;)14
b Fw(R)p Fx(\)])21 b FI(unless)f(stated)g(otherwise)o(.)p
513 1416 3212 4 v 555 1486 a Fy(\013)482 b FM(semantics)p
513 1519 V 513 1535 V 555 1606 a FE(send)o Fx(\()p Fy(p;)14
b(a)p Fx(\))161 b FM(let)21 b Fy(p)1236 1576 y Fi(0)1282
1606 y Fx(=)i FE(target)p Fx(\()p Fy(S)1709 1576 y Fj(ref)1809
1606 y Fx(\()p Fy(p)p Fx(\)\))f FM(in)1153 1706 y(if)e
Fx(\()p Fy(S)1312 1676 y Fj(ref)1412 1706 y Fx(\()p Fy(p)p
Fx(\))j Fw(2)h FE(ObCap)d FM(and)e Fy(p)2116 1676 y Fi(0)2163
1706 y Fw(2)k Fy(S)2297 1676 y Fj(a)n(v)l(ail)2450 1706
y Fx(\))e FM(or)f Fy(S)2649 1676 y Fj(ref)2748 1706 y
Fx(\()p Fy(p)p Fx(\))k Fw(2)f FE(ResumeCap)18 b FM(then)1236
1806 y Fy(r)r(un)23 b Fx(=)g Fy(S)1540 1776 y Fj(run)1676
1806 y Fw([)c(f)p Fy(p)1834 1776 y Fi(0)1857 1806 y Fw(g)1236
1906 y Fy(av)s(ail)24 b Fx(=)e Fy(S)1588 1876 y Fj(a)n(v)l(ail)1760
1906 y Fw(\000)c(f)p Fy(p)1927 1876 y Fi(0)1949 1906
y Fw(g)1236 2007 y Fy(w)r(ait)23 b Fx(=)g Fy(S)1567 1976
y Fj(w)n(ait)1728 2007 y Fw(\000)18 b(f)p Fy(p)1895 1976
y Fi(0)1918 2007 y Fw(g)1236 2106 y Fy(caps)k Fx(=)h
Fy(S)1563 2076 y Fj(caps)1708 2106 y Fx([)p Fy(p)1773
2076 y Fi(0)1820 2106 y Fw(!)g Fy(S)1982 2076 y Fj(caps)2127
2106 y Fx(\()p Fy(p)2201 2076 y Fi(0)2224 2106 y Fx(\))c
Fw([)g Fy(a)p Fx(])1236 2207 y Fy(S)1292 2176 y Fi(0)1338
2207 y Fx(=)j FE(erase)p Fx(\(\()p Fy(r)r(un;)14 b(w)r(ait;)g(av)s(ail)
r(;)g(caps;)g(r)r(ef)t(;)g(S)2713 2176 y Fj(dead)2871
2207 y Fx(\))p Fy(;)g Fw(f)p FE(ResumeCap)m Fx(\()p Fy(p)3553
2176 y Fi(0)3577 2207 y Fx(\))p Fw(g)p Fx(\))1153 2306
y FM(end)1090 2418 y Fy(S)1146 2388 y Fi(0)1169 2376
y Fj(ref)1292 2418 y Fx(=)23 b Fy(r)r(ef)p 513 2452 V
555 2522 a FE(call)p Fx(\()p Fy(p;)14 b(a)p Fx(\))206
b FM(let)21 b Fy(p)1236 2492 y Fi(0)1282 2522 y Fx(=)i
FE(target)p Fx(\()p Fy(S)1709 2492 y Fj(ref)1809 2522
y Fx(\()p Fy(p)p Fx(\)\))f FM(in)1153 2622 y(if)e Fx(\()p
Fy(S)1312 2592 y Fj(ref)1412 2622 y Fx(\()p Fy(p)p Fx(\))j
Fw(2)h FE(ObCap)d FM(and)e Fy(p)2116 2592 y Fi(0)2163
2622 y Fw(2)k Fy(S)2297 2592 y Fj(a)n(v)l(ail)2450 2622
y Fx(\))e FM(or)f Fy(S)2649 2592 y Fj(ref)2748 2622 y
Fx(\()p Fy(p)p Fx(\))k Fw(2)f FE(ResumeCap)18 b FM(then)1236
2722 y Fy(r)r(un)23 b Fx(=)g(\()p Fy(S)1572 2692 y Fj(run)1709
2722 y Fw(\000)18 b(f)p Fy(p)p Fw(g)p Fx(\))f Fw([)i(f)p
Fy(p)2125 2692 y Fi(0)2148 2722 y Fw(g)1236 2822 y Fy(av)s(ail)24
b Fx(=)e Fy(S)1588 2792 y Fj(a)n(v)l(ail)1760 2822 y
Fw(\000)c(f)p Fy(p)1927 2792 y Fi(0)1949 2822 y Fw(g)1236
2923 y Fy(w)r(ait)23 b Fx(=)g(\()p Fy(S)1599 2893 y Fj(w)n(ait)1760
2923 y Fw(\000)18 b(f)p Fy(p)1927 2893 y Fi(0)1950 2923
y Fw(g)p Fx(\))g Fw([)h(f)p Fy(p)p Fw(g)1236 3022 y Fy(caps)j
Fx(=)h Fy(S)1563 2992 y Fj(caps)1708 3022 y Fx([)p Fy(p)1773
2992 y Fi(0)1820 3022 y Fw(!)g Fy(S)1982 2992 y Fj(caps)2127
3022 y Fx(\()p Fy(p)2201 2992 y Fi(0)2224 3022 y Fx(\))c
Fw([)g Fy(a)f Fw([)h(f)p FE(ResumeCap)m Fx(\()p Fy(p)p
Fx(\))p Fw(g)p Fx(])1236 3123 y Fy(S)1292 3093 y Fi(0)1338
3123 y Fx(=)j FE(erase)p Fx(\(\()p Fy(r)r(un;)14 b(w)r(ait;)g(av)s(ail)
r(;)g(caps;)g(r)r(ef)t(;)g(S)2713 3093 y Fj(dead)2871
3123 y Fx(\))p Fy(;)g Fw(f)p FE(ResumeCap)m Fx(\()p Fy(p)3553
3093 y Fi(0)3577 3123 y Fx(\))p Fw(g)p Fx(\))1153 3222
y FM(end)1090 3335 y Fy(S)1146 3304 y Fi(0)1169 3293
y Fj(ref)1292 3335 y Fx(=)23 b Fy(r)r(ef)p 513 3368 V
555 3438 a FE(return)p Fx(\()p Fy(p;)14 b(a)p Fx(\))83
b FM(let)21 b Fy(p)1236 3408 y Fi(0)1282 3438 y Fx(=)i
FE(target)p Fx(\()p Fy(S)1709 3408 y Fj(ref)1809 3438
y Fx(\()p Fy(p)p Fx(\)\))f FM(in)1153 3539 y(if)e Fx(\()p
Fy(S)1312 3508 y Fj(ref)1412 3539 y Fx(\()p Fy(p)p Fx(\))j
Fw(2)h FE(ObCap)d FM(and)e Fy(p)2116 3508 y Fi(0)2163
3539 y Fw(2)k Fy(S)2297 3508 y Fj(a)n(v)l(ail)2450 3539
y Fx(\))e FM(or)f Fy(S)2649 3508 y Fj(ref)2748 3539 y
Fx(\()p Fy(p)p Fx(\))k Fw(2)f FE(ResumeCap)18 b FM(then)1236
3638 y Fy(r)r(un)23 b Fx(=)g(\()p Fy(S)1572 3608 y Fj(run)1709
3638 y Fw(\000)18 b(f)p Fy(p)p Fw(g)p Fx(\))f Fw([)i(f)p
Fy(p)2125 3608 y Fi(0)2148 3638 y Fw(g)1236 3739 y Fy(av)s(ail)24
b Fx(=)e(\()p Fy(S)1620 3708 y Fj(a)n(v)l(ail)1792 3739
y Fw(\000)c(f)p Fy(p)1959 3708 y Fi(0)1981 3739 y Fw(g)p
Fx(\))h Fw([)g(f)p Fy(p)p Fw(g)1236 3839 y Fy(w)r(ait)k
Fx(=)g Fy(S)1567 3809 y Fj(w)n(ait)1728 3839 y Fw(\000)18
b(f)p Fy(p)1895 3809 y Fi(0)1918 3839 y Fw(g)1236 3939
y Fy(caps)k Fx(=)h Fy(S)1563 3908 y Fj(caps)1708 3939
y Fx([)p Fy(p)1773 3908 y Fi(0)1820 3939 y Fw(!)g Fy(S)1982
3908 y Fj(caps)2127 3939 y Fx(\()p Fy(p)2201 3908 y Fi(0)2224
3939 y Fx(\))c Fw([)g Fy(a)p Fx(])1236 4039 y Fy(S)1292
4009 y Fi(0)1338 4039 y Fx(=)j FE(erase)p Fx(\(\()p Fy(r)r(un;)14
b(w)r(ait;)g(av)s(ail)r(;)g(caps;)g(r)r(ef)t(;)g(S)2713
4009 y Fj(dead)2871 4039 y Fx(\))p Fy(;)g Fw(f)p FE(ResumeCap)m
Fx(\()p Fy(p)3553 4009 y Fi(0)3577 4039 y Fx(\))p Fw(g)p
Fx(\))1153 4139 y FM(end)1090 4251 y Fy(S)1146 4221 y
Fi(0)1169 4209 y Fj(ref)1292 4251 y Fx(=)23 b Fy(r)r(ef)p
513 4284 V 337 4387 3563 4 v 2077 5410 a FM(83)p eop
%%Page: 84 100
84 99 bop 37 108 a FM(by)22 b(He)n(witt)h(in)f(describing)e(Actors)i
([He)n(w73)o(,)g(He)n(w77)o(].)30 b(The)22 b(Actors)g(model,)f(ho)n(we)
n(v)o(er)m(,)f(does)i(not)g(gi)n(v)o(e)f(an)h(account)f(of)37
257 y(indirection)e(or)h(weak)g(reference.)162 407 y(Second,)33
b FI(SW)k FM(assumes)32 b(that)f(processes)g(are)g(a)h(single)f
(object.)57 b(This)31 b(dif)n(ference)f(can)h(be)g(reconciled)e(with)j
(the)37 556 y(ER)m(OS)c(virtual)e(machine)g(architecture)g(by)h(noting)
e(that)j(the)f(process)f(root)h(of)g(an)g(ER)m(OS)g(process)g(is)h(the)
f(object)f(that)37 705 y(is)g(considered)d(a)i(process)g(here,)g(and)f
(that)h(this)g(process)f(acts)i(on)e(its)i(constituents)e(under)f(the)i
(operational)e(semantics)37 855 y(included)h(here.)39
b(Operations)24 b(performed)f(by)i(ER)m(OS)g(processes)g(may)g(then)f
(need)h(to)g(be)g(described)f(by)h(sequences)f(of)37
1004 y(the)d(operations)d(described)h(here,)h(b)n(ut)g(this)h
(construction)d(is)j(straightforw)o(ard.)162 1154 y(Third,)33
b(note)e(that)h FI(SW)38 b FM(mak)o(es)31 b(no)h(pro)o(vision)d(for)i
(an)o(y)g(f)o(acility)g(analogous)f(to)i(the)g FJ(pr)o(ocess)f(tool)g
FM(pro)o(vided)e(by)37 1303 y(the)e(ER)m(OS)f(virtual)g(machine)f
(\(Section)g(2.3.5\).)42 b(This)26 b(distinction)g(is)h(signi\002cant,)
g(in)f(that)g(without)g(the)g(process)g(tool)37 1453
y(the)32 b(recursi)n(v)o(e)f(portion)f(of)h(the)h(constructor)e(logic)h
(\(Section)g(3.4\))g(cannot)g(be)g(described)g(within)g(the)h(model.)59
b(The)37 1602 y(ef)n(fect)20 b(of)g(the)h(process)f(tool)g(can)g(be)g
(incorporated)e(by)i(adding)f(a)i(ne)n(w)f(map)g Fy(S)2340
1572 y Fj(brand)2537 1602 y FM(,)g(a)h(ne)n(w)-5 b(,)20
b(distinguished)f(capability)37 1751 y FE(Pro)s(cT)-8
b(o)s(ol)p FM(,)28 b(and)e(ne)n(w)g(action)g(types)g
FE(brand)q Fx(\()p Fw(\001)p Fx(\))i FM(and)d FE(amplify)p
Fx(\()p Fw(\001)p Fx(\))j FM(whose)e(operational)e(semantics)j(is)g(sk)
o(etched)e(in)37 1901 y(De\002nition)d(5.8.)31 b(In)22
b(the)g(\002nal)g(analysis,)h(the)f(reason)g(that)g(this)h(operation)d
(has)j(been)e(e)o(xcluded)g(is)i(that)f(the)h(correctness)p
37 2025 3563 7 v 37 2099 a FJ(De\002nition)e(5.8)e FM(Operational)g
(semantics)h(of)g(the)g(process)g(tool)p 37 2137 3563
4 v 616 2248 2405 4 v 658 2318 a Fy(\013)534 b FM(semantics)p
616 2351 V 616 2368 V 658 2438 a FE(brand)q Fx(\()p Fy(p;)14
b(a;)g(b)p Fx(\))82 b FM(if)21 b FE(rd)g(acc)j Fw(2)g
FE(righ)m(ts)o Fx(\()p Fy(S)1989 2408 y Fj(ref)2089 2438
y Fx(\()p Fy(p)p Fx(\)\))e FM(and)1308 2539 y FE(wr)f(acc)j
Fw(2)f FE(righ)m(ts)p Fx(\()p Fy(S)1996 2508 y Fj(ref)2096
2539 y Fx(\()p Fy(p)p Fx(\)\))e FM(and)1308 2639 y Fy(S)1364
2609 y Fj(brand)1560 2639 y Fx(\()p Fy(S)1648 2609 y
Fj(ref)1748 2639 y Fx(\()p Fy(p)p Fx(\)\))j(==)e Fy(a)f
FM(then)1308 2751 y Fy(S)1364 2721 y Fi(0)1387 2709 y
Fj(brand)1607 2751 y Fx(=)h Fy(S)1750 2721 y Fj(brand)1947
2751 y Fx([)p Fy(S)2026 2721 y Fj(ref)2126 2751 y Fx(\()p
Fy(p)p Fx(\))h Fw(!)g Fy(b)p Fx(])1245 2851 y FM(end)1245
2963 y Fy(S)1301 2933 y Fi(0)1324 2921 y Fj(ref)1447
2963 y Fx(=)g Fy(r)r(ef)p 616 2996 V 658 3066 a FE(amplify)p
Fx(\()p Fy(p;)14 b(a)p Fx(\))87 b FM(if)21 b FE(rd)g(acc)j
Fw(2)g FE(righ)m(ts)o Fx(\()p Fy(S)1989 3036 y Fj(ref)2089
3066 y Fx(\()p Fy(p)p Fx(\)\))e FM(and)1308 3167 y Fy(S)1364
3137 y Fj(brand)1560 3167 y Fx(\()p Fy(S)1648 3137 y
Fj(ref)1748 3167 y Fx(\()p Fy(p)p Fx(\)\))i(==)e Fy(a)f
FM(then)1308 3267 y Fy(S)1364 3237 y Fi(0)1387 3225 y
Fj(caps)1555 3267 y Fx(=)i Fy(S)1699 3237 y Fj(caps)1863
3267 y Fw([)c FE(ObCap)p Fx(\()p FE(target)q Fx(\()p
Fy(S)2602 3237 y Fj(ref)2701 3267 y Fx(\()p Fy(p)p Fx(\)\))p
Fy(;)14 b Fw(R)p Fx(\))1245 3367 y FM(end)1245 3479 y
Fy(S)1301 3449 y Fi(0)1324 3437 y Fj(ref)1447 3479 y
Fx(=)23 b Fy(r)r(ef)p 616 3512 V 37 3615 3563 4 v 37
3846 a FM(of)31 b(the)g(recursion)e(step)i(in)g(the)g(constructor)d
(logic)j(must)f(be)h(predicated)e(on)h(the)h(correctness)f(of)g(the)h
(constructor')-5 b(s)37 3996 y(algorithm,)32 b(and)e(I)h(am)f(focused)g
(in)h(this)g(dissertation)f(on)g(establishing)g(a)h(correctness)e
(property)g(about)h(the)g(virtual)37 4145 y(machine)23
b(architecture.)32 b(The)23 b(process)g(tool)g(appears)f(to)h(be)g
(necessary)g(for)g(constructor)e(authentication,)h(b)n(ut)h(it)h(is)g
(not)37 4295 y(necessary)c(for)g(the)g(architecture)e(to)j(enforce)d
(con\002nement.)162 4444 y(Finally)-5 b(,)31 b(the)e
FI(SW)36 b FM(model)28 b(read)h(and)g(write)g(authorities)g(co)o(v)o
(er)f(both)g(data)h(and)g(capabilities)g(rather)g(than)g(ha)n(ving)37
4593 y(separate)22 b(authorities)g(according)e(to)i(reference)f(type.)
30 b(Including)20 b(such)i(a)h(partitioning)d(certainly)h(poses)h(no)g
(dif)n(\002culty)-5 b(,)37 4743 y(b)n(ut)18 b(increases)g(the)g(number)
e(of)i(cases)g(that)g(the)g(proof)e(to)j(follo)n(w)e(must)h(consider)-5
b(.)23 b(In)18 b(f)o(act,)g(partitioning)e(of)h(access)i(rights)37
4892 y(pro)o(v)o(es)g(to)h(be)h(unnecessary)d(for)i(the)g(purposes)f
(of)h(the)g(proof.)1777 5410 y(84)p eop
%%Page: 85 101
85 100 bop 337 835 a FD(Chapter)45 b(6)337 1375 y FK(Pr)l(oof)53
b(of)e(Con\002nement)337 1857 y FM(Ha)n(ving)18 b(described)f(the)h
FI(SW)24 b FM(model,)18 b(one)f(can)h(no)n(w)g(e)o(xplore)f(the)h
(question)f(of)h(whether)f FI(SW)24 b FM(can)18 b(enforce)f
(con\002nement,)337 2006 y(and)27 b(if)g(so,)h(what)f(preconditions)d
(are)j(suf)n(\002cient)f(to)h(ensure)e(this)j(enforcement.)42
b(This)26 b(proof)f(w)o(as)j(jointly)e(de)n(v)o(eloped)337
2156 y(with)21 b(Sam)f(W)-7 b(eber)21 b(of)f(the)g(Uni)n(v)o(ersity)f
(of)h(Pennsylv)n(ania.)337 2514 y Fz(6.1)119 b(Inf)m(ormal)30
b(Discussion)g(of)f(Con\002nement)337 2750 y FM(The)19
b(con\002nement)e(problem)g(w)o(as)j(\002rst)g(articulated)e(by)g
(Butler)h(Lampson)f(in)h(1973)e([Lam73)n(].)25 b(Allo)n(wing)18
b(for)g(e)n(v)n(olution)337 2899 y(of)i(system)h(architectures,)d(the)j
(con\002nement)d(problem)g(is)j(stated)g(in)f(De\002nition)g(6.1.)337
3124 y FJ(De\002nition)h(6.1)e(\(The)i(Ideal)g(Con\002nement)f(Pr)o
(operty\):)337 3274 y FI(Given)i(an)g(initial)g(system)h(con\002gur)o
(ation,)c(ensur)m(e)j(that)g(some)g(pr)l(ocess)h Fy(p)f
FI(does)g(not)g(modify)g(the)g(state)g(of)h(any)e(entity)h(in)337
3423 y(the)f(system)g(e)n(xcept)f(by)g(means)g(of)g(authorized)f(c)o
(hannels.)24 b(A)c(pr)l(o)o(gr)o(am)g(so)g(r)m(estricted)h(is)g(said)f
(to)h(be)f FJ(con\002ned)p FI(.)462 3648 y FM(A)i(con\002ned)e(program)
f(is)k(free)e(to)g FI(r)m(ead)j FM(an)o(y)c(state)i(that)g(it)g(is)h
(authorized)c(to,)j(b)n(ut)f(it)h(may)f(not)g(disclose)h(information)
337 3797 y(to)f(an)o(y)e(unauthorized)e(party)-5 b(.)462
3947 y(Con\002nement)22 b(is)j(a)f(precondition)d(to)j(multile)n(v)o
(el)f(security)g(\(MLS\))g([Bel73a)o(,)h(Bel73b)o(,)g(Bel74)o(],)h(and)
e(to)h(enforcing)337 4097 y(the)29 b(requirements)e(of)i(lattice)g
(structured)f(information)e(\003o)n(w)j([Den76)n(].)51
b(Both)29 b(MLS)h(and)e(lattice)h(constrained)e(\003o)n(w)337
4246 y(may)d(be)g(vie)n(wed)f(as)i(a)f(statement)g(of)f(suitable)h
(rules)g(for)f(the)h(choice)f(of)h(authorized)e(channels.)35
b(Unless)24 b(the)g(beha)n(vior)337 4396 y(of)h(programs)f(can)h(be)g
(restricted)g(to)g(the)g(use)h(of)f(authorized)e(channels)h(\(i.e.)40
b(con\002ned\),)25 b(policies)g(for)f(de\002ning)g(these)337
4545 y(channels)c(are)g(premature.)337 4844 y FG(6.1.1)99
b(Enf)n(or)n(cement)27 b(of)e(Con\002nement)337 5050
y FM(An)f(enforcement)e(mechanism)g(for)i(the)f(con\002nement)f
(property)g(might)h(be)h(b)n(uilt)g(by)f(means)h(of)f(a)i(reference)d
(monitor)-5 b(.)337 5200 y(Ev)o(ery)22 b(object)g(in)h(the)f(system)h
(is)h(tagged)d(as)j(\223authorized\224)c(or)i(\223unauthorized,)-6
b(\224)20 b(and)i(writes)h(to)g(unauthorized)d(objects)2077
5410 y(85)p eop
%%Page: 86 102
86 101 bop 37 108 a FM(are)24 b(made)g(to)g(generate)f(e)o(xceptions.)
34 b(An)o(y)24 b(process)f(that)h(attempts)g(to)g(mutate)g(an)g
(unauthorized)d(object)i(has)i(violated)37 257 y(the)c(con\002nement)d
(property)-5 b(.)162 435 y(In)20 b(practice,)g(this)h(approach)d(is)k
(dif)n(\002cult)e(to)g(implement.)25 b(There)20 b(may)g(be)g(man)o(y)f
(independently)f(con\002ned)h(subsys-)37 585 y(tems,)k(and)e(the)h(di)n
(vision)e(between)h(authorized)f(and)h(unauthorized)e(references)h(can)
i(be)f(altered)h(dynamically)d(in)j(w)o(ays)37 734 y(that)i(cause)f
(pre)n(viously)e(isolated)j(subsystems)f(to)g(become)f(interconnected.)
32 b(T)m(ransfers)22 b(of)h(authority)f(ha)n(v)o(e)g(transiti)n(v)o(e)
37 884 y(ef)n(fects)f(in)g(the)g(access)g(graph.)26 b(In)21
b(the)f(limit,)i(the)f(reference)e(monitor)g(might)h(be)h(forced)f(to)h
(construct)e(and)i(maintain)f(an)37 1033 y Fy(N)28 b
Fw(\002)18 b Fy(N)29 b FM(access)21 b(matrix)f(in)g(which)g(the)g(le)o
(gal)f(accesses)i(between)f(entities)g(are)g(recorded.)162
1211 y(The)i(principal)f(adv)n(antage)f(to)j(the)f(access)h(matrix)f
(approach)e(is)j(that)g(it)g(is)g(dynamic.)30 b(It)23
b(checks)f(access)g(violations)37 1361 y(on)h(the)g(basis)g(of)g(what)g
(the)g(program)e(actually)h(does,)h(rather)f(than)g(on)h(the)g(basis)g
(of)g(what)g(it)h FI(might)g FM(do.)32 b(The)23 b(principal)37
1510 y FI(disadvanta)o(g)o(e)c FM(is)i(that)f(it)i(is)f(prohibiti)n(v)o
(ely)d(e)o(xpensi)n(v)o(e)g(to)j(implement.)j(While)d(there)f(are)g(a)h
(v)n(ariety)f(of)g(implementation)37 1660 y(strate)o(gies)h(for)e(such)
h(an)g(access)h(matrix,)e(all)i(ha)n(v)o(e)f(unfortunate)d
(consequences)h(in)j(both)e(space)h(and)g(time.)37 2114
y FG(6.1.2)99 b(A)25 b(Conser)o(v)o(ati)o(v)o(e)g(A)n(ppr)n(oximation)
37 2374 y FM(The)20 b(alternati)n(v)o(e)e(strate)o(gy)h(is)i(to)f
(adopt)f(a)h(conserv)n(ati)n(v)o(e)d(approximation)g(to)j(the)f(ideal)h
(con\002nement)e(property)-5 b(,)17 b(gi)n(v)o(en)h(in)37
2524 y(De\002nition)i(6.2.)k(This)d(is)g(the)f(de\002nition)f(of)h
(con\002nement)e(that)i(we)h(shall)g(adopt)e(here.)37
2777 y FJ(De\002nition)i(6.2)e(\(The)i(Conser)o(v)o(ati)o(v)o(e)e
(Con\002nement)i(Pr)o(operty\):)37 2926 y FI(Given)e(an)f(initial)h
(system)g(con\002gur)o(ation,)c(ensur)m(e)k(that)f(some)h(pr)l(ocess)g
Fy(p)g FM(cannot)e FI(modify)h(the)h(state)g(of)f(any)g(entity)h(in)g
(the)37 3075 y(system)j(e)n(xcept)e(by)g(means)g(of)g(authorized)f(c)o
(hannels.)k(A)e(pr)l(o)o(gr)o(am)e(so)i(r)m(estricted)g(is)g(said)f(to)
g(be)h FJ(con\002ned)p FI(.)162 3328 y FM(The)d(principal)f(focus)h(of)
g(the)g(proof)f(is)i(to)g(sho)n(w)f(that)g(an)o(y)g(operation)e(that)j
(can)f(be)g(performed)e(under)h(De\002nition)g(6.1)37
3478 y(is)22 b(permissible)d(under)g(De\002nition)g(6.2.)25
b(T)-7 b(o)20 b(sho)n(w)g(this,)h(we)f(must)g(sho)n(w)g(that:)110
3701 y Fw(\017)41 b FM(There)29 b(e)o(xists)i(some)f(initial)h
(con\002guration)d(in)j(which)e(the)i(mutations)e(authorized)g(for)h
(an)g(alle)o(gedly)f(con\002ned)193 3851 y(process)19
b Fy(p)i FM(satis\002ed)g(the)f(con\002nement)e(property)g(\(this)j(is)
g(tri)n(vial\).)110 4046 y Fw(\017)41 b FM(F)o(or)21
b(an)o(y)g(initial)h(con\002guration)d(of)i(an)h FI(SW)28
b FM(system)22 b(and)f(an)o(y)g(e)o(x)o(ecution,)e(all)k(mutations)d
(performed)f(were)j(autho-)193 4195 y(rized.)37 4419
y(There)e(are)g(tw)o(o)g(interesting)g(complications)e(in)j(the)f
(second)f(part:)110 4643 y Fw(\017)41 b FM(Access)25
b(rights)g(in)g(a)g(capability)f(system)h(are)g(transferable,)f(so)h
(operations)e(that)i(cop)o(y)f(capabilities)h(must)f(be)h(e)o(x-)193
4792 y(amined)19 b(to)h(see)h(that)f(the)h(authorities)e(transferred)f
(are)i(suitably)g(constrained.)110 4987 y Fw(\017)41
b FM(The)31 b(authority)e(to)j(perform)d(interprocess)h(calls)i
(implies)g(the)f(authority)f(to)h(reply)-5 b(,)33 b(yielding)d(a)i
(semi-re\003e)o(xi)n(v)o(e)193 5136 y(access)21 b(graph.)1777
5410 y(86)p eop
%%Page: 87 103
87 102 bop 337 108 a Fz(6.2)119 b(Outline)32 b(of)d(Pr)n(oof)337
343 y FM(Consider)15 b(a)h FI(SW)21 b FM(system)16 b(ha)n(ving)e(a)h
(set)h(of)f(processes)g Fy(P)d FM(,)17 b(in)e(which)g(there)f(is)i(an)g
(alle)o(gedly)e(con\002ned)f(process)i Fy(p)3580 355
y Fv(conf)7 b(ined)3880 343 y Fw(2)337 492 y Fy(P)12
b FM(.)28 b(Gi)n(v)o(en)20 b(this)h(con\002guration,)d(we)k(can)e
(generate)g(tw)o(o)h(sets:)28 b(the)21 b(resources)f(that)h(are)g
(mutable)e(by)i Fy(p)3338 504 y Fv(conf)7 b(ined)3615
492 y FM(,)21 b(and)g(the)337 642 y(set)i(of)f(resources)f(that)h(are)g
(readable)f(by)h(other)f(processes)g(in)i(the)f(system.)30
b(Let)23 b Fy(C)28 b FM(be)22 b(the)g(set)h(of)f(capabilities)g
(initially)337 791 y(held)d(by)f Fy(p)644 803 y Fv(conf)7
b(ined)921 791 y FM(,)19 b Fy(C)1020 803 y Fv(auth)1187
791 y Fw(\022)j Fy(C)k FM(the)18 b(set)i(of)e(authorized)f
(capabilities)h(whose)g(resources)g Fy(p)h FM(may)f(permissably)f
(mutate,)337 941 y(and)j Fy(C)537 953 y Fv(outside)780
941 y FM(the)h(set)g(of)e(all)i(capabilities)f(held)g(by)g(processes)g
(in)g Fy(P)30 b Fw(\000)18 b(f)p Fy(p)2550 953 y Fv(conf)7
b(ined)2827 941 y Fw(g)p FM(.)337 1165 y FJ(De\002nition)21
b(6.3)e(\(De\002nition)h(of)g(Con\002nement\):)337 1314
y FI(A)h(pr)l(ocess)g(holding)d(initial)i(capabilities)f
Fy(C)28 b FI(is)21 b(con\002ned)d(if)j(and)e(only)h(if:)1092
1509 y Fx(\()p Fy(mutabl)r(e)p Fx(\()p Fy(C)6 b Fx(\))17
b Fw(\000)h Fy(mutabl)r(e)p Fx(\()p Fy(C)2038 1521 y
Fv(auth)2180 1509 y Fx(\)\))h Fw(\\)g Fy(r)r(eadabl)r(e)p
Fx(\()p Fy(C)2739 1521 y Fv(outside)2961 1509 y Fx(\))k(=)g
Fw(;)462 1705 y FM(Gi)n(v)o(en)c(the)i(access)f(rights)g(of)g
FI(SW)p FM(,)g(it)h(is)g(tri)n(vial)f(to)h(sho)n(w)f(that)1091
1900 y Fx(\()p FE(righ)m(ts)p Fx(\()p Fy(k)s Fx(\))k
Fw(\022)e(f)p FE(wk)f(ind)p Fy(;)14 b FE(wk)21 b(acc)q
Fw(g)p Fx(\))46 b(=)-14 b Fw(\))46 b Fy(mutabl)r(e)p
Fx(\()p Fw(f)p Fy(k)s Fw(g)p Fx(\))20 b(=)j Fw(;)337
2095 y FM(This)e(gi)n(v)o(es)f(rise)g(directly)g(to)g(a)h(straightforw)
o(ard)c(conserv)n(ati)n(v)o(e)h(test)j(for)f(con\002nement.)j(De\002ne)
1087 2271 y Fy(C)1146 2283 y Fv(saf)7 b(e)1371 2271 y
Fx(=)83 b Fw(f)p Fy(k)s Fw(j)p Fy(k)25 b Fw(2)f Fy(C)j
FM(and)19 b FE(righ)m(ts)p Fx(\()p Fy(k)s Fx(\))k Fw(\022)g(f)p
FE(wk)e(ind)o Fy(;)14 b FE(wk)21 b(acc)r Fw(gg)1069 2421
y Fy(C)1128 2433 y Fv(holes)1371 2421 y Fx(=)83 b Fy(C)25
b Fw(\000)18 b Fy(C)1745 2433 y Fv(saf)7 b(e)337 2576
y FM(A)21 b(system)g(is)g(con\002ned)d(if)j(and)f(only)f(if)h
Fy(C)1563 2588 y Fv(holes)1747 2576 y Fw(\022)i Fy(C)1893
2588 y Fv(auth)2037 2576 y FM(.)462 2726 y(Gi)n(v)o(en)h(that)g(the)h
(access)g(rights)f(enforce)f(con\002nement)f(under)h(the)h(stated)h
(initial)g(conditions,)e(it)i(remains)f(to)h(sho)n(w)337
2875 y(that)18 b(the)f(operational)e(semantics)i(of)g(the)g(system)g
(satisfy)h(the)f(requirements)e(of)i(the)g(access)h(rights.)23
b(The)17 b(goal)g(is)h(to)f(sho)n(w)337 3025 y(that)j(if)g(the)g
(initial)g(capabilities)g(of)f(a)h(process)g(are)g(con\002ned,)e(no)h
(subsequent)f(e)o(x)o(ecution)g(can)h(violate)h(the)g(con\002nement)337
3174 y(boundary)-5 b(.)462 3323 y(T)e(o)20 b(do)f(this,)h(we)g(must)g
(de\002ne)f(tw)o(o)h(relations)f Fy(mutated)p Fx(\()p
Fw(\001)p Fx(\))h FM(and)f Fy(accessed)p Fx(\()p Fw(\001)p
Fx(\))p FM(,)g(which)g(describe)g(the)h(resources)e(that)337
3473 y(are)h(actually)f(modi\002ed)f(\(resp.)24 b(read\))18
b(by)g(processes)g(proceeding)e(by)j(all)g(possible)f(stepwise)h(e)o(x)
o(ecutions)e(from)g(the)i(start)337 3622 y(condition.)k(These)d(are)f
(inducti)n(v)o(ely)f(de\002ned)g(based)i(on)f(the)g(operational)f
(semantics)i(of)f FI(SW)p FM(.)h(W)-7 b(e)20 b(must)g(then)f(sho)n(w)g
(that)337 3772 y(the)25 b(dynamic)d(beha)n(vior)h(satis\002es)i(the)f
(constraints)g(of)f(the)i(conserv)n(ati)n(v)o(e)c(analysis.)37
b(That)24 b(is,)i(we)e(must)g(sho)n(w)g(that)g(for)337
3921 y(all)d(sets)h Fy(C)27 b FM(of)20 b(capabilities:)1562
4116 y Fy(mutated)p Fx(\()p Fy(C)6 b Fx(\))23 b Fw(\022)f
Fy(mutabl)r(e)p Fx(\()p Fy(C)6 b Fx(\))1538 4291 y Fy(accessed)p
Fx(\()p Fy(C)g Fx(\))23 b Fw(\022)g Fy(r)r(eadabl)r(e)p
Fx(\()p Fy(C)6 b Fx(\))462 4486 y FM(Since)29 b(both)e
Fy(mutabl)r(e)p Fx(\()p Fw(\001)p Fx(\))h FM(and)g Fy(mutated)p
Fx(\()p Fw(\001)p Fx(\))h FM(are)g(empty)e(for)h(the)h(initially)g
(con\002ned)e(capabilities,)j(the)e(required)337 4635
y(conditions)19 b(can)h(be)g(simpli\002ed)g(to:)1487
4830 y Fx(\()p Fy(mutated)p Fx(\()p Fy(C)1917 4842 y
Fv(auth)2060 4830 y Fx(\))j Fw(\032)g Fy(mutabl)r(e)p
Fx(\()p Fy(C)2591 4842 y Fv(auth)2733 4830 y Fx(\))1306
5005 y(\()p Fy(accessed)p Fx(\()p Fy(C)1744 5017 y Fv(outside)1966
5005 y Fx(\))h Fw(\032)e Fy(r)r(eadabl)r(e)p Fx(\()p
Fy(C)2511 5017 y Fv(outside)2733 5005 y Fx(\))2077 5410
y FM(87)p eop
%%Page: 88 104
88 103 bop 37 108 a Fz(6.3)119 b(V)-12 b(eri\002cation)37
596 y FM(T)-7 b(o)24 b(state)h(the)e(ER)m(OS)h(security)f(requirements)
f(we)i(must)f(be)h(able)f(to)h(determine)e(the)i(set)g(of)f(entities)h
(that)g(a)g(gi)n(v)o(en)e(sub-)37 746 y(system)k(has)g(mutated)f
(during)e(the)j(course)f(of)g(an)g(e)o(x)o(ecution.)39
b(Similarly)-5 b(,)26 b(we)g(ha)n(v)o(e)f(to)h(de\002ne)f(the)g
(entities)h(a)g(subsys-)37 895 y(tem)h(has)f(read)g(from.)42
b(W)-7 b(e)27 b(de\002ne)f(a)h(function)d FE(m)m(utated)t
Fx(\()p Fw(\001)p Fx(\))j FM(\(De\002nition)f(6.4\))f(with)h(the)g
(intended)f(meaning)g(that)h(if)37 1044 y Fy(S)88 1056
y Fs(0)179 997 y Fv(\013)222 1005 y Fc(1)150 1044 y Fw(\000)-15
b(!)24 b Fy(S)358 1056 y Fs(1)449 997 y Fv(\013)492 1005
y Fc(2)420 1044 y Fw(\000)-16 b(!)25 b Fy(:)14 b(:)g(:)g(S)739
1056 y Fv(n)806 1044 y FM(is)22 b(an)f(e)o(x)o(ecution,)e(and)h
Fy(E)30 b Fw(\022)24 b FE(Ob)5 b(ject)q FM(,)21 b(then)g
FE(m)m(utated)2504 1056 y Fv(E)2560 1044 y Fx(\()p Fy(S)2643
1056 y Fs(0)2695 1044 y Fy(:)14 b(:)g(:)f(S)2856 1056
y Fv(n)2901 1044 y Fx(\))22 b FM(is)g(the)f(set)h(of)f(entities)37
1194 y(that)g(ha)n(v)o(e)e(been)h(af)n(fected)f(by)h(the)g(entities)g
Fy(E)26 b FM(in)21 b(the)f(e)o(x)o(ecution.)37 1551 y
FJ(De\002nition)h(6.4)e(\(The)i FE(m)m(utated)p Fx(\()p
Fw(\001)p Fx(\))g FJ(r)o(elation\):)37 1701 y FI(If)g
Fy(S)160 1713 y Fs(0)249 1647 y(\()p Fv(p)309 1655 y
Fc(1)341 1647 y Fv(;\013)404 1655 y Fc(1)436 1647 y Fs(\))220
1701 y Fw(\000)-17 b(\000)e(\000)g(\000)i(!)23 b Fy(:)14
b(:)g(:)f(S)675 1713 y Fv(n)741 1701 y FI(is)21 b(an)f(e)n(xecution,)f
Fy(E)28 b Fw(\022)23 b Fy(S)1507 1713 y Fs(0)1544 1665
y Fj(existed)1779 1701 y FI(,)d(and)g Fy(e)2005 1713
y Fv(i)2055 1701 y Fx(=)j Fy(S)2194 1713 y Fs(0)2282
1647 y(\()p Fv(p)2342 1655 y Fc(1)2375 1647 y Fv(;\013)2438
1655 y Fc(1)2470 1647 y Fs(\))2254 1701 y Fw(\000)-17
b(\000)e(\000)g(\000)h(!)23 b Fy(:)14 b(:)g(:)g(S)2709
1713 y Fv(i)2757 1701 y FI(ar)m(e)21 b(sube)n(xecutions,)d(then)653
2180 y FE(m)m(utated)1000 2192 y Fv(E)1056 2180 y Fx(\()p
Fy(S)1139 2192 y Fs(0)1177 2180 y Fx(\))83 b(=)f Fy(E)665
2330 y FE(m)m(utated)1012 2342 y Fv(E)1068 2330 y Fx(\()p
Fy(e)1139 2342 y Fs(1)1177 2330 y Fx(\))h(=)f Fy(E)1439
2575 y Fw([)1508 2380 y Ff(8)1508 2454 y(>)1508 2479
y(<)1508 2629 y(>)1508 2654 y(:)1582 2500 y Fy(p)h FI(if)21
b Fy(E)j Fw(\\)18 b FE(readfrom)p Fx(\()p Fy(\013)p Fx(\))24
b Fw(6)p Fx(=)e Fw(;)1582 2679 y(;)83 b FI(otherwise)1439
2933 y Fw([)1508 2738 y Ff(8)1508 2813 y(>)1508 2838
y(<)1508 2987 y(>)1508 3012 y(:)1582 2859 y FE(wroteto)p
Fx(\()p Fy(\013)p Fx(\))h FI(if)21 b Fy(p)i Fw(2)g Fy(E)1582
3038 y Fw(;)481 b FI(otherwise)657 3198 y FE(m)m(utated)1004
3210 y Fv(E)1060 3198 y Fx(\()p Fy(e)1131 3210 y Fv(n)1177
3198 y Fx(\))83 b(=)f FE(m)m(utated)1787 3213 y Fj(m)n(utated)2060
3221 y Fb(E)2108 3213 y Fs(\()p Fv(e)2165 3221 y Fb(n)p
Fd(\000)p Fc(1)2280 3213 y Fs(\))2310 3198 y Fx(\()p
Fy(S)2393 3210 y Fv(n)p Fi(\000)p Fs(1)2575 3144 y(\()p
Fv(p)2635 3152 y Fb(n)2676 3144 y Fv(;\013)2739 3152
y Fb(n)2779 3144 y Fs(\))2546 3198 y Fw(\000)-32 b(\000)-18
b(\000)f(\000)g(\000)-33 b(!)24 b Fy(S)2908 3210 y Fv(n)2953
3198 y Fx(\))37 3663 y FI(The)d(de\002nitions)d(of)j
FE(readfrom)o Fx(\()p Fy(\013)p Fx(\))h FI(and)d FE(wroteto)p
Fx(\()p Fy(\013)p Fx(\))j FI(ar)m(e)e(given)g(in)g(De\002nition)f(6.5.)
162 4020 y FM(Intuiti)n(v)o(ely)-5 b(,)26 b(we)h(treat)g(mutation)e(as)
i(a)g(form)f(of)g(\223contagion\224)f(that)h(propagates)f(through)f
(the)j(system.)44 b(If)27 b(we)g(are)37 4170 y(concerned)19
b(with)i(the)g(subsystem)f Fy(E)29 b Fw(\022)23 b FE(Ob)5
b(ject)q FM(,)21 b(then)f(initially)h(just)g(the)g(members)f(of)g
Fy(E)26 b FM(are)21 b(mutated.)26 b(Ho)n(we)n(v)o(er)m(,)18
b(if)37 4319 y(an)o(y)j(mutated)g(entity)h(modi\002es)f(another)f
(resource)g(\(such)i(as)g(by)f(calling)g(it\),)i(then)e(the)h(other)e
(entity)i(becomes)f(mutated)37 4469 y(itself.)26 b(Also,)20
b(if)h(a)f(resource)f(happens)g(to)h(read)g(information)e(from)h(a)i
(mutated)e(resource,)f(the)j(reader)e(is)i(mutated.)j(Once)37
4618 y(mutated,)c(a)g(resource)f(is)i(fore)n(v)o(er)d(mutated.)24
b(Mutation)19 b FI(is)j FM(information)17 b(\003o)n(w)-5
b(.)162 4901 y(W)e(e)19 b(use)f(the)g(auxiliary)f(de\002nitions)g(for)g
FE(wroteto)p Fx(\()p Fw(\001)p Fx(\))i FM(and)f FE(readfrom)o
Fx(\()p Fw(\001)p Fx(\))h FM(which)e(for)h(each)f(action)h(indicate)f
(which)37 5050 y(resources)22 b(the)h(e)o(x)o(ecuting)e(process)i
(could)f(ha)n(v)o(e)g(af)n(fected)g(or)g(been)h(af)n(fected)e(by)-5
b(,)23 b(respecti)n(v)o(ely)-5 b(.)31 b(Their)23 b(de\002nitions)f(are)
37 5200 y(gi)n(v)o(en)d(in)i(De\002nition)e(6.5.)1777
5410 y(88)p eop
%%Page: 89 105
89 104 bop 337 108 a FJ(De\002nition)21 b(6.5)e(\(The)i(Readfr)o(om)e
(and)i(Wr)o(oteto)d(Relations\):)1095 344 y Fy(\013)589
b FE(readfrom)p Fx(\()p Fy(\013)p Fx(\))248 b FE(wroteto)p
Fx(\()p Fy(\013)p Fx(\))p 1054 392 2131 4 v 1054 409
V 1095 513 a FE(refstart)q Fx(\()p Fy(p)p Fx(\))226 b
Fw(f)p FE(target)p Fx(\()p Fy(p)p Fx(\))p Fw(g)303 b(\000)1095
663 y FE(rdw)m(alk)q Fx(\()p Fy(p;)14 b(k)s Fx(\))171
b Fw(f)p FE(target)p Fx(\()p Fy(S)2118 632 y Fj(ref)2218
663 y Fx(\()p Fy(p)p Fx(\)\))p Fw(g)83 b(\000)1095 812
y FE(wrw)m(alk)q Fx(\()p Fy(p;)14 b(k)s Fx(\))155 b Fw(f)p
FE(target)p Fx(\()p Fy(S)2118 782 y Fj(ref)2218 812 y
Fx(\()p Fy(p)p Fx(\)\))p Fw(g)83 b(\000)1095 961 y FE(execw)m(alk)q
Fx(\()p Fy(p;)14 b(k)s Fx(\))83 b Fw(f)p FE(target)p
Fx(\()p Fy(S)2118 931 y Fj(ref)2218 961 y Fx(\()p Fy(p)p
Fx(\)\))p Fw(g)g(\000)1095 1111 y FE(read)q Fx(\()p Fy(p)p
Fx(\))353 b Fw(f)p FE(target)p Fx(\()p Fy(S)2118 1081
y Fj(ref)2218 1111 y Fx(\()p Fy(p)p Fx(\)\))p Fw(g)83
b(f)p FE(target)p Fx(\()p Fy(p)p Fx(\))p Fw(g)1095 1260
y FE(write)p Fx(\()p Fy(p)p Fx(\))320 b Fw(f)p FE(target)p
Fx(\()p Fy(p)p Fx(\))p Fw(g)303 b(f)p FE(target)p Fx(\()p
Fy(S)2862 1230 y Fj(ref)2962 1260 y Fx(\()p Fy(p)p Fx(\)\))p
Fw(g)1095 1410 y FE(fetc)m(h)q Fx(\()p Fy(p;)14 b(k)s
Fx(\))250 b Fw(f)p FE(target)p Fx(\()p Fy(S)2118 1380
y Fj(ref)2218 1410 y Fx(\()p Fy(p)p Fx(\)\))p Fw(g)83
b(f)p FE(target)p Fx(\()p Fy(p)p Fx(\))p Fw(g)1095 1559
y FE(store)p Fx(\()p Fy(p;)14 b(k)s Fx(\))247 b Fw(f)p
FE(target)p Fx(\()p Fy(p)p Fx(\))p Fw(g)303 b(f)p FE(target)p
Fx(\()p Fy(S)2862 1529 y Fj(ref)2962 1559 y Fx(\()p Fy(p)p
Fx(\)\))p Fw(g)1095 1709 y FE(remo)m(v)m(e)o Fx(\()p
Fy(p;)14 b(k)s Fx(\))154 b Fw(f)p FE(target)p Fx(\()p
Fy(p)p Fx(\))p Fw(g)303 b(f)p FE(target)p Fx(\()p Fy(S)2862
1678 y Fj(ref)2962 1709 y Fx(\()p Fy(p)p Fx(\)\))p Fw(g)1095
1858 y FE(send)p Fx(\()p Fy(p;)14 b(a)p Fx(\))267 b Fw(f)p
FE(target)p Fx(\()p Fy(p)p Fx(\))p Fw(g)303 b(f)p FE(target)p
Fx(\()p Fy(S)2862 1828 y Fj(ref)2962 1858 y Fx(\()p Fy(p)p
Fx(\)\))p Fw(g)1095 2008 y FE(call)p Fx(\()p Fy(p;)14
b(a)p Fx(\))313 b Fw(f)p FE(target)p Fx(\()p Fy(p)p Fx(\))p
Fw(g)303 b(f)p FE(target)p Fx(\()p Fy(S)2862 1977 y Fj(ref)2962
2008 y Fx(\()p Fy(p)p Fx(\)\))p Fw(g)1095 2157 y FE(return)q
Fx(\()p Fy(p;)14 b(a)p Fx(\))189 b Fw(f)p FE(target)p
Fx(\()p Fy(p)p Fx(\))p Fw(g)303 b(f)p FE(target)p Fx(\()p
Fy(S)2862 2127 y Fj(ref)2962 2157 y Fx(\()p Fy(p)p Fx(\)\))p
Fw(g)1095 2306 y FE(create)q Fx(\()p Fy(p;)14 b(a)p Fx(\))202
b Fw(f)p FE(target)p Fx(\()p Fy(p)p Fx(\))p Fw(g)303
b(\000)1095 2456 y FE(destro)m(y)r Fx(\()p Fy(p)p Fx(\))228
b Fw(f)p FE(target)p Fx(\()p Fy(p)p Fx(\))p Fw(g)303
b(\000)462 2688 y FM(The)26 b(notion)f(of)h(a)g(subsystem)g(ha)n(ving)f
(read)g(the)h(v)n(alues)g(of)g(other)f(resources)h(can)f(be)h
(considered)f(the)h(in)m(v)o(erse)f(of)337 2837 y(mutation:)d(instead)
16 b(of)g(information)d(\003o)n(wing)i(out)h(from)f(the)h(subsystem)f
(in)h(question,)g(it)g(is)h(\003o)n(wing)e(inw)o(ard.)23
b(Therefore,)337 2987 y(we)g(de\002ne)f(the)g FE(read)i
FM(function)c(\(De\002nition)i(6.6\))f(in)h(terms)h(of)f
FE(m)m(utated)o FM(:)30 b(if)23 b Fy(x)g FM(mutated)f
Fy(y)s FM(,)h(then)e Fy(y)26 b FM(must)c(ha)n(v)o(e)g(read)337
3136 y(from)e Fy(x)p FM(.)337 3374 y FJ(De\002nition)h(6.6)e(\(The)i
FE(read)g FJ(Function\):)337 3523 y FI(If)g Fy(e)f FI(is)i(an)d(e)n
(xecution)h(of)g(a)g(system)h(whose)g(initial)f(state)g(is)h
Fy(S)2127 3535 y Fs(0)2165 3523 y FI(,)f(and)f Fy(E)29
b Fw(\022)22 b Fy(S)2579 3535 y Fs(0)2616 3487 y Fj(existed)2851
3523 y FI(,)e(then)1380 3782 y FE(read)1563 3794 y Fv(E)1619
3782 y Fx(\()p Fy(e)p Fx(\))j(=)g Fw(f)p Fy(x)p Fw(j)p
FE(m)m(utated)2292 3797 y Fi(f)p Fv(x)p Fi(g)2402 3782
y Fx(\()p Fy(e)p Fx(\))c Fw(\\)g Fy(E)28 b Fw(6)p Fx(=)22
b Fw(;g)337 4150 y FG(6.3.1)99 b(Access)25 b(Contr)n(ol)337
4380 y FM(The)h(ER)m(OS)h(capability)f(system)g(de\002nes)g(a)h
(particular)e(access)i(control)e(mechanism.)42 b(This)27
b(mechanism)e(determines)337 4529 y(what)e(information)e(\003o)n(w)h
(is)i(possible)f(between)e(system)i(resources.)32 b(In)22
b(this)i(section)e(we)h(formalize)f(this)h(mechanism,)337
4679 y(so)e(that)f(later)h(we)f(can)g(v)o(erify:)410
4871 y Fw(\017)41 b FM(that)20 b(these)g(mechanisms)g(correspond)d(to)k
(the)f(actual)g(beha)n(vior)e(of)i(the)g(system,)h(and)410
5050 y Fw(\017)41 b FM(that)16 b(the)g(algorithms)f(used)g(by)h(the)g
(system)g(services)g(are)g(correct)f(with)h(respect)g(to)g(the)g
(access)g(control)f(mechanism,)493 5200 y(in)20 b(that)g(the)o(y)g
(enforce)f(the)h(con\002nement)e(polic)o(y)-5 b(.)2077
5410 y(89)p eop
%%Page: 90 106
90 105 bop 37 108 a FM(W)-7 b(e)32 b(are)f(particularly)d(interested)i
(in)h(deri)n(ving)e(meaningful,)h(conserv)n(ati)n(v)o(e)e
(approximations)g(of)i(the)h(set)g(of)f(entities)37 257
y(that)f(a)g(gi)n(v)o(en)e(subsystem)h(might)f(be)i(able)f(to)h(mutate)
f(and)f(the)i(set)g(of)f(entities)h(that)f(the)h(subsystem)f(might)f
(gain)h(in-)37 407 y(formation)c(about.)42 b(F)o(ormally)-5
b(,)25 b(if)h Fy(S)39 b Fw(2)34 b(S)6 b FM(,)28 b(and)d
Fy(E)39 b Fw(\022)33 b FE(Ob)5 b(ject)q FM(,)28 b(the)e(intended)e
(meaning)h(of)g FE(m)m(utable)3208 419 y Fv(S)3256 407
y Fx(\()p Fy(E)5 b Fx(\))27 b FM(\(resp.)37 556 y FE(readable)390
568 y Fv(S)438 556 y Fx(\()p Fy(E)5 b Fx(\))p FM(\))19
b(is)g(the)g(set)g(of)f(entities)h(that)f Fy(E)24 b FM(directly)18
b(or)g(indirectly)f(mutates)i(\(resp.)k(reads\))18 b(from)f(some)i(e)o
(x)o(ecution)37 705 y(be)o(ginning)i(with)i(state)g Fy(S)5
b FM(.)33 b(Note)23 b(that)g(the)g(mutable)e(and)i(readable)e
(functions)g(are)i(parameterized)e(by)h(a)h(single)g(state)g(\226)37
855 y(the)f(operating)e(system)h(has)h(to)g(be)f(able)h(to)g(mak)o(e)f
(these)g(judgments)f(based)i(only)e(on)h(the)h(current)e(system)i
(state,)g(unlik)o(e)37 1004 y(the)f(requirements)d(which)i(can)g(state)
g(what)h(happens)d(during)h(an)h(entire)g(e)o(x)o(ecution.)162
1154 y(The)32 b(weak)g(access)h(restriction,)i(while)d(essential)h(to)g
(the)f(architecture,)i(introduces)d(signi\002cant)h(complication.)37
1303 y(Intuiti)n(v)o(ely)-5 b(,)19 b(one)h(can)g(dra)o(w)g(a)h
(directed,)e(labeled)h(graph)f(sho)n(wing)g(the)i(relationship)e
(between)h(all)h(the)f(resources)g(in)h(the)37 1453 y(system.)28
b(Since)22 b(all)f(interactions)f(between)h(resources)f(occur)g(via)h
(capabilities,)g(and)f(capabilities)h(cannot)f(be)h(for)o(ged,)e(a)37
1602 y(graph)g(tra)n(v)o(ersal)f(can)i(be)f(done)f(to)i(compute)e
(whether)g(an)o(y)h(gi)n(v)o(en)f(resources)g(can)i(af)n(fect)f(each)g
(other)-5 b(.)24 b(This)19 b(is)i(similar)e(to)37 1751
y(a)i(transiti)n(v)o(e)f(closure,)f(with)h(the)g(follo)n(wing)f(added)g
(comple)o(xities:)110 1916 y Fw(\017)41 b FM(The)20 b(resource)f
(relationships)g(are)h(restricted)f(by)h(capability)f(rights.)110
2080 y Fw(\017)41 b FM(W)-7 b(eak)20 b(capabilities)g(modify)f(the)h
(attrib)n(utes)g(of)g(the)g(capabilities)g(that)h(are)f(fetched)f
(through)f(them.)110 2245 y Fw(\017)41 b FM(Some)20 b(capabilities)g
(result)g(in)g(tw)o(o-w)o(ay)g(interactions)f(between)g(resources,)g
(while)h(others)g(are)g(one-w)o(ay)-5 b(.)162 2409 y(W)e(e)33
b(will)f(represent)f(the)h(relationship)e(between)h(tw)o(o)h(resources)
f(as)i(an)e(element)h(in)f(a)i(complete)d(partial)i(order)37
2559 y(\(De\002nition)e(6.7\).)56 b(This)31 b(partial)g(order)e(is)j
(complete)e(by)g(virtue)h(of)f(the)h(restriction)f(imposed)g(in)h
(Section)f(5.1.)57 b(As)37 2708 y(notation,)20 b(let)i
Fw(>)i Fx(=)h Fw(;)f(2)h FE(Righ)m(t)1016 2728 y Fi(?)1072
2708 y FM(.)j(If)21 b Fy(A)k Fw(\022)f FE(Righ)m(t)1608
2728 y Fi(?)1664 2708 y FM(,)d(let)h(the)f(least)h(upper)e(bound)f(of)i
Fy(A)p FM(,)h FE(lub)p Fx(\()p Fy(A)p Fx(\))p FM(,)g(be)f(de\002ned)f
(in)i(the)37 2858 y(usual)f(manner)-5 b(.)37 3082 y FJ(De\002nition)21
b(6.7)e(\(The)i(complete)f(partial)g(order)g(of)g(access)g(rights\):)37
3231 y FI(Let)h FE(Righ)m(t)398 3252 y Fi(?)475 3231
y FI(be)f(the)g(cpo)g(wher)m(e)g FE(Righ)m(t)1290 3252
y Fi(?)1370 3231 y Fx(=)i FE(Righ)m(t)c Fw([)h(f?g)g
FI(and)g Fw(\024)i FI(is)g(de\002ned)d(by)1615 3456 y
Fw(?)k(\024)h Fy(x)84 b Fw(8)p Fy(x)22 b Fw(2)i FE(Righ)m(t)2349
3476 y Fi(?)1208 3630 y Fy(x)f Fw(\023)g Fy(y)49 b Fx(=)-14
b Fw(\))46 b Fy(x)23 b Fw(\024)g Fy(y)86 b Fw(8)p Fy(x;)14
b(y)25 b Fw(2)e FE(Righ)m(t)162 3855 y FM(The)h(access)h(relationship)f
(from)f Fy(x)1204 3867 y Fs(1)1267 3855 y FM(to)i Fy(x)1404
3867 y Fs(2)1467 3855 y FM(is)g(the)g(least)g(upper)e(bound)g(of)h(the)
h(attrib)n(utes)f(of)h(the)f(capabilities)g(that)37 4004
y Fy(x)84 4016 y Fs(1)146 4004 y FM(might)e(be)h(able)g(to)g(obtain)f
(to)h Fy(x)1081 4016 y Fs(2)1119 4004 y FM(.)34 b(This)23
b(relationship)f(is)i FI(not)g FM(symmetric.)32 b(This)23
b(representation)e(relies)j(on)e(the)h(f)o(act)37 4154
y(that)29 b(if)g Fy(k)314 4166 y Fs(1)381 4154 y FM(and)f
Fy(k)573 4166 y Fs(2)639 4154 y FM(are)h(capabilities)f(which)g(are)h
(identical)f(e)o(xcept)f(for)h(possibly)g(ha)n(ving)g(dif)n(ferent)f
(attrib)n(utes,)j(then)37 4303 y FE(righ)m(ts)p Fx(\()p
Fy(k)351 4315 y Fs(1)389 4303 y Fx(\))24 b Fw(\024)g
FE(righ)m(ts)p Fx(\()p Fy(k)848 4315 y Fs(2)886 4303
y Fx(\))d FM(means)g(that)g(an)o(y)f(operation)f(that)h(can)h(be)g
(performed)d(using)i Fy(k)2787 4315 y Fs(1)2846 4303
y FM(can)h(also)g(be)f(done)g(using)37 4452 y Fy(k)80
4464 y Fs(2)118 4452 y FM(.)162 4602 y(W)-7 b(e)30 b(\002rst)g
(de\002ne)f(the)g FI(dir)m(ect)g(access)g(r)m(elation)g
FM(\(De\002nition)e(6.8\))h(between)h(resources,)h(which)e(describes)h
(the)g(re-)37 4751 y(lationship)c(between)g(resources)g(in)h(a)g
(particular)e(state.)42 b(Using)26 b(this,)h(we)f(will)h(de\002ne)e
(the)h FI(potential)e(access)i(r)m(elation)37 4901 y
FM(which)20 b(de\002nes)g(the)g(relationships)f(that)i(might)e(e)o
(xist)i(in)f(the)g(future.)162 5050 y(There)31 b(are)g(tw)o(o)g
(oddities)g(in)h(the)f(de\002nition)f(of)h FE(DirAcc)1948
5062 y Fv(S)1996 5050 y FM(.)59 b(First,)35 b(if)c Fy(n)44
b Fw(2)g FE(Ob)5 b(ject)32 b FM(has)g(a)f(start)h(or)f(resume)37
5200 y(capability)18 b Fy(k)s FM(,)h(then)f Fy(n)h FM(is)g(related)f
(to)h FE(target)p Fx(\()p Fy(k)s Fx(\))p FM(,)h(despite)e(the)g(f)o
(act)h(that)f(only)g(a)h(process)f(can)g(in)m(v)n(ok)o(e)f(such)h(a)h
(capability)-5 b(.)1777 5410 y(90)p eop
%%Page: 91 107
91 106 bop 337 108 a FM(Second,)21 b(this)h(relationship)e(is)i
(symmetric:)27 b FE(target)q Fx(\()p Fy(k)s Fx(\))22
b FM(is)g(also)g(related)f(to)h Fy(n)p FM(.)29 b(The)21
b(intuition)f(behind)g(this)i(is)g(that)g(if)g Fy(x)337
257 y FM(is)h(related)d(to)i Fy(y)s FM(,)f(then)g(an)o(y)f(process)h
(that)h(has)f(access)h(to)f Fy(x)i FM(can)e(obtain)f(access)i(of)f(the)
g(appropriate)e(kind)h(to)i Fy(y)s FM(.)28 b(If)21 b
Fy(x)h FM(has)337 407 y(a)f(start)g(\(or)e(resume\))g(capability)h(to)g
Fy(y)s FM(,)g(then)g(a)g(process)g(that)g(can)g(access)h
Fy(x)g FM(might)e FI(call)i FM(that)f(capability)-5 b(,)19
b(lea)n(ving)g Fy(y)k FM(with)337 556 y(a)h(resume)f(capability)g(back)
f(to)i(that)g(process.)34 b(Thus,)24 b(a)g(start)g(or)f(resume)g
(capability)f(means)h(that)h(there)f(is)h(an)g(implicit)337
705 y(backw)o(ards)19 b(relationship)g(from)g Fy(y)24
b FM(to)c Fy(x)p FM(.)337 966 y FJ(De\002nition)h(6.8)e(\(De\002nition)
h(of)g FE(DirAcc)1618 978 y Fv(S)1667 966 y FJ(\):)337
1116 y FI(If)h Fy(S)28 b Fw(2)23 b(S)6 b FI(,)21 b(then)f(we)h
(de\002ne)e FE(DirAcc)1456 1128 y Fv(S)1527 1116 y Fx(:)k
FE(Ob)5 b(ject)19 b Fw(\002)f FE(Ob)5 b(ject)24 b Fw(!)f
FE(Righ)m(t)2602 1136 y Fi(?)2679 1116 y FI(by)1296 1422
y FE(DirAcc)1592 1434 y Fv(S)1640 1422 y Fx(\()p Fy(x;)14
b(y)s Fx(\))24 b(=)e FE(lub)p Fx(\()p Fw(f)p Fy(a)p Fw(j)p
Fx(\()p Fy(x;)14 b(y)s(;)g(a)p Fx(\))23 b Fw(2)g FE(D)m(ASet)q
Fw(g)p Fx(\))337 1728 y FI(wher)m(e)741 1999 y FE(D)m(ASet)h
Fx(=)221 b Fw(f)p Fx(\()p Fy(c;)14 b FE(target)p Fx(\()p
Fy(k)s Fx(\))p Fy(;)g FE(righ)m(ts)p Fx(\()p Fy(k)s Fx(\)\))83
b Fw(j)p Fy(c)23 b Fw(2)h FF(Object)o Fy(;)14 b(k)26
b Fw(2)d Fy(S)2958 1969 y Fj(caps)3104 1999 y Fx(\()p
Fy(c)p Fx(\))p Fw(g)1188 2148 y([)84 b(f)p Fx(\()p FE(target)p
Fx(\()p Fy(k)s Fx(\))p Fy(;)14 b(c;)g Fw(>)p Fx(\))367
b Fw(j)p Fy(c)23 b Fw(2)h FF(Object)o Fy(;)14 b(k)26
b Fw(2)d Fy(S)2958 2118 y Fj(caps)3104 2148 y Fy(;)2336
2298 y(k)j Fw(2)e FE(StartCap)c Fw([)e FE(ResumeCap)n
Fw(g)462 2602 y FM(W)-7 b(e)21 b(construct)d FE(P)m(otAcc)1220
2614 y Fv(S)1288 2602 y FM(\(De\002nition)g(6.9\))h(by)g(using)g(e)n(v)
o(ery)f(capability)g(indicated)g(in)i FE(DirAcc)3380
2614 y Fv(S)3448 2602 y FM(to)g(fetch)f(e)n(v)o(ery)337
2751 y(possible)h(capability)g(from)f FE(DirAcc)1457
2763 y Fv(S)1505 2751 y FM(,)h(obtaining)f(a)h(ne)n(w)-5
b(,)20 b(stronger)f(relationship,)f(and)i(then)g(repeating.)337
3012 y FJ(De\002nition)h(6.9)e(\(De\002nition)h(of)g
FE(P)m(otAcc)1627 3024 y Fv(S)1675 3012 y FJ(\):)337
3162 y FI(If)h Fy(S)28 b Fw(2)23 b(S)6 b FI(,)21 b(then)f(the)g
(potential)f(access)h(r)m(elation,)g FE(P)m(otAcc)2109
3174 y Fv(S)2178 3162 y FI(is)h(the)g(limit)g(of)f(the)g(series)i
Fy(T)3021 3174 y Fs(0)3057 3162 y Fy(;)14 b(T)3143 3174
y Fs(1)3180 3162 y Fy(;)g(T)3266 3174 y Fs(2)3303 3162
y Fy(;)g(:)g(:)g(:)34 b FI(wher)m(e)1651 3468 y Fy(T)1700
3480 y Fs(0)1760 3468 y Fx(=)23 b FE(DirAcc)2144 3480
y Fv(S)1127 3642 y Fw(8)p Fy(x;)14 b(y)85 b(T)1433 3654
y Fv(i)p Fs(+1)1544 3642 y Fx(\()p Fy(x;)14 b(y)s Fx(\))24
b(=)f FE(lub)o Fx(\()p Fw(f)p Fy(T)2103 3654 y Fv(i)2130
3642 y Fx(\()p Fy(x;)14 b(y)s Fx(\))p Fy(;)g FE(com)m(bine)o
Fx(\()p Fy(T)2784 3654 y Fv(i)2812 3642 y Fx(\)\()p Fy(x;)g(y)s
Fx(\))p Fw(g)p Fx(\))337 4122 y FI(If)21 b Fy(A)g FI(is)g(a)f
FM(SW)i FI(r)m(esour)m(ce)e(r)m(elationship,)f(then)g
FE(com)m(bine)o Fx(\()p Fy(A)p Fx(\))24 b(:)f FE(Ob)5
b(ject)19 b Fw(\002)f FE(Ob)5 b(ject)23 b Fw(!)g FE(Righ)m(t)3253
4143 y Fi(?)3330 4122 y FI(is)e(de\002ned)d(to)j(be:)693
4428 y FE(com)m(bine)n Fx(\()p Fy(A)p Fx(\)\()p Fy(x;)14
b(z)t Fx(\))24 b(=)f FE(lub)p Fx(\()p Fw(f)p Fy(a)p Fw(j9)p
Fy(y)i Fw(2)f FE(Ob)5 b(ject)21 b FI(suc)o(h)f(that)g
Fy(a)j Fx(=)f FE(transAccess)q Fx(\()p Fy(x;)14 b(y)s(;)g(z)t
Fx(\))p Fw(g)p Fx(\))337 4734 y FI(wher)m(e)992 5005
y FE(transAccess)p Fx(\()p Fy(x;)g(y)s(;)g(z)t Fx(\))23
b(=)83 b FE(lub)o Fx(\()p Fw(f)p Fy(a)p Fw(j9)p Fy(r)r(y)27
b Fw(2)c Fy(A)p Fx(\()p Fy(x;)14 b(y)s Fx(\))p Fy(;)g(r)r(z)28
b Fw(2)23 b Fy(A)p Fx(\()p Fy(y)s(;)14 b(z)t Fx(\))1944
5155 y FI(suc)o(h)20 b(that)g Fy(a)j Fx(=)g FE(transRigh)m(ts)o
Fx(\()p Fy(r)r(y)s(;)14 b(r)r(z)t Fx(\))p Fw(g)p Fx(\))2077
5410 y FM(91)p eop
%%Page: 92 108
92 107 bop 37 108 a FI(and)338 1169 y FE(transRigh)m(ts)p
Fx(\()p Fy(r)r Fx(1)p Fy(;)14 b(r)r Fx(2\))24 b(=)1198
177 y Ff(8)1198 252 y(>)1198 276 y(>)1198 301 y(>)1198
326 y(>)1198 351 y(>)1198 376 y(>)1198 401 y(>)1198 426
y(>)1198 451 y(>)1198 476 y(>)1198 501 y(>)1198 526 y(>)1198
550 y(>)1198 575 y(>)1198 600 y(>)1198 625 y(>)1198 650
y(>)1198 675 y(>)1198 700 y(>)1198 725 y(>)1198 750 y(>)1198
775 y(>)1198 800 y(>)1198 824 y(>)1198 849 y(>)1198 874
y(>)1198 899 y(>)1198 924 y(>)1198 949 y(>)1198 974 y(>)1198
999 y(>)1198 1024 y(>)1198 1049 y(>)1198 1074 y(<)1198
1223 y(>)1198 1248 y(>)1198 1273 y(>)1198 1298 y(>)1198
1323 y(>)1198 1347 y(>)1198 1372 y(>)1198 1397 y(>)1198
1422 y(>)1198 1447 y(>)1198 1472 y(>)1198 1497 y(>)1198
1522 y(>)1198 1547 y(>)1198 1572 y(>)1198 1597 y(>)1198
1621 y(>)1198 1646 y(>)1198 1671 y(>)1198 1696 y(>)1198
1721 y(>)1198 1746 y(>)1198 1771 y(>)1198 1796 y(>)1198
1821 y(>)1198 1846 y(>)1198 1871 y(>)1198 1895 y(>)1198
1920 y(>)1198 1945 y(>)1198 1970 y(>)1198 1995 y(>)1198
2020 y(>)1198 2045 y(:)1271 287 y Fw(f)p Fy(r)r Fx(2)p
Fw(g)295 b FI(if)21 b Fy(r)r Fx(1)i(=)g FE(wk)e(ind)f
FI(and)g Fy(r)r Fx(2)j Fw(2)g(f)p FE(wk)e(ind)p Fy(;)14
b FE(wk)21 b(acc)q Fw(g)1271 467 y(f)p Fy(r)r Fx(2)p
Fw(g)295 b FI(if)21 b Fy(r)r Fx(1)i(=)g FE(rd)e(ind)f
FI(and)g Fy(r)r Fx(2)j Fw(2)g(f)p FE(rd)e(ind)p Fy(;)14
b FE(rd)21 b(acc)q Fw(g)1271 646 y(f)p Fy(r)r Fx(2)p
Fw(g)295 b FI(if)21 b Fy(r)r Fx(1)i(=)g FE(wr)e(ind)f
FI(and)g Fy(r)r Fx(2)j Fw(2)g(f)p FE(wr)e(ind)o Fy(;)14
b FE(wr)21 b(acc)r Fw(g)1271 825 y(f)p Fy(r)r Fx(2)p
Fw(g)295 b FI(if)21 b Fy(r)r Fx(1)i(=)g FE(exec)e(ind)1731
1005 y FI(and)e Fy(r)r Fx(2)24 b Fw(2)f(f)p FE(exec)e(ind)o
Fy(;)14 b FE(exec)21 b(acc)q Fw(g)1271 1184 y(f)p Fy(r)r
Fx(2)p Fw(g)295 b FI(if)21 b Fy(r)r Fx(1)i Fw(2)h(f)p
FE(rd)c(acc)r Fy(;)14 b FE(exec)21 b(acc)q Fw(g)1271
1363 y(f)p FE(wk)g(ind)p Fw(g)103 b FI(if)21 b Fy(r)r
Fx(1)i(=)g FE(wk)e(ind)f FI(and)g Fy(r)r Fx(2)j(=)g FE(rd)e(ind)1271
1543 y Fw(f)p FE(wk)g(ind)p Fw(g)103 b FI(if)21 b Fy(r)r
Fx(1)i(=)g FE(rd)e(ind)f FI(and)g Fy(r)r Fx(2)j(=)g FE(wk)e(ind)1271
1722 y Fw(f)p FE(wk)g(acc)q Fw(g)105 b FI(if)21 b Fy(r)r
Fx(1)i(=)g FE(wk)e(ind)f FI(and)g Fy(r)r Fx(2)j(=)g FE(rd)e(acc)1271
1901 y Fw(f)p FE(wk)g(acc)q Fw(g)105 b FI(if)21 b Fy(r)r
Fx(1)i(=)g FE(rd)e(ind)f FI(and)g Fy(r)r Fx(2)j(=)g FE(wk)e(acc)1271
2081 y Fw(?)395 b FI(otherwise)162 2245 y(The)20 b(de\002nition)f(of)h
FE(P)m(otAcc)1032 2257 y Fv(S)1100 2245 y FI(is)i(well)f(de\002ned.)i
(That)d(is,)h(the)f(sequence)f Fy(T)2388 2257 y Fs(0)2425
2245 y Fy(;)14 b(T)2511 2257 y Fs(1)2548 2245 y Fy(;)g(:)g(:)g(:)34
b FI(con)m(ver)m(g)o(es.)162 2469 y FM(Finally)-5 b(,)19
b(with)i FE(P)m(otAcc)906 2481 y Fv(S)975 2469 y FM(we)g(can)f
(de\002ne)f FE(m)m(utable)h FM(and)g FE(readable)h FM(\(De\002nition)e
(6.10\).)37 2693 y FJ(De\002nition)i(6.10)e(\(The)i FE(m)m(utable)p
Fx(\()p Fw(\001)p Fx(\))f FJ(and)g FE(readable)p Fx(\()p
Fw(\001)p Fx(\))i FJ(r)o(elations\):)37 2842 y FI(If)f
Fy(S)28 b Fw(2)23 b(S)6 b FI(,)21 b(then)784 3037 y FE(m)m(utable)1121
3049 y Fv(S)1169 3037 y Fx(\()p Fy(E)5 b Fx(\))24 b(=)f
Fw(f)p Fy(y)s Fw(j9)p Fy(x)f Fw(2)i Fy(E)5 b(;)14 b FE(P)m(otAcc)2121
3049 y Fv(S)2169 3037 y Fx(\()p Fy(x;)g(y)s Fx(\))24
b Fw(\022)f(f)p FE(wk)d(acc)r Fw(gg)769 3211 y FE(readable)1121
3223 y Fv(S)1169 3211 y Fx(\()p Fy(E)5 b Fx(\))24 b(=)f
Fw(f)p Fy(x)p Fw(j)p Fy(E)g Fw(\\)c FE(m)m(utable)2018
3223 y Fv(S)2066 3211 y Fx(\()p Fw(f)p Fy(x)p Fw(g)p
Fx(\))k Fw(6)p Fx(=)g Fw(;g)37 3500 y FG(6.3.2)99 b(V)-10
b(eri\002cation)26 b(Pr)n(oof)37 3705 y FM(W)-7 b(e)31
b(can)d(no)n(w)h(state)g(the)g(major)g(theorem)e(\(Theorem)g(6.1\).)50
b(In)29 b(an)o(y)f(e)o(x)o(ecution)f(of)i(the)g(system,)i(an)o(ything)c
(that)i(w)o(as)37 3855 y(actually)d(mutated)f(or)g(read)h(by)f(a)h
(subsystem)g(w)o(as)g(considered)e(mutable)h(or)h(readable)f(by)g(the)h
(operating)e(system.)42 b(A)37 4004 y(subtle)31 b(point)e(no)n(w)h
(arises.)56 b(During)29 b(the)h(e)o(x)o(ecution)e(objects)i(and)g
(processes)g(may)g(ha)n(v)o(e)f(been)h(created.)54 b(Since)31
b(the)37 4154 y(operating)16 b(system)h(had)f(no)h(w)o(ay)g(of)f
(anticipating)g(such)h(creations,)f(it)i(couldn')o(t)d(ha)n(v)o(e)h
(stated)h(an)o(ything)e(about)h(the)h(ef)n(fects)37 4303
y(of)j(these)h(objects)f(and)f(processes.)162 4452 y(In)f(ER)m(OS,)g
(ne)n(w)g(objects)g(\(including)e(processes\))i(can)g(only)f(be)i
(created)e(by)h(e)o(xisting)f(processes)h(and)g(can)g(only)f(ha)n(v)o
(e)37 4602 y(a)26 b(subset)g(of)f(the)g(authority)f(of)h(their)g
(creators.)40 b(F)o(or)25 b(this)h(reason,)f(we)h(can)f(restrict)h(our)
e(consideration)g(to)h(only)g(those)37 4751 y(resources)20
b(that)g(e)o(xisted)g(at)h(the)f(time)h(the)f FE(m)m(utable)o
Fy(=)p FE(readable)g FM(relations)g(were)g(computed:)k(ne)n(w)c
(processes)g(cannot)37 4901 y(ha)n(v)o(e)g(an)o(y)f(additional)g(po)n
(wer)g(than)h(those)g(that)g(e)o(xisted)g(pre)n(viously)-5
b(.)162 5050 y(W)e(e)22 b(\002rst)f(de\002ne)f(the)h(set)h(of)e
(resources)g(that)h(e)o(xist)f(at)i(a)f(gi)n(v)o(en)e(state)j(of)e(the)
h(system,)g(and)f(then)g(use)h(this)g(to)g(state)g(our)37
5200 y(main)f(theorem.)1777 5410 y(92)p eop
%%Page: 93 109
93 108 bop 337 108 a FJ(De\002nition)21 b(6.11)e(\(De\002nition)h(of)g
Fy(S)1420 78 y Fj(existed)1654 108 y FJ(\):)337 257 y
FI(If)h Fy(S)k FI(is)d(a)e(state)o(,)g(then)g Fy(S)1041
227 y Fj(existed)1296 257 y FI(is)h(de\002ned)e(to)h(be)g(the)g
(following)g(subset)g(of)h FE(Ob)5 b(ject)p FI(:)1387
495 y Fy(S)1443 461 y Fj(existed)1701 495 y Fx(=)22 b
FE(Ob)5 b(ject)19 b Fw(\000)f(P)26 b([)18 b Fy(S)2385
461 y Fj(exist)2562 495 y Fw([)h Fy(S)2692 461 y Fj(dead)337
735 y FJ(Theor)o(em)i(6.1)e(\(Main)i(v)o(eri\002cation)e(theor)o(em\):)
337 885 y FI(If)i Fy(S)460 897 y Fs(0)549 837 y Fv(\013)592
845 y Fc(1)520 885 y Fw(\000)-16 b(!)24 b Fy(S)727 897
y Fs(1)778 885 y Fy(:)14 b(:)g(:)926 837 y Fv(\013)969
845 y Fb(n)897 885 y Fw(\000)-36 b(\000)g(!)23 b Fy(S)1112
897 y Fv(n)1178 885 y FI(is)e(an)f(e)n(xecution,)f(then)h(for)g(any)g
Fy(E)28 b Fw(\022)23 b Fy(S)2366 897 y Fs(0)2403 848
y Fj(existed)2637 885 y FI(,)1113 1122 y FE(m)m(utated)1460
1134 y Fv(E)1516 1122 y Fx(\()p Fy(S)1599 1134 y Fs(0)1688
1074 y Fv(\013)1731 1082 y Fc(1)1660 1122 y Fw(\000)-16
b(!)23 b Fy(:)14 b(:)g(:)g(S)1977 1134 y Fv(n)2022 1122
y Fx(\))19 b Fw(\\)f Fy(S)2197 1134 y Fs(0)2235 1086
y Fj(existed)2492 1122 y Fw(\022)23 b FE(m)m(utable)2917
1134 y Fv(S)2958 1142 y Fc(0)2994 1122 y Fx(\()p Fy(E)5
b Fx(\))1188 1297 y FE(read)1370 1309 y Fv(E)1426 1297
y Fx(\()p Fy(S)1509 1309 y Fs(0)1598 1249 y Fv(\013)1641
1257 y Fc(1)1570 1297 y Fw(\000)-16 b(!)23 b Fy(:)14
b(:)g(:)g(S)1887 1309 y Fv(n)1932 1297 y Fx(\))k Fw(\\)h
Fy(S)2107 1309 y Fs(0)2144 1261 y Fj(existed)2402 1297
y Fw(\022)k FE(readable)2842 1309 y Fv(S)2883 1317 y
Fc(0)2919 1297 y Fx(\()p Fy(E)5 b Fx(\))462 1537 y FM(The)24
b(principal)e(lemmas)i(that)g(allo)n(w)g(us)g(to)h(pro)o(v)o(e)d(this)i
(theorem)f(are)h(sho)n(wn)f(in)h(Principal)f(Lemmas)h(6.1)f(and)g(6.2.)
337 1687 y(These)k(lemmas)g(state)h(the)f(essential)h(properties)d(of)i
(ER)m(OS)h(which)e(account)g(for)g(its)i(security)-5
b(.)45 b(The)27 b FJ(Execution)g(Re-)337 1836 y(duces)f(A)l(uthority)d
FM(lemma)h(states)i(that)e(barring)f(outside)h(interv)o(ention,)f(the)h
(authority)f(that)h(a)h(subsystem)f(can)g(obtain)337
1986 y(only)e(decreases)f(during)g(an)h(e)o(x)o(ecution:)k(the)c
(subsystem)g(can)g(lose)g(capabilities,)g(b)n(ut)g(cannot)f(create)h
(an)o(y)-5 b(.)29 b(The)22 b FJ(Muta-)337 2135 y(tion)h(Implies)i
(Mutable)e FM(lemma)f(states)i(that)f(if)h(a)f(resource)f(becomes)f
(mutated)h(by)h(an)g(operation,)e(then)i(it)g(must)g(ha)n(v)o(e)337
2284 y(pre)n(viously)c(been)g(mutable.)337 2511 y FJ(Principal)i(Lemma)
g(6.1)e(\(Execution)h(Reduces)h(A)l(uthority\):)337 2661
y FI(If)g Fy(S)460 2673 y Fs(0)549 2606 y(\()p Fv(p;\013)p
Fs(\))520 2661 y Fw(\000)-26 b(\000)-19 b(\000)-27 b(!)23
b Fy(S)800 2673 y Fs(1)837 2661 y FI(,)e(then)e(for)i(all)f
Fy(E)5 b FI(,)1104 2898 y FE(m)m(utable)1440 2910 y Fv(S)1481
2918 y Fc(1)1518 2898 y Fx(\()p Fy(E)g Fx(\))19 b Fw(\\)g
Fy(S)1792 2910 y Fs(0)1829 2862 y Fj(existed)2086 2898
y Fw(\022)k FE(m)m(utable)2511 2910 y Fv(S)2552 2918
y Fc(0)2588 2898 y Fx(\()p Fy(E)h Fw(\\)19 b Fy(S)2830
2910 y Fs(0)2867 2862 y Fj(existed)3102 2898 y Fx(\))337
3139 y FJ(Principal)i(Lemma)g(6.2)e(\(Mutation)h(Implies)h(Mutable\):)
337 3288 y FI(If)g Fy(S)460 3300 y Fs(0)549 3234 y(\()p
Fv(p;\013)p Fs(\))520 3288 y Fw(\000)-26 b(\000)-19 b(\000)-27
b(!)23 b Fy(S)800 3300 y Fs(1)837 3288 y FI(,)e(then)e(for)i(all)f
Fy(E)5 b FI(,)1259 3526 y FE(m)m(utated)1607 3538 y Fv(E)1663
3526 y Fx(\()p Fy(S)1746 3538 y Fs(0)1834 3472 y(\()p
Fv(p;\013)p Fs(\))1806 3526 y Fw(\000)-26 b(\000)-19
b(\000)-27 b(!)23 b Fy(S)2086 3538 y Fs(1)2123 3526 y
Fx(\))c Fw(\000)f Fy(E)28 b Fw(\022)23 b FE(m)m(utable)2770
3538 y Fv(S)2811 3546 y Fc(0)2848 3526 y Fx(\()p Fy(E)5
b Fx(\))462 3766 y FM(Both)26 b(of)g(these)g(lemmas)g(are)g(properties)
f(of)g(single)h(step)h(transitions,)g(and)e(can)h(therefore)e(be)i(sho)
n(wn)g(to)g(hold)f(by)337 3916 y(straightforw)o(ard)18
b(case)j(analysis.)k(W)m(ith)20 b(these)h(properties,)d(the)i(main)g
(theorem)f(follo)n(ws.)337 4143 y FJ(Pr)o(oof)g(Outline)h(of)g(Theor)o
(em)g(6.1)g(\(Main)g(Theor)o(em\):)337 4292 y FI(W)-8
b(e)22 b(pr)l(oceed)d(by)h(induction)f(on)g(the)i(value)e(of)i
Fy(n)p FI(.)k(The)20 b(base)g(case)g(is)h(trivial.)337
4442 y(In)f(the)h(induction)d(step,)i(let)h Fy(e)1202
4454 y Fv(i)1250 4442 y FI(denote)e(the)h(e)n(xecution)g
Fy(S)2003 4454 y Fs(0)2091 4387 y(\()p Fv(p)2151 4395
y Fc(1)2184 4387 y Fv(;\013)2247 4395 y Fc(1)2279 4387
y Fs(\))2063 4442 y Fw(\000)-17 b(\000)e(\000)g(\000)h(!)23
b Fy(:)14 b(:)g(:)2505 4387 y Fs(\()p Fv(p)2565 4395
y Fb(i)2591 4387 y Fv(;\013)2654 4395 y Fb(i)2680 4387
y Fs(\))2476 4442 y Fw(\000)-23 b(\000)k(\000)g(\000)c(!)23
b Fy(S)2809 4454 y Fv(i)2836 4442 y FI(.)j(Assume)20
b(that)g(for)h(all)f(sets)h Fy(F)12 b FI(,)1266 4679
y FE(m)m(utated)1613 4691 y Fv(F)1669 4679 y Fx(\()p
Fy(e)1740 4691 y Fv(n)p Fi(\000)p Fs(1)1870 4679 y Fx(\))19
b Fw(\\)f Fy(S)2045 4691 y Fs(0)2082 4643 y Fj(existed)2340
4679 y Fw(\022)23 b FE(m)m(utable)2765 4691 y Fv(S)2806
4699 y Fc(0)2842 4679 y Fx(\()p Fy(F)12 b Fx(\))337 4917
y FI(W)-8 b(e)22 b(want)e(to)g(show)1308 5155 y FE(m)m(utated)1655
5167 y Fv(E)1711 5155 y Fx(\()p Fy(e)1782 5167 y Fv(n)1827
5155 y Fx(\))f Fw(\\)g Fy(S)2003 5167 y Fs(0)2040 5119
y Fj(existed)2298 5155 y Fw(\022)j FE(m)m(utable)2722
5167 y Fv(S)2763 5175 y Fc(0)2799 5155 y Fx(\()p Fy(E)5
b Fx(\))2077 5410 y FM(93)p eop
%%Page: 94 110
94 109 bop 37 108 a FI(This)21 b(follows)g(because:)87
370 y FE(m)m(utated)435 382 y Fv(E)491 370 y Fx(\()p
Fy(e)562 382 y Fv(n)607 370 y Fx(\))e Fw(\\)f Fy(S)782
382 y Fs(0)820 334 y Fj(existed)277 521 y Fx(=)99 b FE(m)m(utated)789
536 y Fj(m)n(utated)1062 544 y Fb(E)1110 536 y Fs(\()p
Fv(e)1167 544 y Fb(n)p Fd(\000)p Fc(1)1282 536 y Fs(\))1312
521 y Fx(\()p Fy(S)1395 533 y Fv(n)p Fi(\000)p Fs(1)1576
467 y(\()p Fv(p)1636 475 y Fb(n)1677 467 y Fv(;\013)1740
475 y Fb(n)1781 467 y Fs(\))1548 521 y Fw(\000)-32 b(\000)-19
b(\000)g(\000)h(\000)-33 b(!)23 b Fy(S)1909 533 y Fv(n)1954
521 y Fx(\))c Fw(\\)g Fy(S)2130 533 y Fs(0)2167 485 y
Fj(existed)277 670 y Fw(\022)99 b Fx(\()p FE(m)m(utable)810
682 y Fv(S)851 690 y Fb(n)p Fd(\000)p Fc(1)969 670 y
Fx(\()p FE(m)m(utated)1349 682 y Fv(E)1405 670 y Fx(\()p
Fy(e)1476 682 y Fv(n)p Fi(\000)p Fs(1)1606 670 y Fx(\)\))19
b Fw([)g FE(m)m(utated)2110 682 y Fv(E)2166 670 y Fx(\()p
Fy(e)2237 682 y Fv(n)p Fi(\000)p Fs(1)2367 670 y Fx(\)\))101
b FM(by)19 b(Lemma)h(6.2)773 820 y Fw(\\)p Fy(S)879 832
y Fs(0)917 784 y Fj(existed)277 969 y Fw(\022)99 b Fx(\()p
FE(m)m(utable)810 981 y Fv(S)851 989 y Fb(n)p Fd(\000)p
Fc(1)969 969 y Fx(\()p FE(m)m(utated)1349 981 y Fv(E)1405
969 y Fx(\()p Fy(e)1476 981 y Fv(n)p Fi(\000)p Fs(1)1606
969 y Fx(\)\))19 b Fw([)g FE(m)m(utable)2100 981 y Fv(S)2141
989 y Fc(0)2177 969 y Fx(\()p Fy(E)5 b Fx(\)\))193 b
FM(induction)18 b(hyp.)773 1119 y Fw(\\)p Fy(S)879 1131
y Fs(0)917 1082 y Fj(existed)277 1268 y Fw(\022)99 b
Fx(\(\()p FE(m)m(utable)843 1280 y Fv(S)884 1288 y Fc(0)920
1268 y Fx(\()p FE(m)m(utated)1300 1280 y Fv(E)1356 1268
y Fx(\()p Fy(e)1427 1280 y Fv(n)p Fi(\000)p Fs(1)1557
1268 y Fx(\)\))19 b Fw(\\)g Fy(S)1765 1280 y Fs(0)1802
1232 y Fj(existed)2036 1268 y Fx(\))464 b FM(by)19 b(Lemma)h(6.1)773
1418 y Fw([)p FE(m)m(utable)1165 1430 y Fv(S)1206 1438
y Fc(0)1243 1418 y Fx(\()p Fy(E)5 b Fx(\)\))19 b Fw(\\)g
Fy(S)1549 1430 y Fs(0)1586 1381 y Fj(existed)277 1567
y Fw(\022)99 b FE(m)m(utable)778 1579 y Fv(S)819 1587
y Fc(0)855 1567 y Fx(\()p FE(m)m(utable)1224 1579 y Fv(S)1265
1587 y Fc(0)1302 1567 y Fx(\()p Fy(E)5 b Fx(\)\))19 b
Fw([)g FE(m)m(utable)1894 1579 y Fv(S)1935 1587 y Fc(0)1971
1567 y Fx(\()p Fy(E)5 b Fx(\))431 b FM(induction)18 b(hyp.,)2532
1716 y Fy(mutabl)r(e)p FM(\(\))g(is)277 1866 y Fx(=)99
b FE(m)m(utable)778 1878 y Fv(S)819 1886 y Fc(0)855 1866
y Fx(\()p Fy(E)5 b Fx(\))1547 b FM(monotonic)18 b(by)2532
2015 y(de\002nition)37 2218 y FI(The)j(pr)l(oof)f(that)g
FE(read)h FI(and)e FE(readable)i FI(ar)m(e)g(r)m(elated)e(follows)i
(easily)g(fr)l(om)f(the)h(de\002nitions.)37 2658 y Fz(6.4)119
b(Discussion)37 2897 y FM(Certain)21 b(aspects)f(of)g(the)g(v)o
(eri\002cation)f(proof)g(are)h(not)g(apparent)e(from)h(the)h(formal)g
(content.)162 3075 y FJ(Corr)o(espondence.)88 b FM(An)o(y)21
b(operation)f(that)h(can)h(be)f(performed)e(in)j(ER)m(OS)g(can)f(be)g
(performed)e(in)j FI(SW)p FM(.)f FI(SW)28 b FM(meets)37
3224 y(the)23 b(security)f(requirements.)30 b(The)23
b(beha)n(vior)e(of)h FI(SW)29 b FM(is)24 b(a)f(superset)f(of)g(ER)m
(OS')-5 b(s)24 b(formal)d(beha)n(vior)-5 b(.)31 b(Therefore)21
b(we)i(are)37 3374 y(assured)d(that)h(ER)m(OS)f(also)h(meets)f(the)g
(security)g(requirements.)162 3525 y(F)o(or)j(e)o(xample,)f(reading)g
(a)i(page)e(in)h(ER)m(OS)h(produces)e(the)h(v)n(alue)f(that)i(w)o(as)g
(last)g(written.)33 b FI(SW)p FM(,)24 b(ho)n(we)n(v)o(er)m(,)d(does)i
(not)37 3675 y(k)o(eep)c(track)f(of)h(the)g(contents)g(of)f(pages)h
(\226)g(pages)g(hold)f(user)h(le)n(v)o(el)f(data)h(and)g
FI(SW)6 b FM(')-5 b(s)19 b(security)g(relies)g(only)f(on)h(k)o(ernel)f
(data.)37 3824 y(This)27 b(is)h(safe,)g(since)e(it)h
FI(incr)m(eases)g FM(the)f(possible)g(beha)n(vior)f(of)h(the)h(system,)
h(and)e(has)h(the)f(adv)n(antage)e(that)j(we)g(do)f(not)37
3974 y(need)d(to)g(k)o(eep)g(track)f(of)h(the)g(page)g(v)n(alues.)33
b(Also,)24 b(we)f(demonstrate)f(that)h(the)g(security)f(of)h(ER)m(OS)h
(does)e(not)h(rely)g(upon)37 4123 y(this)e(aspect)f(of)g(its)i(beha)n
(vior)-5 b(.)162 4301 y FJ(Requir)o(ements)23 b(Statement.)92
b FM(The)23 b(de\002nition)f(of)g(the)h(con\002nement)e(requirement)g
(is)j(independent)c(of)i(both)h(the)37 4451 y(access)f(control)d(model)
h(and)g(the)g FI(SW)27 b FM(operational)19 b(semantics.)26
b(F)o(ailing)20 b(to)h(preserv)o(e)e(this)i(independence)d(w)o(ould)i
(result)37 4600 y(in)h(a)f(meaningless)g(v)o(eri\002cation:)j(\223ER)m
(OS)e(pro)o(vides)d(the)j(security)e(that)h(results)h(from)e(its)i
(security)f(polic)o(y)-5 b(.)f(\224)162 4751 y(A)31 b(con\002ned)e
(process)h(should)f(not)i(be)f(able)g(to)h(af)n(fect)f(an)o(y)g
(non-authorized)c(entities)31 b(outside)f(the)h(con\002nement)37
4901 y(boundary)-5 b(.)28 b(Gi)n(v)o(en)21 b(an)h(e)o(x)o(ecution)e
Fy(e)i FM(and)f(a)i(set)g(of)e(entities)i Fy(E)28 b FM(we)22
b(w)o(ant)g(to)g(de\002ne)g(a)g(function)f FE(m)m(utated)3206
4913 y Fv(E)3262 4901 y Fx(\()p Fy(e)p Fx(\))i FM(whose)37
5050 y(v)n(alue)d(is)i(the)f(set)g(of)f(entities)h(that)g(were)f(af)n
(fected)g(by)g Fy(E)26 b FM(in)21 b(the)g(e)o(x)o(ecution.)j(By)d
(doing)e(so,)i(we)g(state)g(what)g(the)f(commu-)37 5200
y(nication)g(channels)f(of)h(the)g(system)h(are.)1777
5410 y(94)p eop
%%Page: 95 111
95 110 bop 462 108 a FM(The)26 b FE(m)m(utated)h FM(relation)f(is)h
(transiti)n(v)o(e.)44 b(Suppose)25 b(a)i(process)f Fy(p)h
FM(modi\002es)f(a)h(resource)f Fy(x)p FM(,)j(and)d(another)f(process)
337 257 y Fy(q)j FM(subsequently)23 b(reads)h Fy(x)p
FM(.)39 b(In)24 b(this)h(sequence)e(of)h(e)n(v)o(ents,)g
Fy(p)h FM(has)g(mutated)e Fy(q)s FM(,)j(e)n(v)o(en)d(though)g(the)h(tw)
o(o)h(processes)f(ne)n(v)o(er)337 407 y(directly)17 b(communicated.)k
(Our)c(de\002nition)f(of)h FE(m)m(utated)g FM(tak)o(es)g(this)h(form)e
(of)h(indirect)f(communication)e(into)j(account.)462
592 y FJ(Access)25 b(Contr)o(ol.)97 b FM(The)24 b(con\002nement)f
(mechanism)g(de\002nes)i(a)g(security)f(polic)o(y)f(that)i(is)g
(assured)f(by)h(the)f(ER)m(OS)337 741 y(\(and)c FI(SW)6
b FM(\))21 b(access)g(control)e(model.)25 b(While)c(the)f
(con\002nement)f(requirements)f(are)j(stated)g(in)f(terms)h(of)f(the)g
(e)o(x)o(ecution)f(of)337 891 y(the)g(system,)f(the)h(security)e(polic)
o(y)h(must)g(be)g(statically)h(v)o(eri\002able.)k(By)c(looking)d(only)i
(at)g(a)h(small)g(portion)e(of)h(the)g(current)337 1040
y(system)j(state,)g(the)f(constructor)e(must)i(be)g(able)g(to)h(judge)e
(the)h(con\002nement)e(of)i(its)i(products.)462 1195
y(The)28 b(function)f FE(m)m(utable)1263 1207 y Fv(S)1311
1195 y Fx(\()p Fy(E)5 b Fx(\))29 b FM(tak)o(es)g(a)g(single)f(state)h
Fy(S)34 b FM(and)28 b(from)f(that)i(computes)e(the)h(set)i(of)e(all)h
(the)f(entities)337 1345 y(that)e(might)e(in)i(the)f(future)f(be)h
(mutated)f(by)h(the)g(entities)g Fy(E)5 b FM(.)41 b(Although)23
b(this)j(function)d(is)j(not)f(actually)g(computed)e(by)337
1494 y(the)f(operating)d(system)j(\(for)e(ob)o(vious)g(ef)n(\002cienc)o
(y)g(reasons\),)h(it)h(is)g(the)g(basis)g(for)e(the)i(access)g(checks)f
(performed)e(by)i(the)337 1644 y(operational)14 b(semantics.)24
b(The)15 b(check)g(performed)e(by)i(the)g(constructor)f(therefore)g
(pro)o(vides)g(a)i(conserv)n(ati)n(v)o(e)d(v)o(eri\002cation)337
1793 y(of)20 b(the)h(requirements.)462 1978 y FJ(Pr)o(oof)29
b(of)h(Corr)o(ectness.)115 b FM(Finally)-5 b(,)32 b(we)f(ha)n(v)o(e)f
(to)h(sho)n(w)f(that)h(the)f(system')-5 b(s)31 b(security)f(policies)g
(implement)g(its)337 2128 y(requirements.)j(F)o(or)24
b(e)o(xample,)e(we)i(must)g(sho)n(w)f(that)h(if)g Fy(e)f
FM(is)i(an)e(e)o(x)o(ecution)f(of)h(the)h(system)f(whose)g(initial)h
(state)h(is)f Fy(S)3842 2140 y Fs(0)3879 2128 y FM(,)337
2277 y(and)c(if)h Fy(E)k FM(is)d(an)o(y)d(set)i(of)f(resources,)f(then)
1538 2521 y FE(m)m(utated)1885 2533 y Fv(E)1941 2521
y Fx(\()p Fy(e)p Fx(\))k Fw(\022)g FE(m)m(utable)2492
2533 y Fv(S)2533 2541 y Fc(0)2569 2521 y Fx(\()p Fy(E)5
b Fx(\))337 2764 y FM(In)24 b(other)g(w)o(ords,)g(if)h(some)f(entity)g
(w)o(as)h(mutated)e(in)h(an)g(e)o(x)o(ecution,)f(then)h(the)g(security)
f(polic)o(y)g(must)i(ha)n(v)o(e)e(said)i(that)f(it)337
2914 y(w)o(as)29 b(originally)d(mutable.)47 b(This)28
b(statement)f(relies)h(upon)f(properties)f(of)i(both)e(the)i
(operational)e(semantics,)j(and)f(the)337 3063 y(security)20
b(polic)o(y)-5 b(.)25 b(One)20 b(of)g(the)h(aims)g(of)f(this)h(w)o(ork)
f(is)i(to)e(state)h(these)g(properties)e(in)i(such)f(a)h(w)o(ay)g(as)g
(to)g(be)f(applicable)f(to)337 3213 y(other)h(situations.)337
3598 y Fz(6.5)119 b(Closing)31 b(Comments)337 3844 y
FM(It)20 b(is)g(useful)f(to)g(\223close)g(the)g(loop\224)f(on)h(the)g
(theoretical)f(portion)g(of)h(this)h(dissertation)e(by)h(relating)f
(its)i(results)g(back)e(to)i(the)337 3993 y(ER)m(OS)h(constructor)d
(\(Section)i(3.4\))f(and)h(the)g(hole)g(check)f(that)h(the)g
(constructor)f(performs.)462 4148 y(The)24 b(constructor)f(b)n(uilds)h
(a)h(ne)n(w)f(process)g Fy(p)h FM(from)e(a)i(set)h Fy(C)31
b FM(of)24 b(initial)h(capabilities)f(held)g(by)g(the)h(constructor)-5
b(.)36 b(As)337 4297 y(part)22 b(of)f(the)g(construction)f(request,)h
(the)g(client)g(of)h(the)f(constructor)f(passes)i(in)f(a)h(set)g
Fy(C)2911 4309 y Fv(auth)3077 4297 y FM(of)f FI(authorized)f(holes)p
FM(.)29 b(The)337 4447 y(constructor)16 b(considers)g(a)i(capability)e
(\223safe\224)h(if)h(it)g(is)g(inherently)d(discrete)i(\(base)g(case\))
h(or)e(it)i(is)h(a)e(constructor)f(capability)337 4596
y(to)22 b(a)f(frozen)f(constructor)f(whose)i(yield)g(is)h(con\002ned)d
(\(inducti)n(v)o(e)g(case\).)28 b(Discrete)21 b(capabilities)g
(prohibit)f(write)h(access,)337 4746 y(and)i(\(by)f(virtue)h(of)g(the)g
FE(w)m(eak)m(en)q Fx(\()p Fw(\001)p Fx(\))h FM(operation\))d(prohibit)g
(the)j(retrie)n(v)n(al)e(of)g(an)o(y)h(capability)f(that)h(might)f
FI(permit)j FM(write)337 4895 y(access.)h(In)20 b(short,)f(discrete)h
(capabilities)g(are)g(those)g(which)g(will)h(add)f(no)g(elements)f(to)i
FE(m)m(utable)s Fx(\()p Fy(p)p Fx(\))p FM(.)462 5050
y(By)f(means)f(of)g(the)g FJ(pr)o(ocess)g(tool)g FM(it)h(is)g(possible)
f(for)g(one)f(constructor)g(to)h(identify)f(another)-5
b(.)24 b(The)19 b(constructor)e(itself)337 5200 y(is)25
b(trusted)e(softw)o(are.)35 b(Once)24 b(it)g(has)g(been)f(established)g
(that)h(a)g(capability)f(is)h(a)h(start)f(capability)e(to)i(a)g
(constructor)m(,)e(that)2077 5410 y(95)p eop
%%Page: 96 112
96 111 bop 37 108 a FM(capability)22 b(can)g(safely)g(be)g(in)m(v)n(ok)
o(ed)f(to)h(determine)f(if)i(the)f(constructor)e(is)k(frozen,)d(and)g
(also)i(whether)e(the)i(yield)f(of)g(the)37 257 y(constructor)d(is)i
(con\002ned.)162 407 y(The)e(end)f(result)h(is)h(that)f(arbitrarily)e
(comple)o(x,)g(con\002ned)h(subsystems)h(may)f(be)h(b)n(uilt)g(by)f
(means)h(of)g(the)f(constructor)37 556 y(mechanism.)39
b(Further)m(,)25 b(these)h(subsystems)f(may)f(share)h(\(in)g(read-only)
e(f)o(ashion\))h(resources)h(\(e.g.,)g(program)e(images\))37
705 y(with)f(subsystems)f(that)g(are)g FI(not)i FM(con\002ned.)j(In)21
b(practice,)f(ER)m(OS)i(constructors)d(are)j(suf)n(\002ciently)e
(useful)g(that)i(the)o(y)e(ha)n(v)o(e)37 855 y(become)d(the)g(standard)
f(means)i(of)f(instantiating)f(ne)n(w)h(programs.)23
b(Not)17 b(all)h(programs)e(in)h(ER)m(OS)h(are)g(con\002ned,)e(b)n(ut)h
FI(most)37 1004 y FM(are.)25 b(Notable)20 b(e)o(xceptions)f(are)h
(programs)e(such)i(as)h(de)n(vice)e(dri)n(v)o(ers)g(that)h(speak)g(to)h
(the)f(outside)f(w)o(orld.)1777 5410 y(96)p eop
%%Page: 97 113
97 112 bop 1835 1832 a FD(P)n(art)44 b(III)1757 2371
y FK(Practice)2077 5410 y FM(97)p eop
%%Page: 98 114
98 113 bop eop
%%Page: 99 115
99 114 bop 337 835 a FD(Chapter)45 b(7)337 1375 y FK(V)-8
b(irtual)53 b(Machine)f(Implementation)337 1857 y FM(The)23
b(performance)d(of)j(the)g(ER)m(OS)h(system)f(deri)n(v)o(es)f(from)g
(both)h(the)g(virtual)f(machine)g(implementation)f(and)h(from)h(the)337
2007 y(implementation)e(of)h(tw)o(o)g(operating)f(system)h(utilities.)
32 b(This)23 b(chapter)e(describes)h(the)g(k)o(e)o(y)g(issues)h(in)g
(the)f(implementa-)337 2156 y(tion)e(of)g(the)h(ER)m(OS)f(virtual)g
(machine.)j(The)d(operating)f(system)h(implementation)e(is)j(co)o(v)o
(ered)d(in)j(Chapter)e(8.)462 2306 y(ER)m(OS')-5 b(s)21
b(performance)c(can)j(ultimately)g(be)g(traced)f(to)i(tw)o(o)f(design)g
(decisions:)410 2473 y Fw(\017)41 b FM(The)20 b(use)h(of)g(pages)f(and)
h Fw(f)p FM(read,read/write)p Fw(g)c FM(permissions)k(as)g(the)g
(primiti)n(v)o(e)f(units)g(of)h(memory)e(composition)g(and)493
2623 y(access)24 b(determination)d(\(respecti)n(v)o(ely\).)31
b(This)24 b(fully)f(e)o(xposes)f(all)i(of)f(the)g(\003e)o(xibility)g
(inherent)f(in)h(the)g(underlying)493 2772 y(hardw)o(are)17
b(protection)g(f)o(acilities)i(while)g(retaining)e(the)i(ability)f(to)h
(enforce)e(protections)g(in)i(commodity)d(hardw)o(are.)410
2939 y Fw(\017)41 b FM(Carefully)31 b(chosen)h(semantics)g(and)g
(payload)f(for)h(the)h(user)f(de\002ned)g(object)g(in)m(v)n(ocation)e
(mechanism.)61 b(These)493 3088 y(in)m(v)n(ocations)15
b(account)h(for)h(more)f(than)g(80\045)h(of)g(the)g(e)o(xplicit)g
(capability)f(in)m(v)n(ocations)f(in)j(a)f(running)e(ER)m(OS)j(system,)
493 3238 y(so)24 b(their)g(performance)d(is)k(consequently)d(critical.)
37 b(If)24 b(the)g(payload)e(is)k(inappropriately)20
b(chosen,)k(the)h(number)d(of)493 3387 y(required)g(in)m(v)n(ocations)h
(can)h(easily)g(double.)35 b(Similarly)-5 b(,)24 b(if)h(the)f
(implementation)e(of)i(the)g(IPC)h(mechanism)e(is)i(not)493
3537 y(done)19 b(carefully)-5 b(,)18 b(its)j(performance)d(can)i
(easily)g(be)g(rendered)e(inadequate)h(for)g(real)h(use.)337
3704 y(These)29 b(design)f(properties)f(ensure)g(that)i(memory)e
(protection)f(information)g(is)k(managed)d(in)h(a)h(w)o(ay)g(that)f
(can)g(be)h(di-)337 3853 y(rectly)23 b(translated)g(into)g(a)h(form)e
(realizable)g(by)h(the)h(hardw)o(are)d(memory)h(management)f(support,)h
(and)h(that)h(di)n(vision)e(of)337 4003 y(applications)d(into)h
(protected)f(components)f(does)i(not)g(introduce)e(unacceptable)g(o)o
(v)o(erhead.)462 4153 y(The)f(ER)m(OS)g(virtual)f(machine)g
(architecture)f(pro)o(vides)g(no)i(means)f(for)g(allocating)g(objects)h
(or)f(handling)f(reco)o(v)o(erable)337 4302 y(memory)24
b(e)o(xceptions.)38 b(Both)26 b(are)f(the)g(responsibility)f(of)h(the)g
(operating)e(system.)41 b(One)25 b(consequence)e(of)h(this)i(design)337
4452 y(decision)e(is)h(that)f(both)f(acti)n(vities)h(require)f(conte)o
(xt)g(switches)h(in)h(lo)n(w-latenc)o(y)d(paths.)36 b(T)-7
b(o)24 b(e)o(xport)f(the)h(e)o(xternalization)337 4601
y(of)e(these)g(policies,)g(the)f(ER)m(OS)h(virtual)f(machine)g
(implementation)e(must)j(pro)o(vide)e(an)i(e)o(xtremely)e(ef)n
(\002cient)h(means)g(for)337 4751 y(user/supervisor)16
b(and)g(supervisor/user)f(transitions,)i(a)h(f)o(ast)g(address)e(f)o
(ault)i(handling)d(mechanism)h(\(both)g(for)g(translating)337
4900 y(v)n(alid)22 b(addresses)g(and)f(for)g(dele)o(gating)f(handling)g
(of)i(in)m(v)n(alid)f(addresses\),)g(and)h(a)g(carefully)f(designed)f
(f)o(ast)j(path)e(for)h(the)337 5050 y(interprocess)d(communication)f
(\(IPC\))i(mechanism.)462 5200 y(Gi)n(v)o(en)28 b(a)h(well)g(designed)e
(re)o(gister)h(sa)n(v)o(e)h(mechanism,)g(the)f(f)o(ast)h(IPC)h
(implementation)c(remains)i(trickier)g(than)g(it)2077
5410 y(99)p eop
%%Page: 100 116
100 115 bop 37 108 a FM(appears.)40 b(The)26 b(k)o(e)o(y)e(lies)j(in)e
(minimizing)f(the)i(number)e(of)h(v)n(alidity)g(tests)h(that)g(the)f
(IPC)i(path)e(must)g(perform,)g(and)g(the)37 257 y(consequent)17
b(number)g(of)h(branches)f(and)h(data)g(dependenc)o(y)d(stalls)20
b(that)e(occur)g(in)g(that)h(path.)24 b(The)18 b(semantics)g(of)g(the)h
(IPC)37 407 y(mechanism)g(and)h(the)g(process)g(model)f(are)h(critical)
h(in)f(minimizing)f(such)h(checks.)162 561 y(Finally)-5
b(,)18 b(the)g(virtual)g(machine)f(must)h(pro)o(vide)e(an)i(ef)n
(\002cient)g(mechanism)f(for)g(f)o(ast)i(path)f(interaction)f(with)h
(the)g(object)37 710 y(store.)35 b(Because)23 b(ER)m(OS)h(is)g
(persistent,)g(objects)f(may)g(either)g(be)g(on)g(disk)g(or)g(in)g
(memory)-5 b(.)33 b(F)o(ast)24 b(path)e(cases)j(can)e(occur)37
859 y(only)18 b(when)g(the)h(objects)g(are)f(in)h(memory)-5
b(,)17 b(and)h(it)h(is)h(therefore)d(important)g(to)i(ha)n(v)o(e)f(an)h
(ef)n(\002cient)f(check)g(that)h(determines)37 1009 y(whether)h
(objects)g(are)g(present.)162 1163 y(The)f(object)f(store)h(is)h(a)f
(precondition)d(to)j(the)g(other)g(implementation)d(issues,)k(so)f(I)h
(will)f(address)g(it)g(\002rst.)26 b(Because)19 b(it)37
1312 y(is)k(critical)e(to)h(all)g(k)o(ernel)e(interactions,)h(I)g(then)
g(describe)g(the)g(user/supervisor)e(transition)i(mechanism.)27
b(I)22 b(ne)o(xt)e(discuss)37 1462 y(the)i(mapping)d(v)n(alidation)h
(logic,)h(and)f(identify)g(what)h(pro)o(v)o(ed)e(to)i(be)h(critical)f
(f)o(actors)g(in)g(the)g(performance)d(of)j(this)h(path)37
1611 y(\(some)h(of)g(which)g(were)g(surprising\).)33
b(Finally)-5 b(,)23 b(I)h(will)g(present)e(the)i(IPC)g(path)f(and)f
(the)i(assumptions)e(that)i(it)g(mak)o(es)f(of)37 1761
y(the)e(process)e(model.)37 2141 y Fz(7.1)119 b(The)31
b(Object)f(Stor)n(e)37 2385 y FM(The)24 b(ER)m(OS)g(implementation)d
(treats)j(main)f(memory)f(as)j(a)f(cache)f(of)g(a)h(\(presumably)d(lar)
o(ger\))h(persistent)i(object)f(store)37 2535 y(that)h(resides)g(on)f
(disk.)35 b(On)24 b(demand,)e(the)i(implementation)d(f)o(aults)j(in)g
(objects)f(from)g(the)h(disk.)35 b(Modi\002ed)22 b(objects)i(are)37
2684 y(cleaned)29 b(in)g(response)g(to)g(checkpointing,)f(memory)g
(pressure,)i(or)f(opportunistic)e(cleansing)i(acti)n(vity)-5
b(.)51 b(Objects)30 b(are)37 2833 y(remo)o(v)o(ed)18
b(from)h(the)i(memory)d(cache)i(only)f(in)i(response)e(to)h(memory)f
(pressure.)2405 2803 y FC(1)162 2987 y FM(T)-7 b(o)20
b(mak)o(e)g(the)g(object)g(store)g(w)o(ork)g(well,)g(se)n(v)o(eral)g
(things)f(must)i(be)f(ensured:)110 3163 y Fw(\017)41
b FM(It)20 b(must)g(be)h(easy)f(to)g(determine)f(when)h(a)g(f)o
(ault-in)g(is)h(required,)d(and)h(con)m(v)o(ersely)-5
b(,)18 b(when)h(it)i(is)g FI(not)h FM(required.)110 3333
y Fw(\017)41 b FM(It)20 b(must)g(be)h(easy)f(to)g(locate)g(objects)g
(that)g(ha)n(v)o(e)g(already)f(been)h(f)o(aulted)f(in.)110
3504 y Fw(\017)41 b FM(It)20 b(must)g(be)h(easy)f(and)g(ef)n(\002cient)
f(to)i(pin)e(objects)h(in)h(memory)d(for)i(the)g(duration)e(of)i(a)h
(single)f(unit)g(of)g(operation.)37 3679 y(These)h(points)e(will)i(all)
g(be)f(addressed)f(in)i(the)f(follo)n(wing)e(discussion,)i(b)n(ut)g
(the)g(last)h(point)f(should)f(be)h(e)o(xplained)e(\002rst.)37
4000 y FG(7.1.1)99 b(In)l(v)o(ocations)25 b(as)f(T)-7
b(ransactions)37 4215 y FM(Man)o(y)20 b(operations)f(de\002ned)g(by)i
(the)f(ER)m(OS)h(virtual)f(machine)f(require)g(that)i(multiple)f
(objects)g(be)h(tra)n(v)o(ersed)e(in)i(a)g(single)37
4364 y(operation)f(\226)i(most)f(ob)o(viously)e(in)j(address)f
(translation)f(and)h(IPC)h(operations,)e(b)n(ut)i(also)f(in)h(process)f
(manipulation)e(and)37 4514 y(object)k(copies.)35 b(In)23
b(some)g(cases,)i(these)f(objects)f(are)g(disco)o(v)o(ered)e(by)i
(recursi)n(v)o(e)f(tra)n(v)o(ersal,)i(and)f(one)g(w)o(ould)f(lik)o(e)i
(to)g(be)37 4663 y(able)f(to)g(retain)g(pointers)f(on)g(the)h(stack)g
(to)g(objects)g(that)g(ha)n(v)o(e)f(already)g(been)g(tra)n(v)o(ersed.)
32 b(The)22 b(dif)n(\002culty)g(with)h(this)h(lies)37
4812 y(in)d(the)f(w)o(ay)g(that)h(the)f(checkpoint)e(mechanism)h
(induces)g(memory)g(pressure.)p 37 4884 1425 4 v 37 4940
a FB(1)104 4963 y FA(This)i(is)g(in)g(notable)j(contrast)f(to)e(the)h
(beha)o(vior)h(of)e(UNIX)g(or)g(W)m(indo)n(ws,)h(both)g(of)f(which)h
(\003ush)f(objects)i(on)e(a)h(periodic)h(basis)e(whether)i(there)g(is)
104 5042 y(memory)f(pressure)g(or)g(not.)34 b(The)22
b(results)h(can)f(be)g(observ)o(ed)h(when)f(you)g(\002rst)f(arri)n(v)o
(e)j(at)e(the)g(machine)i(in)e(the)g(morning)g(simply)g(by)g(jiggling)i
(the)104 5121 y(mouse.)g(The)18 b(resulting)i(windo)n(w)f(repaints)h
(are)f(delayed)h(by)e(a)h(lar)o(ge)g(number)g(of)f(page-ins)h(if)g(the)
g(machine)g(has)g(been)g(left)g(idle)g(for)g(a)f(suf)n(\002ciently)104
5200 y(long)g(period)g(of)f(time.)1756 5410 y FM(100)p
eop
%%Page: 101 117
101 116 bop 462 108 a FM(ER)m(OS)27 b(relies)g(on)g(an)f(asynchronous)e
(checkpoint)h(mechanism)g(to)i(periodically)e(sa)n(v)o(e)i(a)g
(consistent)f(snapshot)g(of)337 257 y(the)21 b(system)f(state.)27
b(This)20 b(mechanism)f(is)i(substantially)f(similar)h(to)f(that)h(of)f
(K)n(e)o(yK)n(OS)f([Lan92)n(],)h(dif)n(fering)e(primarily)h(in)337
407 y(the)k(use)g(of)f(a)g(circular)g(log)g(that)h(mak)o(es)f(it)h
(more)e(adaptable)h(to)g(runtime)f(load)h(v)n(ariations)g(and)f(allo)n
(ws)i(the)g(migrator)d(to)337 556 y(proceed)i(incrementally)f([Gra93)n
(].)33 b(T)-7 b(o)23 b(preserv)o(e)f(the)g(consistenc)o(y)g(of)h(the)g
(snapshot,)f(the)h(checkpoint)e(mechanism)g(in)337 705
y(turn)f(depends)f(on)h(the)g(ability)g(to)g(enforce)f(\223cop)o(y)g
(on)h(write\224)g(for)f(objects)h(that)h(are)f(part)g(of)g(the)g
(snapshot.)462 858 y(If)e(a)h(k)o(ernel)e(operation)g(requires)g(write)
h(access)h(to)g(an)f(object,)g(and)g(the)g(object)g(is)h(part)f(of)g(a)
g(snapshot,)g(the)g(necessary)337 1007 y(cop)o(y)23 b(on)g(write)h
(induces)f(pressure)f(for)h(object)g(frames)g(in)h(the)f(object)g
(cache.)35 b(This)23 b(causes)h(the)g(aging)e(mechanism)g(to)337
1157 y(be)f(in)m(v)n(ok)o(ed,)d(which)h(may)h(in)h(turn)e(attempt)h(to)
g(e)n(vict)g(the)g(objects)g(that)h(are)f(in)g(use)h(by)e(the)i
(current)d(operation.)3583 1127 y FC(2)462 1309 y FM(An)i(ef)n
(\002cient)g(means)g(must)g(therefore)e(e)o(xist)i(to)h(ensure)e(that)h
(these)h(objects)f(are)g(not)f(remo)o(v)o(ed)f(while)i(the)g(operation)
337 1459 y(using)25 b(them)f(is)i(still)g(in)g(progress.)38
b(In)24 b(ef)n(fect,)i(each)e(k)o(ernel)g(in)m(v)n(ocation)f(is)j
(treated)f(as)g(a)h(transaction)d(whose)i(w)o(orking)337
1608 y(set)i(must)e(be)h(pinned)e(for)g(the)i(duration)e(of)h(the)g
(transaction.)40 b(An)25 b(unbounded,)e(pinned)h(w)o(orking)g(set)i(w)o
(ould)f(quickly)337 1757 y(inspire)c(someone)f(to)i(in)m(v)o(estigate)d
(strate)o(gies)i(for)g(deadlocking)d(the)k(implementation,)d(so)i(the)h
(maximum)d(w)o(orking)h(set)337 1907 y(associated)e(with)h(an)o(y)e(in)
m(v)n(ocation)f(must)i(also)g(be)g(bounded.)k(This)c(pro)o(v)o(es)f
(con)m(v)o(enient)e(in)j(an)o(y)g(case,)g(as)h(it)g(has)f(the)g(ef)n
(fect)337 2056 y(of)i(bounding)e(recursion)h(in)h(the)g(k)o(ernel,)f
(thereby)g(placing)g(a)i(bound)d(on)i(the)g(maximum)f(stack)h(depth.)
462 2209 y(The)25 b(transactional)f(model)h(has)g(tw)o(o)h(other)f
(useful)f(consequences.)39 b(First,)27 b(it)f(pro)o(vides)e(a)i
(natural)e(place)h(to)h(stand)337 2358 y(to)j(implement)f
(multiprocessor)f(locking.)49 b(More)28 b(important,)h(it)h(pro)o
(vides)d(a)i(natural)f(model)g(for)g(what)h(to)g(do)f(when)337
2508 y(a)33 b(process)e(blocks)h(due)f(to)h(an)g(object)f(load:)48
b(place)32 b(the)g(process)f(to)i(sleep)f(on)f(the)h(object)f(I/O)i
(request,)g(abort)f(the)337 2657 y(transaction,)22 b(and)g(restart)h
(the)f(process)g(at)h(the)g(instruction)e(that)h(initiated)g(the)h
(transaction)e(when)h(the)h(object)f(has)g(been)337 2807
y(fetched.)i(\))337 3119 y FG(7.1.2)99 b(Object)26 b(F)n(ault-In)337
3330 y FM(Whene)n(v)o(er)c(an)g(object)h(capability)f(is)h(in)m(v)n(ok)
o(ed,)f(the)h(k)o(ernel)f(must)h(tak)o(e)f(steps)i(to)f(ensure)f(that)h
(the)g(associated)f(object)h(is)337 3479 y(in)e(memory)-5
b(,)18 b(and)i(will)i(stay)f(there)f(for)g(the)g(duration)f(of)h(the)h
(current)e(operation.)24 b(If)d(the)f(operation)f(in)i(question)e
(intends)337 3629 y(to)26 b(modify)d(the)i(object,)h(the)f(k)o(ernel)f
(must)h(also)g(ensure)g(that)g(an)o(y)f(cop)o(y)g(on)h(write)g
(requirements)e(are)i(satis\002ed)h(before)337 3778 y(the)g(operation)e
(proceeds.)39 b(All)26 b(of)g(this)g(acti)n(vity)f(is)h(dri)n(v)o(en)e
(from)h(the)g(in)m(v)n(ocation)f(of)h(the)g(original)g(capability)-5
b(.)39 b(In)26 b(the)337 3928 y(absence)20 b(of)g(optimization,)e(the)i
(steps)h(needed)e(to)h(locate)g(an)h(object)e(are)h(sho)n(wn)g(in)g
(Algorithm)f(7.1.)462 4080 y(This)32 b(sequence)f(of)g(operations)f(is)
j(comple)o(x,)f(in)m(v)n(olving)e(a)i(relati)n(v)o(ely)f(e)o(xpensi)n
(v)o(e)e(hash)j(table)g(lookup,)g(se)n(v)o(eral)337 4229
y(conditional)17 b(tests)i(and)f(a)h(number)d(of)i(references)f(to)i
(data)f(\002elds)g(that)h(are)f(not)g(lik)o(ely)g(to)g(be)h(in)f(the)g
(cache)g(and)g(which)g(are)337 4379 y(lik)o(ely)h(to)h(cause)f
(con\003ict)g(misses)h(when)e(loaded.)24 b(Further)m(,)17
b(the)i(result)h(of)e Fn(FindObject\(\))g FM(is)i(amenable)e(to)h
(caching.)337 4528 y(Because)25 b(the)g(memory)e(object)h(structure)g
(is)h(hierarchical)e(and)i(the)f(process)g(constituents)g(are)h(loaded)
f(and)g(unloaded)337 4678 y(as)k(a)e(unit,)i(most)e(of)g(the)h
(capabilities)f(e)o(xamined)e(by)i(a)h(gi)n(v)o(en)e(in)m(v)n(ocation)g
(pro)o(v)o(e)f(to)j(ha)n(v)o(e)f(been)f(e)o(xamined)g(by)h(some)337
4827 y(pre)n(vious)19 b(operation.)k(If)c(a)i(w)o(ay)f(can)f(be)h
(found)e(to)i(record)f(the)h(results)g(of)f(these)h(pre)n(vious)f(e)o
(xaminations,)f(much)g(of)i(this)337 4977 y(algorithm)f(can)h(be)g(a)n
(v)n(oided)g(in)g(the)g(common)e(case.)p 337 5042 1425
4 v 337 5097 a FB(2)404 5121 y FA(Diagnosing)23 b(errors)f(in)g(the)g
(aging/pinning)j(logic)e(w)o(as)f(challenging,)k(as)21
b(the)i(symptoms)e(tend)h(to)g(be)g(v)o(ery)g(dif)n(\002cult)i(to)e
(reproduce)h(and)f(depend)404 5200 y(hea)o(vily)d(on)e(the)h(order)f
(of)g(operations.)23 b(In)17 b(some)g(cases,)g(se)n(v)o(eral)i(hours)e
(passed)h(before)g(a)f(bad)h(e)n(viction)i(w)o(ould)e(occur)l(.)2056
5410 y FM(101)p eop
%%Page: 102 118
102 117 bop 37 31 3563 7 v 37 105 a FJ(Algorithm)20 b(7.1)g
FM(FindObject\(\))e(\226)j(locate)f(object)f(from)g(capability)p
37 143 3563 4 v 121 233 a(oid)g(:=)i(cap.oid;)121 332
y(pObj)e(:=)i(LookupObject\(oid\);)16 b FI(Chec)n(k)k(object)g(hash)g
(table)121 432 y FJ(if)g FM(pObj)g(==)g(null)g FJ(then)204
532 y FI(//)g(Object)h(is)g(not)f(in)g(cac)o(he)204 631
y FM(LoadObject\(oid\);)204 731 y(W)-7 b(aitF)o(orObject\(oid\);)18
b FI(//)j(Place)f(our)o(self)g(on)g(stall)h(queue)204
831 y FM(Y)-5 b(ield\(\);)20 b FI(//)g(Upwar)m(d)g(thr)l(ow)-6
b(,)21 b(caught)d(by)j(sc)o(heduler)121 930 y FJ(end)f(if)121
1030 y(if)g FM(cap.allocCount)e(!=)i(pObj.allocCount)e
FJ(then)204 1129 y FI(//)i(Capability)g(is)h(not)f(valid)204
1229 y FM(cap)g(=)g(NumberCapability\(0\);)204 1329 y(Y)-5
b(ield\(\);)20 b FI(//)g(Causes)h(r)m(etry)-5 b(,)21
b(whic)o(h)f(in)m(vok)o(es)g(number)f(cap)121 1428 y
FJ(end)h(if)121 1528 y FM(return)f(pObj;)p 37 1582 V
37 1926 a FJ(Allocation)h(Counts)37 2221 y FM(A)h(brief)f(aside)g(at)h
(this)f(point)g(is)h(necessary)f(concerning)d(allocation)i(counts.)162
2418 y(The)h(ER)m(OS)h(virtual)f(machine)g(requires)f(that)i(objects)f
(be)h(ef)n(\002ciently)f(rescindable.)k(It)d(does)g(not)f(specify)g(ho)
n(w)-5 b(.)25 b(The)37 2567 y(dif)n(\002culty)d(in)h(implementation)e
(is)i(that)g(capabilities)g(to)g(the)f(rescinded)g(object)g(may)g
(reside)h(on)f(disk,)h(and)g(tra)n(v)o(ersal)f(of)37
2717 y(the)f(disk)f(is)h(inconsistent)e(with)i(the)f(need)f(for)h(ef)n
(\002cienc)o(y)-5 b(.)162 2913 y(Instead,)23 b(ER)m(OS)g(associates)h
(an)f FF(allocation)f(count)h FM(with)h(each)e(object.)33
b(This)23 b(count)f(tracks)h(the)g(number)e(of)i(times)37
3063 y(that)32 b(the)f(object)g(has)g(been)g(reallocated.)57
b(When)31 b(access)g(to)h(an)f(object)g(is)h(rescinded,)g(the)g(count)e
(on)h(the)g(object)g(is)37 3212 y(incremented.)h(As)24
b(sho)n(wn)e(in)h(Figure)g(7.1,)g(an)g(allocation)f(count)g(is)i(also)f
(stored)g(in)g(each)f(capability)g(to)i(the)f(object.)33
b(If)37 3362 y(the)23 b(allocation)f(count)g(on)g(the)h(capability)e
(and)i(the)f(allocation)g(count)g(on)g(the)h(object)f(do)g(not)h
(match,)f(the)h(capability)f(is)37 3511 y(in)m(v)n(alid)d(and)h(is)h
(con)m(v)o(erted)d(to)i(a)h(zero)e(number)g(capability)-5
b(,)18 b(which)i(ef)n(fecti)n(v)o(ely)e(con)m(v)o(e)o(ys)g(no)i
(authority)-5 b(.)p 37 3730 3563 7 v 37 3804 a FJ(Figur)o(e)20
b(7.1)f FM(Unoptimized)g(object)g(capability)p 37 3842
3563 4 v 1040 3941 a
 11972280 4999413 0 0 11972280 4999413 startTexFig
 1040 3941 a
%%BeginDocument: DiskCap.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: DiskCap.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:08 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 182 76
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-17.0 82.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 2362 m -1000 -1000 l 4312 -1000 l 4312 2362 l cp clip
 0.06000 0.06000 sc
/Times-Italic ff 180.00 scf sf
900 600 m
gs 1 -1 sc (xx) col0 sh gr
% Polyline
7.500 slw
n 1050 450 m 1800 450 l 1800 675 l 1050 675 l cp gs col-1 s gr 
% Polyline
n 300 450 m 1050 450 l 1050 675 l 300 675 l cp gs col-1 s gr 
% Polyline
n 1800 450 m 3300 450 l 3300 675 l 1800 675 l cp gs col-1 s gr 
% Polyline
n 3300 675 m 3300 900 l 300 900 l 300 675 l cp gs col-1 s gr 
% Polyline
n 3300 1125 m 3300 1350 l 300 1350 l 300 1125 l cp gs col-1 s gr 
% Polyline
n 3300 900 m 3300 1125 l 300 1125 l 300 900 l cp gs col-1 s gr 
% Polyline
gs  clippath
556 311 m 450 375 l 514 269 l 418 364 l 461 407 l cp
clip
n 600 225 m 450 375 l gs col-1 s gr gr

% arrowhead
n 556 311 m 450 375 l 514 269 l 535 290 l 556 311 l  cp gs 0.00 setgray ef gr  col-1 s
/Times-Bold ff 150.00 scf sf
1125 600 m
gs 1 -1 sc (SubType) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2325 600 m
gs 1 -1 sc (Info) col-1 sh gr
/Times-Roman ff 150.00 scf sf
375 600 m
gs 1 -1 sc (0) col-1 sh gr
/Times-Bold ff 150.00 scf sf
525 600 m
gs 1 -1 sc (Type) col-1 sh gr
/Times-Bold ff 150.00 scf sf
1125 825 m
gs 1 -1 sc (Allocation Count[31:0]) col-1 sh gr
/Times-Bold ff 150.00 scf sf
1350 1050 m
gs 1 -1 sc (OID[63:32]) col-1 sh gr
/Times-Bold ff 150.00 scf sf
1350 1275 m
gs 1 -1 sc (OID[31:0]) col-1 sh gr
/Times-Italic ff 150.00 scf sf
675 225 m
gs 1 -1 sc (Prepared Bit) col-1 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 4677 3563 4 v 162 5050 a FM(A)e(similar)f(mechanism,)g(kno)n(wn)e
(as)j(the)f FF(call)h(count)p FM(,)g(is)g(used)f(in)h(connection)d
(with)i(the)g(ER)m(OS)h(IPC)g(implementation)37 5200
y(to)k(ensure)e(\223at)i(most)f(once\224)f(return)g(semantics.)25
b(This)c(count)e(will)i(be)f(discussed)g(in)g(Section)g(7.4.)1756
5410 y(102)p eop
%%Page: 103 119
103 118 bop 337 108 a FG(7.1.3)99 b(Lookup)27 b(Result)e(Caching)337
347 y FM(Ev)o(ery)19 b(object)g(frame)g(\(node)g(frame)g(or)h(page)f
(frame\))g(in)h(the)g(object)f(cache)g(has)i(an)e(associated)h(entry)f
(in)h(an)g(in-memory)337 496 y(object)d(table.)24 b(This)17
b(object)g(table)g(entry)f(contains)g(v)n(arious)g(metadata)g(about)g
(the)h(object,)g(including)f(its)i(object)e(identi\002er)337
645 y(\(OID\),)26 b(allocation)f(count,)h(and)g(call)g(count.)42
b(Object)26 b(table)g(entries)f(for)h(occupied)e(frames)i(are)g(link)o
(ed)f(into)h(an)g(OID-)337 795 y(inde)o(x)o(ed)19 b(hash)h(table,)f
(allo)n(wing)h(in-memory)d(objects)j(to)h(be)f(located)f(ef)n
(\002ciently)-5 b(.)462 962 y(T)e(o)22 b(eliminate)f(redundant)e
(object)i(lookups)f(and)g(v)n(alidations,)h(the)g(object)g(capability)g
(is)h(updated)e(once)h(the)g(alloca-)337 1111 y(tion)g(check)g(has)g
(completed)f(successfully)-5 b(.)27 b(The)21 b(capability)f(is)i(con)m
(v)o(erted)d(into)i(an)g(optimized,)f(in-memory)e(form)i(that)337
1261 y(points)f(directly)f(to)h(the)g(in-memory)e(object)h(\(Figure)g
(7.2\).)24 b(Such)18 b(a)h(capability)f(is)i(said)g(to)f(be)g
FF(prepared)q FM(.)k(If)c(a)h(capability)337 1410 y(is)i(prepared,)c
(the)i(operating)e(system)i(may)g(mak)o(e)g(the)g(follo)n(wing)f
(assumptions:)410 1612 y Fw(\017)41 b FM(The)20 b(associated)g(object)f
(is)i(in)g(memory)-5 b(.)410 1795 y Fw(\017)41 b FM(The)20
b(capability)f(is)i(v)n(alid)f(\(i.e.)k(the)d(allocation)e(counts)g
(check)o(ed)g(successfully\).)410 1979 y Fw(\017)41 b
FM(The)18 b(capability)f(points)h(to)g(the)g(object')-5
b(s)18 b(header)f(\(usually\))g(or)h(to)h(its)g(cached)e(conte)o(xt)g
(structure)g(\(start)i(and)e(resume)493 2128 y(capabilities\).)p
337 2322 3563 7 v 337 2396 a FJ(Figur)o(e)j(7.2)f FM(Prepared)g(object)
h(capability)p 337 2434 3563 4 v 1302 2533 a
 12564316 9735700 0 0 12564316 9735700 startTexFig
 1302 2533
a
%%BeginDocument: PrepCap.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: PrepCap.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:08 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 191 148
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-8.0 154.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3562 m -1000 -1000 l 4312 -1000 l 4312 3562 l cp clip
 0.06000 0.06000 sc
/Times-Italic ff 180.00 scf sf
900 600 m
gs 1 -1 sc (xx) col0 sh gr
% Polyline
7.500 slw
n 1050 450 m 1800 450 l 1800 675 l 1050 675 l cp gs col-1 s gr 
% Polyline
n 300 450 m 1050 450 l 1050 675 l 300 675 l cp gs col-1 s gr 
% Polyline
n 1800 450 m 3300 450 l 3300 675 l 1800 675 l cp gs col-1 s gr 
% Polyline
n 3300 675 m 3300 900 l 300 900 l 300 675 l cp gs col-1 s gr 
% Polyline
n 3300 1125 m 3300 1350 l 300 1350 l 300 1125 l cp gs col-1 s gr 
% Polyline
gs  clippath
330 1695 m 450 1725 l 330 1755 l 465 1755 l 465 1695 l cp
clip
n 450 1200 m 150 1200 l 150 1725 l 450 1725 l gs col-1 s gr gr

% arrowhead
n 330 1695 m 450 1725 l 330 1755 l 330 1725 l 330 1695 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
n 452 1652 m 1727 1652 l 1727 1877 l 452 1877 l cp gs col-1 s gr 
% Polyline
n 452 1877 m 1727 1877 l 1727 2102 l 452 2102 l cp gs col-1 s gr 
% Polyline
n 3300 900 m 3300 1125 l 300 1125 l 300 900 l cp gs col-1 s gr 
% Polyline
n 450 2100 m 1725 2100 l 1725 2325 l 450 2325 l cp gs col-1 s gr 
% Polyline
n 450 2325 m 1725 2325 l 1725 2550 l 450 2550 l cp gs col-1 s gr 
% Polyline
n 2325 1650 m 3076 1650 l 3076 2250 l 2325 2250 l cp gs col-1 s gr 
% Polyline
gs  clippath
2205 1920 m 2325 1950 l 2205 1980 l 2340 1980 l 2340 1920 l cp
clip
n 1575 2475 m 1950 2475 l 1950 1950 l 2325 1950 l gs col-1 s gr gr

% arrowhead
n 2205 1920 m 2325 1950 l 2205 1980 l 2205 1950 l 2205 1920 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
556 311 m 450 375 l 514 269 l 418 364 l 461 407 l cp
clip
n 600 225 m 450 375 l gs col-1 s gr gr

% arrowhead
n 556 311 m 450 375 l 514 269 l 535 290 l 556 311 l  cp gs 0.00 setgray ef gr  col-1 s
/Times-BoldItalic ff 150.00 scf sf
525 1575 m
gs 1 -1 sc (Object Table Entry) col-1 sh gr
/Times-Bold ff 150.00 scf sf
752 1802 m
gs 1 -1 sc (OID[31:0]) col-1 sh gr
/Times-Bold ff 150.00 scf sf
752 2027 m
gs 1 -1 sc (Alloc. Count) col-1 sh gr
/Times-Bold ff 150.00 scf sf
1125 600 m
gs 1 -1 sc (SubType) col-1 sh gr
/Times-Bold ff 150.00 scf sf
2325 600 m
gs 1 -1 sc (Info) col-1 sh gr
/Times-Roman ff 150.00 scf sf
375 600 m
gs 1 -1 sc (1) col-1 sh gr
/Times-Bold ff 150.00 scf sf
525 600 m
gs 1 -1 sc (Type) col-1 sh gr
/Times-Bold ff 150.00 scf sf
1125 825 m
gs 1 -1 sc (Allocation Count[31:0]) col-1 sh gr
/Times-Bold ff 150.00 scf sf
1350 1050 m
gs 1 -1 sc (OID[63:32]) col-1 sh gr
/Times-Bold ff 150.00 scf sf
750 2475 m
gs 1 -1 sc (Object Ptr) col-1 sh gr
/Times-Bold ff 150.00 scf sf
750 2250 m
gs 1 -1 sc (Call Count) col-1 sh gr
/Times-BoldItalic ff 150.00 scf sf
2550 1876 m
gs 1 -1 sc (Page) col-1 sh gr
/Times-BoldItalic ff 150.00 scf sf
2626 2026 m
gs 1 -1 sc (or) col-1 sh gr
/Times-BoldItalic ff 150.00 scf sf
2550 2175 m
gs 1 -1 sc (Node) col-1 sh gr
/Times-Italic ff 150.00 scf sf
675 225 m
gs 1 -1 sc (Prepared Bit) col-1 sh gr
/Times-Bold ff 150.00 scf sf
975 1275 m
gs 1 -1 sc (Object Table Entry Pointer) col-1 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 3870 3563 4 v 462 4136 a FM(The)k(prepared)e(capability)h(is)i
(placed)f(on)g(a)g(doubly)f(link)o(ed)g(list)j(whose)e(root)f(is)i
(either)f(the)g(object)g(header)f(for)h(the)337 4285
y(object)d(that)g(it)g(names)f(or)h(the)g(conte)o(xt)e(structure)h(for)
g(that)h(object)f(\(if)h(an)o(y\).)k(If)c(the)f(in-memory)f(object)h
(is)i(rescinded,)d(or)337 4435 y(if)f(the)f(object)g(must)g(be)g(remo)o
(v)o(ed)d(from)j(memory)-5 b(,)15 b(this)j(chain)e(is)i(w)o(alk)o(ed)f
(to)g(deprepare)e(all)j(of)f(the)g(prepared)e(capabilities)337
4584 y(to)25 b(that)g(object.)37 b(Prepared)23 b(capabilities)h(are)g
(also)h(deprepared)c(before)i(being)h(written)g(to)h(disk.)37
b(In-memory)22 b(pointers)337 4734 y(are)f(not)e(written)h(to)h(disk)f
(under)f(an)o(y)g(circumstances.)462 4901 y(The)j(end)f(result)h(is)h
(that)f(the)g(necessary)g(steps)g(before)f(a)h(capability)f(can)h(be)g
(used)g(are)g(reduced)e(to)i(those)g(sho)n(wn)f(in)337
5050 y(Algorithm)h(7.2.)34 b(The)23 b(decision)g(about)f(whether)h(the)
g(operation)f(modi\002es)g(the)i(object)f(can)g(be)g(made)g(statically)
h(at)g(the)337 5200 y(site)e(of)d(the)i(call.)k(As)c(a)g(result,)f
(this)g(check)g(can)g(often)f(be)h(omitted.)2056 5410
y(103)p eop
%%Page: 104 120
104 119 bop 37 31 3563 7 v 37 105 a FJ(Algorithm)20 b(7.2)g
FM(Optimized)f(steps)i(for)e(safe)i(object)e(access)p
37 143 3563 4 v 121 233 a FJ(if)h FM(cap.IsPrepared\(\))d
FJ(then)204 333 y FM(pObj)i(:=)i(cap.pObj;)121 433 y
FJ(else)204 532 y FM(cap.Prepare\(\))c FI(//)k(\002nds)f(object,)f(pr)m
(epar)m(es)h(capability)121 632 y FJ(end)g(if)121 732
y(if)g FI(oper)o(ation)e(modi\002es)i(object)h FJ(then)204
831 y FM(pObj.Mak)o(eObjectWritable\(\);)c FI(//)j(May)h(yield)f(due)f
(to)i(I/O)f(fr)l(om)h(memory)f(pr)m(essur)m(e)121 931
y FJ(end)g(if)121 1030 y FM(pObj.Pin\(\);)p 37 1085 V
37 1280 3563 7 v 37 1354 a FJ(T)-8 b(able)22 b(7.1)d
FM(ER)m(OS)i(capability)e(types.)p 37 1392 3563 4 v 667
1561 a FF(Start)498 b FJ(Segment)98 b FM(Miscellaneous)h(Miscellaneous)
667 1661 y FF(Resume)392 b FJ(Pr)o(ocess)178 b FM(K)n(e)o(yBits)310
b(Checkpoint)708 1760 y FF(Resume)351 b FM(De)n(vice)211
b(Discrim)311 b(System)20 b(T)m(race)708 1860 y FF(F)-8
b(ault)483 b FI(various)154 b FM(Returner)287 b(T)m(ime)20
b(Of)h(Day)667 1959 y FJ(Data)e(P)o(age)302 b FM(Number)171
b(Process)20 b(T)-7 b(ool)154 b(Schedule)19 b(Creator)667
2059 y FJ(Capability)g(P)o(age)99 b FM(Schedule)139 b(Console)306
b(De)n(vice)20 b(Creator)667 2159 y FJ(Node)479 b FM(Range)232
b(Log)20 b(Append)201 b FI(various)1776 2258 y FM(Sleep)394
b(T)m(ime)20 b(P)o(age)p 37 2391 V 37 2729 a FJ(The)i(T)-6
b(ype)20 b(Byte)37 3019 y FM(The)i(capability)g(type)f(byte)h(is)h
(laid)f(out)g(such)g(that)g(the)h(\223prepared\224)d(bit)i(f)o(alls)h
(in)f(the)g(position)g(of)g(the)g(highest)f(order)g(bit)37
3168 y(of)h(both)e(the)h(containing)f(w)o(ord)h(and)f(the)i(containing)
d(byte.)28 b(The)21 b(hazard)f(bits)i(are)g(placed)e(in)i(the)f(lo)n(w)
g(order)g(bits)g(of)h(the)37 3318 y(type)e(bit,)g(and)g(the)g
(remaining)f(bits)h(encode)f(the)h(capability)g(type.)162
3511 y(The)k(capability)g(types)h(implemented)e(by)h(ER)m(OS)h(are)g
(sho)n(wn)f(in)h(T)-7 b(able)25 b(7.1.)38 b(Capability)24
b(subtypes)g(are)h(indented)37 3661 y(relati)n(v)o(e)i(to)g(their)g
(associated)g(major)f(types.)46 b(Capability)27 b(types)g(that)g(name)g
(objects)f(are)i(sho)n(wn)e(in)h FJ(bold)p FM(,)i(while)f(ca-)37
3810 y(pability)d(types)g(related)g(to)g(the)g(in)m(v)n(ocation)e(of)i
(user)g(de\002ned)f(objects)h(are)g(sho)n(wn)g(in)g FF(bold)g(italic)p
FM(.)40 b(The)24 b(implemented)37 3960 y(capability)k(types)h(are)g
(slightly)g(richer)f(than)h(those)f(described)g(for)g(the)h(virtual)g
(machine)f(in)h(Chapter)f(2.)51 b(Additions)37 4109 y(in)29
b(the)f(implementation)f(relate)h(to)g(realization)g(of)g(persistence)g
(\(the)g(checkpoint)e(capability\),)j(de)n(vices)e(\(the)h(de)n(vice)37
4259 y(capability)-5 b(,)29 b(the)e(v)n(arious)g(time-related)g
(capabilities,)i(the)f(console)f(capability\))f(or)h(e)o
(xternalization)f(of)h(performance)37 4408 y(measurement)19
b(f)o(acilities)h(\(the)g(System)g(T)m(race)g(capability\).)j(The)d(se)
o(gment)f(capability)g(re\003ects)h(a)h(minor)e(drift)g(between)37
4558 y(the)28 b(implementation)c(and)j(the)g(\002nal)g(virtual)g
(machine)f(speci\002cation;)k(a)d(se)o(gment)f(capability)g(is)i
(simply)f(an)g(opaque)37 4707 y(node)20 b(capability)-5
b(.)162 4901 y(The)27 b(important)f(thing)h(about)g(this)h(table)f(is)i
(that)e(capability)g(types)g(are)h(numbered)d(by)i(proceeding)e(from)h
(top)h(to)37 5050 y(bottom)g(and)g(left)g(to)h(right)f(f)o(ashion.)46
b(Thus,)29 b(process)e(in)m(v)n(ocation)e(capabilities)i(ha)n(v)o(e)g
(the)h(smallest)g(v)n(alues)f(and)g(non-)37 5200 y(object)22
b(capabilities)g(ha)n(v)o(e)g(the)g(lar)o(gest)f(v)n(alues.)31
b(The)22 b(reason)f(for)h(this)h(care)f(in)g(representation)e(is)j(the)
f(lar)o(ge)f(number)g(of)1756 5410 y(104)p eop
%%Page: 105 121
105 120 bop 337 108 a FM(places)21 b(in)f(the)g(ER)m(OS)h
(implementation)d(where)h(the)i(sequence)493 285 y Fn(if)49
b(\(cap.NeedsPrepare\(\)\))592 385 y(cap.Prepare\(\);)337
612 y FM(appears,)23 b(and)g(\(equally)f(important\))f(the)j(number)d
(of)i(times)h(that)f(this)h(check)f(appears)f(in)i(the)f(critical)g
(path.)34 b(The)23 b(goal)337 762 y(is)f(to)e(arri)n(v)o(e)f(at)i(a)g
(representation)d(in)i(which)g(no)g(compound)d(test)k(is)g(required)e
(to)h(simultaneously)f(test)i(the)f(prepared)e(bit)337
911 y(and)24 b(the)g(capability)f(type.)35 b(This)24
b(is)h(one)f(case)g(where)f(the)h(lazy)g(conditionals)e(of)i(C++)h(are)
e(intrusi)n(v)o(e.)35 b(By)25 b(taking)e(care)337 1061
y(with)18 b(the)g(layout)e(of)h(the)h(type)f(byte,)g(the)h(necessary)f
(comparison)e(can)i(be)h(performed)d(in)i(a)h(single)g(compare)d(and)i
(branch.)337 1652 y FG(7.1.4)99 b(The)26 b(Pin)f(Mechanism)337
1908 y FM(The)h(call)g(to)f Fn(pObj.pin\(\))g FM(in)g(Algorithm)f(7.2)h
(marks)g(the)h(object)f(as)h(part)f(of)g(the)h(currently)e(running)f
(transaction.)337 2058 y(Originally)-5 b(,)19 b(this)i(w)o(as)g
(accomplished)d(by)i(setting)g(a)h(bit)g(in)f(the)g(object)g(header)f
(and)h(appending)e(a)i(pointer)f(to)i(the)f(object)337
2207 y(to)f(a)g(pinned)e(object)h(table.)25 b(If)18 b(the)h(operation)d
(completed,)i(or)g(if)h(it)g(yielded)f(without)f(successful)i
(completion,)e(this)i(table)337 2356 y(w)o(as)j(w)o(alk)o(ed)d(to)i
(release)f(the)g(objects.)462 2532 y(This)25 b(approach)d(w)o(as)j
(unnecessarily)e(complicated,)h(and)g(a)h(ne)n(w)f(strate)o(gy)g(w)o
(as)h(adopted.)36 b(In)24 b(the)h(present)e(design,)337
2682 y(e)n(v)o(ery)d(in)m(v)n(ocation)g(of)h(the)g(k)o(ernel)f(is)i
(assigned)f(a)h(unique)d(serial)j(number)-5 b(.)26 b(This)c(number)d
(is)j(written)f(into)g(e)n(v)o(ery)f(pinned)337 2831
y(object.)43 b(If)25 b(the)i(ager)e(encounters)f(an)i(object)g(whose)g
(pin)f(count)h(matches)f(the)h(current)f(in)m(v)n(ocation)f(serial)j
(number)m(,)e(it)337 2981 y(lea)n(v)o(es)d(the)g(object)f(alone.)29
b(F)o(or)22 b(modest)f(scale)h(multiprocessors,)e(a)i(per)n(-processor)
e(pin)h(\002eld)h(can)g(be)f(used.)30 b(F)o(or)21 b(lar)o(ger)337
3130 y(scale)27 b(multiprocessors,)e(the)g(original)g(design)g(can)g
(be)h(re)n(vised)f(to)h(replace)f(the)g(per)n(-object)g(pin)g(count)g
(with)g(lo)n(w)h(and)337 3280 y(high)20 b(w)o(ater)g(marks)g(in)g(a)h
(per)n(-processor)d(pin)i(table.)462 3456 y(One)25 b(consideration)e
(in)i(the)g(pin)g(design)f(is)i(that)g(there)e(are)h(v)o(ery)f(fe)n(w)h
(cases)h(in)f(which)g(the)g(semantics)g(of)g(the)g(vir)n(-)337
3605 y(tual)g(machine)e(require)g(that)h(an)g(object)g(mutation)f(be)h
(performed)e(under)h(an)h(e)o(xplicit)f(mute)o(x,)h(and)g(in)g(these)h
(cases)g(the)337 3755 y(implementing)19 b(code)g(is)i(in)m(v)n(ariably)
d(well)j(positioned)e(to)h(lock)g(the)g(object)g(in)g(question.)337
4196 y FG(7.1.5)99 b(What)25 b(About)h(Garbage)f(Collection?)337
4452 y FM(Most)e(capability)f(systems)h(ha)n(v)o(e)e(used)i(garbage)d
(collection)h(to)i(support)e(object)h(frame)f(reclamation.)31
b(A)23 b(garbage)d(col-)337 4602 y(lected)d(implementation)c
(eliminates)k(the)f(need)f(for)h(link)o(ed)f(list)j(maintenance)c
(during)g(user)j(de\002ned)e(object)g(in)m(v)n(ocations.)337
4751 y(While)21 b(the)g(capabilities)f(copied)f(are)h(resident)g(in)h
(the)f(data)g(cache)g(with)h(high)e(lik)o(elihood,)g(their)h(neighbors)
e(on)i(the)h(link)337 4901 y(chain)26 b(usually)g(are)h(not;)i(this)e
(maintenance)e(can)h(therefore)f(account)h(for)f(as)j(much)d(as)j
(17\045)e(of)g(the)h(total)f(in)m(v)n(ocation)337 5050
y(cost.)35 b(I)24 b(therefore)e(seriously)g(considered)g(replacing)g
(the)h(doubly)f(link)o(ed)h(list)h(mechanism)e(with)i(a)g(garbage)d
(collected)337 5200 y(approach.)2056 5410 y(105)p eop
%%Page: 106 122
106 121 bop 37 108 a FJ(The)22 b(Pr)o(oblem)37 325 y
FM(The)16 b(main)f(problem)e(with)j(garbage)d(collection)i(lies)h(in)g
(the)f(need)g(for)g(a)h(sweep)f(pass)h(that)g(tra)n(v)o(erses)f(all)h
(of)f(main)g(memory)-5 b(.)37 474 y(This)24 b(sweep)f(pass)h(must)f(e)o
(xamine)f(all)h(in-memory)e(nodes)h(and)h(capability)f(pages.)33
b(Based)24 b(on)f(the)g(distrib)n(ution)f(of)h(in-)37
624 y(memory)d(object)h(types)g(I)h(ha)n(v)o(e)e(observ)o(ed)g(in)h(ER)
m(OS,)h(this)g(in)m(v)n(olv)o(es)e(running)f(nearly)h(25\045)h(of)g
(main)g(memory)f(through)37 773 y(the)26 b(cache,)g(and)f(re)n(writing)
f(approximately)f(1.5\045)h(of)i(the)f(capabilities)g(that)h(are)f(e)o
(xamined.)38 b(Modern)24 b(systems)i(ha)n(v)o(e)37 923
y(lar)o(ge)15 b(memories,)h(so)g(this)g(pass)h(must)f(be)f(done)g
(incrementally)-5 b(.)21 b(Until)16 b(the)g(sweep)g(pass)g(completes,)g
(it)g(must)g(be)g(assumed)37 1072 y(that)k(there)g(e)o(xist)f
(outstanding)f(pointers)h(to)h(the)f(objects)h(that)g(are)f(candidates)
g(for)g(reclamation,)f(and)h(that)h(these)g(objects)37
1222 y(must)h(therefore)d(remain)h(undisturbed)f(in)j(memory)d(until)i
(the)g(sweep)g(pass)h(has)g(completed.)162 1377 y(The)k(problem)f(lies)
j(in)f(the)f(interaction)g(between)g(the)g(sweep)h(delay)f(and)g(the)h
(cause)g(of)f(the)h(collection,)f(which)h(is)37 1527
y(memory)j(pressure.)53 b(The)30 b(end)f(consequence)f(of)i(a)g
(garbage)e(collected)h(design)g(is)i(to)f(introduce)e(windo)n(ws)i(of)f
(time)37 1676 y(during)c(which)g(an)o(y)g(process)h(that)f(needs)h(to)g
(allocate)g(a)g(ne)n(w)g(object)f(in)h(main)f(memory)f(becomes)h(block)
o(ed)g(until)h(the)37 1825 y(sweep)18 b(phase)f(has)h(completed.)23
b(This)18 b(w)o(ould)f(be)g(particularly)f(anno)o(ying)g(just)i(after)f
(a)h(checkpoint,)e(when)h(roughly)f(25\045)37 1975 y(of)24
b(the)f(objects)g(are)h(mark)o(ed)e(cop)o(y)h(on)g(write,)h(and)f(a)h
(substantial)f(fraction)f(of)h(these)h(are)f(acti)n(v)o(e)g(enough)f
(to)h(be)h(copied)37 2124 y(before)d(the)h(background)c(cleaning)i
(process)i(deals)g(with)g(them.)29 b(While)22 b(a)g(lar)o(ge)f
(proportion)e(of)i(the)h(acti)n(v)o(e)f(objects)h(are)37
2274 y(nodes,)f(and)g(these)g(objects)g(are)h(relati)n(v)o(ely)e(cheap)
g(to)i(clean,)f(the)g(memory)f(pressure)g(induced)g(by)h(checkpoint)e
(remains)37 2423 y(considerable.)37 2728 y FJ(Re)o(visiting)h(The)h
(Decision)37 2945 y FM(At)j(the)e(time)h(of)f(my)g(e)n(v)n(aluation,)f
(it)j(appeared)c(that)j(the)g(garbage)d(collected)i(implementation)e
(required)h(a)i(w)o(ater)f(mark)37 3095 y(check)31 b(in)h(the)g
(capability)e(cop)o(y)h(path)g(to)h(ensure)f(that)h(unswept)f
(capabilities)g(were)h(not)f(copied)f(into)i(swept)g(space)37
3244 y(\(Figure)17 b(7.3\).)23 b(If)17 b(this)g(check)g(must)g(be)g
(performed)d(in)k(the)f(f)o(ast)h(path)e(of)h(e)n(v)o(ery)f
(interprocess)g(in)m(v)n(ocation,)g(it)h(signi\002cantly)37
3394 y(reduces)26 b(the)g(relati)n(v)o(e)f(bene\002t)h(of)g
(eliminating)f(the)h(link)o(ed)f(list.)44 b(I)27 b(ha)n(v)o(e)e(since)i
(mo)o(v)o(ed)d(capability)h(re)o(gisters)h(into)g(the)37
3543 y(process)19 b(cache.)24 b(This)19 b(cache)g(is)h(small)g(enough)d
(to)i(be)g(swept)g(aggressi)n(v)o(ely)-5 b(,)17 b(which)i(eliminates)f
(the)i(need)e(for)g(the)h(w)o(ater)37 3692 y(mark)h(check)f(in)i(the)f
(f)o(ast)h(path.)p 37 3829 3563 7 v 37 3903 a FJ(Figur)o(e)f(7.3)f
FM(Capability)h(cop)o(y)g(in)g(mid-sweep.)p 37 3941 3563
4 v 1035 4040 a
 12038062 2828615 0 0 12038062 2828615 startTexFig
 1035 4040 a
%%BeginDocument: mid-sweep.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: mid-sweep.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:09 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 183 43
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-30.0 64.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 2062 m -1000 -1000 l 4537 -1000 l 4537 2062 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 525 375 m 1875 375 l 1875 675 l 525 675 l cp gs col0 s gr 
% Polyline
n 1875 375 m 3525 375 l 3525 675 l 1875 675 l cp gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
1320 819 m 1350 675 l 1380 819 l 1380 660 l 1320 660 l cp
clip
n 2400 675 m 2400 1050 l 1350 1050 l 1350 675 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1320 819 m 1350 675 l 1380 819 l 1350 795 l 1320 819 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Italic ff 180.00 scf sf
900 600 m
gs 1 -1 sc (swept) col0 sh gr
/Times-Italic ff 180.00 scf sf
2400 600 m
gs 1 -1 sc (unswept) col0 sh gr
/Times-Roman ff 180.00 scf sf
1650 975 m
gs 1 -1 sc (copy) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 4502 3563 4 v 162 4751 a FM(Also,)d(I)e(ha)n(v)o(e)g(since)h
(realized)f(that)h(by)f(using)g(tw)o(o)g(w)o(ater)h(marks)f(on)g(the)h
(reclaimable)e(frame)h(pool)g(the)g(delay)g(induced)37
4901 y(by)20 b(collection)f(can)h(be)f(rendered)f(predictable)h(and)g
(in)h(most)g(cases)g(small.)26 b(When)19 b(the)h(number)e(of)i
(reclaimable)f(objects)37 5050 y(reaches)f(the)g(higher)f(w)o(ater)h
(mark,)g(a)h(background)14 b(collection)j(is)j(initiated.)j(When)18
b(the)h(reclaimable)e(objects)h(f)o(all)g(belo)n(w)37
5200 y(a)h(second)e(w)o(ater)i(mark)e Fy(N)9 b FM(,)19
b(some)f(fraction)f(of)h(memory)e(must)j(be)f(swept)g(for)g(each)g
(object)f(reclaimed.)24 b(If)18 b Fy(M)27 b FM(is)19
b(the)f(total)1756 5410 y(106)p eop
%%Page: 107 123
107 122 bop 337 108 a FM(number)20 b(of)h(in-memory)e(object)i(frames,)
g(the)h(v)n(alue)f(of)g Fy(N)31 b FM(can)21 b(be)g(chosen)g(to)g
(maintain)g(a)h(suitably)f(lo)n(w)g(o)o(v)o(erhead)e(for)337
257 y(collection.)462 416 y(In)26 b(this)g(design,)g(some)g(percentage)
e(of)h(the)h(object)f(frames)h(in)g(memory)e(are)i(ef)n(fecti)n(v)o
(ely)e(reserv)o(ed)g(for)h(use)h(as)h(an)337 565 y(impedance)c
(matching)f(b)n(uf)n(fer)h(between)h(memory)e(pressure)h(and)h(the)g
(garbage)e(collector)m(,)h(and)h(this)h(percentage)d(rises)337
715 y(in)k(in)m(v)o(erse)e(linear)h(proportion)e(to)i(the)h(system')-5
b(s)26 b(o)o(v)o(erall)e(response)g(time)i(requirements.)39
b(Gi)n(v)o(en)24 b(the)i(small)f(footprint)337 864 y(of)e(ER)m(OS)f
(and)g(its)i(relati)n(v)o(e)d(memory)g(management)f(ef)n(\002cienc)o(y)
-5 b(,)21 b(this)i(may)f(pro)o(v)o(e)e(to)j(be)f(an)g(acceptable)g
(cost;)h(certain-)337 1013 y(ly)29 b(it)g(w)o(ould)f(be)g(w)o(orth)f
(an)i(e)o(xperiment.)47 b(The)28 b(25\045)g(\002gure)f(associated)h
(with)h(checkpointing)c(remains)j(a)g(source)g(of)337
1163 y(considerable)19 b(concern.)337 1568 y Fz(7.2)119
b(Contexts,)30 b(Thr)n(eads,)g(and)g(User/Super)o(visor)606
1792 y(T)-9 b(ransitions)337 2045 y FM(The)20 b(ER)m(OS)g(process)g
(layout)f(is)i(chosen)e(for)g(the)h(con)m(v)o(enience)d(of)j(the)g
(virtual)f(machine)g(speci\002cation.)24 b(Number)18
b(capa-)337 2194 y(bilities)k(pro)o(vide)d(a)i(space)g(ef)n(\002cient)f
(w)o(ay)h(to)g(store)g(re)o(gister)f(v)n(alues)g(in)h(nodes,)f(b)n(ut)h
(this)h(representation)c(is)k(e)o(xceedingly)337 2344
y(incon)m(v)o(enient)c(\(to)i(put)f(it)i(mildly\))f(for)f(loading)g
(and)h(sa)n(ving)f(re)o(gisters)h(during)f(a)h(conte)o(xt)f(switch.)462
2502 y(In)24 b(a)h(certain)e(w)o(ay)-5 b(,)25 b(this)g(pro)o(v)o(ed)d
(to)i(be)h(quite)e(liberating;)j(it)f(meant)e(that)i(I)f(ne)n(v)o(er)f
(seriously)h(considered)e(trying)h(to)337 2652 y(perform)16
b(re)o(gister)g(sa)n(v)o(e)h(and)g(restore)g(operations)e(directly)i
(to)g(the)g(virtual)g(machine')-5 b(s)16 b(process)h(representation.)k
(Instead,)337 2801 y(it)16 b(w)o(as)h(assumed)d(from)g(the)i(outset)f
(that)g(the)g(state)h(of)f(acti)n(v)o(e)g(processes)g(w)o(ould)f(be)i
(cached)e(in)h(some)g(representation)e(more)337 2951
y(con)m(v)o(enient)18 b(to)j(the)f(k)o(ernel)f(entry)h(and)g(e)o(xit)g
(implementation.)j(Such)d(a)g(cache)g(has)h(other)e(desirable)h
(consequences,)e(not)337 3100 y(least)j(that)f(it)g(reduces)f(the)g
(number)f(of)h(capability)g(in)m(v)n(ocations)f(that)i(require)e(the)i
(virtual)f(machine')-5 b(s)18 b(process)i(structure)337
3249 y(to)h(be)f(decoded.)462 3408 y(If)j(process)f(state)i(is)g
(cached,)e(there)h(must)g(be)g(some)g(entity)f(in)h(the)g
(implementation)e(whose)i(role)f(is)i(to)f(initiate)h(the)337
3557 y(loading)d(of)g(process)g(state)h(into)f(the)h(cache.)28
b(In)21 b(ER)m(OS,)h(threads)f(serv)o(e)g(as)h(the)g(unit)f(of)g
(scheduling)f(and)h(the)g(entity)g(that)337 3707 y(forces)f(processes)g
(into)g(the)g(conte)o(xt)f(cache.)337 4053 y FG(7.2.1)99
b(The)26 b(Context)g(Structur)n(e)337 4276 y FM(The)h(purpose)d(of)j
(the)f(conte)o(xt)f(structure)h(is)h(to)g(localize)f(all)h(information)
d(about)h(an)i(acti)n(v)o(e)f(process,)h(minimize)f(data)337
4425 y(motion)f(associated)g(with)g(re)o(gister)f(sa)n(v)o(e)i(and)e
(restore,)i(and)f(deal)g(with)g(an)o(y)g(architecture)e(speci\002c)j
(comple)o(xities)d(that)337 4574 y(de)n(v)n(olv)o(e)30
b(from)g(the)i(design)e(of)h(the)g(hardw)o(are)f(user/supervisor)f
(transition)i(architecture.)56 b(In)31 b(the)h(case)f(of)g(the)g(x86)
337 4724 y(implementation,)26 b(the)h(last)h(point)e(is)h(particularly)
e(important,)i(because)f(the)h(minimum)e(hardw)o(are)g(cost)i(imposed)f
(on)337 4873 y(user/supervisor)19 b(transitions)g(is)i(78)f(c)o(ycles.)
1640 4843 y FC(3)p 337 4963 1425 4 v 337 5018 a FB(3)404
5042 y FA(Subsequent)j(to)f(the)g(w)o(ork)g(described)h(here,)g(the)f
(third)h(stepping)g(of)e(the)h(Pentium)g(Pro)g(core)g(w)o(as)f
(introduced.)37 b(This)21 b(v)o(ersion)h(of)f(the)h(processor)404
5121 y(includes)17 b(a)e(f)o(ast)h(system)g(call)g(instruction)i(that)f
(reduces)g(the)e(user/supervisor)j(transition)g(o)o(v)o(erhead)f
(substantially)l(,)h(b)o(ut)e(is)f(still)h(considerably)j(more)404
5200 y(e)o(xpensi)n(v)o(e)g(than)f(comparable)i(RISC)d(user/supervisor)
j(transitions.)2056 5410 y FM(107)p eop
%%Page: 108 124
108 123 bop 162 108 a FM(The)25 b(ER)m(OS)g(implementation)e(contains)h
(a)h(\002x)o(ed)f(number)f(of)i(these)g(conte)o(xt)f(structures,)h
(which)f(are)h(collecti)n(v)o(ely)37 257 y(kno)n(wn)e(as)h(the)f
FF(context)h(cac)o(he)p FM(.)35 b(A)24 b(process')-5
b(s)23 b(conte)o(xt)g(holds)g(the)g(data)h(re)o(gisters,)g(capability)e
(re)o(gisters,)i(and)f(address)37 407 y(space)17 b(table)f(pointer)f
(for)h(the)g(process,)g(along)g(with)g(some)g(miscellaneous)g(bookk)o
(eeping)d(information)h(that)i(k)o(eeps)g(track)37 556
y(of)21 b(which)f(portions)f(of)i(the)f(process)h(state)g(are)f
(cached.)26 b(Of)21 b(particular)e(importance,)f(the)j(conte)o(xt)f
(structure)f(contains)h(a)37 705 y(single-w)o(ord)f(bit)h(\002eld)h
(kno)n(wn)d(as)j(the)g FF(hazard)f(mask)p FM(.)37 1047
y FJ(The)i(Hazard)d(Mask)37 1277 y FM(The)26 b FF(hazard)f(mask)g
FM(indicates)g(all)h(of)g(the)f(reasons)g(that)h(the)f(process)g
(cannot)g(be)g(tri)n(vially)g(resumed.)40 b(A)26 b(zero)f(hazard)37
1426 y(mask)32 b(indicates)g(that)h(the)f(process)f(can)h(be)g(resumed)
f(without)h(further)e(consideration;)36 b(a)d(non-zero)d(hazard)h(mask)
37 1576 y(indicates)20 b(that)h(there)e(are)i(unusual)e(conditions)f
(associated)i(with)h(the)f(process)g(that)g(require)f(long)g(path)h
(handling.)162 1738 y(A)28 b(process)f(hazard)g(is)h
FI(not)h FM(an)f(e)o(xceptional)d(condition;)30 b(it)e(merely)f
(indicates)g(that)h(some)f(amount)g(of)g(additional)37
1888 y(w)o(ork)i(must)h(be)g(done)e(before)g(the)i(process)f(can)g(be)h
(resumed.)52 b(The)29 b(most)h(common)d(resume)i(hazard)g(is)h(that)g
(some)37 2037 y(portion)c(of)h(the)h(process)f(state)h(has)g(been)e
(decached;)k(this)e(state)g(must)f(be)h(reloaded)d(into)j(the)f(conte)o
(xt)f(cache)h(before)37 2186 y(the)h(process)f(can)h(resume.)47
b(It)28 b(may)f(also)h(indicate)f(that)h(the)g(process)f(is)i
FF(malf)o(ormed)e FM(\(as)h(opposed)e(to)i(well-formed,)37
2336 y(Section)18 b(2.3.4\),)e(in)i(which)g(case)g(the)g
(\223initiation\224)f(of)g(the)h(process)g(is)h(to)f(remo)o(v)o(e)e(it)
i(from)f(the)h(list)h(of)e(running)f(processes.)37 2702
y FG(7.2.2)99 b(Thr)n(eads)27 b(and)e(Acti)o(v)o(ation)37
2932 y FM(In)f(con)m(v)o(entional)d(system)j(designs,)g(all)g
(processes)f(reside)h(in)g(a)g(process)f(table)h(whose)g(content)e
(roughly)g(corresponds)37 3082 y(to)j(that)g(of)f(the)h(ER)m(OS)g
(conte)o(xt)e(structure.)37 b(If)24 b(a)h(process)f(is)i(for)d(some)i
(reason)f(stalled,)h(its)h(process)e(entry)f(remains)h(in)37
3231 y(memory)-5 b(.)23 b(This)e(consumes)e(signi\002cant)h(amounts)f
(of)h(memory)-5 b(.)162 3393 y(ER)m(OS)23 b(is)g(a)f(much)f(more)g
(process)h(intensi)n(v)o(e)f(design)g(than)h(most.)31
b(It)22 b(lacks)g(an)o(y)f(equi)n(v)n(alent)g(to)h(the)g(UNIX)g
FI(select)q FM(\(\))37 3543 y(call,)30 b(instead)e(relying)e(on)h(use)h
(of)f(man)o(y)g(processes)g(sharing)g(a)h(common)e(address)h(space)g
(to)h(perform)e(such)h(I/O)h(de-)37 3692 y(multiple)o(xing.)37
b(Where)24 b(con)m(v)o(entional)e(systems)j(are)g(designed)e(for)h
(hundreds)f(of)h(processes,)h(an)g(ER)m(OS)g(system)g(may)37
3842 y(ha)n(v)o(e)20 b(thousands)f(of)i(processes,)e(most)i(of)f(which)
g(are)g(logically)g(\223running\224)e(b)n(ut)i(are)h(in)f(f)o(act)h
(block)o(ed)e(on)h(a)h(stall)g(queue.)37 3991 y(The)h(size)g(of)f(the)g
(conte)o(xt)g(structure)f(mak)o(es)h(it)i(infeasible)d(to)i(k)o(eep)f
(all)h(of)f(these)h(processes)f(in)h(memory)-5 b(,)19
b(and)i(doing)f(so)37 4141 y(w)o(ould)h(in)g(an)o(y)f(case)h(be)g(w)o
(asteful;)g(most)g(of)g(these)g(processes)g(will)g(not)g(be)g(acti)n(v)
n(ated)f(soon.)26 b(At)c(an)o(y)e(gi)n(v)o(en)g(instant,)h(the)37
4290 y(majority)f(of)g(these)g(processes)g(are)g(block)o(ed)f(w)o
(aiting)h(for)f(input)h(from)f(users)h(who)g(are)g(not)g(logged)f(in.)
162 4452 y(In)j(ER)m(OS,)g(the)h(solution)e(is)i(to)f(introduce)f(a)h
(separate)g(data)g(structure.)30 b(The)22 b FF(thread)i
FM(structure)d(contains)g(a)i(process)37 4602 y(capability)-5
b(,)19 b(tw)o(o)h(pointers)f(used)g(for)h(sleep)g(queue)e(linkage,)h(a)
h(numeric)f(priority)f(used)i(to)g(determine)e(where)i(the)g(thread)37
4751 y(should)j(be)h(placed)g(on)f(the)h(run)f(queue)g(when)g(it)i(is)g
(a)o(w)o(ak)o(ened,)e(and)h(a)g(conte)o(xt)f(pointer)f(naming)h(the)h
(conte)o(xt)f(that)h(the)37 4901 y(thread)g(occupies.)39
b(The)24 b(total)i(size)f(of)g(this)g(structure)f(is)i(32)f(bytes;)i
(se)n(v)o(eral)d(thousand)g(of)g(these)i(can)e(comfortably)f(be)37
5050 y(squeezed)e(into)h(modern)f(system)h(memories)f(without)g(an)o(y)
h(great)f(dif)n(\002culty;)h(the)h(research)e(implementation)f
(supports)37 5200 y(2048)f(acti)n(v)o(e)h(threads.)1756
5410 y(108)p eop
%%Page: 109 125
109 124 bop 337 108 a FJ(Startup)20 b(Strategy)337 350
y FM(When)j(an)f(ER)m(OS)h(system)g(performs)e(an)h(initial)h(program)d
(load)i(follo)n(wing)f(shutdo)n(wn)g(or)h(po)n(wer)f(outage,)h(it)h
(loads)g(the)337 499 y(list)29 b(of)d(acti)n(v)o(e)h(threads)f(from)h
(the)g(checkpoint)e(area.)45 b(An)27 b(acti)n(v)o(e)g(thread)f(is)i(an)
o(y)e(thread)g(that)h(w)o(as)h(either)f(running)e(or)337
649 y(stalled)j(at)f(the)g(time)g(of)g(the)g(last)g(checkpoint.)43
b(All)28 b(of)f(these)g(threads)f(are)h(placed)f(on)g(the)h(run)f
(queue,)i(initially)e(with)337 798 y(maximal)i(priority)-5
b(.)48 b(The)28 b(idle)h(process,)h(a)f(k)o(ernel)f(process)g(that)g
(is)i(al)o(w)o(ays)f(runnable)d(b)n(ut)j(has)g(the)f(lo)n(west)h
(possible)337 948 y(priority)-5 b(,)27 b(is)g(started)f(by)g(hand.)43
b(This)27 b(process)f(performs)f(the)h(\002rst)h(yield,)h(and)e(the)g
(normal)g(k)o(ernel)f(entry)h(processing)337 1097 y(tak)o(es)21
b(o)o(v)o(er)-5 b(.)462 1266 y(On)29 b(k)o(ernel)g(entry)-5
b(,)29 b(either)g(an)g(e)o(xception)e(has)j(occurred)d(\(possibly)h(a)i
(v)n(oluntary)d(yield\),)j(an)f(interrupt)f(has)h(been)337
1415 y(tak)o(en,)h(or)e(a)g(process)g(in)m(v)n(ocation)e(has)i
(occurred.)47 b(In)27 b(an)o(y)h(of)f(these)i(cases,)h(the)e(basic)g(k)
o(ernel)g(handler)e(algorithm)h(is)337 1565 y(sho)n(wn)20
b(in)g(Algorithm)f(7.3.)p 337 1728 3563 7 v 337 1801
a FJ(Algorithm)h(7.3)g FM(K)n(ernEntry\(\))d(\226)j(processes)g(k)o
(ernel)g(entry)p 337 1839 3563 4 v 421 1929 a(EntryDispatchT)-7
b(able[curConte)o(xt.E)o(xcep)o(tion)o(No])o(\(cu)o(rCon)o(te)o(xt\))o
(;)421 2029 y FJ(if)20 b FM(curThread)e(==)i(null)g(\227\227)h
(curThread.conte)o(xt)16 b(==)k(null)g(\227\227)h(curThread.hasExpired)
15 b FJ(then)504 2128 y FM(curThread)i(:=)k(Reschedule\(\);)421
2228 y FJ(end)f(if)421 2328 y FM(curConte)o(xt)e(:=)j(curThread.conte)o
(xt;)421 2427 y(ResumeConte)o(xt\(curConte)o(xt\);)p
337 2479 V 337 2976 a FJ(Thr)o(ead)g(Scheduling)337 3218
y FM(The)j(thread)g(rescheduling)e(loop)h(is)i(sho)n(wn)f(in)g
(Algorithm)f(7.4.)36 b(It)25 b(chooses)e(a)i(candidate)e(thread)g(to)i
(run)e(and)h(v)o(eri\002es)337 3368 y(that)e(the)f(thread)g(has)h(a)g
(v)n(alid)e(conte)o(xt)h(and)g(is)h(ready)e(to)i(run)f(\(the)g(call)h
(to)f Fn(curThread.Prepare\(\))e FM(does)i(this\).)29
b(If)337 3517 y(appropriate,)18 b(it)i(handles)f(an)o(y)g(pending)f
(process)h(f)o(ault)h(that)g(may)f(ha)n(v)o(e)g(occurred)f(by)h(in)m(v)
n(oking)e(the)j(process)f(k)o(eeper)g(for)337 3667 y(the)26
b(process)g(that)g(this)g(thread)f(occupies.)41 b(Finally)-5
b(,)27 b(assuming)e(that)h(all)h(of)e(the)h(abo)o(v)o(e)e(has)j(not)e
(caused)h(the)f(thread)g(to)337 3816 y(become)19 b(stalled,)i(it)g
(returns)e(the)h(thread)f(\226)i(no)n(w)e(ready)g(to)i(go)f(\226)g(to)g
(the)g(caller)-5 b(.)462 3985 y(As)17 b(with)f(object)g(f)o(aults,)h
(the)f(k)o(e)o(y)f(to)i(this)f(sequence)f(lies)i(in)f(the)h(call)f(to)g
Fn(curThread.Prepare\(\))p FM(.)21 b(By)16 b(no)n(w)g(this)337
4134 y(should)23 b(be)g(starting)g(to)g(seem)g(lik)o(e)h(a)f(f)o
(amiliar)g(design)g(pattern.)33 b(As)24 b(with)f(capabilities,)g(the)g
(thread)g(structure)f(has)h(tw)o(o)337 4284 y(forms:)28
b(prepared)19 b(and)j(unprepared.)k(Unlik)o(e)21 b(the)h(capability)e
(structure,)h(there)g(is)i(no)e(major)g(transformation)e(entailed;)337
4433 y(a)i(prepared)d(thread)i(is)h(simply)e(one)h(that)g(has)h(a)f
(non-zero)e(conte)o(xt)h(pointer)-5 b(.)462 4602 y(If)30
b(a)g(conte)o(xt)f(is)i(currently)d(running,)i(it)h(is)g(occupied)d(by)
h(a)i(thread)e(and)g(holds)h(a)g(pointer)f(to)h(this)g(thread')-5
b(s)30 b(data)337 4751 y(structure.)38 b(Whene)n(v)o(er)24
b(an)g(action)h(is)g(tak)o(en)g(by)f(the)h(k)o(ernel)f(that)h(requires)
f(a)h(k)o(eeper)f(in)m(v)n(ocation)f(or)h(causes)i(a)f(conte)o(xt)337
4901 y(structure)g(to)g(be)h(partially)e(\(or)h(completely\))e
(decached,)i(the)g(associated)h(code)e(uses)i(this)g(thread)e(pointer)g
(to)i(zero)f(the)337 5050 y(conte)o(xt)e(pointer)g(in)h(the)g(thread.)
36 b(This)24 b(signals)h(to)f(the)g(balance)f(of)h(the)g
(implementation)e(that)i(the)g(rescheduling)e(path)337
5200 y(must)f(be)f(in)m(v)n(ok)o(ed,)e(which)i(in)g(turn)g(causes)g
(the)g(call)h(to)f Fn(curThread.Prepare\(\))p FM(.)2056
5410 y(109)p eop
%%Page: 110 126
110 125 bop 37 1052 3563 7 v 37 1125 a FJ(Algorithm)20
b(7.4)g FM(Reschedule\(\))f(\226)h(returns)f(ne)n(w)h(thread)f(to)i
(run)p 37 1162 3563 4 v 121 1253 a FJ(while)f FM(true)g
FJ(do)204 1352 y(if)g FM(curThread.hasExpired)15 b FJ(then)287
1452 y FM(curThread)i(:=)k(null;)204 1551 y FJ(end)f(if)204
1651 y(if)g FM(curThread)e(==)i(null)g FJ(then)287 1751
y FM(curThread)d(:=)k(runQueue.ne)o(xt\(\);)287 1850
y(curThread.Unlink\(\);)287 1950 y(curThread.state)c(=)k(running;)204
2050 y FJ(end)f(if)p FM(curThread)e(==)i(null)204 2149
y FJ(if)g FM(curThread.conte)o(xt)c(==)k(null)g(&&)g
(curThread.Prepare\(\))c(==)k(f)o(alse)h FJ(then)287
2249 y FI(//)f(pr)l(ocess)h(was)g(malformed;)e(thr)m(ead)h(dies)287
2348 y FM(free\(curThread\);)287 2448 y(curThread)d(:=)k(null;)287
2548 y(continue;)204 2647 y FJ(end)f(if)204 2747 y(if)g
FM(curThread.state)e(!=)i(running)e FJ(then)287 2847
y FM(curThread)f(:=)k(null;)287 2946 y(continue;)204
3046 y FJ(end)f(if)204 3145 y(if)g FM(curThread.conte)o(xt.proc)o
(essFlags)15 b(&)21 b(DF)p 1547 3145 25 4 v 30 w(F)o(aulted)e
FJ(then)287 3245 y FM(In)m(v)n(ok)o(eK)n(eeperF)o(or\(curT)o(hre)o
(ad\))o(;)204 3345 y FJ(end)h(if)204 3444 y FI(//)g(Thr)m(ead)g(can)g
(go)f(away)h(as)h(a)f(consequence)e(of)j(k)o(eeper)f(in)m(vocation.)204
3544 y FJ(if)g FM(curThread)e(==)i(null)g(\227\227)h(curThread.state)d
(!=)i(Thread::Running)d FJ(then)287 3644 y FM(curThread)g(:=)k(null;)
287 3743 y(continue;)204 3843 y FJ(end)f(if)204 3942
y FI(//)g(set)h(up)f(quanta)f(e)n(xpir)o(ation)g(her)m(e)204
4042 y FM(return)g(curThread;)121 4142 y FJ(end)h(while)p
37 4179 3563 4 v 1756 5410 a FM(110)p eop
%%Page: 111 127
111 126 bop 337 108 a FJ(Thr)o(ead)21 b(and)f(Context)f(Pr)o(eparation)
337 333 y FM(At)28 b(this)f(point,)h(I)f(ha)n(v)o(e)f(successfully)g
(mo)o(v)o(ed)f(all)i(of)g(the)g(boundary)d(cases)j(in)g(the)g
(scheduling)e(loop)h(well)i(out)e(of)h(the)337 482 y(critical)g(path,)f
(and)g(ha)n(v)o(e)f(reduced)g(the)h(problem)e(of)h(rescheduling)f(an)i
(acti)n(v)o(e)g(process)f(to)h(a)h(couple)e(of)g(tests.)44
b(I)26 b(ha)n(v)o(e)337 631 y(not,)i(ho)n(we)n(v)o(er)m(,)d(accounted)f
(for)i(ho)n(w)f(a)i(thread)e(gets)i(to)f(the)g(point)g(where)f(the)i
(scheduler)d(will)j(agree)f(to)g(return)f(it)i(for)337
781 y(e)o(x)o(ecution.)c(The)d(body)f(of)h(the)g(thread)f(prepare)g
(routine)g(is)i(sho)n(wn)e(in)i(Algorithm)e(7.5.)p 337
926 3563 7 v 337 999 a FJ(Algorithm)h(7.5)g FM(Thread::Prepare\(\))d
(\226)j(get)g(a)h(thread)e(ready)g(to)h(run)p 337 1037
3563 4 v 421 1128 a FJ(if)g FM(theThread.conte)o(xt)c(==)21
b(null)f FJ(then)504 1227 y(if)g FM(theThread.processCap.IsPrepared\()o
(\))15 b(==)20 b(f)o(alse)h FJ(then)587 1327 y FM
(theThread.processCap.Prepare\(\))o(;)15 b FI(//)21 b(might)f(yield!)
504 1427 y FJ(end)g(if)504 1526 y(if)g FM(theThread.processCap.pNode.p)
o(Conte)o(x)o(t)15 b(==)20 b(null)g FJ(then)587 1626
y FM(ctxt)g(:=)h(GrabConte)o(xt\(theThread.pr)o(ocessCap.p)o(Nod)o
(e\);)587 1725 y(theThread.migrateT)-7 b(o\(ctxt\);)504
1825 y FJ(end)20 b(if)421 1925 y(end)g(if)421 2024 y(if)g
FM(theThread.conte)o(xt.hazards)15 b FJ(then)504 2124
y FM(theThread.conte)o(xt.Prepar)o(e\(\);)f FI(//)21
b(might)f(yield!)421 2224 y FJ(end)g(if)421 2323 y FI(//)g(If)h(code)e
(g)o(ets)i(her)m(e)o(,)f(thr)m(ead)g(is)h(r)m(eady)f(to)g(go.)p
337 2377 V 462 2639 a FM(This)30 b(in)g(turn)f(lea)n(v)o(es)h(the)g
(problem)e(of)i(getting)f(the)g FI(conte)n(xt)i FM(prepared)d(\(at)i
(which)f(point,)j(thankfully)-5 b(,)29 b(the)h(saga)337
2788 y(ends\).)g(Conte)o(xt)21 b(preparation)e(performs)i(a)h(number)e
(of)h(detailed)h(consistenc)o(y)e(checks)i(on)f(the)h(state)h(of)e(the)
h(process)f(to)337 2938 y(mak)o(e)k(sure)g(that)f(it)i(is)g(well)f
(formed,)f(and)g(also)h(to)g(mak)o(e)g(sure)f(that)h(its)h(re)o(gister)
e(and)h(process)f(status)h(w)o(ord)g(v)n(alues)f(do)337
3087 y(not)f(con)m(v)o(e)o(y)e(pri)n(vile)o(ged)f(access)k(to)f(the)g
(machine.)32 b(Also,)24 b(conte)o(xt)d(preparation)g(causes)i(the)g
(constituent)f(nodes)g(of)h(the)337 3236 y(process)f(to)h(be)f(loaded)f
(into)h(the)g(conte)o(xt)f(structure;)h(this)h(is)g(where)f(the)g
(\223pull\224)g(of)g(the)g(process)g(state)h(into)f(the)g(conte)o(xt)
337 3386 y(cache)27 b(occurs.)44 b(The)26 b(end)g(result)h(is)h(to)f
(clear)f(all)i(of)e(the)h(conte)o(xt)e(hazards)h(that)h(pre)n(v)o(ent)e
(the)i(process)f(from)g(running,)337 3535 y(lea)n(ving)20
b(a)h(resumable)e(conte)o(xt.)462 3695 y(The)f(algorithm)f(for)i(conte)
o(xt)e(preparation)f(is)k(processor)d(speci\002c,)i(and)f(in)m(v)n(olv)
o(es)g(more)g(gory)f(details)i(than)f(can)h(use-)337
3844 y(fully)k(or)h(appropriately)c(be)k(presented)e(here.)34
b(The)23 b(interested)g(reader)f(is)j(directed)d(to)i(the)f(online)g
(ER)m(OS)h(source)e(code)337 3994 y(web)16 b(site)g([Sha98b)m(],)h(in)e
(particular)f(to)h Fn(sys/kernel/kern_thread.cxx)c FM(and)k(the)g
Fn(Thread::Reschedule\(\))337 4143 y FM(routine.)32 b(By)23
b(follo)n(wing)e(the)i(links)g(through)e(this)i(material,)g(the)g
(entire)f(trail)h(of)g(conte)o(xt)e(acti)n(v)n(ation)h(may)g(be)h(e)o
(xplored)337 4293 y(in)e(as)g(much)e(detail)h(as)h(desired.)462
4452 y(One)g(speci\002c)f(detail)h(is)g(rele)n(v)n(ant)f(to)h
(completing)d(the)j(account)e(of)i(initial)g(program)d(load:)26
b(a)21 b(side)f(ef)n(fect)h(of)f(conte)o(xt)337 4602
y(preparation)28 b(is)i(that)g(the)g(priority)e(carried)h(by)g(the)h
(process')-5 b(s)29 b(schedule)g(is)h(loaded)f(into)g(the)h(conte)o(xt)
e(structure)h(and)337 4751 y(copied)f(into)g(the)g(occup)o(ying)e
(thread)h(structure.)48 b(The)28 b(net)h(ef)n(fect)e(of)h(this)h(is)g
(that)g(when)e(the)i(system)f(\002rst)h(starts)g(up,)337
4901 y(threads)20 b(remain)g(at)g(high)g(priority)f(long)g(enough)g(to)
h(f)o(ault)g(their)h(processes)f(into)g(memory)-5 b(,)18
b(b)n(ut)i(then)g(con)m(v)o(er)o(ge)d(on)j(their)337
5050 y(proper)i(priority)h(v)n(alues.)35 b(This)24 b(serv)o(es)f(to)h
(pre)n(v)o(ent)e(lo)n(w)i(priority)e(background)f(threads)i(from)f
(being)h(unf)o(airly)f(starv)o(ed)337 5200 y(for)e(processor)f(time)h
(by)g(virtue)g(of)f(f)o(aulting)h(in)g(too)g(slo)n(wly)-5
b(.)2056 5410 y(111)p eop
%%Page: 112 128
112 127 bop 37 108 a FG(7.2.3)99 b(K)n(er)o(nel)25 b(Entry)h(and)f
(Exit)37 320 y FM(I)e(ha)n(v)o(e)e(described)g(thread)h(and)f(conte)o
(xt)g(acti)n(v)n(ation,)g(and)h(assumed)g(that)g(there)g(e)o(xists)g
(some)g(mechanism)f(for)h(entering)37 470 y(and)f(e)o(xiting)e(the)i(k)
o(ernel.)26 b(K)n(ernel)20 b(entry)g(and)g(e)o(xit)h(are)f(performance)
e(critical)j(operations;)e(more)h(so)i(as)f(the)g(granularity)37
619 y(of)28 b(objects)f(becomes)f(small)i(\(e.g.,)g(pages\))f(and)g
(the)g(number)f(of)h(capability)g(in)m(v)n(ocations)e(consequently)h
(rises.)47 b(The)37 769 y(problem)27 b(is)h(particularly)e(acute)i(on)f
(the)h(x86)f(f)o(amily)-5 b(,)28 b(where)g(the)f(hardw)o(are)g(imposed)
f(cost)i(of)g(the)g(user/supervisor)37 918 y(transition)20
b(is)h(e)o(xcessi)n(v)o(e.)784 888 y FC(4)37 1235 y FG(7.2.4)99
b(Register)25 b(Sa)n(v)o(e)37 1448 y FM(In)e(con)m(v)o(entional)e
(operating)g(system)i(implementations,)f(the)h(follo)n(wing)f(sequence)
g(of)h(e)n(v)o(ents)f(occurs)h(in)g(response)f(to)37
1597 y(an)f(interrupt)d(or)i(an)g(e)o(xception:)89 1771
y(1.)41 b(Ex)o(ecution)18 b(of)i(the)g(user)g(program)e(stops.)89
1941 y(2.)41 b(A)20 b(supervisor)f(mode)g(interrupt)g(stack)h(pointer)f
(is)i(loaded.)89 2111 y(3.)41 b(Some)20 b(amount)g(of)g(interrupt)f(or)
i(e)o(xception)e(related)h(information)e(is)k(captured)d(by)h(the)h
(processor)m(,)e(either)h(to)h(dedi-)193 2260 y(cated)f(re)o(gisters)f
(or)h(by)g(writing)g(this)g(state)h(to)g(the)f(interrupt)f(stack.)89
2430 y(4.)41 b(Control)19 b(is)i(transferred)e(to)h(a)h(supervisor)d
(mode)h(e)o(xception)g(handler)-5 b(.)89 2600 y(5.)41
b(The)32 b(supervisor)f(mode)g(code)h(writes)h(the)f(program')-5
b(s)31 b(re)o(gister)h(set)h(to)f(the)h(supervisor)e(stack)h(and)g
(dispatches)193 2750 y(according)c(to)j(the)f(e)o(xception)f(or)h
(interrupt)f(type.)55 b(Which)31 b(re)o(gisters)f(are)g(sa)n(v)o(ed)h
(may)f(depend)e(on)j(the)f(calling)193 2899 y(con)m(v)o(ention)17
b(implemented)h(by)i(the)g(compiler)-5 b(.)89 3069 y(6.)41
b(If)17 b(the)h(interrupt)e(or)h(e)o(xception)f(pro)o(v)o(es)g(to)i
(require)e(a)i(conte)o(xt)f(switch,)h(the)g(re)o(gisters)f(are)g
(copied)g(to)h(their)f(\223of)n(\002cial\224)193 3218
y(location)i(in)h(the)h(process)e(conte)o(xt)g(structure.)37
3392 y(Sophisticated)28 b(implementations)e(recognize)g(certain)i
(interrupts)f(as)i(special)f(case)h(\223f)o(ast)f(path\224)g
(interrupts,)h(and)e(use)37 3542 y(this)21 b(kno)n(wledge)d(to)j(a)n(v)
n(oid)e(sa)n(ving)h(the)h(full)f(re)o(gister)f(set.)162
3695 y(There)c(are)h(tw)o(o)h(adv)n(antages)d(to)i(this)h(design:)22
b(simplicity)16 b(and)f(nested)h(interrupts.)22 b(On)17
b(CISC)g(processors)e(\(including)37 3844 y(the)26 b(x86\))f(sa)n(ving)
h(the)f(re)o(gisters)h(on)f(the)h(interrupt)f(stack)h(w)o(as)g(easier)m
(,)h(and)f(this)g(design)f(has)h(been)f(inherited)g(forw)o(ard)37
3994 y(into)j(RISC-based)f(operating)f(systems.)47 b(If)27
b(nested)h(interrupts)e(are)h(tak)o(en,)i(the)o(y)e(can)g(be)h
(permitted)e(to)i(interrupt)e(the)37 4143 y(sa)n(v)o(e)21
b(handler)e(as)i(soon)e(as)i(the)g(e)o(xception)d(state)j(has)g(been)e
(recorded.)k(An)o(y)d(re)o(gister)f(state)i(not)f(sa)n(v)o(ed)g(by)g
(the)g(e)o(xception)37 4293 y(handler)f(in)i(progress)e(will)i(be)f(sa)
n(v)o(ed)g(and)f(restored)g(by)h(the)g(nested)g(e)o(xception.)162
4446 y(The)h(unfortunate)e(\003a)o(w)j(in)g(this)g(design)f(is)i(that)f
(the)f(re)o(gisters)h(were)f(not)h(sa)n(v)o(ed)f(to)h(the)g(proper)e
(location)g(in)i(the)g(\002rst)37 4595 y(place.)30 b(The)22
b(alternati)n(v)o(e)f(is)h(to)h(contri)n(v)o(e)d(things)h(so)i(that)f
(the)g(ne)n(wly)f(loaded)g(supervisor)f(stack)i(pointer)f(points)g
(directly)37 4745 y(into)26 b(the)g(of)n(\002cial)g(per)n(-process)e
(sa)n(v)o(e)j(area,)g(and)e(re)n(vise)h(the)g(stack)g(pointer)f(to)h
(point)f(to)h(a)h(supervisor)d(stack)i(once)g(the)37
4894 y(re)o(gister)20 b(sa)n(v)o(e)g(has)h(been)e(completed.)24
b(This)c(is)h(what)f(the)h(ER)m(OS)f(implementation)e(does.)p
37 4963 1425 4 v 37 5018 a FB(4)104 5042 y FA(This)25
b(issue)h(w)o(as)g(partially)j(addressed)e(in)f(the)h(third)f(stepping)
i(of)d(the)i(Pentium)g(Pro/Pentium)g(II)f(core,)i(which)f(pro)o(vided)g
(a)f(f)o(ast)g(system)g(call)104 5121 y(in)m(v)o(ocation)c(mechanism.)
27 b(Re)o(grettably)l(,)22 b(the)d(ne)n(w)h(system)e(call)j(mechanism)f
(is)e(not)i(backw)o(ard)g(compatible,)i(which)e(mak)o(es)f(it)g(dif)n
(\002cult)i(to)e(use)g(in)104 5200 y(the)f(absence)g(of)f(dynamic)i
(libraries.)1756 5410 y FM(112)p eop
%%Page: 113 129
113 128 bop 462 108 a FM(Before)30 b(returning)e(to)j(a)g(user)f
(process,)i(the)e(ER)m(OS)h(k)o(ernel)f(sets)h(the)g(supervisor)e(mode)
g(stack)i(pointer)e(for)g(that)337 257 y(process)21 b(to)h(point)e(to)i
(the)f(top)g(of)g(the)h(per)n(-process)d(sa)n(v)o(e)j(area.)28
b(The)21 b(e)o(xception)e(handler)h(sa)n(v)o(es)i(the)f(user)h(mode)e
(process)337 407 y(state)31 b(directly)e(into)g(this)i(sa)n(v)o(e)f
(area,)h(after)f(which)f(it)h(loads)g(the)g(k)o(ernel)f(interrupt)f
(stack)i(pointer)e FI(if)43 b FM(this)30 b(w)o(as)h(not)e(a)337
556 y(k)o(ernel)d(interrupt.)42 b(As)28 b(a)f(result,)g(ER)m(OS)g(has)g
(no)f(need)g(of)g(\223f)o(ast)h(path\224)f(interrupt)f(handlers;)j
(simply)e(eliminating)g(the)337 705 y(redundant)19 b(cop)o(y)g(impro)o
(v)o(ed)f(the)j(performance)c(of)k(the)f(re)o(gister)g(sa)n(v)o(e)h
(enough)d(not)i(to)h(need)f(them,)g(and)g(re-introducing)337
855 y(the)i(associated)f(tests)h(and)f(branches)e(w)o(ould)i(add)f(as)i
(man)o(y)e(c)o(ycles)h(to)g(the)h(re)o(gister)e(sa)n(v)o(e)h(as)h(the)f
(loads)g(and)g(stores)g(the)o(y)337 1004 y(w)o(ould)f(replace.)337
1300 y FJ(K)n(er)o(nel)g(Entry)337 1514 y FM(Depending)28
b(on)h(the)h(mode)e(of)i(the)f(processor)m(,)i(an)e(interrupt)f(may)h
(result)h(in)g(one)f(of)g(three)g(interrupt)f(frames)i(being)337
1664 y(constructed)17 b(on)g(the)i(supervisor)d(stack)i(by)g(the)g
(hardw)o(are)f(\(T)-7 b(able)17 b(7.2\).)23 b(If)18 b(the)g(e)o
(xception)f(originated)f(from)h(user)h(mode,)337 1813
y(the)k(supervisor)e(stack)i(points)f(into)g(the)h(process)f(conte)o
(xt)g(structure,)f(and)h(the)h(e)o(xception)e(state)i(is)h
(consequently)c(sa)n(v)o(ed)337 1962 y(there)h(directly)g(by)f(the)i
(hardw)o(are.)p 337 2096 3563 7 v 337 2169 a FJ(T)-8
b(able)22 b(7.2)d FM(Exception)g(frame)g(images)p 337
2207 3563 4 v 1805 2377 a(If)h(you)g(interrupted)1355
2476 y FJ(Super)o(visor)99 b(Normal)20 b(User)99 b(V)m(irtual)20
b(8086)1355 2576 y FM(EFLA)m(GS)175 b(SS)466 b(GS)1355
2676 y(CS)385 b(ESP)415 b(FS)1355 2775 y(EIP)361 b(EFLA)m(GS)247
b(DS)1355 2875 y FI(err)l(or)315 b FM(CS)457 b(ES)1841
2975 y(EIP)433 b(SS)1841 3074 y FI(err)l(or)387 b FM(ESP)2399
3174 y(EFLA)m(GS)2399 3273 y(CS)2399 3373 y(EIP)2399
3473 y FI(err)l(or)p 337 3605 V 462 3850 a FM(An)21 b(\223error\224)e
(w)o(ord)g(is)j(not)e(generated)f(by)h(the)g(hardw)o(are)f(in)i(all)g
(cases.)26 b(No)21 b(information)d(is)j(sa)n(v)o(ed)f(by)h(the)f(hardw)
o(are)337 4000 y(indicating)d(the)h(cause)g(of)g(the)g(e)o(xception.)k
(In)c(ER)m(OS,)g(the)g(error)f(code)g(and)h(e)o(xception)e(cause)i(are)
g(consistently)f(included)337 4149 y(by)h(the)f(simple)h(e)o(xpedient)d
(of)i(ha)n(ving)g(a)h(separate)f(entry)f(point)h(for)g(e)n(v)o(ery)f(e)
o(xception.)22 b(The)17 b(per)n(-trap)g(entry)f(point)h(pushes)337
4298 y(a)23 b(zero)e(error)g(code)g(onto)g(the)h(stack)g(if)g
(required,)e(and)h(then)h(pushes)f(a)h(constant)f(indicating)g(the)h
(type)f(of)h(the)f(e)o(xception)337 4448 y(and)i(branches)f(to)h
(common)f(e)o(xception)f(handling)h(code.)33 b(Hardw)o(are)22
b(interrupt)g(handlers)g(are)h(reprogrammed)d(so)j(that)337
4597 y(their)c(handler)e(v)o(ectors)h(do)h(not)f(o)o(v)o(erlap)f(those)
i(of)f(CPU)i(generated)d(e)o(xceptions,)h(guaranteeing)e(a)j(unique)e
(encoding)g(for)337 4747 y(interrupts.)462 4901 y(Because)29
b(virtual)g(8086)f(mode)g(e)o(xceptions)g(already)g(store)h(them)g
(there,)h(it)g(is)g(con)m(v)o(enient)d(to)i(simply)g(use)g(these)337
5050 y(locations)21 b(to)g(store)g(se)o(gment)g(re)o(gisters)f(in)i
(the)f(normal)f(user)h(mode)f(e)o(xception)f(case)j(as)g(well.)28
b(The)21 b(common)e(interrupt)337 5200 y(handler)27 b(pushes)h(the)g
(acti)n(v)o(e)g(re)o(gister)f(set,)k(tests)e(to)g(see)f(what)g(mode)g
(the)g(interrupt)e(came)i(from,)h(and)f(conditionally)2056
5410 y(113)p eop
%%Page: 114 130
114 129 bop 37 108 a FM(sa)n(v)o(es)29 b(the)g(user)f(mode)g(se)o
(gment)f(re)o(gisters)i(into)f(the)g(appropriate)e(locations.)50
b(If)28 b(the)g(e)o(xception)f(came)h(from)g(a)h(user)37
257 y(mode)20 b(process,)g(the)h(trap)f(handler)g(then)g(loads)g(the)h
(k)o(ernel)f(mode)g(interrupt)f(stack)i(pointer)-5 b(.)25
b(T)-7 b(w)o(o)21 b(slots)h(are)e(reserv)o(ed)f(in)37
407 y(the)h(sa)n(v)o(e)h(area)e(to)h(indicate)g(optional)f(functional)f
(units)i(that)g(must)g(be)g(reloaded,)e(such)i(as)g(the)g(\003oating)f
(point)h(state,)g(and)37 556 y(to)g(contain)f(the)g(process)g(mapping)f
(table)i(pointer)-5 b(.)24 b(These)19 b(slots)h(are)g(not)f(modi\002ed)
f(by)i(the)f(f)o(ault)h(entry)e(handler)m(,)g(b)n(ut)i(are)37
705 y(used)g(by)g(the)g(resume)g(logic.)162 860 y(When)27
b(all)h(is)h(done,)f(the)g(resulting)e(trap)h(frames)g(for)g(user)h
(and)f(supervisor)f(mode)g(interrupts)g(are)i(sho)n(wn)f(in)g(T)-7
b(a-)37 1009 y(ble)26 b(7.3.)41 b(Each)25 b(re)o(gister)g(is)h(written)
f(e)o(xactly)g(once,)h(and)f(directly)g(to)h(the)f(of)n(\002cial)h(per)
n(-process)e(sa)n(v)o(e)i(area.)40 b(The)26 b(CR2)37
1159 y(v)n(alue)20 b(\(page)f(f)o(ault)h(address\))g(is)h(set)g(only)e
(if)i(the)f(e)o(xception)e(is)j(a)g(page)e(f)o(ault.)p
37 1293 3563 7 v 37 1366 a FJ(T)-8 b(able)22 b(7.3)d
FM(ER)m(OS)i(x86)e(e)o(xception)f(frame)i(layouts)p 37
1404 3563 4 v 1505 1574 a(If)g(you)g(interrupted)1394
1673 y FJ(Super)o(visor)99 b(User)1394 1773 y FM(EFLA)m(GS)175
b(GS)1394 1873 y(CS)385 b(FS)1394 1972 y(EIP)361 b(DS)1394
2072 y(error)323 b(ES)1394 2171 y(e)o(xception)162 b(ES)1394
2271 y(EAX)315 b(SS)1394 2371 y(ECX)320 b(ESP)1394 2470
y(EDX)315 b(EFLA)m(GS)1394 2570 y(EBX)320 b(CS)1394 2670
y(CR2)334 b(EIP)1394 2769 y(EBP)g(error)1394 2869 y(ESI)361
b(e)o(xception)1394 2968 y(EDI)347 b(EAX)1394 3068 y(CR3)334
b(ECX)1394 3168 y FI(units)324 b FM(EDX)1880 3267 y(EBX)1880
3367 y(CR2)1880 3467 y(EBP)1880 3566 y(ESI)1880 3666
y(EDI)1880 3765 y(CR3)1880 3865 y FI(units)p 37 3998
V 37 4387 a FJ(K)n(er)o(nel)20 b(Exit)37 4602 y FM(The)28
b(ER)m(OS)g(e)o(xception)e(handling)f(code)i(is)i(designed)d(to)i(be)g
(as)g(f)o(ast)g(as)h(possible.)47 b(In)27 b(consequence,)g(it)h(is)h
(designed)37 4751 y(to)24 b(proceed)e(on)g(the)i(optimistic)f
(assumption)f(that)h(all)h(is)g(well)g(with)g(the)f(sa)n(v)o(ed)g(user)
g(state,)i(and)d(that)i(this)g(state)g(can)f(be)37 4901
y(re-acti)n(v)n(ated)d(successfully)-5 b(.)28 b(This)22
b(pro)o(v)o(es)d(not)j(to)f(be)h(true)f(if)g(an)h(in)m(v)n(alid)e(se)o
(gment)h(re)o(gister)f(v)n(alue)h(has)h(been)f(loaded)f(by)37
5050 y(the)f(process)g(or)g(if)g(the)g(process)g(lacks)g(a)g(v)n(alid)g
(address)f(space.)25 b(Both)19 b(result)g(in)g(e)o(xceptions)e(late)j
(in)f(the)g(process)f(resume)37 5200 y(logic.)1756 5410
y(114)p eop
%%Page: 115 131
115 130 bop 462 108 a FM(There)21 b(are)h(\002)n(v)o(e)f(instructions)g
(in)h(the)g(user)g(process)f(reload)g(sequence)f(that)i(can)g(cause)g
(e)o(xceptions)e(on)h(the)h(process)337 257 y(resumption)f(path.)31
b(If)22 b(an)o(y)g(of)g(the)h(se)o(gment)e(selectors)h(contain)g(bad)g
(v)n(alues,)g(one)g(of)g(se)n(v)o(eral)g(se)o(gment)f(related)h(e)o
(xcep-)337 407 y(tions)e(may)f(be)g(generated.)k(If)c(fetching)f(the)i
(instruction)e(at)i(CS:EIP)g(causes)g(a)g(page)e(f)o(ault,)h(a)h(page)f
(f)o(ault)g(e)o(xception)f(will)337 556 y(occur)-5 b(.)24
b(In)18 b(that)g(unfortunate)d(e)n(v)o(ent,)i(the)h(processor)f
(reports)g(an)h(e)o(xception)e FI(fr)l(om)j(supervisor)f(mode)g
FM(that)g(will)g(o)o(v)o(erwrite)337 705 y(portions)j(of)h(the)g(user)g
(sa)n(v)o(e)g(area)g(before)e(the)i(return)f(has)h(been)g(completely)e
(dealt)i(with.)31 b(The)21 b(page)h(f)o(ault)f(on)h(interrupt)337
855 y(return)d(case)h(w)o(as)h(inele)o(gant,)d(as)i(it)h(w)o(ould)e
(certainly)g(ha)n(v)o(e)g(simpli\002ed)g(both)g(the)h(processor)f
(microcode)e(and)j(the)f(k)o(ernel)337 1004 y(logic)h(if)h(this)f(e)o
(xception)f(w)o(as)i(made)e(to)i(appear)e(as)i(ha)n(ving)e(come)g(from)
g(user)i(mode)e(\(which,)g(after)h(all,)g(it)h(did\).)462
1157 y(If)i(an)o(y)f(of)h(these)g(e)o(xceptions)f(occurs,)g(it)i(will)g
(push)e(a)i(minimum)d(of)i(\002)n(v)o(e)g(w)o(ords)f(before)g(the)h(ER)
m(OS)h(k)o(ernel)e(gets)h(a)337 1307 y(chance)17 b(to)h(set)h(things)f
(right)f(\(T)-7 b(able)17 b(7.2,)h(supervisor)e(case\).)24
b(The)18 b(approach)e(in)i(such)f(a)i(case)f(is)h(to)f(patch)f(up)g
(the)h(stack)g(to)337 1456 y(appear)f(as)i(though)d(this)i(e)o
(xception)e(w)o(as)j(generated)d(by)h(the)h(user)g(instruction)e
(rather)h(than)h(by)f(the)h(return)f(path.)23 b(The)18
b(\002)n(v)o(e)337 1606 y(w)o(ords)g(that)f(are)h(o)o(v)o(erwritten)d
(in)j(the)g(sa)n(v)o(e)g(area)f(can)h(be)f(reconstructed)f(from)g(the)i
(state)g(that)g(has)g(already)e(been)h(reloaded)337 1755
y(on)24 b(the)h(processor)-5 b(.)36 b(This)24 b(is)h(assured)f(by)g
(careful)f(management)f(of)i(the)h(stack)f(pointer)f(during)g(the)h
(reload)f(logic.)37 b(If)24 b(a)337 1905 y(resume)c(e)o(xception)e(is)j
(tak)o(en,)f(the)g(portion)f(of)h(the)g(sa)n(v)o(e)g(area)g(that)h(is)g
(o)o(v)o(erwritten)d(is)j(sho)n(wn)e(in)i(T)-7 b(able)20
b(7.4.)p 337 2036 3563 7 v 337 2110 a FJ(T)-8 b(able)22
b(7.4)d FM(Conte)o(xt)h(state)h(clobbered)d(by)h(resume)h(e)o(xception)
p 337 2148 3563 4 v 1412 2317 a FJ(Smashed)185 b(W)o(ith)p
1362 2350 1472 4 v 1412 2420 a FM(error)19 b(code)163
b(e\003ags)1412 2520 y(trap)20 b(number)97 b(k)o(ernel)20
b(code)f(CS)1412 2619 y(EAX)332 b(EIP)21 b(of)e(f)o(aulting)h
(instruction)1412 2719 y(ECX)337 b(error)19 b(code)1412
2819 y(EDX)332 b(trap)20 b(number)p 337 2951 3563 4 v
462 3190 a(What)i(I)g(do)f(in)h(this)g(case)g(is)g(mo)o(v)o(e)e(the)i
(error)e(code)h(and)g(trap)g(number)f(up)h(three)g(w)o(ords)h(\(i.e.)29
b(cop)o(y)20 b(them)i(into)f(their)337 3339 y(proper)h(positions\),)i
(re)n(write)f(the)h(EAX,)f(ECX,)h(EDX)g(v)n(alues)f(from)g(the)g
(processor)g(re)o(gisters)g(that)h(ha)n(v)o(e)f(already)f(been)337
3489 y(reloaded,)g(adjust)h(the)f(stack)h(pointer)f(to)h(point)f(to)g
(the)h(bottom)f(of)g(the)h(sa)n(v)o(e)g(area,)g(and)f(transfer)g
(control)f(back)h(into)h(the)337 3638 y(inbound)c(interrupt)h(dispatch)
h(logic.)28 b(The)21 b(end)f(result)i(is)g(that)f(it)h(appears)f(to)g
(the)g(k)o(ernel)g(that)g(the)h(e)o(xception)d(w)o(as)j(tak)o(en)337
3788 y FI(by)e(the)g(user)g(pr)l(ocess)p FM(,)g(at)h(which)e(point)g
(the)h(normal)f(e)o(xception)e(handling)h(logic)i(will)g(proceed)e(to)i
(correctly)f(handle)g(the)337 3937 y(e)o(xception.)462
4090 y(I)26 b(will)g(return)f(to)h(the)f(topic)h(of)f(e)o(xception)f
(handling)g(in)h(connection)f(with)i(user)f(de\002ned)g(object)g(in)m
(v)n(ocation,)g(and)337 4239 y(turn)20 b(attention)f(here)h(to)g(the)h
(handling)d(of)i(address)f(spaces.)337 4614 y Fz(7.3)119
b(Addr)n(ess)31 b(Space)f(Management)337 4857 y FM(Address)20
b(space)g(management)e(in)j(the)f(ER)m(OS)h(k)o(ernel)e(consists)i(of:)
410 5030 y Fw(\017)41 b FM(Constructing)18 b(address)i(mappings)f(in)h
(response)f(to)i(page)e(f)o(aults.)410 5200 y Fw(\017)41
b FM(Ensuring)26 b(that)j(an)o(y)e(write)i(to)g(a)f(memory)f(object)h
(node)f(is)i(properly)e(re\003ected)g(in)i(the)f(hardw)o(are)f
(speci\002c)i(data)2056 5410 y(115)p eop
%%Page: 116 132
116 131 bop 193 108 a FM(structures.)110 284 y Fw(\017)41
b FM(Ensuring)18 b(that)j(mapping)d(entries)i(are)g(properly)e(in)m(v)n
(alidated)g(when)i(nodes)f(and)h(pages)g(are)g(remo)o(v)o(ed)e(by)i
(aging.)37 469 y(In)26 b(the)f(x86)g(implementation,)f(matters)h(are)h
(complicated)d(some)n(what)i(by)g(the)g(f)o(act)h(that)g(the)f(k)o
(ernel)g(implements)f FI(two)37 619 y FM(address)d(space)g(models)g
(\226)g(small)g(and)g(lar)o(ge)f(\226)h(and)g(transparently)e(switches)
j(between)e(them.)27 b(I)22 b(will)f(\002rst)h(describe)f(the)37
768 y(normal)j(means)h(for)g(construction)e(of)i(hardw)o(are)f(page)g
(tables)h(and)g(then)g(consider)f(the)h(moti)n(v)n(ation)e(for)i(small)
g(spaces)37 918 y(and)20 b(the)g(changes)g(necessary)f(to)h(support)f
(them)h(\(which)f(are)h(thankfully)e(minor\).)37 1268
y FG(7.3.1)99 b(Fr)n(om)25 b(Memory)g(Objects)h(to)f(Mapping)g(T)-9
b(ables)37 1492 y FM(In)17 b(Section)g(2.4.1)f(I)h(outlined)f(a)h(nai)n
(v)o(e)f(memory)g(tra)n(v)o(ersal)g(strate)o(gy)-5 b(,)17
b(and)f(in)h(Section)g(2.4.2)f(described)g(space)h(sa)n(ving)f(op-)37
1642 y(timizations)j(on)g(this)h(tra)n(v)o(ersal.)25
b(In)19 b(this)h(section,)f(I)g(describe)g(more)f(precisely)h(ho)n(w)g
(address)g(translation)f(is)i(performed,)37 1791 y(and)g(se)n(v)o(eral)
g(optimizations)e(that)j(pro)o(v)o(ed)d(necessary)h(to)h(its)i(ef)n
(\002cienc)o(y)-5 b(.)162 1950 y(Ignoring)22 b(recent)h(impro)o(v)o
(ements)f(for)h(lar)o(ge)h(pages)g(that)g(ER)m(OS)h(currently)d(does)i
(not)g(use,)h(and)f(support)f(for)h(lar)o(ge)37 2100
y(physical)19 b(address)g(spaces)h(that)g(systems)h(designers)d(ha)n(v)
o(e)i(found)e(dif)n(\002cult)h(to)h(use,)f(the)h(x86)f(f)o(amily)g
(implements)g(a)h(tw)o(o)37 2249 y(le)n(v)o(el)k(hierarchical)e
(address)i(translation)f(mechanism.)35 b(The)23 b(most)h(signi\002cant)
g(10)f(bits)i(of)e(the)h(virtual)f(address)h(inde)o(x)37
2399 y(the)k(upper)e(table)h(\(the)g(page)f(directory\),)h(the)g(ne)o
(xt)g(10)f(bits)i(inde)o(x)e(the)h(lo)n(wer)g(le)n(v)o(el)g(\(the)g
(page)g(table\),)h(and)f(the)g(least)37 2548 y(signi\002cant)e(12)f
(bits)i(inde)o(x)d(the)i(referenced)e(byte)h(within)h(the)g(page.)38
b(By)25 b(intention,)g(this)g(corresponds)d(f)o(airly)j(closely)37
2698 y(to)g(the)f(tra)n(v)o(ersal)f(rules)i(for)e(ER)m(OS)h(memory)f
(objects,)h(which)g(are)g(optimized)f(for)g(machines)g(with)i
(hierarchical)d(page)37 2847 y(tables.)37 3172 y FJ(Constructing)e
(Mapping)h(T)-8 b(able)21 b(Entries)37 3396 y FM(Figure)26
b(7.4)f(sho)n(ws)h(the)g(diagram)f(of)g(Figure)h(2.5)f(with)h(the)g
(equi)n(v)n(alences)e(o)o(v)o(erlaid.)41 b(T)-7 b(o)26
b(construct)f(a)h(page)f(table)h(\(or)37 3546 y(page)h(directory\))e
(entry)-5 b(,)28 b(the)f(corresponding)d(portion)i(of)g(the)i(mapping)d
(tree)i(is)i(tra)n(v)o(ersed)d(to)h(determine)f(the)h(appro-)37
3695 y(priate)c(permissions)g(and)g(the)g(proper)f(page)g(\(page)g
(table\).)34 b(In)23 b(the)h(\002gure,)f(the)g(permissions)g(for)f(the)
i(page)e(table)h(entry)37 3845 y(are)k(determined)e(without)i(re)o
(gard)d(to)j(access)h(constraints)e(imposed)g(by)g(the)h(capabilities)g
(in)g(slots)h Fy(A)g FM(and)e Fy(B)t FM(.)46 b(These)37
3994 y(constraints)26 b(ha)n(v)o(e)h(been)f(captured)f(in)i(the)f(page)
g(directory)f(already)-5 b(,)27 b(and)f(will)h(be)g(applied)f(by)g(the)
h(MMU)g(during)e(its)37 4144 y(tra)n(v)o(ersal)19 b(of)f(the)h(mapping)
e(table)h(e)n(v)o(en)g(if)h(the)g(lo)n(wer)f(page)g(table)h(entry)f
(has)h(greater)e(permissions.)24 b(This)19 b(is)h(con)m(v)o(enient,)37
4293 y(as)h(it)g(f)o(acilitates)g(sharing)e(of)h(page)g(tables.)162
4452 y(Re)o(grettably)-5 b(,)30 b(the)g(same)g(is)h(not)e(true)g(of)h
(the)g(page)f(directory)-5 b(,)30 b(because)f(the)g(hardw)o(are)g
(mapping)f(table)h(re)o(gister)37 4602 y(contains)h(a)h(pointer)f
(rather)f(than)h(a)h(page)f(table)h(entry)-5 b(.)54 b(Because)31
b(the)g(top)f(le)n(v)o(el)g(address)g(space)h(re)o(gister)f(does)g(not)
37 4751 y(implement)15 b(access)h(restrictions,)g(it)g(is)h(possible)e
(that)h(distinct)g(read-only)d(and)i(read-write)g(copies)g(of)h(the)f
(page)g(directory)37 4901 y(will)k(need)e(to)h(be)g(constructed)e(if)j
(some)e(process)h(shares)g(a)g(lar)o(ge)f(enough)f(structure)h(in)h
(read-only)d(form.)23 b(The)18 b(read-only)37 5050 y(v)o(ersion)25
b(of)h(the)g(page)f(directory)f(will)j(not)e(contain)g(write-enabled)f
(page)h(table)h(entries,)h(e)n(v)o(en)e(if)h(the)g(permissions)f(of)37
5200 y(slots)d Fy(A)f FM(and)e Fy(B)25 b FM(w)o(ould)20
b(permit)f(them.)1756 5410 y(116)p eop
%%Page: 117 133
117 132 bop 337 31 3563 7 v 337 105 a FJ(Figur)o(e)20
b(7.4)f FM(Memory)g(object)h(with)g(o)o(v)o(erlaid)f(page)g(tables.)p
337 143 3563 4 v 823 243 a
 20129218 15721840 0 0 20129218 15721840 startTexFig
 823 243 a
%%BeginDocument: mmu-naive-xlate.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: mmu-naive-xlate.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:09 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 306 239
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-6.0 242.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 5029 m -1000 -1000 l 6187 -1000 l 6187 5029 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 337 787 219 219 0 360 DrawEllipse gs col0 s gr

% Polyline
 [60] 0 sd
gs  clippath
855 1395 m 975 1425 l 855 1455 l 990 1455 l 990 1395 l cp
clip
n 1275 375 m 1275 600 l 825 600 l 825 1425 l 975 1425 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 855 1395 m 975 1425 l 855 1455 l  col0 s
% Polyline
 [60] 0 sd
gs  clippath
1755 2070 m 1875 2100 l 1755 2130 l 1890 2130 l 1890 2070 l cp
clip
n 2100 375 m 2100 1050 l 1575 1050 l 1575 2100 l 1875 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1755 2070 m 1875 2100 l 1755 2130 l  col0 s
% Polyline
 [60] 0 sd
gs  clippath
2655 2670 m 2775 2700 l 2655 2730 l 2790 2730 l 2790 2670 l cp
clip
n 2925 375 m 2925 1125 l 2475 1125 l 2475 2700 l 2775 2700 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2655 2670 m 2775 2700 l 2655 2730 l  col0 s
% Polyline
 [60] 0 sd
gs  clippath
3480 2895 m 3600 2925 l 3480 2955 l 3615 2955 l 3615 2895 l cp
clip
n 3825 375 m 3825 1050 l 3300 1050 l 3300 2925 l 3600 2925 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 3480 2895 m 3600 2925 l 3480 2955 l  col0 s
% Polyline
n 1725 75 m 900 75 l 900 375 l 1725 375 l cp gs col0 s gr 
% Polyline
n 2550 75 m 1725 75 l 1725 375 l 2550 375 l cp gs col0 s gr 
% Polyline
n 3375 75 m 2550 75 l 2550 375 l 3375 375 l cp gs col0 s gr 
% Polyline
n 4200 75 m 3375 75 l 3375 375 l 4200 375 l cp gs col0 s gr 
% Polyline
n 5175 75 m 4200 75 l 4200 375 l 5175 375 l cp gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
4455 3045 m 4575 3075 l 4455 3105 l 4590 3105 l 4590 3045 l cp
clip
n 4725 375 m 4725 1050 l 4350 1050 l 4350 3075 l 4575 3075 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 4455 3045 m 4575 3075 l 4455 3105 l  col0 s
% Polyline
 [15 45] 45 sd
n 4500 1200 m 2625 1200 l 2625 3750 l 4500 3750 l cp gs col0 s gr  [] 0 sd
% Polyline
 [15 45] 45 sd
n 2400 525 m 675 525 l 675 2325 l 2400 2325 l cp gs col0 s gr  [] 0 sd
/Times-Roman ff 180.00 scf sf
1950 300 m
gs 1 -1 sc (26:22) col0 sh gr
/Times-Roman ff 180.00 scf sf
1050 300 m
gs 1 -1 sc (31:27) col0 sh gr
/Times-Roman ff 180.00 scf sf
3525 300 m
gs 1 -1 sc (16:12) col0 sh gr
/Times-Roman ff 180.00 scf sf
4650 300 m
gs 1 -1 sc (11:0) col0 sh gr
/Times-Roman ff 180.00 scf sf
2775 300 m
gs 1 -1 sc (21:17) col0 sh gr
/Times-Roman ff 180.00 scf sf
675 2550 m
gs 1 -1 sc (Page Directory) col0 sh gr
/Times-Roman ff 180.00 scf sf
2625 3975 m
gs 1 -1 sc (Page Table) col0 sh gr
% Polyline
gs  clippath
2655 1920 m 2775 1950 l 2655 1980 l 2790 1980 l 2790 1920 l cp
clip
n 1950 2100 m 2550 2100 l 2550 1950 l 2775 1950 l gs col0 s gr gr

% arrowhead
n 2655 1920 m 2775 1950 l 2655 1980 l  col0 s
% Polyline
n 1875 1275 m 2325 1275 l 2325 2175 l 1875 2175 l cp gs col0 s gr 
% Polyline
gs  clippath
1755 1245 m 1875 1275 l 1755 1305 l 1890 1305 l 1890 1245 l cp
clip
n 1050 1425 m 1575 1425 l 1575 1275 l 1875 1275 l gs col0 s gr gr

% arrowhead
n 1755 1245 m 1875 1275 l 1755 1305 l  col0 s
% Polyline
n 3675 1275 m 4125 1275 l 4125 2175 l 3675 2175 l cp gs col0 s gr 
% Polyline
n 3675 2550 m 4125 2550 l 4125 3450 l 3675 3450 l cp gs col0 s gr 
% Polyline
n 2775 1950 m 3225 1950 l 3225 2850 l 2775 2850 l cp gs col0 s gr 
% Polyline
gs  clippath
3555 2520 m 3675 2550 l 3555 2580 l 3690 2580 l 3690 2520 l cp
clip
n 2850 2700 m 3375 2700 l 3375 2550 l 3675 2550 l gs col0 s gr gr

% arrowhead
n 3555 2520 m 3675 2550 l 3555 2580 l  col0 s
% Polyline
gs  clippath
3555 1245 m 3675 1275 l 3555 1305 l 3690 1305 l 3690 1245 l cp
clip
n 2850 2100 m 3375 2100 l 3375 1275 l 3675 1275 l gs col0 s gr gr

% arrowhead
n 3555 1245 m 3675 1275 l 3555 1305 l  col0 s
% Polyline
gs  clippath
4455 2895 m 4575 2925 l 4455 2955 l 4590 2955 l 4590 2895 l cp
clip
n 3750 2925 m 4575 2925 l gs col0 s gr gr

% arrowhead
n 4455 2895 m 4575 2925 l 4455 2955 l  col0 s
% Polyline
n 4575 2775 m 4950 2775 l 4950 3150 l 4575 3150 l cp gs col0 s gr 
% Polyline
n 975 675 m 1425 675 l 1425 1575 l 975 1575 l cp gs col0 s gr 
% Polyline
gs  clippath
855 870 m 975 900 l 855 930 l 990 930 l 990 870 l cp
clip
n 375 900 m 975 900 l gs col0 s gr gr

% arrowhead
n 855 870 m 975 900 l 855 930 l  col0 s
/Times-Roman ff 180.00 scf sf
1650 1500 m
gs 1 -1 sc (B) col0 sh gr
/Times-Roman ff 180.00 scf sf
3675 3675 m
gs 1 -1 sc (Node) col0 sh gr
/Times-Roman ff 180.00 scf sf
2850 3075 m
gs 1 -1 sc (Node) col0 sh gr
/Times-Roman ff 180.00 scf sf
4200 2850 m
gs 1 -1 sc (E) col0 sh gr
/Times-Roman ff 180.00 scf sf
2625 1875 m
gs 1 -1 sc (C) col0 sh gr
/Times-Roman ff 180.00 scf sf
3450 2475 m
gs 1 -1 sc (D) col0 sh gr
/Times-Roman ff 180.00 scf sf
4575 3450 m
gs 1 -1 sc (Page) col0 sh gr
/Times-Roman ff 180.00 scf sf
225 825 m
gs 1 -1 sc (A) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 2337 3563 4 v 337 2607 a FJ(Mapping)i(In)m(v)o(alidation)337
2832 y FM(The)26 b(mapping)d(table)j(entries)f(constructed)f(by)h(the)g
(tra)n(v)o(ersal)g(process)g(depend)f(not)h(only)f(on)h(the)h
(permissions)e(of)i(the)337 2982 y(tra)n(v)o(ersed)18
b(capabilities,)h(b)n(ut)f(also)h(on)g(the)f(capabilities)h(themselv)o
(es.)k(If)c(some)f(operation)f(o)o(v)o(erwrites)g(a)j(capability)d
(slot,)337 3131 y(and)j(that)g(slot)h(has)g(been)e(used)h(to)g
(generate)f(a)i(mapping)d(entry)-5 b(,)19 b(the)h(mapping)f(entry)g
(must)h(be)g(in)m(v)n(alidated.)462 3291 y(T)-7 b(o)28
b(accomplish)f(this,)j(the)e(memory)e(object)i(tra)n(v)o(ersal)f(logic)
h(constructs)f(an)h(in)m(v)o(erse)f(mapping)f(table)i(called)g(the)337
3440 y(\223dependenc)o(y)18 b(table.)-6 b(\224)25 b(The)20
b FF(dependency)f(table)h FM(maintains)g(a)g(mapping)f(from)g
(capability)g(address)h(slots)h(to)g(page)f(table)337
3590 y(entry)28 b(slots.)51 b(Whene)n(v)o(er)27 b(a)h(memory)f(object)h
(capability)f(is)j(o)o(v)o(erwritten,)e(the)g(depend)f(table)i(is)g
(used)f(to)h(locate)f(and)337 3739 y(in)m(v)n(alidate)19
b(all)i(of)f(the)g(dependent)e(page)i(table)g(entries.)462
3899 y(It)i(pro)o(v)o(es)d(that)i(all)h(page)f(table)g(entries)g(that)g
(depend)f(on)h(a)g(particular)f(slot)i(will)g(be)f(contiguous)e(within)
i(their)g(map-)337 4049 y(ping)g(table.)30 b(This)22
b(can)f(be)h(le)n(v)o(eraged)d(by)j(the)f(slot)i(dependenc)o(y)18
b(mechanism)j(to)h(transparently)d(coalesce)j(dependenc)o(y)337
4198 y(entries)f(into)f(contiguous)e(ranges,)h(and)g(substantially)h
(reduce)f(the)h(size)h(of)f(the)g(dependenc)o(y)d(table.)337
4526 y FJ(P)o(age)j(T)-8 b(able)21 b(Reuse)g(and)g(F)n(ast)e(T)-6
b(ra)n(v)o(ersal)337 4751 y FM(In)24 b(order)e(to)h(f)o(acilitate)h
(page)f(table)g(reuse,)h(the)f(object)g(table)g(entry)g(for)g(an)o(y)f
(node)h(that)g(is)i(the)e(root)g(of)g(a)h(page)e(table)i(or)337
4901 y(page)h(directory)e(contains)h(a)h(pointer)f(that)g(points)h(to)g
(a)g(chain)f(of)h(all)g(page)f(tables)h(produced)d(from)i(that)h(node.)
38 b(When)337 5050 y(translation)28 b(is)g(\002rst)h(attempted,)g(this)
f(chain)f(is)i(consulted)e(to)h(locate)g(a)g(pree)o(xisting)e(page)i
(table)g(\(page)e(directory\))g(if)337 5200 y(possible.)f(Only)20
b(if)g(this)h(lookup)e(f)o(ails)h(does)g(a)h(ne)n(w)f(page)f(table)i
(get)f(constructed.)2056 5410 y(117)p eop
%%Page: 118 134
118 133 bop 162 108 a FM(P)o(age)27 b(tables)g(and)f(page)g
(directories)g(are)g(allocated)g(from)g(the)h(object)f(cache')-5
b(s)27 b(page)f(frames,)i(and)e(consequently)37 257 y(ha)n(v)o(e)c
(object)g(table)g(entries.)31 b(These)22 b(object)f(table)h(entries)g
(point)g(back)f(to)i(the)f(object)f(table)h(entries)h(for)e(their)h
(producer)37 407 y(node.)28 b(This)21 b(can)h(be)f(used)g(to)h(perform)
d(some)i(portion)f(of)h(the)g(address)g(translation)g(w)o(alk)g(in)h
(the)f(page)g(table)g(structures)37 556 y(rather)f(than)g(in)g(the)h
(memory)d(object)i(tree.)25 b(Some)n(what)20 b(to)g(my)g(surprise,)g
(this)g(optimization)f(pro)o(v)o(es)g(to)h(be)h(v)o(ery)e(impor)n(-)37
705 y(tant)25 b(to)f(the)g(speed)f(of)h(page)f(f)o(ault)h(handling.)34
b(The)24 b(reason)f(is)i(that)f(the)f(page)h(table)g(entries)f(are)h
(considerably)e(simpler)37 855 y(than)e(the)g(memory)f(object)h
(hierarchy)-5 b(.)37 1196 y FJ(Managing)20 b(Noncongruency)37
1426 y FM(Note)25 b(that)f(the)h(node)e(size)i(and)f(the)g(page)g
(table)g(size)h(need)e(not)h(be)h(congruent)d(for)h(this)i(o)o(v)o
(erlay)d(to)j(w)o(ork.)37 b(An)24 b(earlier)37 1576 y(v)o(ersion)i(of)h
(ER)m(OS)h(described)e(in)h([Sha96b)n(])g(used)g(nodes)f(with)i(16)e
(slots.)47 b(The)27 b(paper)f(discusses)h(a)h(straightforw)o(ard)37
1725 y(method)18 b(for)f(managing)g(the)h(non-congruence)c(of)k(the)h
(respecti)n(v)o(e)e(translation)h(units.)24 b(Similar)18
b(techniques)g(w)o(ould)f(need)37 1875 y(to)28 b(be)f(used)g(on)g
(architectures)f(whose)h(page)g(translation)f(mechanism)h(did)g(not)g
(translate)g(some)g(inte)o(ger)f(multiple)h(of)37 2024
y Fy(l)r(og)144 2036 y Fs(2)181 2024 y Fx(\()p Fy(nodesiz)t(e)p
Fx(\))20 b FM(bits.)37 2391 y FG(7.3.2)99 b(Small)25
b(Addr)n(ess)h(Spaces)37 2621 y FM(The)19 b(x86)f(f)o(amily)h(hardw)o
(are)e(implements)h(an)h(untagged)e(TLB.)i(Modifying)d(the)j(address)g
(space)g(pointer)e(incurs)i(a)g(delay)37 2770 y(to)26
b(\003ush)g(the)g(outstanding)e(TLB)i(entries.)41 b(Until)26
b(v)o(ery)f(recently)-5 b(,)26 b(supervisor)e(entries)h(were)h(also)g
(\003ushed,)g(so)h(at)f(least)37 2919 y(\002)n(v)o(e)i(TLB)f(misses)i
(are)e(incurred)f(between)g(an)o(y)h(address)g(space)g(switch)h(and)f
(the)g(e)o(x)o(ecution)f(of)h(the)g(\002rst)h(user)g(mode)37
3069 y(instruction.)c(On)c(ne)n(wer)g(machines)f(this)i(can)f(be)g
(reduced)f(to)h(three,)f(which)h(is)h(still)h(nearly)d(60)h(c)o(ycles.)
162 3231 y(Most)27 b(ER)m(OS)h(programs)d(are)i(small.)47
b(A)27 b(fe)n(w)g(run)g(in)g(a)h(single)f(page,)h(and)e(the)i(majority)
e(can)h(run)f(in)h(well)h(under)37 3381 y(128)c(kilobytes.)35
b(This)24 b(suggests)g(an)g(interesting)f(solution)g(to)h(the)g(cost)h
(of)e(address)h(space)g(switching)f(\002rst)i(noticed)e(by)37
3530 y(Norm)d(Hardy)f(and)h(I)h(in)f(1991:)k(se)o(gment)c(re)o(gisters)
g(can)g(be)g(used)g(to)g(enforce)f(bounds)g(restrictions)h(on)g
(virtual)f(memory)37 3680 y(addresses,)27 b(and)d(this)i(in)g(turn)e
(can)i(be)f(used)g(to)g(support)f(a)i(limited)f(number)f(of)h
(\223small)h(spaces\224)f(in)h(memory)d(that)j(are)37
3829 y(actually)16 b(shared)f(by)g(all)i(tables.)24 b(Be)o(yond)14
b(limiting)i(processes)f(to)h(a)g(3)g(gigabyte)e(virtual)i(address)f
(limit)h(in)g(anticipation)f(of)37 3978 y(future)j(implementation,)f
(Norm)h(and)g(I)h(did)f(nothing)f(with)i(this)g(idea)g(at)g(the)g
(time.)24 b(It)19 b(w)o(as)h(independently)15 b(redisco)o(v)o(ered)37
4128 y(and)20 b(implemented)e(by)i(Jochen)g(Leidtk)o(e)f(tw)o(o)i
(years)e(later)i([Lie95)n(].)162 4290 y(In)j(the)h(w)o(ak)o(e)g(of)f
([Lie95)n(],)i(I)f(implemented)e(the)h(idea)h(in)f(ER)m(OS.)h(The)g
(resulting)e(address)h(space)h(layout)f(is)h(sho)n(wn)37
4440 y(in)g(Figure)f(7.5.)36 b(Ordinary)23 b(processes)h(are)g
(constrained)f(by)h(se)o(gmentation)f(to)h(the)g(range)g(belo)n(w)f(3)i
(gigabytes.)36 b(When)37 4589 y(a)25 b(process)f(residing)g(in)g(a)h
(small)g(space)f(is)h(e)o(x)o(ecuted,)e(its)j(se)o(gment)d(re)o
(gisters)h(transparently)e(of)n(fset)i(all)h(addresses)f(and)37
4738 y(bound)c(them)h(by)h(128)e(Kbytes.)29 b(The)22
b(changes)e(required)g(to)i(implement)e(small)i(spaces)g(were)g
(minimal;)f(primarily)f(that)37 4888 y(base)h(and)e(bound)g(v)n(alues)h
(had)f(to)i(be)f(added)f(to)h(the)g(conte)o(xt)f(structure)g(and)h
(maintained)f(by)g(the)i(k)o(ernel.)162 5050 y(Under)f(the)h(ER)m(OS)h
(small)f(space)g(design,)g FI(all)g FM(processes)g(are)g(initially)g
(loaded)f(into)g(a)i(small)f(space.)28 b(The)21 b(\002rst)g(time)37
5200 y(the)o(y)f(perform)e(an)i(address)g(reference)f(that)h(e)o
(xceeds)f(the)h(128)g(Kbyte)f(boundary)-5 b(,)17 b(the)o(y)i(are)i
(switched)e(to)i(a)f(lar)o(ge)g(space.)1756 5410 y(118)p
eop
%%Page: 119 135
119 134 bop 337 31 3563 7 v 337 105 a FJ(Figur)o(e)20
b(7.5)f FM(V)-5 b(irtual)20 b(address)g(allocation)f(re\003ecting)h
(small)g(spaces.)p 337 143 3563 4 v 1127 243 a
 15327150 2433925 0 0 15327150 2433925 startTexFig
 1127 243
a
%%BeginDocument: memory-layout.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: memory-layout.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:09 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 233 37
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-3.0 45.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 1750 m -1000 -1000 l 4923 -1000 l 4923 1750 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 75 150 m 2400 150 l 2400 525 l 75 525 l cp gs col0 s gr 
% Polyline
n 2400 150 m 3075 150 l 3075 525 l 2400 525 l cp gs col0 s gr 
% Polyline
n 3075 150 m 3750 150 l 3750 525 l 3075 525 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
675 375 m
gs 1 -1 sc (Large Space) col0 sh gr
/Times-Roman ff 180.00 scf sf
2475 300 m
gs 1 -1 sc (Shared) col0 sh gr
/Times-Roman ff 180.00 scf sf
2475 450 m
gs 1 -1 sc (Spaces) col0 sh gr
/Times-Roman ff 180.00 scf sf
3225 300 m
gs 1 -1 sc (Kernel) col0 sh gr
/Times-Roman ff 180.00 scf sf
3225 450 m
gs 1 -1 sc (Space) col0 sh gr
/Times-Roman ff 180.00 scf sf
75 750 m
gs 1 -1 sc (0) col0 sh gr
/Times-Roman ff 180.00 scf sf
2250 750 m
gs 1 -1 sc (3Gb) col0 sh gr
/Times-Roman ff 180.00 scf sf
2850 750 m
gs 1 -1 sc (3.5Gb) col0 sh gr
/Times-Roman ff 180.00 scf sf
3600 750 m
gs 1 -1 sc (4Gb) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 654 3563 4 v 337 907 a FG(7.3.3)99 b(Impact)26 b(of)f(Small)f
(Spaces)337 1116 y FM(The)i(impact)g(of)f(this)i(change)e(becomes)g
(particularly)f(e)n(vident)h(in)h(the)g(handling)e(of)i(demand-zero)d
(or)j(cop)o(y)f(on)g(write)337 1265 y(page)20 b(f)o(aults.)25
b(Prior)20 b(to)g(the)g(introduction)e(of)i(small)h(spaces,)f(the)g
(sequence)f(of)h(e)n(v)o(ents)g(w)o(as)h(as)g(follo)n(ws:)389
1435 y(1.)41 b(Process)20 b(generates)f(page)h(f)o(ault,)g(entering)f
(k)o(ernel.)389 1603 y(2.)41 b(K)n(ernel)19 b(synthesizes)h(upcall)g
(to)g(virtual)g(cop)o(y)f(handler)g(\(conte)o(xt)f(switch\).)389
1771 y(3.)41 b(In)20 b(1/3)h(of)f(these)h(cases,)g(the)g(virtual)f(cop)
o(y)g(handler)g(must)g(b)n(uy)h(a)g(ne)n(w)f(page)g(from)g(the)h(space)
g(bank,)e(and)h(therefore)493 1920 y(calls)h(it)g(\(conte)o(xt)d
(switch)j(on)e(call,)i(conte)o(xt)e(switch)h(on)g(return\).)389
2088 y(4.)41 b(The)20 b(virtual)g(cop)o(y)g(handler)g(does)g(some)h
(bookk)o(eeping)d(and)i(resumes)g(the)h(f)o(aulted)f(process)h(by)f(in)
m(v)n(oking)f(its)j(f)o(ault)493 2238 y(capability)d(\(conte)o(xt)g
(switch\).)337 2407 y(It)i(pro)o(v)o(es)d(that)i(the)g(virtual)g(cop)o
(y)f(k)o(eeper)g(is)i(one)e(of)h(the)g(processes)g(that)g(runs)g(with)g
(room)f(to)h(spare)g(in)g(128)f(Kbytes.)25 b(As)337 2557
y(a)c(result,)f(the)g(beha)n(vior)f(under)g(small)h(spaces)h(is:)389
2727 y(1.)41 b(Process)20 b(generates)f(page)h(f)o(ault,)g(entering)f
(k)o(ernel.)389 2894 y(2.)41 b(K)n(ernel)19 b(synthesizes)h(upcall)g
(to)g(virtual)g(cop)o(y)f(handler)g(\()p FI(small)h FM(conte)o(xt)f
(switch\).)389 3062 y(3.)41 b(In)20 b(1/3)h(of)f(these)h(cases,)g(the)g
(virtual)f(cop)o(y)g(handler)g(must)g(b)n(uy)h(a)g(ne)n(w)f(page)g
(from)g(the)h(space)g(bank,)e(and)h(therefore)493 3212
y(calls)h(it)g(\(conte)o(xt)d(switch)j(on)e(call,)i FI(small)g
FM(conte)o(xt)e(switch)h(on)g(return\).)389 3380 y(4.)41
b(The)20 b(virtual)g(cop)o(y)g(handler)g(does)g(some)h(bookk)o(eeping)d
(and)i(resumes)g(the)h(f)o(aulted)f(process)h(by)f(in)m(v)n(oking)f
(its)j(f)o(ault)493 3529 y(capability)d(\(conte)o(xt)g(switch\).)462
3699 y(The)28 b(replacement)f(of)h(tw)o(o)h(full)f(conte)o(xt)f
(switches)i(alone)f(is)h(a)g(dramatic)f(reduction)e(in)j(o)o(v)o
(erhead,)e(b)n(ut)i(the)f FI(r)m(eal)337 3848 y FM(bene\002t)23
b(comes)g(in)g(the)g(2/3)g(of)f(cases)i(in)f(which)g(the)g(virtual)f
(cop)o(y)g(k)o(eeper)g(does)h(not)f(need)h(to)g(in)m(v)n(ok)o(e)f(the)h
(space)g(bank:)337 3998 y(no)d(full)f(conte)o(xt)f(switch)i(occurs)e
(at)i(all.)26 b(Considered)18 b(together)m(,)f(the)j(small)g(space)f
(optimization)f(cut)h(nearly)g(35\045)g(of)n(f)g(of)337
4147 y(the)i(total)f(cost)h(of)e(demand-cop)o(y)e(page)j(f)o(aults.)337
4512 y Fz(7.4)119 b(User)30 b(De\002ned)i(Object)e(In)-5
b(v)o(ocation)337 4751 y FM(User)21 b(de\002ned)f(object)g(in)m(v)n
(ocation)f(is)j(by)e(f)o(ar)g(the)h(most)g(performance)c(critical)k
(operation)e(implemented)g(by)h(ER)m(OS.)h(As)337 4901
y(pre)n(viously)d(mentioned,)g(these)i(in)m(v)n(ocations)e(account)h
(for)g(more)g(than)g(80\045)h(of)f(the)h(e)o(xplicit)f(capability)g(in)
m(v)n(ocations)f(in)337 5050 y(a)25 b(running)c(ER)m(OS)j(system.)35
b(From)23 b(the)h(discussion)f(of)g(page)g(f)o(ault)h(handling)d(in)j
(Section)f(7.3.3,)g(it)i(should)d(be)i(e)n(vident)337
5200 y(that)d(user)f(de\002ned)f(object)h(in)m(v)n(ocation)e(occurs)h
(in)i(some)f(v)o(ery)f(performance)e(sensiti)n(v)o(e)j(e)o(x)o(ecution)
e(paths.)2056 5410 y(119)p eop
%%Page: 120 136
120 135 bop 162 108 a FM(User)24 b(de\002ned)e(object)h(in)m(v)n
(ocations)e(are)i(interprocess)f(calls)i(\(IPC\),)f(b)n(ut)h(from)e
(the)h(perspecti)n(v)o(e)f(of)h(the)g(caller)g(the)o(y)37
257 y(are)f(in)m(v)n(ok)o(ed)e(just)i(lik)o(e)g(an)o(y)f(other)g
(capability:)27 b(four)21 b(data)g(re)o(gisters,)h(four)e(capability)h
(re)o(gisters,)h(and)f(an)g(optional)g(data)37 407 y(string)29
b(are)h(transferred)d(from)h(in)m(v)n(ok)o(er)g(to)i(in)m(v)n(ok)o(ee.)
50 b(The)29 b(in)m(v)n(ok)o(ee)f(is)i(set)h(running,)e(and)f(the)i(in)m
(v)n(ok)o(ee)e(is)i(placed)e(in)37 556 y(whate)n(v)o(er)17
b(run)g(state)i(is)f(required)e(by)i(the)g(type)f(of)h(the)g(in)m(v)n
(ocation.)k(If)c(the)f(in)m(v)n(ocation)f(is)j(a)f FJ(call)p
FM(,)h(then)e(the)h(last)h(capability)37 705 y(ar)o(gument)d(is)i
(replaced)e(by)h(a)h(resume)e(capability)h(to)g(the)h(caller)-5
b(.)24 b(The)17 b(IPC)h(mechanism)e(must)i(also)f(match)g(the)h(in)m(v)
n(ok)o(ee')-5 b(s)37 855 y(run)24 b(state)h(to)g(the)f(type)g(of)g(the)
g(capability)g(in)m(v)n(ok)o(ed,)f(and)h(v)o(erify)f(that)h(the)h(in)m
(v)n(ok)o(ee)d(is)k(well)f(formed.)35 b(The)24 b(conceptual)37
1004 y(algorithm)19 b(for)h(user)g(de\002ned)f(object)h(in)m(v)n
(ocation)e(is)j(sho)n(wn)e(in)i(Algorithm)d(7.6.)p 37
1128 3563 7 v 37 1201 a FJ(Algorithm)i(7.6)g FM(User)g(De\002ned)g
(Object)g(In)m(v)n(ocation)p 37 1239 3563 4 v 121 1329
a FI(//)g(on)g(entry)-5 b(,)21 b(cap)e(has)h(been)g(pr)m(epar)m(ed)f
(and)g(is)i(a)g(start)g(or)f(r)m(esume)h(capability)121
1429 y FM(ctxt)f(:=)g(FindConte)o(xt\(cap\);)e FI(//)j(loads)e(conte)n
(xt)h(if)h(needed)121 1529 y FJ(if)f FM(ctxt.IsPrepared\(\))d(==)k(f)o
(alse)f FJ(then)204 1628 y FM(ctxt.Prepare\(\);)e FI(//)i(May)h(yield)
121 1728 y FJ(end)f(if)121 1827 y FI(//)g(V)-9 b(erify)21
b(that)f(r)m(ecipient)g(is)h(well-formed)121 1927 y FJ(if)f
FM(ctxt.IsMalformed\(\))d FJ(then)204 2027 y FI(Behave)i(as)h(for)h
(zer)l(o)g(number)e(capability)121 2126 y FJ(end)h(if)121
2226 y FI(//)g(If)h(start)g(cap,)e(mak)o(e)h(sur)m(e)h(r)m(ecipient)f
(is)h(available)o(.)121 2326 y(//)f(No)h(need)f(to)g(c)o(hec)n(k)g(if)h
(r)m(esume)f(cap,)f(as)i(all)f(ways)121 2425 y(//)g(out)g(of)h(the)f
(waiting)g(state)g(destr)l(oy)h(r)m(esume)f(caps.)121
2525 y FJ(if)g FM(cap.IsT)-7 b(ype\()p FJ(Start)p FM(\))17
b(&&)j(ctxt.runState)e(!=)j(RS)p 1602 2525 25 4 v 30
w(A)-6 b(v)n(ail)20 b FJ(then)204 2624 y FM(curThread.SleepOn\(ctxt\);)
204 2724 y(Y)-5 b(ield\(\);)121 2824 y FJ(end)20 b(if)121
2923 y FI(V)-9 b(alidate)18 b(sent)j(string)f(b)n(uf)o(fer)121
3023 y(V)-9 b(alidate)18 b(r)m(eceive)j(string)f(b)n(uf)o(fer)121
3123 y(Copy)g(Data)f(String)121 3222 y(Copy)h(Data)f(Re)m(gister)o(s)
121 3322 y(Copy)h(Capability)f(Re)m(gister)o(s)121 3421
y(Copy)h(Capability)f(Info)g(F)l(ield)121 3521 y FJ(if)h
FM(in)m(vT)-7 b(ype)19 b(==)h FJ(r)o(etur)o(n)f(then)204
3621 y FM(curThread.pConte)o(xt.W)-7 b(ak)o(eAll\(\);)121
3720 y FJ(end)20 b(if)121 3820 y(if)g FM(in)m(vT)-7 b(ype)19
b(==)h FJ(send)h(then)204 3920 y FM(ne)n(wThread)d(:=)i(ne)n(w)g
(Thread\(\);)204 4019 y(ne)n(wThread.migrateT)-7 b(o\(ctxt\);)204
4119 y(ne)n(wThread.w)o(ak)o(eUp\(\);)121 4218 y FJ(else)204
4318 y FM(curThread.runState)16 b(:=)21 b(stateF)o(or[in)m(vT)-7
b(ype];)204 4418 y(curThread.migrateT)g(o\(ctxt\))o(;)121
4517 y FJ(end)20 b(if)121 4617 y FI(Destr)l(oy)g(all)h(r)m(esume)f
(capabilities)f(to)i(ctxt)p 37 4671 3563 4 v 162 4901
a FM(Se)n(v)o(eral)29 b(details)h(are)g(omitted)f(for)g(clarity;)34
b(the)c(ne)n(w)f(thread)g(allocation)g(used)g(in)h(the)g
FJ(send)h FM(case)f(can)f(stall,)k(for)37 5050 y(e)o(xample,)19
b(so)i(the)f(ne)n(w)g(thread)f(is)i(allocated)e(\002rst)i(and)f
(deallocated)f(if)h(it)h(is)g(not)f(used.)25 b(Also,)20
b(man)o(y)f(of)h(the)g(steps)h(within)37 5200 y(the)g(algorithm)d(can)i
(call)h Fn(Yield\(\))p FM(,)e(which)h(must)g(be)g(caught)f(to)i(ensure)
e(resource)g(cleanup.)1756 5410 y(120)p eop
%%Page: 121 137
121 136 bop 337 108 a FG(7.4.1)99 b(Optimizations)337
313 y FM(From)22 b(the)g(pre)n(vious)f(discussion)h(of)f(conte)o(xts,)h
(it)h(should)e(be)h(clear)g(that)g(most)h(of)f(the)g(consistenc)o(y)f
(checks)g(performed)337 463 y(by)i(this)f(path)g(amount)g(to)g
(fetching)f(a)i(single)f(w)o(ord)g(and)g(testing)g(a)h(bit)g(or)f(a)h
(v)n(alue)f(in)g(that)h(w)o(ord.)31 b(Encoding)20 b(tricks)j(are)337
612 y(used)e(to)g(eliminate)f(se)n(v)o(eral)g(of)g(these)h(memory)e
(references.)25 b(Gi)n(v)o(en)20 b(this,)h(the)g(major)f(reducible)f
(costs)i(are)g(the)g(location)337 761 y(of)f(the)h(recipient)e(conte)o
(xt)g(and)g(the)i(probe)d(of)i(the)h(in)m(v)n(ok)o(er)d(and)i(in)m(v)n
(ok)o(ee)f(string)g(b)n(uf)n(fers.)462 911 y(Recipient)i(conte)o(xt)g
(location)f(is)j(f)o(acilitated)e(by)g(handling)f(start)i(and)f(resume)
g(capabilities)g(dif)n(ferently)f(from)g(other)337 1060
y(capabilities.)36 b(Where)23 b(most)h(prepared)e(capabilities)h(point)
g(to)h(an)g(object)f(table)h(entry)f(and)g(sit)i(on)e(a)h(link)o(ed)f
(list)i(rooted)337 1210 y(at)j(that)e(object)g(table)h(entry)-5
b(,)27 b(start)g(and)f(resume)g(capabilities)g(point)g(directly)g(to)h
(their)f(conte)o(xt)g(entry;)j(the)e(capability)337 1359
y(preparation)d(logic)i(will)h(allocate)f(and)f(load)h(a)h(conte)o(xt)e
(entry)g(if)h(necessary)-5 b(,)27 b(and)e(endea)n(v)n(or)g(to)h
(prepare)f(the)h(conte)o(xt.)337 1509 y(A)d(prepared)d(start)j(or)e
(resume)h(capability)f(therefore)f(points)h(directly)h(to)g(the)g
(named)f(conte)o(xt,)g(and)g(in)h(most)g(cases)h(this)337
1658 y(conte)o(xt)c(is)j(in)m(v)n(okable.)337 1928 y
FJ(Data)e(String)g(Pr)o(obe)337 2133 y FM(ER)m(OS)i(requires)e(that)h
(all)h(capability)e(in)m(v)n(ocations)f(be)i(\223all)h(or)f(nothing.)-6
b(\224)25 b(This)d(pre)n(v)o(ents)d(the)i(detection)f(of)h(incomplete)
337 2283 y(in)m(v)n(ocations,)26 b(at)h(the)f(cost)g(of)g(some)g
(performance.)39 b(On)26 b(multiprocessors,)g(such)g(detection)f(is)i
(not)e(pre)n(v)o(entable,)g(and)337 2432 y(this)c(restriction)f(should)
f(probably)f(be)i(remo)o(v)o(ed)e(where)h(the)h(string)g(cop)o(y)g(is)h
(concerned.)462 2582 y(The)28 b(sender)f(probe)g(logic)g(is)i(not)f
(particularly)e(comple)o(x.)47 b(The)28 b(k)o(ernel)f(v)o(eri\002es)h
(that)g(the)g(address)g(range)f(of)h(the)337 2731 y(probe)18
b(f)o(alls)i(entirely)e(within)h(the)g(sender')-5 b(s)19
b(address)g(space)g(and)f(then)h(performs)e(a)j(single)f(byte)f(data)h
(load)g(from)f(each)h(of)337 2881 y(the)i(data)f(string')-5
b(s)21 b(containing)d(page)i(frames.)26 b(If)20 b(the)g(page)g(is)i(in)
m(v)n(alid,)d(this)i(causes)f(a)h(page)f(f)o(ault,)g(which)g(is)i
(recognized)337 3030 y(as)27 b(a)f(special)f(case)h(by)f(the)g(page)g
(f)o(ault)h(handler)-5 b(.)39 b(In)25 b(this)h(case,)h(the)f(page)e(f)o
(ault)i(handler)e(transfers)h(control)f(to)h(a)h(slo)n(w)337
3179 y(path)d(implementation)d(of)j(the)g(IPC,)g(which)g(synthesizes)f
(a)h(page)g(f)o(ault)f(e)o(xception)f(billed)i(to)g(the)g(in)m(v)n(ok)o
(er)-5 b(.)31 b(In)23 b(short,)g(it)337 3329 y(beha)n(v)o(es)d(as)h
(though)d(the)i(access)h(check)e(were)h(performed)e(before)h(the)h(IPC)
h(w)o(as)g(initiated.)462 3478 y(The)f(recipient)f(probe)g(logic)h(is)h
(considerably)d(more)h(trick)o(y)-5 b(.)24 b(There)19
b(are)h(se)n(v)o(eral)g(cases)h(to)f(consider:)410 3643
y Fw(\017)41 b FM(Cop)o(y)20 b(from)f(lar)o(ge)g(space)h(to)g(small)h
(space.)410 3808 y Fw(\017)41 b FM(Cop)o(y)20 b(from)f(small)h(space)h
(to)f(current)f(lar)o(ge)g(space.)410 3973 y Fw(\017)41
b FM(Cop)o(y)20 b(from)f(lar)o(ge)g(space)h(to)g(lar)o(ge)g(space.)410
4138 y Fw(\017)41 b FM(Cop)o(y)20 b(from)f(small)h(space)h(to)f(ne)n(w)
g(lar)o(ge)f(space.)337 4303 y(If)k(the)f(recipient)g(is)h(a)g(small)f
(space,)h(or)f(if)h(the)f(most)h(recent)e(lar)o(ge)h(space)g(loaded)f
(into)h(the)h(hardw)o(are')-5 b(s)21 b(mapping)g(table)337
4452 y(re)o(gister)k(is)i(in)f(f)o(act)f(the)h(recipient)e(lar)o(ge)h
(space,)i(then)e(no)g(f)o(anc)o(y)f(mapping)g(tricks)i(are)f(necessary)
-5 b(.)40 b(While)26 b(user)g(mode)337 4602 y(access)e(across)e(the)h
(space)f(boundaries)f(is)i(pre)n(v)o(ented)d(by)i(the)h(se)o(gment)e
(mechanism,)h(the)h(k)o(ernel)e(has)i(direct)f(access)h(to)337
4751 y(both)d(in)m(v)n(ok)o(er)e(and)i(in)m(v)n(ok)o(ee)f(b)n(uf)n
(fers)g(without)g(playing)g(an)o(y)h(mapping)e(games.)462
4901 y(If)h(the)h(cop)o(y)e(is)j(to)e(a)h(lar)o(ge)f(space,)g(and)g
(the)g(lar)o(ge)g(space)g(does)g(not)g(match)g(the)h(currently)d
(loaded)i(lar)o(ge)f(space,)h(more)337 5050 y(ef)n(fort)j(must)h(be)g
(made.)33 b(Unfortunately)-5 b(,)20 b(w)o(alking)j(the)g(in)m(v)n(ok)o
(ee')-5 b(s)22 b(address)g(space)h(memory)e(object)i(is)h(e)o(xpensi)n
(v)o(e,)d(and)337 5200 y(the)27 b(x86)e(pro)o(vides)f(no)i(cross)h
(space)f(load)f(and)h(store)g(instructions.)42 b(The)26
b(solution)f(is)i(to)g(tak)o(e)f(adv)n(antage)e(of)i(the)g(f)o(act)2056
5410 y(121)p eop
%%Page: 122 138
122 137 bop 37 108 a FM(that)23 b(the)f(string)g(transfer)f(size)h(is)i
(bounded,)19 b(and)j(reserv)o(e)f(a)h(portion)f(of)h(the)g
FI(k)o(ernel)g FM(virtual)g(address)f(space)h(into)g(which)37
257 y(this)i(string)f(can)g(be)h(mapped.)32 b(The)23
b(recipient)g(string)g(probe)e(reaches)i(into)g(the)h(top)e(le)n(v)o
(el)h(page)g(table)g(for)g(the)g(in)m(v)n(ok)o(ee,)37
407 y(identi\002es)f(the)g(page)f(directory)f(entry)h(that)h(co)o(v)o
(ers)e(the)i(start)g(of)f(the)h(string,)g(and)f(copies)g(this)h(and)g
(the)f(follo)n(wing)f(entry)37 556 y(into)g(reserv)o(ed)f(page)h
(directory)e(slots)j(within)f(k)o(ernel)f(space.)162
710 y(This)g(operation)e(is)j(safe)g(because)e(it)i(is)g(kno)n(wn)e
(that)h(no)f(v)n(alid)h(TLB)g(entry)g(for)f(this)i(k)o(ernel)e(address)
h(range)f(can)g(e)o(xist)37 859 y(in)29 b(the)f(TLB.)g(Whene)n(v)o(er)f
(the)h(k)o(ernel)f(switches)i(to)f(a)g(ne)n(w)g(hardw)o(are)f(mapping)f
(table,)k(the)e(TLB)h(is)g(\003ushed,)g(which)37 1009
y(means)g(that)f(the)h(last)g(entry)f(into)g(a)h(lar)o(ge)f(space)h
(\003ushed)e(this)j(portion)d(of)h(the)g(TLB.)h(While)g(there)f(may)g
(ha)n(v)o(e)g(been)37 1158 y(interv)o(ening)f(switches)i(to)g(and)f
(from)f(a)j(single)e(lar)o(ge)g(space)g(and)h(man)o(y)e(small)i
(spaces,)i(the)e(algorithm)e(has)i(already)37 1308 y(check)o(ed)24
b(that)h(the)g(tar)o(get)f(lar)o(ge)f(space)i(and)f(the)h(acti)n(v)o(e)
f(lar)o(ge)g(space)h(do)f(not)h(match.)38 b(It)25 b(is)g(therefore)e
(kno)n(wn)h(that)h(the)37 1457 y(associated)j(virtual)f(addresses)h
(were)g(not)f(referenced)f(by)i(the)g(k)o(ernel)f(follo)n(wing)f(the)i
(last)h(hardw)o(are)d(address)i(space)37 1607 y(re)o(gister)e(switch,)h
(and)f(that)g(user)f(mode)g(code)h FI(cannot)g FM(reference)e(this)i
(virtual)g(address)f(range)g(by)h(virtue)f(of)h(se)o(gment)37
1756 y(imposed)20 b(restrictions.)162 1910 y(This)c(optimization)e(is)i
(suitable)g(for)f(all)h(non-tagged)c(TLB)k(structures,)g(though)e(the)h
(particular)g(strate)o(gy)g(for)g(locating)37 2059 y(recipient)25
b(mapping)e(entries)i(will)g(need)g(to)g(be)g(re)n(vised)f(when)g(used)
h(in)g(non-hierarchical)d(mapping)h(hardw)o(are.)38 b(Note)37
2209 y(that)32 b(for)f(hardw)o(are)f(that)h(implements)g
FI(ta)o(g)o(g)o(ed)h FM(TLBs,)j(it)d(is)h(possible)e(that)g(stale)h
(tar)o(get)f(mapping)e(entries)j(may)f(be)37 2358 y(retained)17
b(in)h(the)g(TLB)g(from)f(a)h(pre)n(vious)e(in)m(v)n(ocation,)g(and)h
(in)h(the)g(absence)f(of)g(cross-space)g(load)h(and)f(store)h
(instructions)37 2508 y(such)j(entries)f(must)h(be)f(\003ushed)g(from)g
(the)g(TLB)h(by)f(hand.)25 b(An)c(alternati)n(v)o(e)e(implementation)f
(is)k(to)e(reserv)o(e)g(an)g Fy(N)30 b FM(page)37 2657
y(re)o(gion)16 b(of)h(the)g(k)o(ernel)f(virtual)h(space,)g(where)g
Fy(N)26 b FM(corresponds)15 b(to)i(the)h(total)f(size)h(of)f(the)g(TLB)
g(plus)g(the)g(maximum)f(string)37 2806 y(length)24 b(in)h(pages.)39
b(By)25 b(allocating)f(sequential)g(\223slots\224)h(in)g(this)g(windo)n
(w)f(in)h(circular)f(f)o(ashion,)h(the)g(k)o(ernel)f(can)g(ensure)37
2956 y(that)19 b(stale)g(entries)f(ha)n(v)o(e)g(been)f(remo)o(v)o(ed)f
(from)h(the)i(TLB)f(by)g(virtue)g(of)g(con\003ict)g(misses)h(before)e
(an)o(y)g(entries)h(are)h(reused.)37 3251 y FJ(Capability)h(Register)g
(Copy)37 3465 y FM(One)j(further)d(optimization)h(is)i(performed)c(by)j
(the)h(f)o(ast)f(IPC)h(implementation,)e(which)g(is)i(to)g(omit)f
(unnecessary)e(capa-)37 3615 y(bility)f(re)o(gister)f(copies.)24
b(It)19 b(is)h(v)o(ery)d(common)g(for)h(the)g(recipient)g(to)h(refuse)f
(all)h(b)n(ut)g(the)f(last)i(of)e(its)i(capability)e(re)o(gister)g(ar)n
(-)37 3764 y(guments)g(by)g(accepting)f(the)i(\002rst)g(three)g
(capability)e(ar)o(guments)g(into)h(capability)g(re)o(gister)f(zero)h
(\(which)g(is)i(\223hardwired\224)37 3914 y(to)27 b(the)f(zero)g
(number)f(capability\).)42 b(Rather)26 b(than)g(iterate)g(through)e
(the)i(capability)g(cop)o(y)f(logic,)i(the)g(implementation)37
4063 y(recognizes)19 b(this)i(case)g(and)e(bypasses)h(the)g(decoding)e
(of)i(the)h(\002rst)g(three)e(re)o(gister)h(ar)o(guments.)37
4383 y FG(7.4.2)99 b(x86)25 b(Issues)37 4597 y FM(Ha)n(ving)i
(described)f(a)i(number)e(of)h(general)f(optimizations)g(for)h(the)g
(IPC)h(implementation,)f(I)h(no)n(w)e(turn)h(to)h(a)g(v)o(e)o(xing)37
4747 y(issue)21 b(that)g(is)g(speci\002c)f(to)g(the)h(x86)e(f)o(amily:)
25 b(the)20 b(impact)g(of)g(a)g(small)h(re)o(gister)e(set.)162
4901 y(The)31 b(ER)m(OS)g(in)m(v)n(ocation)e(mechanism)h(is)h(intended)
f(to)h(be)g(re)o(gister)f(based.)57 b(Since)31 b(the)g
FJ(call)g FM(and)f FJ(send)i FM(in)m(v)n(oca-)37 5050
y(tions)d(w)o(ait)f(for)f(a)i(reply)-5 b(,)28 b(both)f(send)h(and)g
(recei)n(v)o(e)e(ar)o(guments)g(must)i(be)g(incorporated)d(into)j(the)g
(calling)g(con)m(v)o(ention)37 5200 y(\(T)-7 b(able)20
b(7.5\).)1756 5410 y(122)p eop
%%Page: 123 139
123 138 bop 337 31 3563 7 v 337 104 a FJ(T)-8 b(able)22
b(7.5)d FM(Ar)o(guments)f(to)j(capability)e(in)m(v)n(ocation)p
337 142 3563 4 v 880 312 a FJ(Ar)o(gument)873 b(Size)20
b(\(bits\))100 b(Notes)880 411 y FM(Data)21 b(re)o(gister)e(0)749
b(32)364 b FI(modi\002ed)18 b(on)i(r)m(eturn)880 511
y FM(Data)h(re)o(gister)e(1)749 b(32)364 b FI(modi\002ed)18
b(on)i(r)m(eturn)880 611 y FM(Data)h(re)o(gister)e(2)749
b(32)364 b FI(modi\002ed)18 b(on)i(r)m(eturn)880 710
y FM(Data)h(re)o(gister)e(3)749 b(32)364 b FI(modi\002ed)18
b(on)i(r)m(eturn)880 810 y FM(Sent)h(b)n(uf)n(fer)e(pointer)611
b(32)880 910 y(Sent)21 b(b)n(uf)n(fer)e(length)639 b(32)880
1009 y(Recei)n(v)o(e)20 b(b)n(uf)n(fer)f(pointer)495
b(32)880 1109 y(Recei)n(v)o(e)20 b(b)n(uf)n(fer)f(length)523
b(32)364 b FI(Actual)19 b(count)g(on)h(r)m(eturn)880
1208 y FM(Sent)h(capability)e(re)o(gister)g(indices)216
b(20)880 1308 y(Recei)n(v)o(e)20 b(capability)f(re)o(gister)h(indices)
99 b(20)880 1408 y(Capability)20 b(to)g(in)m(v)n(ok)o(e)563
b(20)880 1507 y(Start)21 b(capability)e(information)f(v)n(alue)119
b(16)364 b FI(r)m(eturned)p 337 1640 V 462 1896 a FM(On)23
b(the)g(x86)f(f)o(amily)-5 b(,)22 b(the)h(re)o(gister)f(set)i(is)f(not)
g(lar)o(ge)f(enough)f(to)i(hold)f(all)h(of)g(these)g(v)n(alues.)32
b(Bearing)22 b(in)h(mind)f(that)337 2045 y(at)j(least)g(one)f(program)e
FI(must)k FM(run)e(from)f(an)h(immutable)f(address)h(space)g(while)h
(making)e(capability)g(in)m(v)n(ocations,)g(an)o(y)337
2195 y(\002eld)f(that)f(is)h FI(modi\002ed)g FM(\(the)f(annotated)e
(items)j(in)f(T)-7 b(able)21 b(7.5\))g(by)f(the)i(in)m(v)n(ocation)d
(must)i(certainly)f(reside)h(in)g(a)h(re)o(gister)-5
b(.)337 2344 y(In)20 b(addition,)f(it)i(is)g(e)o(xceedingly)d(con)m(v)o
(enient)f(if)k(the)f FF(order)g(code)g FM(\(the)g(requested)e
(operation\))g(is)k(also)e(re)o(gister)g(based.)462 2497
y(The)i(x86)g(f)o(amily)g(has)h(eight)f(32-bit)f(data)i(re)o(gisters:)
30 b(EAX,)22 b(EBX,)h(ECX,)g(EDX,)f(ESI,)h(EDI,)f(EBP)-9
b(,)23 b(ESP)-9 b(.)23 b(The)f(ESP)337 2646 y(and)i(EBP)g(re)o(gisters)
g(are)g(intimately)f(related)g(to)h(the)g(hardw)o(are)e(calling)h(con)m
(v)o(ention.)33 b(At)24 b(least)h FI(one)e FM(of)h(these)g(must)g(be)
337 2796 y(used)f(to)h(retain)f(the)g(location)f(of)h(the)h(bottom)e
(of)h(the)g(stack.)34 b(Ignoring)21 b(the)i(impact)g(on)g(ef)n
(\002cienc)o(y)-5 b(,)22 b(no)h(de)o(gree)e(of)i(\002eld)337
2945 y(packing)c(will)i(squeeze)f(the)g(necessary)f(ar)o(guments)f
(into)i(the)g(a)n(v)n(ailable)g(re)o(gister)g(space.)462
3098 y(The)c(x86)f(implementation)f(resolv)o(es)i(this)h(by)f(placing)f
(se)n(v)o(eral)g(ar)o(guments)g(on)g(the)i(caller)f(stack.)24
b(When)16 b(the)g(process)337 3247 y(in)m(v)n(ok)o(es)31
b(a)h(capability)-5 b(,)33 b(these)f(v)n(alues)f(are)g(copied)g(from)f
(the)i(stack)g(into)f(\223pseudo)f(re)o(gisters\224)h(associated)h
(with)g(the)337 3397 y(process.)g(These)22 b(pseudo)f(re)o(gisters)h
(are)h(zeroed)e(by)h(the)g(e)o(xception)f(entry)h(path,)g(and)g(ha)n(v)
o(e)g(reserv)o(ed)f(locations)h(on)g(the)337 3546 y(process)e(root)g
(node)f(\(i.e.)25 b(the)o(y)19 b(are)h(sa)n(v)o(ed)g(across)g
(restarts\).)462 3699 y(Ha)n(ving)f(just)h(been)f(written)g(to)g(the)h
(stack,)f(these)h(v)n(alues)f(are)h(li)n(v)o(e)f(in)g(the)h(data)f
(cache)g(when)g(the)o(y)g(are)g(loaded)g(by)g(the)337
3848 y(in)m(v)n(ocation)e(path.)24 b(Because)c(the)o(y)e(are)g(sa)n(v)o
(ed)h(to)g(the)g(conte)o(xt)f(cache,)g(there)g(is)i(no)f(need)f(for)g
(the)h(in)m(v)n(ok)o(er)e(to)i(e)o(xamine)f(the)337 3998
y(in)m(v)n(ok)o(ee)h(address)h(space)g(to)h(determine)d(what)i(ar)o
(guments)f(are)h(being)f(accepted.)462 4150 y(The)h FF(protospace)e
FM(program,)g(which)h(runs)g(in)h(an)g(immutable)f(address)g(space,)h
(therefore)e(must)i(run)f(without)g(a)h(stack)337 4300
y(in)f(an)o(y)e(case.)24 b(This)18 b(program)e(simply)i(treats)g(the)g
(stack)g(pointer)e(as)j(a)f(general)f(purpose)f(re)o(gister)m(,)h(and)h
(contri)n(v)o(es)e(to)i(point)337 4449 y(it)24 b(at)g(statically)f
(precompiled)d(ar)o(gument)h(blocks)h(residing)g(in)h(the)g(read-only)e
(data)i(area)f(of)h(the)g(protospace)e(program.)337 4599
y(While)33 b(crude,)g(this)f(w)o(orks,)i(and)d(the)h(\002nal)f(result)h
(is)h(f)o(airly)e(natural)f(for)h(programs)f(using)h(higher)g(le)n(v)o
(el)g(ar)o(gument)337 4748 y(con)m(v)o(entions.)462 4901
y(One)c FI(disadvanta)o(g)o(e)f FM(of)h(this)h(strate)o(gy)e(is)j(that)
f(the)f(in)m(v)n(ocation)f(stub)h(code)g(is)h(required)e(to)i(use)f
(the)h(EBP)g(re)o(gister)337 5050 y(to)d(point)f(to)g(one)g(of)g(its)i
(ar)o(guments)c(while)j(rearranging)c(the)k(stack)f(to)h(conform)d(to)j
(the)f(lo)n(w)g(le)n(v)o(el)g(interf)o(ace)g(e)o(xpecta-)337
5200 y(tions.)k(This)21 b(means)g(that)g(these)g(three)f(routines)g
(violate)h(the)g(calling)f(con)m(v)o(ention,)e(and)j(consequently)d
(must)j(be)g(treated)2056 5410 y(123)p eop
%%Page: 124 140
124 139 bop 37 108 a FM(specially)20 b(by)g(deb)n(uggers.)37
436 y FG(7.4.3)99 b(Scatter/Gather)37 652 y FM(As)32
b(Chapter)e(9)g(discusses,)j(there)d(are)h(certain)e(programs)g(for)h
(which)g(the)g(absence)g(of)g(a)h(scatter/gather)d(in)m(v)n(ocation)37
802 y(mechanism)19 b(imposes)h(signi\002cant)g(data)g(cop)o(ying)f
(costs.)162 957 y(The)h(ER)m(OS)h(virtual)e(machine)g(rejected)h(a)g
(scatter/gather)f(mechanism)g(for)g(tw)o(o)i(reasons:)110
1135 y Fw(\017)41 b FM(A)21 b(restriction)e(on)h(the)g(total)h(number)d
(of)i(scatter/gather)f(blocks)h(must)g(be)g(imposed)f(in)i(order)e(to)h
(limit)h(the)f(number)193 1284 y(of)g(objects)g(pinned)e(by)i(an)g(IPC)
h(operation.)i(It)e(is)g(unclear)e(ho)n(w)h(to)g(choose)f(an)h
(appropriate)e(limit.)110 1456 y Fw(\017)41 b FM(Scatter/gather)18
b(blocks)h FI(do)g FM(require)f(reaching)g(into)h(the)h(in)m(v)n(ok)o
(ee)e(address)h(space)h(to)g(read)f(the)g(descriptors.)24
b(This)c(is)193 1606 y(e)o(xceedingly)d(e)o(xpensi)n(v)o(e.)37
1784 y(In)22 b(light)f(of)g(these)h(tw)o(o)g(considerations,)e(I)h
(felt)h(it)g(better)f(to)h(implement)e(a)i(simpler)f(in)m(v)n(ocation)f
(mechanism)g(and)h(see)h(if)37 1933 y(the)f(cost)f(w)o(as)h(really)f
(justi\002ed.)162 2088 y(The)30 b(e)o(xisting)g(interf)o(ace)f(can)h
(be)g(compatibly)f(e)o(xtended)f(to)j(incorporate)d(scatter/gather)g
(descriptor)h(blocks)h(by)37 2238 y(attaching)e(signi\002cance)h(to)g
(the)g(high)f(order)g(bit)h(of)g(the)g(length)f(\002eld.)52
b(If)29 b(this)h(bit)f(is)h(set,)i(the)d(length)f(describes)h(the)37
2387 y(number)18 b(of)g(entries)h(in)g(the)g(descriptor)f(block.)23
b(In)c(this)g(design,)f(the)h(recei)n(v)o(e)f(descriptor)g(block,)g(if)
h(an)o(y)-5 b(,)18 b(is)i(cached)d(in)j(the)37 2537 y(conte)o(xt)f
(structure,)g(while)i(the)f(send)g(descriptor)f(block)g(is)i(read)f
(directly)f(from)g(the)h(in)m(v)n(ok)o(er')-5 b(s)19
b(address)h(space.)37 2924 y Fz(7.5)119 b(Alter)n(nati)o(v)o(e)31
b(Implementation)f(f)m(or)306 3148 y(K)m(er)n(nel)i(Capabilities)37
3395 y FM(A)22 b(fe)n(w)f(operations)e(on)h(process)h(capabilities)f
(ha)n(v)o(e)g(the)h(ef)n(fect)f(of)h(causing)f(the)h(process)f(to)h
(become)f(in)m(v)n(alid.)25 b(It)c(is)h(pos-)37 3544
y(sible)e(that)f(this)h(process)f(may)f(be)h(the)g(one)g(recei)n(ving)f
(control)f(at)j(the)f(end)g(of)g(the)g(current)f(in)m(v)n(ocation.)k
(In)d(consequence,)37 3693 y(the)i(k)o(ernel)g(must)f(check)h(that)g
(the)f(intended)g(recipient)g(is)i(still)g(v)n(alid)e(on)h(the)f(w)o
(ay)h(out)g(of)g(the)g(k)o(ernel,)f(after)g(the)h(in)m(v)n(oca-)37
3843 y(tion)h(has)g(been)f(performed.)26 b(This)c(test)h(needs)e(to)h
(be)f(done)g(only)g(if)h(the)g(in)m(v)n(ok)o(ed)d(capability)i(w)o(as)i
(implemented)c(by)j(the)37 3992 y(k)o(ernel.)162 4148
y(When)g(added)f(to)h(the)h(o)o(v)o(erhead)c(of)j(e)o(xtracting)f(and)g
(dispatching)g(on)h(the)g(capability)f(type,)h(the)g(number)f(of)h(c)o
(ycles)37 4297 y(required)j(for)h(this)h(mar)o(ginal)e(check)g(e)o
(xceeds)h(the)g(number)f(of)h(c)o(ycles)g(for)g(an)g(additional)f
(user/supervisor)g(crossing.)37 4447 y(This)i(suggests)g(an)f
(alternate)g(implementation,)g(which)g(is)h(to)g(ha)n(v)o(e)f(a)g
(dedicated)g(k)o(ernel-implemented)d FI(pr)l(ocess)j
FM(that)37 4596 y(implements)e(all)h(in-k)o(ernel)e(capabilities.)38
b(This)25 b(w)o(ould)f(ha)n(v)o(e)g(the)h(ef)n(fect)f(of)g(turning)f
FI(all)i FM(capability)f(in)m(v)n(ocations)f(into)37
4745 y(user)n(-de\002ned)c(object)h(in)m(v)n(ocations)e(as)j(sho)n(wn)f
(in)g(Algorithm)f(7.6.)162 4901 y(Since)27 b(switching)g(to)g(an)g
(in-k)o(ernel)f(process)g(does)h(not)g(entail)g(either)g(a)g(mar)o
(ginal)f(user/supervisor)f(transition)h(or)37 5050 y(a)e(mar)o(ginal)e
(mapping)f(table)i(modi\002cation,)f(it)i(seems)g(lik)o(ely)f(that)g
(this)h(implementation)d(w)o(ould)h(be)h(some)n(what)f(f)o(aster)37
5200 y(than)e(the)g(current)f(implementation)f(by)i(virtue)f(of)h
(eliminating)f(a)i(painful)e(corner)g(case)h(in)h(the)f(control)f
(transfer)g(logic.)1756 5410 y(124)p eop
%%Page: 125 141
125 140 bop 462 108 a FM(When)27 b(corner)f(cases)i(ha)n(v)o(e)f
(arisen)h(in)f(understanding)e(the)i(beha)n(vior)f(of)h(k)o
(ernel-implemented)d(capabilities,)29 b(the)337 257 y(guiding)17
b(principle)g(has)h(al)o(w)o(ays)h(been)e(to)i(imagine)e(that)h(the)g
(service)g(were)g(implemented)e(by)i(some)g(unspeci\002ed)f(means)337
407 y(by)30 b(another)e(process,)j(and)e(that)h(this)g(process)f(then)g
(returns)g(to)h(the)f(caller)h(as)g(though)e(via)h(an)h(interprocess)e
FJ(r)o(etur)o(n)337 556 y FM(operation.)c(The)19 b(change)g(outlined)g
(here)h(is)h(to)f(actually)g(implement)f(k)o(ernel)g(operations)g(that)
h(w)o(ay)-5 b(.)462 709 y(This)20 b(implementation)e(has)j(not)f(been)f
(attempted,)g(and)h(should)f(be)h(tested)g(in)h(some)f(future)f
(system.)337 1082 y Fz(7.6)119 b(Closing)31 b(Comments)337
1323 y FM(The)26 b(ER)m(OS)h(implementation)c(borro)n(ws)i(hea)n(vily)g
(from)g(the)h(style)h(of)e(microk)o(ernel)f(architectures.)41
b(One)26 b(particularly)337 1473 y(v)o(e)o(xing)20 b(assertion)h(is)i
(made)e(of)g(such)h(implementations)d(that)j(should)f(be)g(deb)n(unk)o
(ed)f(without)h(delay:)27 b(that)22 b(such)f(imple-)337
1622 y(mentations)g(are)h(substantially)e(more)h(complicated)f(than)h
(con)m(v)o(entional)e(operating)g(systems,)k(and)e(that)g(the)h(ef)n
(\002cienc)o(y)337 1772 y(of)e(these)h(designs)f(is)h(speci\002c)f(to)g
(particular)f FI(implementations)g FM(of)h(a)g(gi)n(v)o(en)f(processor)
g(architecture.)462 1924 y(Ignoring)i(tri)n(vial)j(stub)f(wrappers)g
(for)g(supervisor)f(instructions,)h(the)h(ER)m(OS)g(implementation)d
(contains)i(1500)f(as-)337 2074 y(sembly)f(coded)e(instructions.)26
b(This)21 b(is)h(roughly)c(comparable)h(to)i(the)g(Linux)e
(implementation)g(for)h(the)h(same)g(hardw)o(are)337
2223 y(platform.)646 2193 y FC(5)731 2223 y FM(These)29
b(are)h(brok)o(en)e(do)n(wn)g(by)h(function)f(in)i(T)-7
b(able)29 b(7.6.)52 b(Of)30 b(these)g(instructions,)g(only)f(437)g(are)
g(ER)m(OS)p 337 2354 3563 7 v 337 2428 a FJ(T)-8 b(able)22
b(7.6)d FM(Breakdo)n(wn)g(of)g(ER)m(OS)i(assembly)f(code)p
337 2466 3563 4 v 809 2635 a FJ(Instructions)100 b(Description)974
b(Files)p 759 2668 2678 4 v 809 2738 a FM(181)403 b(system)20
b(startup)g(code)729 b(lostart.o)809 2838 y(204)403 b(tracing)19
b(re)o(gister)g(interf)o(ace)575 b(Systrace.o)809 2937
y(28)445 b(setjmp/longjmp)18 b(implementation)319 b(setjmp.o,)19
b(longjmp.o)809 3037 y(38)445 b(memory)18 b(block)h(mo)o(v)o(e/zero)532
b(memory)-5 b(.o)809 3136 y(400)403 b(F)o(ast)21 b(user)f(de\002ned)f
(object)g(in)m(v)n(ocation)232 b(interrupt.o)809 3236
y(37)445 b(Capability)19 b(re)o(gister)h(pseudo-instructions)96
b(interrupt.o)809 3336 y(313)403 b(Interrupt)18 b(entry)h(point)h
(stubs)520 b(interrupt.o)809 3435 y(66)445 b(Interrupt)18
b(handling)781 b(interrupt.o)809 3535 y(57)445 b(Process)20
b(resume)g(logic)683 b(interrupt.o)809 3635 y(276)403
b(Interrupt)18 b(deb)n(ugging)f(code)547 b FI(various)p
337 3767 3563 4 v 337 4005 a FM(speci\002c.)36 b(Of)23
b(these,)i(400)d(are)i(a)g(hea)n(vily)f(commented)e(implementation)g
(of)j(the)f(f)o(ast)h(user)g(de\002ned)e(object)h(in)m(v)n(ocation)337
4154 y(path.)462 4307 y(Ov)o(er)f(the)i(eight)e(years)h(in)g(which)g(I)
g(ha)n(v)o(e)g(w)o(ork)o(ed)f(on)h(this)g(code)g(base,)g
(implementation)e(dependent)g(changes)h(\(as)337 4457
y(opposed)17 b(to)h(architecture)e(dependent)g(changes\))g(to)i(the)g
(code)g(were)f(required)g(only)g(once,)g(which)h(w)o(as)g(in)g(the)g
(transition)337 4606 y(from)29 b(the)g(386)g(to)g(the)g(486.)52
b(Be)o(ginning)27 b(with)j(the)f(486,)i(supervisor)d(code)g(honored)f
(the)j(write)f(protect)f(bit,)k(which)337 4756 y(permits)c(a)h(f)o
(aster)f(test)h(of)f(recipient)g(b)n(uf)n(fer)e(permissions)i(in)g(the)
g(string)g(mo)o(v)o(e)f(portion)g(of)h(the)g(user)g(de\002ned)f(object)
337 4905 y(implementation.)50 b(The)28 b(386)g(implementation)f(w)o
(orks)i(for)f(all)h(later)h(generations,)f(and)f(that)h(the)g(sa)n
(vings)g(from)f(this)337 5054 y(optimization)19 b(is)i(small.)p
337 5121 1425 4 v 337 5176 a FB(5)404 5200 y FA(A)16
b(direct)j(comparison)g(is)e(made)g(dif)n(\002cult)i(by)e(Linux')l(s)h
(hea)o(vy)g(use)f(of)g(inline)i(assembler)f(directi)n(v)o(es.)2056
5410 y FM(125)p eop
%%Page: 126 142
126 141 bop 162 108 a FM(Of)23 b(the)g(v)n(arious)f(portions)g(of)h
(assembly)g(code,)g(perhaps)e(80)i(lines)g(are)h(truly)e(opaque.)32
b(These)23 b(deal)g(with)g(reco)o(v)o(ery)37 257 y(from)f(v)n(arious)g
(conditions)f(related)h(to)h(the)g(x86)f(f)o(amily')-5
b(s)22 b(comple)o(x)f(handling)g(of)i(e)o(xceptions)e(during)g
(user/supervisor)37 407 y(transitions,)28 b(and)e(are)h(not)g
(speci\002c)g(to)g(ER)m(OS)g(in)g(an)o(y)f(w)o(ay)-5
b(.)44 b(Implementing)24 b(an)j(ef)n(\002cient)g(conte)o(xt)e(sa)n(v)o
(e)i(for)f(the)h FI(x86)37 556 y FM(f)o(amily)20 b(is)h(challenging)d
(because)i(of)g(the)g(architecture)f(speci\002cation.)1756
5410 y(126)p eop
%%Page: 127 143
127 142 bop 337 861 a FD(Chapter)45 b(8)337 1428 y FK(Operating)52
b(System)f(Implementation)337 1937 y FM(Because)27 b(most)g(of)f(the)h
(\223policies\224)f(of)g(traditional)g(operating)f(systems)i(are)f
(handled)f(by)h(user)h(le)n(v)o(el)f(programs)f(in)i(an)337
2086 y(ER)m(OS)21 b(system,)e(a)h(high)f(performance)e(reduction)h(to)h
(practice)g(of)h(the)f(ER)m(OS)h(virtual)f(machine)g(is)h(not)g(enough)
d(to)j(yield)337 2235 y(a)27 b(high)e(performance)e(system.)43
b(An)o(y)25 b(user)h(de\002ned)f(objects)h(in)m(v)n(olv)o(ed)e(in)i
(managing)e(performance)g(critical)i(policies)337 2385
y(must)21 b(also)f(ha)n(v)o(e)g(high)f(performance)e(implementations.)
462 2561 y(In)22 b(ER)m(OS,)g(there)g(are)g(four)f(such)h(user)g
(de\002ned)f(objects:)29 b(the)22 b(constructor)m(,)e(the)i(process)g
(creator)m(,)f(the)h(virtual)f(cop)o(y)337 2711 y(k)o(eeper)m(,)j(and)f
(the)h(space)g(bank.)35 b(The)24 b(constructor)e(and)i(process)f
(creator)g(play)h(k)o(e)o(y)f(roles)h(in)g(the)g(instantiation)f(of)h
(ne)n(w)337 2860 y(processes.)37 b(The)23 b(virtual)h(cop)o(y)f(k)o
(eeper)g(and)h(the)g(space)g(bank)f(jointly)g(determine)g(the)h
(performance)d(of)j(demand-zero)337 3010 y(and)c(demand-cop)o(y)d(f)o
(aults.)25 b(The)20 b(space)g(bank)f(also)i(plays)f(a)g(k)o(e)o(y)g
(role)g(in)g(the)g(performance)e(of)i(such)f(things)h(as)h(\002les.)462
3186 y(In)31 b(practice,)i(measurement)c(sho)n(ws)i(that)g(the)g
(performance)e(of)h(the)h(\223ob)o(vious\224)e(implementations)h(of)g
(the)h(con-)337 3336 y(structor)g(and)f(process)g(creator)g(is)i(amply)
e(suf)n(\002cient.)57 b(F)o(or)30 b(the)h(most)g(part,)i(these)e
(programs)e(do)i(not)f(perform)f(an)o(y)337 3485 y(complicated)22
b(operations;)i(their)f(performance)d(is)25 b(mostly)e(a)g(function)f
(of)h(the)g(underlying)e(k)o(ernel)i(capability)f(in)m(v)n(oca-)337
3635 y(tion)h(performance.)31 b(Where)23 b(optimizations)f(are)h
(possible,)h(the)o(y)e(are)h(primarily)f(concerned)f(with)j(a)n(v)n
(oiding)e(calls)h(that)337 3784 y(are)d(gratuitous,)e(such)i(as)g
(using)g(the)f(space)h(bank')-5 b(s)19 b(\223allocate)h(three)f
(nodes\224)g(operation)f(when)h(appropriate)e(rather)i(than)337
3933 y(allocating)h(three)f(nodes)h(one)f(at)i(a)g(time.)462
4110 y(In)f(this)h(chapter)m(,)d(then,)i(I)g(describe)f(the)i
(implementation)d(of)i(the)g(virtual)f(cop)o(y)h(k)o(eeper)f(and)g(the)
i(space)f(bank.)337 4614 y Fz(8.1)119 b(The)31 b(V)l(irtual)f(Copy)g(K)
m(eeper)337 4901 y FM(The)h(virtual)f(cop)o(y)f(k)o(eeper)h(handles)g
(both)g(demand-zero)d(and)j(demand-cop)o(y)d(memory)i(object)h(f)o
(aults.)57 b(All)31 b(ER)m(OS)337 5050 y(memory)16 b(objects)h(are)g
(ultimately)f(constructed)g(from)g(the)h FF(primordial)f(zero)i(space)p
FM(,)f(a)h(fully)e(populated)g(memory)f(object)337 5200
y(containing)k(immutable)g(zero)g(pages.)2056 5410 y(127)p
eop
%%Page: 128 144
128 143 bop 37 108 a FG(8.1.1)99 b(Ph)o(ylogeny)25 b(of)g(Memory)g
(Objects)37 367 y FM(When)33 b(a)g(ne)n(w)f(memory)f(space)i(is)g(to)g
(be)g(constructed,)g(a)h(ne)n(w)e(\223virtual)g(cop)o(y\224)f(of)i(the)
f(primordial)f(zero)h(space)h(is)37 516 y(constructed)18
b(by)h(in)m(v)n(oking)f(the)h(\223zero)g(space)h(constructor)-5
b(.)f(\224)23 b(This)d(constructor)d(b)n(uilds)j(a)g(ne)n(w)f(virtual)g
(cop)o(y)g(k)o(eeper)f(and)37 666 y(hands)24 b(it)h(the)g(space)f(to)h
(cop)o(y)e(from)g(\(in)i(this)f(case)h(the)g(primordial)d(zero)i
(space\))g(and)g(the)g(of)n(fset)g(of)g(the)h(last)g(non-zero)37
815 y(byte)20 b(\(in)g(this)h(case)g(zero\).)162 993
y(Initially)-5 b(,)18 b(the)g(resulting)f(memory)g(space)h(has)h(no)f
(modi\002able)f(pages.)24 b(As)19 b(portions)e(of)h(the)h(space)f(are)g
(modi\002ed,)g(the)37 1142 y(virtual)i(cop)o(y)f(k)o(eeper)h(is)h(in)m
(v)n(ok)o(ed.)i(W)m(ith)d(each)g(in)m(v)n(ocation)e(it)j(performs)e
(one)g(of)h(tw)o(o)h(operations:)110 1365 y Fw(\017)41
b FM(If)20 b(the)g(reference)f(is)i(in)m(v)n(alid,)d(an)j(appropriate)c
(size)k(sub-portion)d(of)i(the)g(primordial)e(zero)i(space)g(is)h
(inserted.)j(This)193 1515 y(allo)n(ws)c(e)o(xisting)g(objects)g(to)g
(gro)n(w)-5 b(.)110 1709 y Fw(\017)41 b FM(If)21 b(the)g(reference)e
(causes)j(a)f(permission)g(violation,)f(the)h(read-only)e(metadata)h
(\(nodes\))g(and)g(data)h(\(a)h(page\))e(on)h(the)193
1858 y(reference)d(path)i(are)g(copied)f(into)h(read-write)f(copies.)37
2081 y(Figure)h(8.1)g(sho)n(ws)g(the)g(structural)f(modi\002cation)g
(associated)h(with)g(such)g(a)h(cop)o(y:)p 37 2262 3563
7 v 37 2336 a FJ(Figur)o(e)f(8.1)f FM(V)-5 b(irtual)20
b(Cop)o(y)g(implementation.)p 37 2374 3563 4 v 435 2473
a
 21510635 8551628 0 0 21510635 8551628 startTexFig
 435 2473 a
%%BeginDocument: vcs-trick.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: vcs-trick.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:12 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 327 130
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-17.0 139.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /endash 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Times-Roman /Times-Roman-iso isovec ReEncode
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 3304 m -1000 -1000 l 6721 -1000 l 6721 3304 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
gs  clippath
4656 645 m 4800 675 l 4656 705 l 4815 705 l 4815 645 l cp
clip
n 4425 675 m 4800 675 l gs col0 s gr gr

% arrowhead
n 4656 645 m 4800 675 l 4656 705 l 4680 675 l 4656 645 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
4656 870 m 4800 900 l 4656 930 l 4815 930 l 4815 870 l cp
clip
n 4425 900 m 4800 900 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 4656 870 m 4800 900 l 4656 930 l 4680 900 l 4656 870 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman-iso ff 180.00 scf sf
4875 750 m
gs 1 -1 sc (read-write) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
4875 975 m
gs 1 -1 sc (read-only) col0 sh gr
% Polyline
n 1500 1500 m 2325 1500 l 2325 1725 l 1500 1725 l cp gs col0 s gr 
% Polyline
n 450 1500 m 1275 1500 l 1275 1725 l 450 1725 l cp gs col0 s gr 
% Polyline
n 975 825 m 1800 825 l 1800 1050 l 975 1050 l cp gs col0 s gr 
% Polyline
n 1500 2100 m 1650 2100 l 1650 2250 l 1500 2250 l cp gs col7 0.75 shd ef gr gs col0 s gr 
% Polyline
n 975 2100 m 1125 2100 l 1125 2250 l 975 2250 l cp gs col0 s gr 
% Polyline
n 750 2100 m 900 2100 l 900 2250 l 750 2250 l cp gs col0 s gr 
% Polyline
n 525 2100 m 675 2100 l 675 2250 l 525 2250 l cp gs col0 s gr 
% Polyline
n 300 2100 m 450 2100 l 450 2250 l 300 2250 l cp gs col0 s gr 
% Polyline
gs  clippath
1380 681 m 1350 825 l 1320 681 l 1320 840 l 1380 840 l cp
clip
n 1350 375 m 1350 825 l gs col0 s gr gr

% arrowhead
n 1380 681 m 1350 825 l 1320 681 l 1350 705 l 1380 681 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
1605 1356 m 1575 1500 l 1545 1356 l 1545 1515 l 1605 1515 l cp
clip
n 1125 900 m 1125 1125 l 1575 1125 l 1575 1500 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1605 1356 m 1575 1500 l 1545 1356 l 1575 1380 l 1605 1356 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
930 1356 m 900 1500 l 870 1356 l 870 1515 l 930 1515 l cp
clip
n 3225 900 m 3225 1200 l 900 1200 l 900 1500 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 930 1356 m 900 1500 l 870 1356 l 900 1380 l 930 1356 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
780 1356 m 750 1500 l 720 1356 l 720 1515 l 780 1515 l cp
clip
n 1050 900 m 1050 1125 l 750 1125 l 750 1500 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 780 1356 m 750 1500 l 720 1356 l 750 1380 l 780 1356 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
405 1956 m 375 2100 l 345 1956 l 345 2115 l 405 2115 l cp
clip
n 525 1575 m 525 1800 l 375 1800 l 375 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 405 1956 m 375 2100 l 345 1956 l 375 1980 l 405 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
630 1956 m 600 2100 l 570 1956 l 570 2115 l 630 2115 l cp
clip
n 600 1575 m 600 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 630 1956 m 600 2100 l 570 1956 l 600 1980 l 630 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
855 1956 m 825 2100 l 795 1956 l 795 2115 l 855 2115 l cp
clip
n 675 1575 m 675 1875 l 825 1875 l 825 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 855 1956 m 825 2100 l 795 1956 l 825 1980 l 855 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
1080 1956 m 1050 2100 l 1020 1956 l 1020 2115 l 1080 2115 l cp
clip
n 750 1575 m 750 1800 l 1050 1800 l 1050 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1080 1956 m 1050 2100 l 1020 1956 l 1050 1980 l 1080 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
1605 1956 m 1575 2100 l 1545 1956 l 1545 2115 l 1605 2115 l cp
clip
n 1575 1575 m 1575 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1605 1956 m 1575 2100 l 1545 1956 l 1575 1980 l 1605 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 3150 825 m 3975 825 l 3975 1050 l 3150 1050 l cp gs col0 s gr 
% Polyline
gs  clippath
3780 1356 m 3750 1500 l 3720 1356 l 3720 1515 l 3780 1515 l cp
clip
n 3300 900 m 3300 1125 l 3750 1125 l 3750 1500 l gs col0 s gr gr

% arrowhead
n 3780 1356 m 3750 1500 l 3720 1356 l 3750 1380 l 3780 1356 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 3600 1500 m 4425 1500 l 4425 1725 l 3600 1725 l cp gs col0 s gr 
% Polyline
n 3600 2100 m 3750 2100 l 3750 2250 l 3600 2250 l cp gs col0 s gr 
% Polyline
gs  clippath
3705 1956 m 3675 2100 l 3645 1956 l 3645 2115 l 3705 2115 l cp
clip
n 3675 1575 m 3675 2100 l gs col0 s gr gr

% arrowhead
n 3705 1956 m 3675 2100 l 3645 1956 l 3675 1980 l 3705 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
gs  clippath
3555 681 m 3525 825 l 3495 681 l 3495 840 l 3555 840 l cp
clip
n 3525 375 m 3525 825 l gs col0 s gr gr

% arrowhead
n 3555 681 m 3525 825 l 3495 681 l 3525 705 l 3555 681 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
n 1725 2100 m 1875 2100 l 1875 2250 l 1725 2250 l cp gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
1830 1956 m 1800 2100 l 1770 1956 l 1770 2115 l 1830 2115 l cp
clip
n 1650 1575 m 1650 1800 l 1800 1800 l 1800 2100 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1830 1956 m 1800 2100 l 1770 1956 l 1800 1980 l 1830 1956 l  cp gs 0.00 setgray ef gr  col0 s
% Polyline
 [60] 0 sd
gs  clippath
2019 2205 m 1875 2175 l 2019 2145 l 1860 2145 l 1860 2205 l cp
clip
n 3750 1575 m 3750 1800 l 2175 1800 l 2175 2175 l 1875 2175 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2019 2205 m 1875 2175 l 2019 2145 l 1995 2175 l 2019 2205 l  cp gs 0.00 setgray ef gr  col0 s
/Times-Roman-iso ff 180.00 scf sf
525 300 m
gs 1 -1 sc (Original Space \(read-only\)) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
2850 300 m
gs 1 -1 sc (After Copy On Write) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
3900 2250 m
gs 1 -1 sc (\(copy of shaded page\)) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 3660 3563 4 v 162 3976 a FM(Modi\002cations)29 b(proceed)g(in)h
(this)h(f)o(ashion)f(until)g(the)g(ne)n(w)h(space)f(has)h(been)e
(written)h(to)h(the)f(satisf)o(action)g(of)h(the)37 4125
y(program)23 b(that)h(manipulates)f(it)i(\(e.g.,)f(a)h(link)o(er\).)37
b(If)24 b(further)f(virtual)g(copies)h(of)g(the)h(resulting)e(space)h
(are)h(to)f(be)g(made,)37 4275 y(the)e(space)g(is)h(no)n(w)f(frozen,)e
(and)i(a)g(ne)n(w)g(constructor)e(is)j(produced)c(that)j(will)h(b)n
(uild)e(ne)n(w)h(virtual)f(copies)h(of)g(this)g(frozen)37
4424 y(memory)d(object.)162 4602 y(The)26 b(point)f(in)h(this)h
(description)d(is)j(that)g(the)f(virtual)f(cop)o(y)g(k)o(eeper)g(can)h
(be)g(assured)g(of)f(the)h(internal)g(structure)f(of)37
4751 y(the)c(resulting)f(object.)27 b(The)20 b(primordial)f(zero)h
(space)h(is)h(a)f(tree)g(of)f(nodes)h(whose)f(lea)n(v)o(es)h(are)g
(pages.)26 b(All)c(virtual)e(copies)37 4901 y(\(recursi)n(v)o(ely\))15
b(from)h(this)i(initial)g(zero)f(space)g(ha)n(v)o(e)g(been)f
(constructed)g(by)h(some)g(virtual)f(cop)o(y)h(k)o(eeper)m(,)f(so)i
FI(their)h FM(internal)37 5050 y(structure)e(is)i(kno)n(wn.)j(This)c
(simpli\002es)g(the)g(k)o(eeper)f(program)e(by)i(eliminating)g(the)g
(need)g(to)h(type)f(check)g(the)h(capabilities)37 5200
y(within)i(the)h(memory)d(object.)1756 5410 y(128)p eop
%%Page: 129 145
129 144 bop 337 108 a FG(8.1.2)99 b(Optimized)26 b(T)-7
b(ra)n(v)o(ersal)337 327 y FM(Unfortunately)i(,)18 b(kno)n(wing)h(the)i
(memory)e(object)h(structure)g(does)h(not)f(eliminate)h(the)g(need)f
(to)h(perform)e(the)h(tree)h(tra)n(v)o(er)n(-)337 476
y(sal.)27 b(This)20 b(tra)n(v)o(ersal)g(requires)f(tw)o(o)i(k)o(ernel)e
(capability)g(in)m(v)n(ocations)g(in)i(each)f(step:)25
b(one)20 b(to)g(fetch)g(the)h(capability)e(for)h(the)337
626 y(ne)o(xt)g(layer)g(do)n(wn,)f(and)g(the)h(other)g(to)g(check)g
(the)g(type)f(of)h(this)h(capability)e(to)i(determine)d(if)j(it)g(is)g
(a)g(page)e(capability)-5 b(.)462 783 y(Since)17 b(the)h(virtual)e(cop)
o(y)h(k)o(eeper)f(allocates)h(all)h(of)f(the)g(mutable)g(nodes)f(and)h
(pages,)g(and)g(kno)n(ws)f(that)i(the)f(immutable)337
932 y(nodes)23 b(and)g(pages)g(are)g(frozen,)g(it)h(also)g(kno)n(ws)f
(that)g(an)o(y)g(tw)o(o)h(tra)n(v)o(ersals)f(dri)n(v)o(en)f(by)h(the)g
(same)h(address)f(will)h(arri)n(v)o(e)e(at)337 1082 y(the)g(same)g
(object.)29 b(Further)m(,)21 b(because)g(the)h(virtual)f(cop)o(y)g(k)o
(eeper)g(kno)n(ws)g(the)h(size)g(of)g(a)g(node)e(\(32)i(slots\),)g(it)g
(kno)n(ws)f(that)337 1231 y(the)f(address)g(space)g(may)f(be)h(treated)
f(as)i(di)n(vided)d(into)i(chunks)e(of)i(32)f(pages,)h(and)f(that)h(if)
g(a)g(recently)f(tra)n(v)o(ersed)g(address)337 1380 y
Fy(a)j FM(and)e(the)h(current)e(address)i Fy(b)g FM(f)o(all)g(within)g
(the)f(same)h(32)g(page)f(re)o(gion)f(the)o(y)h(will)i(arri)n(v)o(e)e
(at)h(the)g(same)g(leaf)g(node)e(in)i(an)o(y)337 1530
y(tra)n(v)o(ersal)f(of)g(the)g(tree.)462 1687 y(Heaps)33
b(and)f(stacks)g(gro)n(w)g(in)h(mostly)f(linear)g(f)o(ashion.)61
b(By)33 b(caching)e(the)i(outcome)e(of)h(the)g(last)i(tra)n(v)o(ersal,)
h(the)337 1836 y(total)28 b(number)e(of)h(tra)n(v)o(ersals)h(is)g
(reduced)e(by)i(a)g(f)o(actor)f(of)g(32.)47 b(In)27 b(consequence,)g
(the)h(number)d(of)j(k)o(ernel)f(capability)337 1985
y(in)m(v)n(ocations)19 b(associated)h(with)g(virtual)g(cop)o(y)f
(handling)g(is)i(greatly)e(reduced.)462 2142 y(While)27
b(the)h(current)d(implementation)g(does)i(not)f(do)h(so,)i(the)e(same)g
(optimization)e(can)i(be)g(applied)f(in)h(chunks)f(of)337
2292 y(1024)k(pages.)56 b(In)31 b(lar)o(ge)e(applications,)j(this)g(w)o
(ould)e(ha)n(v)o(e)g(much)g(the)g(same)h(ef)n(fect)g(as)g(the)g
(optimization)e(described)337 2441 y(here,)24 b(only)f(at)g(one)g(step)
h(greater)f(remo)o(v)o(e.)32 b(I)24 b(ha)n(v)o(e)f(not)g(implemented)e
(this)j(optimization)e(primarily)g(because)h(current)337
2591 y(programs)c(appear)g(to)h(ha)n(v)o(e)g(no)g(need)f(for)h(it.)337
2986 y Fz(8.2)119 b(The)31 b(Space)f(Bank)337 3235 y
FM(The)16 b(space)g(bank)g(is)h(the)f(source)f(of)h(all)h(storage)e(in)
i(an)f(ER)m(OS)g(system.)24 b(It)17 b(allocates)f(and)g(deallocates)f
(nodes,)h(data)g(pages,)337 3384 y(and)31 b(capability)f(pages,)j
(enforces)d(storage)g(allocation)g(restrictions,)j(and)e(ensures)f
(that)i(storage)e(is)i(ne)n(v)o(er)e(multiply)337 3534
y(allocated.)462 3691 y(F)o(or)20 b(ef)n(\002cienc)o(y)f(reasons,)h
(the)h(space)f(bank)g(implementation)e(must)j(perform)d(its)k(actions)e
(in)h(a)g(w)o(ay)f(that)h(is)g(friendly)337 3840 y(to)k(the)f(aging)f
(polic)o(y)g(and)h(the)g(layout)f(of)h(the)g(disk)g(store.)37
b(Policies)25 b(that)f(impact)g(node)f(and)g(page)h(allocation)f
(locality)337 3989 y(can)k(greatly)f(impact)h(the)g(number)e(of)i
(metadata)f(reads)h(associated)f(with)h(loading)f(lar)o(ge)g(objects)h
(into)f(memory)-5 b(.)44 b(On)337 4139 y(the)22 b(other)e(hand,)g
(there)h(are)g(strong)f(incenti)n(v)o(es)g(to)i(reallocate)e(objects)h
(that)g(ha)n(v)o(e)g(been)f(recently)h(deallocated)e(\(and)i(are)337
4288 y(therefore)g(still)j(in)f(memory\))d(in)j(preference)d(to)j
(objects)f(that)h(are)g(unlik)o(ely)e(to)i(be)f(in)h(memory)-5
b(.)30 b(Space)22 b(banks)g(must)h(be)337 4438 y(relati)n(v)o(ely)g
(cheap)f(to)i(create,)g(because)f(the)g(best)h(indicator)e(that)i(tw)o
(o)f(allocations)g(ha)n(v)o(e)g(a)h(locality)f(relationship)f(is)j(the)
337 4587 y(f)o(act)c(that)f(the)o(y)g(are)g(allocated)f(from)g(the)i
(same)f(space)g(bank.)462 4744 y(While)30 b(doing)e(all)i(of)f(the)g
(abo)o(v)o(e,)h(the)f(space)g(bank)g(must)g(store)g(information)e
(about)i(which)f(objects)i(ha)n(v)o(e)e(been)337 4893
y(allocated,)d(to)g(do)e(which)h(it)h(must)g(supply)e(its)j(o)n(wn)e
(heap)f(management.)36 b(Space)24 b(banks)f(cannot)h(rely)g(on)g
(virtual)f(cop)o(y)337 5043 y(k)o(eepers)d(to)g(supply)f(their)h
(address)g(spaces)h(because)e(virtual)h(cop)o(y)f(k)o(eepers)g(b)n(uy)h
(their)g(storage)g(from)f(space)h(banks.)462 5200 y(Finally)-5
b(,)19 b(space)g(banks)g(must)g(do)g(all)h(of)f(the)h(abo)o(v)o(e)d
(without)i(e)n(v)o(er)f(generating)g(an)h(e)o(xception;)f(there)h(is)h
(no)f(k)o(eeper)f(to)2056 5410 y(129)p eop
%%Page: 130 146
130 145 bop 37 108 a FM(catch)20 b(their)g(mistak)o(es,)h(and)e(no)h(w)
o(ay)g(to)h(reco)o(v)o(er)d(the)i(storage)g(allocation)f(map)g(if)i(it)
g(becomes)e(corrupted.)37 405 y FG(8.2.1)99 b(Or)o(ganization)25
b(of)g(the)g(Stor)n(e)37 610 y FM(Ev)o(ery)19 b(ER)m(OS)i(v)n(olume)e
(is)j(di)n(vided)d(into)h FF(ranges)p FM(.)25 b(A)c(range)e(can)i(be)f
(either)g(a)h FF(boot)e(range)p FM(,)h(a)h FF(range)f(table)p
FM(,)g(or)g(an)g FF(object)37 760 y(range)28 b FM(\(Figure)e(8.2\).)690
730 y FC(1)770 760 y FM(Ev)o(ery)g(v)n(olume)g(be)o(gins)h(with)h(a)g
(boot)e(range)h(at)h(of)n(fset)f(zero.)46 b(In)28 b(addition)e(to)i(a)g
(cop)o(y)e(of)i(the)37 909 y(boot)21 b(code,)g(this)h(range)e
(identi\002es)h(the)g(location)g(of)g(the)g(primary)f(and)h(secondary)e
(\(if)i(present\))g(range)f(table\(s\).)28 b(Range)37
1059 y(tables)18 b(are)f(single-page)f(ranges)g(that)h(identify)f(the)h
(locations)g(of)g(all)h(ranges)e(\(including)f(boot)h(ranges)h(and)g
(range)f(tables\))37 1208 y(within)23 b(the)h(v)n(olume.)32
b(A)24 b(range)e(table)h(entry)f(includes)h(the)g(type,)g(start)h(\(in)
f(sectors)g(relati)n(v)o(e)f(to)h(the)h(v)n(olume)e(start\))h(size)37
1358 y(\(in)29 b(sectors\),)h(starting)e(object)g(identi\002er)f(\(if)i
(appropriate\),)e(and)h(number)e(of)j(objects)f(in)g(each)g(range.)49
b(T)-7 b(o)28 b(f)o(acilitate)37 1507 y(reco)o(v)o(ery)-5
b(,)29 b(it)h(is)g(customary)e(to)i(place)f(the)g(primary)f(range)g
(table)h(in)h(the)f(page)g(follo)n(wing)f(the)h(boot)f(range,)j(and)e
(the)37 1656 y(secondary)19 b(at)i(the)f(end)f(of)h(the)g(v)n(olume.)
1220 1626 y FC(2)p 37 1781 3563 7 v 37 1855 a FJ(Figur)o(e)g(8.2)f
FM(Layout)g(of)h(ER)m(OS)h(V)-11 b(olume.)p 37 1893 3563
4 v 473 1992 a
 20918599 2236579 0 0 20918599 2236579 startTexFig
 473 1992 a
%%BeginDocument: volume-layout.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: volume-layout.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:12 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 318 34
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-3.0 42.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 1687 m -1000 -1000 l 6337 -1000 l 6337 1687 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Ellipse
n 2850 375 38 38 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3000 375 38 38 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3150 375 38 38 0 360 DrawEllipse gs col0 s gr

% Polyline
n 75 150 m 675 150 l 675 675 l 75 675 l cp gs col0 s gr 
% Polyline
n 675 150 m 1275 150 l 1275 675 l 675 675 l cp gs col0 s gr 
% Polyline
n 1275 150 m 2700 150 l 2700 675 l 1275 675 l cp gs col0 s gr 
% Polyline
n 3300 150 m 4725 150 l 4725 675 l 3300 675 l cp gs col0 s gr 
% Polyline
n 2700 150 m 3300 150 l 3300 675 l 2700 675 l cp gs col0 s gr 
% Polyline
n 4725 150 m 5325 150 l 5325 675 l 4725 675 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
150 600 m
gs 1 -1 sc (Range) col0 sh gr
/Times-Roman ff 180.00 scf sf
150 375 m
gs 1 -1 sc (Boot) col0 sh gr
/Times-Roman ff 180.00 scf sf
750 375 m
gs 1 -1 sc (Range) col0 sh gr
/Times-Roman ff 180.00 scf sf
750 600 m
gs 1 -1 sc (Table) col0 sh gr
/Times-Roman ff 180.00 scf sf
1650 375 m
gs 1 -1 sc (Object) col0 sh gr
/Times-Roman ff 180.00 scf sf
1650 600 m
gs 1 -1 sc (Range) col0 sh gr
/Times-Roman ff 180.00 scf sf
3825 375 m
gs 1 -1 sc (Object) col0 sh gr
/Times-Roman ff 180.00 scf sf
3825 600 m
gs 1 -1 sc (Range) col0 sh gr
/Times-Roman ff 180.00 scf sf
4800 600 m
gs 1 -1 sc (Table) col0 sh gr
/Times-Roman ff 180.00 scf sf
4800 375 m
gs 1 -1 sc (Range) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 37 2379 3563 4 v 37 2733 a FJ(Object)20 b(Ranges)37
2939 y FM(Object)h(ranges)e(consist)h(of)g(contiguously)e(numbered)g
(page)h(frames.)25 b(Object)20 b(identi\002ers)f(\(OIDs\))h(simply)g
(concatenate)37 3088 y(a)i(frame)e(number)f(and)h(an)h(object)f(inde)o
(x)f(relati)n(v)o(e)h(to)h(a)h(frame;)e(this)h(allo)n(ws)g(the)g
(location)f(of)g(an)o(y)g(object)h(on)f(the)h(disk)f(to)37
3238 y(be)25 b(determined)e(by)h(e)o(xtracting)f(the)h(frame)g(number)m
(,)f(locating)h(a)h(range)e(containing)g(that)h(frame,)h(and)f(issuing)
g(a)h(page)37 3387 y(frame)19 b(read)g(at)h(the)f(appropriate)f(sector)
h(of)n(fset)g(relati)n(v)o(e)f(to)i(the)f(start)h(of)g(that)f(range.)24
b(Data)c(pages)f(and)g(capability)f(pages)37 3536 y(occup)o(y)h(a)i
(full)f(frame.)k(Nodes)c(are)g(pack)o(ed)f(into)h(page)f(sized)i(units)
f(called)g FF(node)g(pots)p FM(.)162 3686 y(The)f(object)f
(identi\002ers)h(associated)g(with)g(tw)o(o)g(ranges)g(are)f(either)h
(completely)f(disjoint)g(or)h(perfectly)f(o)o(v)o(erlapping;)37
3836 y(if)26 b(the)o(y)f(match,)g(the)h(tw)o(o)f(ranges)g(are)g
(replicates)g(of)g(each)g(other)-5 b(.)39 b(Gi)n(v)o(en)25
b(this,)i(it)f(is)g(mostly)f(true)g(that)g(objects)g(whose)37
3985 y(object)20 b(identi\002ers)g(are)g(numerically)e(close)j(are)f
(located)f(on)h(the)g(disk)h(reasonably)d(close)i(to)h(each)f(other)-5
b(.)162 4135 y(An)21 b(object)f(frame)g(holds)g(only)g(one)g(type)h(of)
f(object)g(at)i(a)f(time;)g(when)f(a)h(range)f(k)o(e)o(y)g(is)i(used)f
(to)f(f)o(abricate)g(an)h(object)37 4284 y(within)26
b(a)h(gi)n(v)o(en)d(frame)h(whose)h(type)f(does)h(not)g(match)f(the)h
(current)f(frame)g(type,)i(all)f(objects)g(within)f(that)i(frame)e(are)
37 4434 y(rescinded,)16 b(the)h(ne)n(w)g(object)f(type)g(of)g(that)h
(frame)f(is)h(recorded,)f(and)g(a)h(zero)f(frame)g(of)g(the)h
(appropriate)d(type)i(is)i(written)e(to)p 37 4487 1425
4 v 37 4543 a FB(1)104 4566 y FA(F)o(or)k(historical)j(reasons,)e(the)g
(implementation)j(retains)d(a)g(range)g(type)g(for)f(bad)h(use)f(in)g
(bad)h(block)g(mapping.)31 b(At)20 b(the)h(time)g(the)g(implementation)
104 4645 y(w)o(as)e(started)h(ESDI)e(and)i(ST506)e(dri)n(v)o(es)i(were)
g(still)g(common.)26 b(These)19 b(dri)n(v)o(es)h(had)g(a)f(relati)n(v)o
(ely)j(high)e(incidence)i(of)c(post-format)j(block)f(dropout,)104
4724 y(and)d(did)h(not)f(do)g(automatic)j(sector)e(remapping.)k(By)17
b(the)h(time)g(the)g(implementation)i(w)o(as)d(completed,)i(e)n(v)o(en)
g(\223boat)f(anchor\224)h(class)f(machines)g(had)104
4803 y(mo)o(v)o(ed)f(to)g(either)h(the)f(A)-7 b(T)h(A)15
b(\(E\)IDE)h(or)g(SCSI)g(interf)o(ace)k(speci\002cations,)g(and)c(the)i
(most)e(adv)n(anced)j(dri)n(v)o(es)f(to)f(f)o(ast)g(and)g(wide)g
(\(Ultra\))h(SCSI)e(and)h(to)104 4882 y(EA)-7 b(T)h(A)17
b(DMA)h(or)g(Ultra)i(DMA)e(EIDE)f(interf)o(aces.)29 b(All)19
b(of)f(these)i(interf)o(aces)h(require)g(the)e(dri)n(v)o(e)h(to)f
(perform)g(transparent)i(sector)f(remapping,)g(and)104
4961 y(the)e(bad)f(block)h(range)g(type)g(is)f(not)h(supported)g(in)g
(the)f(current)i(implementation.)37 5018 y FB(2)104 5042
y FA(Note)c(that)h(in)f(contrast)i(to)e(inode)h(tables,)g(these)g
(tables)g(are)f(updated)i(only)e(when)g(ranges)h(on)f(the)g(v)o(olume)g
(are)h(being)f(modi\002ed,)h(so)e(it)h(is)g(e)o(xceedingly)104
5121 y(unlik)o(ely)22 b(that)f(a)e(write)i(f)o(ailure)h(on)d(the)h(dri)
n(v)o(e)h(will)g(corrupt)f(them.)29 b(The)19 b(primary)i(concern)g(is)e
(therefore)j(to)e(ensure)g(that)h(only)f(one)g(range)h(table)g(is)104
5200 y(knock)o(ed)e(out)e(by)g(an)h(emer)o(gent)g(bad)g(sector)g(or)f
(track)h(on)f(the)h(dri)n(v)o(e.)1756 5410 y FM(130)p
eop
%%Page: 131 147
131 146 bop 337 108 a FM(that)22 b(frame.)28 b(In)21
b(principle,)f(the)h(independence)e(of)i(frame)f(type)h(and)g(object)g
(location)f(can)i(be)f(used)g(to)h(localize)f(objects)337
257 y(and)c(their)h(associated)f(metadata)g(on)g(the)h(disk,)f(and)g
(allo)n(ws)h(all)g(per)n(-range)e(metadata)h(maintained)f(by)h(the)g
(space)h(bank)e(to)337 407 y(be)22 b(recorded)e(within)i(the)g
(associated)g(range.)1681 376 y FC(3)1743 407 y FM(In)g(practice,)f
(the)h(metadata/data)f(localization)g(possible)h(in)g(this)g(design)337
556 y(is)g(not)d(used)h(ef)n(fecti)n(v)o(ely)f(by)h(the)g(current)f
(space)h(bank)f(design.)462 726 y(Object)j(ranges)f(ha)n(v)o(e)g(a)h
(reserv)o(ed)e(page)i(at)g(the)g(start)g(of)g(the)f(range)g(called)h(a)
g FF(range)g(header)p FM(.)29 b(This)22 b(header)f(records)337
876 y(the)g(number)f(of)g(the)h(last)h(checkpoint)d(that)i(w)o(as)h
(successfully)e(migrated)g(to)h(the)g(range;)f(discrepancies)g(in)h
(this)g(number)337 1025 y(can)e(be)f(used)g(to)g(determine)f(when)g
(replicates)h(ha)n(v)o(e)g(become)f(detached)g(and)g(must)i(be)f
(brought)e(up)i(to)g(date.)24 b(As)19 b(a)g(sanity)337
1174 y(check,)h(it)h(also)f(holds)g(the)g(size)h(of)f(the)g(range.)337
1559 y FJ(VM-Le)o(v)o(el)h(Metadata)337 1804 y FM(Ev)o(ery)k(page)h
(has)g(a)h(small)g(amount)d(of)i(metadata)g(that)g(must)h(be)f(stored)f
(on)h(the)g(disk.)43 b(This)27 b(includes)e(the)i(allocation)337
1953 y(count)c(for)g(the)h(contained)d(page)i(and)g(the)h(object)f
(type)g(of)g(the)h(associated)f(frame.)2784 1923 y FC(4)2851
1953 y FM(This)h(data)f(will)i(not)e(\002t)h(within)g(the)337
2103 y(page)f(frame,)h(and)f(is)h(therefore)e(recorded)g(in)h(a)h
(separate)f(metadata)g(frame)g(called)g(a)h FF(page)f(pot)p
FM(,)h(which)f(resides)h(in)g(the)337 2252 y(same)18
b(range)e(as)i(its)g(associated)f(object)g(frames.)23
b(The)17 b(page)g(pot)f(also)i(records)e(whether)g(a)i(gi)n(v)o(en)e
(frame)g(is)i(zeroed)e(\(either)337 2402 y(all)21 b(zero)f(data)g(or)g
(all)h(zero)e(number)g(capabilities\).)462 2572 y(On)26
b(the)f(x86)g(f)o(amily)-5 b(,)26 b(pages)f(are)g(4096)f(bytes,)j(so)f
(819)f(pages)g(can)g(be)h(described)e(in)i(a)g(single)f(page)g(frame)g
(if)h(the)337 2721 y(metadata)16 b(is)i(or)o(ganized)c(carefully)-5
b(.)22 b(The)16 b(actual)h(layout)e(of)i(a)g(range)f(is)h(therefore)e
(a)i(single)g(range)e(header)h(page)g(follo)n(wed)337
2871 y(by)i(some)g(number)f(of)h(clusters,)g(each)g(of)g(which)g
(consists)g(of)g(a)h(single)f(page)f(pot)h(follo)n(wed)f(by)h(up)g(to)g
(819)f(object)h(frames)337 3020 y(\(Figure)i(8.3\).)p
337 3186 3563 7 v 337 3260 a FJ(Figur)o(e)g(8.3)f FM(Layout)g(of)h
(on-disk)f(object)h(range.)p 337 3297 3563 4 v 848 3397
a
 19734528 4473159 0 0 19734528 4473159 startTexFig
 848 3397 a
%%BeginDocument: object-range-layout.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: object-range-layout.fig
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Sat May  1 10:49:10 1999
%%For: shapj@bonzo.watson.ibm.com (Jonathan S. Shapiro)
%%Orientation: Portrait
%%BoundingBox: 0 0 300 68
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-3.0 71.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 2179 m -1000 -1000 l 6042 -1000 l 6042 2179 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 675 150 m 1275 150 l 1275 675 l 675 675 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
750 375 m
gs 1 -1 sc (Page) col0 sh gr
/Times-Roman ff 180.00 scf sf
825 600 m
gs 1 -1 sc (Pot) col0 sh gr
% Polyline
n 1950 75 m 1950 225 l gs col0 s gr 
% Polyline
n 1875 75 m 1875 225 l gs col0 s gr 
% Polyline
n 1275 150 m 2625 150 l 2625 675 l 1275 675 l cp gs col0 s gr 
% Polyline
n 1875 600 m 1875 750 l gs col0 s gr 
% Polyline
n 1950 600 m 1950 750 l gs col0 s gr 
/Times-Roman ff 180.00 scf sf
1425 450 m
gs 1 -1 sc (Object Frames) col0 sh gr
% Polyline
n 3075 150 m 3675 150 l 3675 675 l 3075 675 l cp gs col0 s gr 
/Times-Roman ff 180.00 scf sf
3150 375 m
gs 1 -1 sc (Page) col0 sh gr
/Times-Roman ff 180.00 scf sf
3225 600 m
gs 1 -1 sc (Pot) col0 sh gr
% Polyline
n 4350 75 m 4350 225 l gs col0 s gr 
% Polyline
n 4275 75 m 4275 225 l gs col0 s gr 
% Polyline
n 3675 150 m 5025 150 l 5025 675 l 3675 675 l cp gs col0 s gr 
% Polyline
n 4275 600 m 4275 750 l gs col0 s gr 
% Polyline
n 4350 600 m 4350 750 l gs col0 s gr 
/Times-Roman ff 180.00 scf sf
3825 450 m
gs 1 -1 sc (Object Frames) col0 sh gr
% Ellipse
n 2700 375 38 38 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 2850 375 38 38 0 360 DrawEllipse gs col0 s gr

% Ellipse
n 3000 375 38 38 0 360 DrawEllipse gs col0 s gr

% Polyline
n 75 150 m 675 150 l 675 675 l 75 675 l cp gs col0 s gr 
% Polyline
n 2625 150 m 3075 150 l gs col0 s gr 
% Polyline
n 2625 675 m 3075 675 l gs col0 s gr 
% Polyline
n 675 675 m 750 825 l 1575 825 l 1650 975 l 1725 825 l 2550 825 l
 2625 675 l gs col0 s gr 
% Polyline
n 3075 675 m 3150 825 l 3975 825 l 4050 975 l 4125 825 l 4950 825 l
 5025 675 l gs col0 s gr 
/Times-Roman ff 180.00 scf sf
150 600 m
gs 1 -1 sc (Hdr) col0 sh gr
/Times-Roman ff 180.00 scf sf
150 375 m
gs 1 -1 sc (Range) col0 sh gr
/Times-Roman ff 180.00 scf sf
1350 1125 m
gs 1 -1 sc (Cluster) col0 sh gr
/Times-Roman ff 180.00 scf sf
3150 1125 m
gs 1 -1 sc (\(Possibly Short\) Cluster) col0 sh gr
$F2psEnd
rs

%%EndDocument

 endTexFig
 337 4067 3563 4 v 462 4360 a FM(In)25 b(practice,)h(this)g(design)f
(pro)o(v)o(es)f(to)h(be)g(v)o(ery)g(simple)g(to)h(implement)e(at)i(the)
f(le)n(v)o(el)g(of)g(the)h(k)o(ernel)f(object)f(loader:)337
4509 y(an)g(initial)g(computation)e(of)h(the)h(object)g(frame)f(of)n
(fset)g(is)i(done)d(without)i(re)o(gard)d(to)j(the)g(presence)f(of)g
(page)h(pots.)35 b(This)p 337 4645 1425 4 v 337 4701
a FB(3)404 4724 y FA(In)18 b(the)g(K)n(e)o(yK)n(OS)h(implementation,)i
(ranges)e(were)g(se)o(gre)o(gated)h(by)e(object)i(type:)k(node)19
b(range,)g(page)g(range,)f(etc.)25 b(This)17 b(created)k(tw)o(o)d
(problems:)24 b(if)404 4803 y(actual)d(object)g(allocations)h(pro)o(v)o
(ed)e(to)f(be)g(suf)n(\002ciently)j(inconsistent)g(with)d(the)h
(predicted)h(demand)f(for)f(each)h(type,)g(it)f(might)h(become)g
(necessary)404 4882 y(to)d(reor)o(ganize)j(the)d(disk;)h(in)f(the)h
(original)h(K)n(e)o(yK)n(OS)f(design)g(there)g(w)o(as)f(no)g(w)o(ay)h
(to)f(do)g(such)h(reor)o(ganization)i(on)d(a)g(li)n(v)o(e)i(system.)470
4961 y(Perhaps)26 b(more)f(unfortunate,)k(metadata)e(for)e(node)g
(ranges)h(had)f(to)g(be)g(tak)o(en)h(from)f(page)g(ranges.)45
b(The)25 b(space)g(bank)h(therefore)h(needed)f(to)404
5040 y(incorporate)g(code)e(to)g(migrate)h(this)f(metadata)h(out)f(of)f
(the)h(w)o(ay)g(if)f(the)h(page)h(range)f(from)f(which)h(it)g(w)o(as)f
(allocated)k(w)o(as)d(later)g(deleted.)42 b(Such)404
5119 y(relocation)20 b(is)d(potentially)k(e)o(xpensi)n(v)o(e)e(and)f
(necessary)h(only)e(because)i(the)f(underlying)h(store)f(w)o(as)f
(partitioned.)337 5176 y FB(4)404 5200 y FA(Call)h(counts)g(are)g
(carried)h(only)f(by)f(nodes,)g(and)g(reside)i(within)f(the)g(node)f
(structure)i(itself.)2056 5410 y FM(131)p eop
%%Page: 132 148
132 147 bop 37 108 a FM(frame)20 b(is)h(then)f(biased)g(by)f(the)i
(cluster)f(inde)o(x)f(relati)n(v)o(e)g(to)h(the)h(start)f(of)g(the)g
(frame:)193 243 y Fn(unbiasedFrame)47 b(:=)j(\(frameOf\(oid\))d(-)j
(frameOf\(range.firstOID\)\);)193 343 y(biasedFrame)e(:=)h
(unbiasedFrame+\(unbiasedFrame/Frames)o(PerCl)o(uster\))o(+2;)193
442 y(startingSector)e(:=)i(biasedFrame*sectorsPerPage)c(+)50
b(range.startSector;)37 627 y FM(Note)20 b(that)f(none)f(of)h(this)g
(computation)e(requires)h(disk)h(accesses)h(for)e(metadata)h(tra)n(v)o
(ersal.)24 b(The)19 b(page)f(pot)h(for)f(the)h(frame)37
777 y(must)j(be)f(loaded)f(if)h(it)h(is)g(not)e(already)g(in)i(memory)
-5 b(,)19 b(b)n(ut)i(this)g(load)g(can)g(be)g(initiated)f(in)i
(parallel)e(with)h(the)h(actual)e(frame)37 926 y(load.)25
b(In)19 b(practice,)g(the)g(page)g(pot)g(is)i(almost)e(al)o(w)o(ays)h
(in)g(memory)-5 b(,)17 b(and)i(most)h(page)f(loads)g(are)g(of)h(ne)n
(wly)f(allocated)f(\(and)37 1076 y(therefore)23 b(zeroed\))g(page)h
(frames.)37 b(The)24 b(f)o(act)h(that)f(these)h(frames)f(are)g(zeroed)f
(can)h(be)h(determined)d(by)i(e)o(xamining)f(the)37 1225
y(page)d(pot,)g(and)f(in)i(such)f(cases)g(the)h(frame)e(load)h(for)f
(the)i(actual)f(object)f(can)h(be)g(completely)f(elided.)37
1550 y FG(8.2.2)99 b(Space)26 b(Bank)g(Allocation)e(Strategy)37
1766 y FM(All)29 b(ER)m(OS)g(space)f(banks)f(are)h(implemented)e(by)i
(a)h(single)f(program.)46 b(As)29 b(a)f(result,)i(there)e(are)g(man)o
(y)f(logical)g(banks)37 1915 y(contending)18 b(for)i(the)g(same)g(pool)
g(of)g(storage.)k(Each)c(logical)f(bank)g(has)i(a)g(unique)d(in-memory)
g(bank)h(structure.)37 2216 y FJ(Idealized)i(Design)37
2431 y FM(Ignoring)f(an)o(y)h(concern)f(for)i(preferential)e
(allocation)h(of)g(recently)g(deallocated)g(objects,)h(an)g(ideal)f
(space)h(bank)f(design)37 2581 y(w)o(ould)g(adopt)e(a)i(three)g(le)n(v)
o(el)f(allocation)g(strate)o(gy)-5 b(.)25 b(At)c(the)g(top)f(le)n(v)o
(el,)h(indi)n(vidual)e(banks)h(w)o(ould)g(allocate)g(objects)h(from)37
2730 y(disk)e(frames.)24 b(When)18 b(necessary)-5 b(,)18
b(ne)n(w)g(disk)h(frames)f(w)o(ould)g(be)g(allocated)g(from)g(a)h
(physically)e(contiguous)f(run)i(\(of,)g(say)37 2880
y(16)h(frames\))f(that)h(had)f(pre)n(viously)f(been)h(allocated)g(to)h
(that)g(bank.)24 b(At)19 b(the)g(bottom,)f(banks)g(w)o(ould)g(allocate)
h(runs)f(of)h(disk)37 3029 y(frames)h(from)f(a)i(global)e(pool.)162
3184 y(While)h(preserving)d(locality)i(and)g(simplicity)-5
b(,)18 b(this)i(design)f(does)g(v)o(ery)f(poorly)g(in)h(systems)h(ha)n
(ving)e(a)i(small)g(amount)37 3333 y(of)26 b(disk)g(space,)i(because)d
(it)i(reserv)o(es)e(storage)h(in)g(e)o(xtents)g(whose)g(size)g(is)h
(lar)o(ge)e(relati)n(v)o(e)h(to)g(typical)g(memory)e(object)37
3483 y(sizes.)i(More)19 b(important,)e(this)j(strate)o(gy)e(does)h(not)
g(cope)g(well)g(with)h(disks)f(whose)g(storage)f(is)j(approaching)16
b(e)o(xhaustion.)37 3632 y(There)j(are)f(a)i(potentially)d(lar)o(ge)h
(number)f(of)i(banks,)f(and)h(\223stealing\224)f(frames)g(from)g(runs)h
(o)n(wned)e(by)i(other)f(banks)g(might)37 3782 y(therefore)h(require)g
(a)h(relati)n(v)o(ely)f(lar)o(ge)h(search.)162 3936 y(Also,)g(there)f
(is)i(a)f(problem)e(associated)i(with)g FI(de)p FM(allocation)e(in)i
(this)g(design:)k(freed)19 b(frames)g(may)h(not)f(be)h(freed)f(from)37
4086 y(the)k(currently)e(acti)n(v)o(e)h(run,)h(leading)f(to)g
(situations)h(in)g(which)f(a)h(mature)f(object)g(range)g(could)g(ha)n
(v)o(e)g(man)o(y)f(runs)i(ha)n(ving)37 4235 y(only)d(a)g(fe)n(w)h(a)n
(v)n(ailable)e(frames)h(apiece)g(\(fragmentation\).)37
4536 y FJ(The)i(Allocation)d(Cache)37 4751 y FM(The)i(actual)f(design)f
(uses)i(a)g(tw)o(o)g(le)n(v)o(el)f(allocation)f(strate)o(gy)h(kno)n(wn)
e(as)j(the)g FF(allocation)e(cac)o(he)p FM(.)26 b(A)20
b(\223line\224)h(in)f(this)h(cache)37 4901 y(consists)h(of)e(a)h(windo)
n(w)f(of)h(mostly)f(sequential)g(frames.)26 b(When)21
b(allocating)f(a)h(ne)n(w)g(frame,)e(a)j(logical)e(bank)g(determines)37
5050 y(its)j(cache)d(\223line\224)h(by)g(a)h(hash)f(on)g(its)h(bank)e
(pointer)-5 b(.)27 b(The)21 b(current)f(cache)g(is)j(designed)c(as)j(a)
g(1+1)f(set)g(cache;)h(e)n(v)o(ery)e(bank)37 5200 y(hashes)h(to)f(a)h
(unique)d(preferred)g(line)j(and)e(f)o(alls)i(back)f(to)g(another)f
(line)h(in)g(the)g(cache.)1756 5410 y(132)p eop
%%Page: 133 149
133 148 bop 462 108 a FM(When)24 b(both)f(the)g(primary)g(and)g(f)o
(all)h(back)f(allocation)g(cache)g(lines)h(are)g(empty)-5
b(,)23 b(a)h(cache)g(line)g(re\002ll)g(is)g(performed.)337
257 y(This)j(re\002ll)f(proceeds)f(by)h(performing)d(a)k(scan)f(of)g
(the)g(a)n(v)n(ailable)g(object)f(ranges)h(to)g(locate)g(a)n(v)n
(ailable)g(object)f(frames.)337 407 y(This)20 b(scan)g(proceeds)e
(until)h(the)g(line)h(has)g(been)e(\002lled)i(or)f(all)h(object)f
(frames)g(from)f(a)i(gi)n(v)o(en)e(subrange)g(\(see)i(belo)n(w\))e(ha)n
(v)o(e)337 556 y(been)i(allocated.)k(If)c(a)g(cache)g(line)g(\002ll)g
(operation)f(disco)o(v)o(ers)f(that)i(no)g(frames)f(are)h(a)n(v)n
(ailable,)f(the)h(strate)o(gy)f(of)h(last)h(resort)337
705 y(is)h(to)e(steal)h(frames)f(from)f(an)o(y)g(allocation)g(cache)h
(line)g(that)h(has)f(them.)462 855 y(This)f(strate)o(gy)e(yields)i
(object)e(frames)h(that)h(are)f(well)h(localized,)f(b)n(ut)g(are)h(not)
f(necessarily)g(contiguous.)k(Matters)d(are)337 1004
y(considerably)f(helped)g(by)h(the)g(f)o(act)h(that)f(indi)n(vidual)f
(object)g(deallocations)g(are)i(quite)e(rare;)i(it)g(is)g(f)o(ar)f
(more)g(common)e(for)337 1154 y(an)26 b(entire)f(bank)f(to)h(be)h
(deallocated)d(at)j(once,)g(which)f(returns)f(well)i(localized)e
(objects)h(to)h(the)f(a)n(v)n(ailable)g(pool.)39 b(Also,)337
1303 y(there)21 b(are)g(cases)h(in)f(which)g(tw)o(o)h(acti)n(v)o(e)e
(banks)h(may)f(allocate)h(frames)g(from)f(the)h(same)g(range)g(at)g
(some)g(cost)h(in)f(locality)337 1453 y(to)g(both)e(banks.)462
1602 y(The)g(lack)g(of)g(perfect)f(locality)h(inherent)f(in)i(this)f
(allocation)g(strate)o(gy)f(is)i(less)h(important)c(in)j(ER)m(OS)g
(than)e(it)i(might)f(at)337 1752 y(\002rst)i(appear)-5
b(.)24 b(While)c(batched)e(reads)h(may)g(be)h(performed)c(by)j(suf)n
(\002ciently)g(cle)n(v)o(er)g(virtual)f(machine)h(implementations,)337
1901 y(a)27 b(gi)n(v)o(en)d(process)h(is)i(ne)n(v)o(er)d(stalled)i(on)f
(more)g(than)g(one)g(page)g(frame)g(load)g(at)h(a)g(time.)41
b(Object)26 b(range)e(write)i(traf)n(\002c)g(is)337 2050
y(both)d(sorted)f(and)h(batched,)f(and)h(occurs)f(asynchronously)e
(with)j(respect)g(to)g(all)h(running)d(processes.)33
b(The)23 b(\002nal)h(result)337 2200 y(is)e(that)e(the)g(strate)o(gy)f
(described)g(here)h FI(appear)o(s)f FM(to)i(be)f(suf)n(\002cient)g(for)
f(most)h(general)f(purpose)g(uses.)462 2349 y(That)h(said,)h(there)f
(are)g(applications)f(that)h(ha)n(v)o(e)g(a)h(real)f(need)g(for)g
(\002ne)g(grain)g(locality)g(control.)k(It)d(is)g(en)m(visioned)d(that)
337 2499 y(these)27 b(applications)e(will)i(mak)o(e)f(use)g(of)g
(distinguished)f(contiguous)f(space)j(banks)e(that)h(truly)g(guarantee)
f(contiguous)337 2648 y(e)o(xtents.)462 2798 y(One)f(problem)f(that)h
(is)h(not)f(solv)o(ed)f(by)h(the)g(simple)g(allocation)f(cache)h
(mechanism)f(described)g(here)h(is)h(a)n(v)n(oidance)337
2947 y(of)d(frame)e(retags.)29 b(Con)m(v)o(erting)19
b(a)j(data)g(page)f(frame)f(to)i(a)g(capability)f(page)f(frame)h(is)i
(cheap.)28 b(Changing)20 b(either)h(type)g(of)337 3097
y(page)g(frame)f(to)i(a)g(node)e(pot)h(is)h(cheap.)27
b(Con)m(v)o(erting)19 b(a)j(node)e(pot)h(back)g(to)g(a)h(page)e(frame)h
(type)f(is)j(e)o(xpensi)n(v)o(e;)c(all)j(nodes)337 3246
y(within)29 b(that)g(frame)f(must)h(be)g(loaded)f(by)h(the)g(virtual)f
(machine)g(and)g(their)h(allocation)f(counts)g(consulted)g(to)h(ensure)
337 3395 y(that)j(allocation)f(counts)g(adv)n(ance)g(monotonically)e
(across)j(type)f(con)m(v)o(ersions.)58 b(The)31 b(space)h(bank)f
(implementation)337 3545 y(minimizes)18 b(the)h(frequenc)o(y)d(of)i
(this)h(intercon)m(v)o(ersion)c(by)j(maintaining)f(separate)h
(allocation)f(caches)h(for)g(node)g(pots)g(and)337 3694
y(other)i(object)g(frames.)337 3965 y FJ(Allocation)g(and)g
(Deallocation)f(T)-6 b(racking)337 4171 y FM(The)17 b(allocation)f
(cache)g(\002ll)i(mechanism)e(in)h(turn)f(relies)h(on)g(a)g(list)h(of)f
(acti)n(v)o(e)f(ranges)g(and)h(a)g(per)n(-range)e(allocation)h(bitmap.)
337 4320 y(The)28 b(current)f(ER)m(OS)i(space)f(bank)g(implementation)e
(supports)h(a)i(generous)d(b)n(ut)i(bounded)e(number)h(of)h(total)g
(ranges;)337 4470 y(se)n(v)o(eral)20 b(times)h(the)f(number)e(of)i
(ranges)g(that)g(w)o(ould)f(reasonably)g(appear)g(in)h(an)o(y)g(real)g
(system.)3132 4440 y FC(5)462 4619 y FM(F)o(or)26 b(each)f(range,)h
(the)g(space)g(bank)f(must)g(track)h(which)f(frames)g(ha)n(v)o(e)h
(already)e(been)i(allocated.)41 b(This)26 b(is)h(accom-)337
4769 y(plished)e(by)g(the)g(simple)h(e)o(xpedient)d(of)i(maintaining)f
(a)i(hierarchically)d(structured)h(allocation)g(bitmap.)40
b(The)25 b(leading)337 4918 y(object)e(frames)f(of)g(e)n(v)o(ery)g
(range)f(contain)h(pages.)32 b(Each)22 b(of)h(these)g(pages)f(contains)
g(a)h(bitmap)f(for)g(as)i(man)o(y)d(pages)h(as)i(it)337
5067 y(can)c(hold)g(\(a)g(subrange\).)p 337 5121 1425
4 v 337 5176 a FB(5)404 5200 y FA(This)d(is)g(not)g(an)g(inherent)j
(design)e(limitation,)h(merely)f(a)f(shortcut)i(in)e(the)h(research)h
(implementation.)2056 5410 y FM(133)p eop
%%Page: 134 150
134 149 bop 162 108 a FM(In)22 b(addition)f(to)h(the)g(o)o(v)o(erall)f
(allocation)g(bitmap,)h(each)g(logical)f(bank)g(is)i(required)e(to)h(k)
o(eep)g(track)f(of)h(the)g(storage)g(it)37 257 y(has)f(allocated.)k
(Storage)20 b(can)h(be)f(reclaimed)f(only)h(by)g(the)h(back)f(that)g
(currently)f(\223o)n(wns\224)h(that)h(storage,)e(which)h(is)i(either)37
407 y(the)28 b(allocating)e(bank)h(or)g(the)h(parent)e(of)h(that)h
(bank)e(if)i(the)g(bank)e(w)o(as)i(destro)o(yed)e(without)h
(deallocating)f(its)i(storage.)37 556 y(Ev)o(ery)18 b(bank)f(maintains)
h(a)h(red-black)e(tree)h(of)h(the)f(storage)g(that)h(it)g(has)g
(allocated.)k(T)-7 b(o)19 b(amortize)f(storage)g(o)o(v)o(erhead,)e
(leaf)37 705 y(nodes)k(in)g(this)h(tree)f(co)o(v)o(er)f(a)h(block)g(of)
g(frames)f(and)h(record)f(which)g(portions)g(of)h(the)g(block)g(are)g
(allocated.)162 861 y(When)31 b(an)g(object)g(is)h(deallocated,)g(the)f
(bank)g(\002rst)g(marks)g(it)h(deallocated)e(within)h(the)g(red-black)e
(tree.)58 b(If)31 b(this)37 1011 y(deallocation)23 b(causes)i(the)g
(entire)f(frame)f(to)i(become)e(deallocated,)h(a)h(check)f(is)h(made)f
(to)h(see)g(if)g(this)g(frame')-5 b(s)24 b(entry)g(is)37
1160 y(still)19 b(in)f(the)f(allocation)g(cache;)h(if)g(so)f(it)i(is)f
(mark)o(ed)e(free)h(there.)24 b(If)17 b(all)h(else)g(f)o(ails,)h(the)e
(frame)g(is)i(freed)d(by)h(simply)g(marking)37 1310 y(it)k(free)f(in)h
(the)f(range')-5 b(s)19 b(allocation)g(bitmap.)37 1641
y FG(8.2.3)99 b(End)27 b(Result)37 1859 y FM(Gi)n(v)o(en)17
b(the)h(asynchronous)c(nature)i(of)i(ER)m(OS)f(disk)h(transfers,)f(the)
g(correct)g(metric)g(of)g(locality)g(for)g(ER)m(OS)h(is)g(track)f(le)n
(v)o(el,)37 2008 y(b)n(ut)24 b(not)e(sub-track)g(le)n(v)o(el.)34
b(The)22 b(goal)h(is)h(to)g(perform)d(as)j(man)o(y)d(reads)i(or)g
(writes)h(as)g(possible)f(from)f(a)h(single)g(head)g(in)g(a)37
2158 y(single)e(disk)f(rotation.)162 2313 y(The)i(space)h(bank)e
(design)h(presented)f(here)h(mak)o(es)h(no)f(attempt)g(to)h(optimize)e
(locality)h(across)h(tracks.)32 b(On)22 b(modern)37 2463
y(disk)j(dri)n(v)o(es)e(there)g(is)i(no)f(re)o(gistration)f(of)g
(tracks)h(from)f(one)h(platter)f(to)i(the)f(ne)o(xt.)36
b(The)23 b(head)h(to)g(head)f(latenc)o(y)g(time)i(is)37
2612 y(therefore)d(just)j(as)f(lar)o(ge)f(as)i(the)f(local)f(seek)h
(latenc)o(y)-5 b(,)23 b(and)h(there)f(is)i(consequently)c(no)i(incenti)
n(v)o(e)g(to)h(prefer)e(one)i(to)g(the)37 2762 y(other)-5
b(.)40 b(The)25 b(primary)e(goal)i(is)h(to)f(a)n(v)n(oid)g(long)g
(seeks)g(within)g(a)h(single)f(batch)f(of)h(reads.)40
b(In)25 b(practice,)g(the)g(space)h(bank)37 2911 y(design)20
b(constitutes)g(a)h(reasonable)d(compromise)h(between)g
(intra-memory-object)d(locality)k(and)f(seek)h(latenc)o(y)-5
b(.)162 3067 y(The)21 b(object)g(deallocation)f(strate)o(gy)h(mak)o(es)
g(a)h(half-hearted)d(attempt)i(to)h(encourage)d(object)i(reuse)g
(within)h(a)g(single)37 3217 y(bank)j(by)g(restoring)g(deallocated)f
(frames)h(to)h(the)f(allocation)g(cache)g(when)g(possible.)41
b(Ov)o(er)25 b(time,)i(ho)n(we)n(v)o(er)m(,)d(there)i(is)37
3366 y(a)j(tendenc)o(y)d(for)h(the)h(mechanism)f(described)f(to)i(ha)n
(v)o(e)f(a)i(windo)n(w)e(in)h(each)f(object)h(range)f(that)h
(constitutes)f(the)h(\223hot)37 3515 y(allocation)h(zone,)-6
b(\224)30 b(and)f(for)f(this)i(zone)f(to)g(slo)n(wly)g(migrate)f(in)i
(circular)e(f)o(ashion)g(within)h(the)g(object)g(range.)51
b(I)29 b(ha)n(v)o(e)37 3665 y(performed)c(preliminary)h(measurements)g
(e)o(xploring)f(the)i(performance)e(impact)i(of)g(this)h(migration,)f
(and)g(it)h(appears)37 3814 y(that)d(no)e(smarter)h(reallocation)e
(strate)o(gy)h(is)i(really)f(required.)34 b(Objects)24
b(are)g(zeroed)f(on)h(deallocation,)f(and)g(this)h(f)o(act)h(is)37
3964 y(recorded)f(in)h(the)g(associated)g(page)f(pot.)39
b(The)25 b(main)g(requirement)d(is)k(therefore)e(to)h(ensure)f(that)h
(the)g(associated)g(page)37 4113 y(pot)19 b(is)h(in)f(memory)e(when)i
(an)f(object)h(is)h(allocated)e(and)g(that)h(the)g(type)g(tag)g(is)h
(changed)d(from)h(node)f(pot)i(to)g(an)o(ything)e(else)37
4263 y(as)22 b(seldom)e(as)i(possible.)k(The)20 b(allocation)g(cache)g
(code)g(is)i(well)f(situated)g(to)g(initiate)g(prefetches)e(of)i(page)f
(pots,)g(and)h(the)37 4412 y(separation)e(of)h(the)h(tw)o(o)f
(allocation)f(caches)h(minimizes)g(intercon)m(v)o(ersion.)37
4803 y Fz(8.3)119 b(Closing)31 b(Comments)37 5050 y FM(It)24
b(is)g(a)f(commonly)e(held)h(vie)n(w)h(among)f(operating)f(system)i
(architects)g(that)g(one)g(purpose)e(of)i(operating)e(systems)i(is)h
(to)37 5200 y(pro)o(vide)19 b(common)g(abstractions)g(that)i(allo)n(w)f
(programs)f(to)i(manipulate)e(things)h(lik)o(e)g(memory)f(objects)h
(without)g(undue)1756 5410 y(134)p eop
%%Page: 135 151
135 150 bop 337 108 a FM(a)o(w)o(areness)20 b(of)g(the)g(speci\002c)h
(properties)e(of)g(the)i(underlying)c(hardw)o(are.)462
257 y(There)i(are)i(tw)o(o)f(things)g(wrong)f(with)h(this)h(perspecti)n
(v)o(e:)410 423 y Fw(\017)41 b FM(It)27 b(doesn')o(t)e(w)o(ork.)43
b(The)26 b(re)o(gister)g(set)h(and)f(mapping)f(granularity)g(of)h(the)g
(underlying)e(machine)i(are)g(necessarily)493 573 y(e)o(xposed)18
b(to)j(programs.)410 739 y Fw(\017)41 b FM(It)20 b(defeats)g(useful)g
(optimizations.)462 905 y(An)o(y)d(program)e(that)i(manipulates)g
(memory)e(objects)i(is)i(necessarily)e(a)o(w)o(are)g(of)g(issues)h(lik)
o(e)g(page)f(size)h(and)e(mapping)337 1054 y(congruence)i(restrictions)
h(\(as)h(are)g(imposed)f(by)g(some)h(virtual)f(caches\).)24
b(The)c(optimizations)e(performed)f(by)j(the)g(space)337
1204 y(bank)f(and)g(the)g(virtual)f(cop)o(y)h(k)o(eeper)f
FI(r)m(ely)i FM(on)f(kno)n(wledge)e(of)i(the)g(underlying)e
(representation.)22 b(T)-7 b(o)20 b(borro)n(w)d(a)j(line)g(from)337
1353 y(Allan)h(Kay:)k(\223Simple)20 b(things)f(should)h(be)g(simple,)g
(hard)f(things)h(should)f(be)h(possible.)-6 b(\224)462
1502 y(Most)22 b(ER)m(OS)g(programs)d(do)j(not)f(tak)o(e)g(adv)n
(antage)f(of)h(kno)n(wledge)e(of)j(the)f(underlying)e(hardw)o(are.)28
b(T)-7 b(ools)21 b(pro)o(vided)337 1652 y(\223out)29
b(of)g(the)g(box,)-6 b(\224)30 b(such)f(as)h(the)f(virtual)g(cop)o(y)f
(k)o(eeper)m(,)i(are)f(usually)f(suf)n(\002cient)h(to)g(manage)f
(memory)f(objects,)k(and)337 1801 y(therefore)17 b(to)i(handle)f(such)g
(details.)25 b(That)18 b(said,)h(the)g(ability)f(to)h(b)n(uild)f
(special)h(purpose)e(managers)g(for)h(memory)f(objects)337
1951 y(is)25 b(a)n(v)n(ailable.)34 b(Examples)22 b(of)h(situations)g
(in)h(which)e(this)i(is)g(useful)f(include)g(lar)o(ge)f(memory)f
(objects)j(whose)f(allocation)337 2100 y(may)e(be)g(e)o(xtent)f(based,)
g(whose)h(allocation)e(pattern)h(is)i(less)g(predictable)d(than)i(heap)
f(gro)n(wth,)f(or)i(whose)f(content)g(needs)337 2250
y(to)g(be)f(paged)f(against)g(a)i(dif)n(ferent)d(w)o(orking)h(set)h
(than)g(that)g(of)g(the)g(main)g(program.)j(All)e(of)f(these)g(are)g
(possible)g(in)g(ER)m(OS)337 2399 y FI(because)h FM(the)g(underlying)d
(representation)h(is)k(e)o(xposed.)462 2548 y(The)c(k)o(e)o(y)f
(question,)h(then,)g(is)h(\223What)f(is)h(the)f FI(cost)i
FM(of)e(e)o(xporting)e(things)i(lik)o(e)g(storage)g(allocation)f(and)g
(f)o(ault)h(handling)337 2698 y(outside)27 b(of)f(the)h(k)o(ernel?\224)
44 b(In)27 b(this)g(re)o(gard,)f(the)h(ER)m(OS)g(design)g(has)g(v)o
(ery)e(much)h(the)h(feel)g(of)f(a)i(microk)o(ernel)c(design.)337
2847 y(A)j(considerable)c(amount)i(of)g(optimization)f(ef)n(fort)h(and)
g(data)g(collection)g(on)g(v)n(arious)g(microk)o(ernels)f(\226)h(most)h
(notably)337 2997 y(Mach,)j(b)n(ut)e(also)h(Chorus)f(and)g(others)f
(\226)i(suggests)f(that)h(this)f(cost)h(is)g(prohibiti)n(v)o(e.)44
b(Analysis)28 b(ofthis)f(question)f(is)j(the)337 3146
y(subject)20 b(of)g(the)h(ne)o(xt)e(chapter)-5 b(.)2056
5410 y(135)p eop
%%Page: 136 152
136 151 bop 1756 5410 a FM(136)p eop
%%Page: 137 153
137 152 bop 1840 1832 a FD(P)n(art)44 b(IV)1638 2371
y FK(Ev)n(aluation)2056 5410 y FM(137)p eop
%%Page: 138 154
138 153 bop eop
%%Page: 139 155
139 154 bop 337 842 a FD(Chapter)45 b(9)337 1390 y FK(Quantitati)n(v)n
(e)52 b(Ev)n(aluation)337 1880 y FM(The)26 b(ER)m(OS)h(architecture)e
(is)i(a)g(re\002nement)e(of)h(the)g(K)n(e)o(yK)n(OS)g(architecture,)g
(which)g(is)h(in)f(turn)g(an)g(outgro)n(wth)e(of)j(the)337
2029 y(GNOSIS)16 b(design,)g(a)g(system)g(that)g(originated)d(at)j(T)-7
b(ymshare)15 b(Inc.)23 b(GNOSIS)16 b(w)o(as)g(originally)e(moti)n(v)n
(ated)g(by)i(the)f(need)g(for)337 2178 y(a)24 b(rob)n(ust,)f(secure)g
(platform)f(for)h(reliable)f(timesharing)g(services.)34
b(A)24 b(\223compatibility)e(box\224)g(for)g(IBM')-5
b(s)25 b(OS)e(operating)337 2328 y(system)e(\(and)e(later)h(for)g
(POSIX\))g(w)o(as)h(incorporated)d(from)h(the)h(be)o(ginning.)462
2485 y(Multiuser)c(operating)e(systems)i(designed)f(along)g(the)h
(lines)h(of)f(the)g(so-called)f(\223rainbo)n(w)g(series\224)h([DOD83)o
(])g(security)337 2635 y(requirements)f(tacitly)h(assume)g(that)h(the)f
(authorized)e(user)i(base)h(is)g(a)g(\223mostly)e(collaborati)n(v)o
(e\224)f(community)-5 b(,)14 b(and)i(that)h(the)337 2784
y(security)g(goal)h(is)g(therefore)e(to)i(k)o(eep)f(unauthorized)d
(parties)k(from)e(gaining)g(access)i(to)g(the)g(machine.)k(As)d(a)f
(time)g(sharing)337 2934 y(service)25 b(pro)o(vider)m(,)d(T)-7
b(ymshare)24 b(w)o(as)h(concerned)e(both)g(with)i(the)g(reliabilty)f
(of)g(their)g(service)g(and)g(with)h(the)g(f)o(act)f(that)h(a)337
3083 y(gi)n(v)o(en)g(machine')-5 b(s)26 b(user)g(base)g(did)g(not)g
(come)g(from)f(a)i(single)f(community)-5 b(.)40 b(Users)27
b(from)e(competing)g(companies)g(are)337 3233 y(adv)o(ersaries;)18
b(GNOSIS)h(sought)f(to)g(deal)h(with)f(pro)o(viding)e(security)i(in)g
(an)h(en)m(vironment)c(of)j(what)h(w)o(as)g(euphemistically)337
3382 y(termed)h(\223mutually)f(suspicious)g(users.)-6
b(\224)462 3540 y(While)25 b(the)f(ER)m(OS)g(w)o(ork)f(has)i(continued)
d(in)i(this)h(v)o(ein,)f(the)g(focus)f(has)h(changed.)35
b(ER)m(OS)25 b(is)g(tar)o(geted)d(at)j(mission)337 3689
y(critical,)30 b(sensiti)n(v)o(e)d(or)h(performance)d(intensi)n(v)o(e)h
(service)i(pro)o(visioning.)44 b(Such)27 b(serv)o(ers)h(run)e(a)j
(small)f(set)g(of)g(mission)337 3838 y(critical)g(applications,)f
(porting)e(serv)o(er)h(applications)g(is)i(a)g(viable)e(option)g(if)h
(a)g(signi\002cant)g(bene\002t)g(can)f(be)h(achie)n(v)o(ed)337
3988 y(in)h(performance)23 b(or)k(uptime.)44 b(This)27
b(is)h(especially)f(true)f(of)h(\223thin)f(serv)o(ers,)-6
b(\224)28 b(where)e(much)g(of)h(the)g(v)n(alue)f(proposition)337
4137 y(deri)n(v)o(es)20 b(from)f(the)h(f)o(act)g(that)h(the)f(platform)
f(is)i(a)f(closed,)g(self-maintaining)e(system.)462 4295
y(That)i(said,)h(the)f(multi-platform)e(source)h(le)n(v)o(el)h
(compatibility)f(pro)o(vided)f(by)i(POSIX)h(means)f(that)g(running)e
(POSIX)337 4444 y(tar)o(geted)h(application)g(is)i(an)f(important)f
(consideration)f(for)i(a)h(services)f(platform.)k(The)c(increasing)f
(need)g(for)h(compati-)337 4594 y(bility)i(places)f(signi\002cant)g
(performance)d(pressure)i(on)h(the)h(design,)e(b)n(ut)h(also)h(mak)o
(es)f(the)g(need)g(for)g(f)o(ault)g(and)g(informa-)337
4743 y(tion)k(containment)e(all)i(the)g(more)f(important.)37
b(If)25 b(mission)f(critical)h(applications)f(are)h(to)f(share)h
(computing)e(resources)337 4893 y(with)k(relati)n(v)o(ely)e(less)i
(trusted)f(or)f(less)j(rob)n(ust)d(applications,)h(f)o(ault)g
(isolation)g(becomes)f(an)h(essential)h(operational)d(re-)337
5042 y(quirement.)462 5200 y(While)e(the)g(rising)f(popularity)e(of)j
(\223architecture)d(neutralizing)h(platforms\224)g(such)i(as)g(Ja)n(v)n
(a)g(may)f(signi\002cantly)f(alter)2056 5410 y(139)p
eop
%%Page: 140 156
140 155 bop 37 108 a FM(the)27 b(picture,)g(the)g(resulting)e(design)h
(assumption)f(for)h(ER)m(OS)h(is)h(hybrid)c(usage:)38
b(most)26 b(applications)f(will)j(run)d(in)i(one)37 257
y(or)d(more)g(functionally)e(enhanced)g(compatibility)g(en)m
(vironments)g(while)i(a)h(fe)n(w)f(critical)g(applications)f(will)i(be)
f(ported)37 407 y(to)k(the)f(nati)n(v)o(e)f(platform.)44
b(Security)26 b(and)h(isolation)g(are)g(pro)o(vided)d(both)i(by)h
(partitioning)e(the)i(critical)h(services)f(from)37 556
y(the)g(non-critical)e(applications)h(and)g(by)g(running)f(multiple,)i
(mutually)e(f)o(ault)i(isolated)g(compatibility)e(en)m(vironments.)37
705 y(T)-7 b(o)23 b(e)n(v)n(aluate)e(the)g(performance)e(of)j(the)g(ER)
m(OS)g(system,)h(then,)e(both)g(nati)n(v)o(e)g(and)h(compatibility)e
(benchmarks)g(must)i(be)37 855 y(considered.)37 1258
y Fz(9.1)119 b(Ev)o(aluation)30 b(Method)h(and)f(En)-5
b(vir)n(onment)37 1511 y FM(The)26 b(ER)m(OS)h(measurements)d
(presented)h(here)g(are)h(tak)o(en)g(from)f(a)h(dual)g(processor)f(200)
g(Mhz)g(Pentium)h(Pro)g(machine)37 1660 y(based)31 b(on)f(T)-7
b(yan)29 b(Inc.)-6 b(')h(s)31 b(T)m(itan-Pro)e(motherboard.)53
b(In)30 b(all)h(measurements)e(presented)g(here,)j(the)e(second)g
(processor)37 1810 y(is)d(disabled.)42 b(The)26 b(T)m(itan-Pro)f
(motherboard)e(is)k(based)e(on)h(Intel')-5 b(s)26 b(i82371)e(PIIX)i
(\(T)m(riton\))f(chipset.)42 b(The)26 b(machine)f(is)37
1959 y(con\002gured)d(with)i(32)f(me)o(gabytes)f(of)h(60ns)h(DRAM)g
(and)f(a)h(512)f(kilobyte)g(sync-b)n(urst)f(cache)h(module.)35
b(The)23 b(lmbench)37 2108 y(utilities)i(report)e(memory)g(latencies)h
(of)g(15ns,)g(60ns,)h(and)e(200ns)g(to)i(the)f(le)n(v)o(el)g(one,)g(le)
n(v)o(el)g(tw)o(o,)h(and)f(main)g(memories)37 2258 y(respecti)n(v)o
(ely)-5 b(.)162 2416 y(All)26 b(of)e(the)h(benchmark)e(\002gures)h
(reported)f(here)i(are)g(in-memory)d(benchmarks.)37 b(The)25
b(speed)f(of)h(the)g(PCI)g(b)n(us,)i(its)37 2566 y(associated)22
b(controller)e(hardw)o(are,)h(and)g(the)h(underlying)d(disk)i(system)h
(therefore)e(do)i(not)f(play)g(an)o(y)g(role)h(in)f(the)h(results)37
2715 y(reported)d(here.)162 2873 y(Where)k(Linux)e(benchmarks)g(are)i
(gi)n(v)o(en,)f(the)h(system)g(measured)e(is)j(the)f(RedHat)g(4.2)f
(system)h(running)e(the)h(2.0.30)37 3023 y(Linux)28 b(k)o(ernel.)47
b(At)29 b(the)f(time)g(of)g(this)h(writing,)g(the)f(2.2.0)f(k)o(ernel)g
(w)o(as)i(just)g(being)e(released)h(and)f(is)i(not)f(yet)g(widely)37
3172 y(deplo)o(yed.)162 3331 y(The)15 b(measurement)e(methods)h(borro)n
(w)g(calibration)g(and)g(e)n(v)n(aluation)g(methods)g(from)g
(lmbench-2alpha11)d([McV93)n(].)37 3480 y(One)22 b(change)d(w)o(as)k
(made)d(throughout:)k(ER)m(OS)e(measurements)e(mak)o(e)h(direct)f(use)i
(of)f(the)g(hardw)o(are)f(c)o(ycle)g(counter)g(for)37
3629 y(timing)25 b(rather)f(than)g(the)h(POSIX)g(time\(\))g(system)g
(call.)39 b(Gi)n(v)o(en)24 b(the)h(number)e(of)h(iterations)h(used)f
(in)h(the)g(benchmarks,)37 3779 y(the)c(change)e(in)h(the)g(cost)h(of)f
(the)g(timing)f(call)i(itself)g(should)e(ha)n(v)o(e)h(no)f(impact)h(on)
g(the)g(numbers.)162 3937 y(In)h(general,)g(care)g(has)h(been)f(tak)o
(en)g(to)g(ensure)g(that)h(e)n(v)n(aluation)d(and)i(comparison)f(of)h
(the)g(results)h(can)g(focus)e(on)i(the)37 4087 y(dif)n(ferences)16
b(in)i(semantics)f(between)g(the)h(tw)o(o)f(systems)h(and)f(the)h
(putati)n(v)o(e)e(equi)n(v)n(alence)f(of)j(the)f(mechanisms)g(compared)
37 4236 y(rather)j(than)g(on)f(the)i(measurement)d(techniques)h(used.)
162 4394 y(None)g(of)g(the)g(benchmarks)e(reported)g(here)i(\(for)f
(either)h(ER)m(OS)h(or)f(Linux\))f(tak)o(e)h(adv)n(antage)e(of)i(the)h
(f)o(ast)g(system)f(call)37 4544 y(trap)h(pro)o(vided)e(by)i(later)g
(Pentium)g(Pro)g(and)f(Pentium)h(II)g(cores.)37 4947
y Fz(9.2)119 b(Nati)o(v)o(e)30 b(P)n(erf)m(ormance)37
5200 y FM(The)20 b(bottlenecks)f(for)h(nati)n(v)o(e)f(e)o(x)o(ecution)f
(are:)1756 5410 y(140)p eop
%%Page: 141 157
141 156 bop 410 108 a Fw(\017)41 b FI(V)-9 b(alid)18
b(addr)m(ess)h(tr)o(anslation)p FM(.)k(This)c(measures)f(ho)n(w)h
(quickly)e(ER)m(OS)j(memory)d(objects)h(can)h(be)g(con)m(v)o(erted)d
(into)j(na-)493 257 y(ti)n(v)o(e)f(mapping)e(tables)j(that)f(are)g
(directly)f(interpretable)g(by)h(the)g(hardw)o(are.)23
b(V)-9 b(alid)18 b(address)f(translation)h(determines)493
407 y(the)h(ef)n(\002cienc)o(y)e(with)i(which)f(tw)o(o)h(processes)g
(that)g(share)f(a)i(memory)d(re)o(gion)g(may)h(establish)h
(coordination)d(of)j(their)493 556 y(mapping)f(structures)i(so)h(as)g
(to)g(mak)o(e)f(use)h(of)f(each)g(other')-5 b(s)20 b(address)g(v)n
(alidations)f(\(e.g.,)h(multiple)g(threads,)f(shared)493
705 y(libraries\).)37 b(It)25 b(also)g(indicates)f(the)h(ef)n
(\002cienc)o(y)e(with)i(which)f(one)g(process)g(that)h(recei)n(v)o(es)f
(a)h(memory)e(object)h(from)493 855 y(another)c(may)i(v)n(alidate)f
(and)h(use)g(that)g(object,)g(which)f(co)o(v)o(ers)g(most)h(of)g(the)g
(uses)g(of)g(so-called)f(\223temporary)f(\002les\224)493
1004 y(in)g(con)m(v)o(entional)d(systems.)410 1172 y
Fw(\017)41 b FI(K)m(ernel)24 b(capability)f(in)m(vocation)p
FM(.)33 b(While)25 b(it)f(is)h(unusual)e(for)g(ER)m(OS)h(applications)f
(to)h(directly)f(in)m(v)n(ok)o(e)g(k)o(ernel)g(im-)493
1321 y(plemented)d(capabilities,)i(man)o(y)f(of)g(the)h(supporting)e
(services)i(pro)o(vided)d(by)j(the)g(ER)m(OS)g(operating)e(system)j
(must)493 1471 y(do)d(so.)25 b(The)20 b(performance)d(of)j(such)g(in)m
(v)n(ocations)e(is)k(therefore)c(of)i(some)g(concern.)410
1638 y Fw(\017)41 b FI(Interpr)l(ocess)15 b(in)m(vocation)f
(performance)p FM(.)22 b(ER)m(OS)16 b(relies)g(hea)n(vily)f(on)g(di)n
(viding)f(applications)g(into)i(small)g(processes)493
1788 y(to)h(pro)o(vide)e(f)o(ault)i(isolation)g(and)f(e)o(xploit)h
(request)f(parallelism.)23 b(Also,)18 b(interprocess)e(communication)e
(plays)j(a)h(role)493 1937 y(in)25 b(essentially)g(e)n(v)o(ery)f
(resource)g(allocation)g(operation.)38 b(As)26 b(such,)g(the)f(speed)g
(with)g(which)g(information)e(can)i(be)493 2087 y(transmitted)19
b(from)g(one)h(process)g(to)g(another)f(is)i(a)f(vital)h(concern.)410
2254 y Fw(\017)41 b FI(Heap)22 b(and)f(Stac)n(k)i(Allocation)p
FM(.)31 b(In)22 b(ER)m(OS,)h(as)g(in)g(other)f(systems,)h(application)e
(startup)h(is)i(lar)o(gely)d(dominated)g(by)493 2404
y(the)f(rate)g(at)h(which)f(demand-zero)d(and)i(demand-cop)o(y)e(page)j
(f)o(aults)g(can)g(be)g(satis\002ed.)410 2571 y Fw(\017)41
b FI(Pr)l(ocess)30 b(Cr)m(eation)p FM(.)54 b(ER)m(OS)30
b(processes)g(tak)o(e)g(on)f(man)o(y)g(of)h(the)f(attrib)n(utes)h(of)g
(objects)f(in)i(other)e(systems,)j(and)493 2721 y(may)26
b(be)g(created)g(dynamically)f(while)h(processing)f(requests.)44
b(While)27 b(persistence)f(eliminates)g(the)h(startup)f(and)493
2870 y(teardo)n(wn)d(serialization)g(costs)i(for)f(processes)g(that)h
(mediate)e(databases)h(or)h(similar)f(reference)f(monitors,)h(man)o(y)
493 3020 y(services)i(that)h(w)o(ould)e(be)i(constructed)e(using)h
(shared)f(libraries)h(in)h(other)f(systems)h(are)f(constructed)f(using)
h(pro-)493 3169 y(cesses)21 b(in)f(ER)m(OS.)337 3338
y(Each)g(of)g(these)g(operations)f(needs)h(to)g(be)g(measured.)462
3489 y(Because)d(the)g(ER)m(OS)g(system)f(pro)o(vides)f(transparent)g
(persistence)h(with)h(ne)o(gligible)e(ambient)h(o)o(v)o(erhead,)e(nati)
n(v)o(e)i(ser)n(-)337 3639 y(vices)j(are)g(generally)e
FI(not)j FM(critically)f(dependent)d(on)j(the)f(performance)e(of)j(b)n
(ulk)f(data)h(serialization)f(and)g(deserialization)337
3788 y(\(i.e.)35 b(\002le)24 b(I/O\))f FI(e)n(xcept)i
FM(where)e(interprocess)f(communication)e(is)25 b(concerned.)32
b(The)23 b(tw)o(o)g(ha)n(v)o(e)g(dramatically)f(dif)n(ferent)337
3938 y(performance)c(en)m(v)o(elopes,)g(and)h(ER)m(OS)i(performs)d(v)o
(ery)h(well)i(in)g(the)f(one)f(that)i(matters.)462 4089
y(The)i(follo)n(wing)e(subsections)h(co)o(v)o(er)g(operations)f(that)i
(either)g(ha)n(v)o(e)f(no)g(equi)n(v)n(alent)g(in)h(UNIX)g(systems)g
(or)g(deserv)o(e)337 4238 y(detailed)31 b(discussion.)58
b(The)31 b(remaining)e(nati)n(v)o(e)i(operation)e(e)n(v)n(aluations)h
(are)h(deferred)e(to)j(the)f(POSIX)h(comparison)337 4388
y(section,)20 b(as)h(POSIX)g(pro)o(vides)d(a)j(useful)e(reference)g
(for)h(e)n(v)n(aluating)e(the)i(meaning)f(of)h(these)g(results.)337
4692 y FG(9.2.1)99 b(Addr)n(ess)26 b(V)-9 b(alidation)337
4901 y FM(ER)m(OS)18 b(address)f(spaces)h(are)f(simply)g(memory)e
(objects.)24 b(The)17 b(performance)d(with)k(which)e(nati)n(v)o(e)h
(page)f(table)i(entries)f(can)337 5050 y(be)23 b(constructed)d(for)i
(in-core)e(memory)h(objects)h(is)h(therefore)d(a)j(performance)c
(critical)k(path.)30 b(T)-7 b(o)22 b(e)n(v)n(aluate)f(this)i(path,)f(a)
337 5200 y(lar)o(ge)i(memory)e(object)i(is)h(constructed)e(and)h(v)n
(alidated.)36 b(Its)24 b(mapping)f(table)h(entries)g(are)g(then)g(e)o
(xplicitly)f(in)m(v)n(alidated)2056 5410 y(141)p eop
%%Page: 142 158
142 157 bop 37 108 a FM(\(by)20 b(hand\),)e(and)i(a)h(timed)f(pass)g
(is)h(made)f(summing)f(the)h(\002rst)h(w)o(ord)f(of)f(each)h(page.)37
376 y FJ(Building)i(P)o(age)d(T)-8 b(able)21 b(Entries)37
581 y FM(The)j(\223full)f(reconstruction\224)e(result)i(in)h(T)-7
b(able)24 b(9.1)e(includes)h(the)h(time)f(of)h(the)f(summation)f(loop,)
i(the)f(page)g(table)g(entry)37 731 y(construction,)d(and)g(\(where)g
(needed\))g(the)h(page)f(directory)g(entry)g(construction.)25
b(Because)d(the)f(summation)e(loop)i(loads)37 880 y(the)f(\002rst)g
(line)g(of)f(each)g(page,)g(it)h(self-contends)e(in)h(both)g(the)g
(primary)f(and)h(secondary)f(caches.)24 b(As)c(a)g(result,)g(the)f
(cost)h(of)37 1030 y(summation)15 b(accounts)h(for)f(a)i(sizable)f
(portion)f(\(3.3\045\))g(of)h(the)g(total)h(time)f(reported.)22
b(While)17 b(this)g(o)o(v)o(erhead)c(is)k(essentially)37
1179 y(constant)j(across)g(operating)f(systems,)h(it)h(dominates)e(the)
h(benchmark)e(in)i(the)g(most)h(common)d(case.)p 37 1297
3563 7 v 37 1371 a FJ(T)-8 b(able)22 b(9.1)d FM(Address)h(v)n
(alidation)f(latenc)o(y)g(\(200Mhz)f(Pentium)i(Pro\))p
37 1409 3563 4 v 686 1578 a FJ(Item)1256 b(2048)19 b(P)o(ages)98
b(P)n(er)21 b(P)o(age)686 1678 y FM(Linux)e(v2.0.30)951
b(249.85)18 b(ms)142 b(122)20 b Fy(\026)p FM(S)686 1778
y(ER)m(OS)h(\226)f(Full)h(Reconstruction)470 b(16.54)18
b(ms)184 b(8.08)19 b Fy(\026)p FM(S)686 1877 y(ER)m(OS)i(\226)f(Normal)
g(Beha)n(vior)551 b(597.74)18 b Fy(\026)p FM(S)143 b(0.29)19
b Fy(\026)p FM(S)686 1977 y(ER)m(OS)i(\226)f(Summation)f(loop)g
(without)h(f)o(aults)99 b(566)19 b Fy(\026)p FM(S)247
b(0.27)19 b Fy(\026)p FM(S)p 37 2110 V 37 2454 a FJ(Reco)o(v)o(ering)h
(P)o(age)f(T)-8 b(ables)37 2659 y FM(The)21 b(full)g(reconstruction)e
(benchmark)f(measures)j(the)g(cost)g(of)g(constructing)e(mapping)g
(table)i(entries)g(from)f(an)h(in-core)37 2809 y(memory)k(object,)j(b)n
(ut)e(does)h FI(not)g FM(accurately)f(characterize)f(the)h(typical)g
(cost)h(of)g(sharing)e(or)h(remapping)f(that)h(object.)37
2958 y(The)18 b(ER)m(OS)g(implementation)e(goes)h(to)h(considerable)e
(lengths)h(to)h(preserv)o(e)e(mapping)g(tables)i(and)f(to)h(reuse)f
(these)h(tables)37 3107 y(when)27 b(possible.)47 b(ER)m(OS)28
b(applications)e(are)h(e)o(xpected)f(to)h(tak)o(e)h(steps)g(to)g
(choose)e(suitable)h(mapping)f(boundaries)f(for)37 3257
y(mapped)c(objects.)28 b(Unless)23 b(otherwise)e(directed,)f(the)i
(link)o(er)f(relocates)g(lar)o(ge)g(programs)e(such)j(that)g(code)e
(and)i(mutable)37 3406 y(data)17 b(f)o(all)g(in)f(dif)n(ferent)f(page)h
(tables,)h(with)f(the)h(result)f(that)h(code)e(mappings)g(can)h(be)h
(shared)e(\(and)h(rapidly)f(reconstructed\))37 3556 y(across)21
b(all)f(copies)g(of)g(the)g(application.)162 3705 y(One)h(consequence)e
(of)i(this)h(care)f(in)h(reuse)f(is)h(that)g(unmapped)d(memory)g
(objects)i(do)g(not)g(lose)h(their)f(page)g(tables)g(if)37
3855 y(the)j(object)f(has)h(been)f(mapped)e(at)j(a)g(natural)f(mapping)
f(boundary)-5 b(.)31 b(The)23 b(page)g(table)h(remains)f(bound)e(to)j
(the)f(memory)37 4004 y(object,)i(and)e(when)g(remapped)f(will)j(be)f
(reused)f(by)g(the)h(k)o(ernel.)35 b(A)25 b(more)e(representati)n(v)o
(e)f(measurement)g(of)h(typically)37 4154 y(e)o(xpected)e(performance)e
(is)24 b(therefore)c(sho)n(wn)h(in)i(the)f(\223normal)f(beha)n
(vior\224)f(result)j(in)f(T)-7 b(able)22 b(9.1.)31 b(This)22
b(result)g(includes)37 4303 y(the)f(time)f(of)g(the)g(summation)f(loop)
g(and)h(the)g(time)h(to)f(redisco)o(v)o(er)e(and)i(re-map)e(the)j(page)
e(directories)g(for)h(the)g(object.)162 4452 y(Gi)n(v)o(en)g(the)i
(latenc)o(y)e(of)h(demand-zero)d(page)i(f)o(ault)h(handling)f(\(200Mhz)
f(Pentium)h(Pro:)27 b(69.07)20 b Fy(\026)p FM(S\),)h(I)h(w)o(as)g
(initially)37 4602 y(puzzled)h(at)g(the)h(apparently)d(higher)h(latenc)
o(y)h(to)g(re)n(v)n(alidate)f(page)h(tables)g(\(200)g(Mhz)g(Pentium)f
(Pro:)32 b(1024)22 b(entries)h(per)37 4751 y(table)17
b(times)f(0.29)f Fy(\026)p FM(S)i(gi)n(v)o(es)f(297)g
Fy(\026)p FM(S\).)g(The)g(reason)f(pro)o(v)o(es)g(to)h(lie)h(in)g(the)f
(cost)g(of)g(the)h(summation)d(loop)i(itself.)24 b(Demand-)37
4901 y(zero)g(operations)f(are)h(quite)g(f)o(ast)h(on)f(both)f(the)i
(Pentium)e(Pro)i(and)e(Pentium)h(II)g(processors)f FI(if)38
b FM(the)24 b(zeroed)f(memory)g(is)37 5050 y(aligned)29
b(to)h(a)f(cache)g(line)h(boundary)d(and)h(a)i(multiple)f(of)g(the)h
(line)f(size;)35 b(the)30 b(processor)e(tak)o(es)i(adv)n(antage)d(of)i
(these)37 5200 y(properties)19 b(to)i(a)n(v)n(oid)f(loading)e(the)j
(associated)f(cache)f(lines)i(from)e(main)h(memory)-5
b(.)1756 5410 y(142)p eop
%%Page: 143 159
143 158 bop 337 108 a FG(9.2.2)99 b(K)n(er)o(nel)25 b(Capability)f(In)l
(v)o(ocation)337 318 y FM(The)e(k)o(ernel)f(capability)g(in)m(v)n
(ocation)f(test)j(measures)f(the)g(basic)g(o)o(v)o(erhead)d(of)j(the)g
(capability)f(in)m(v)n(ocation)f(and)h(dispatch)337 468
y(logic)28 b(of)g(the)g(ER)m(OS)h(k)o(ernel.)48 b(This)29
b(number)d(pro)o(vides)h(a)h FI(\003oor)i FM(for)d(the)i(cost)f(of)g(k)
o(ernel)f(in)m(v)n(ocations.)48 b(T)-7 b(o)28 b(test)h(this,)337
617 y(the)22 b(\223report)f(capability)g(type\224)g(request)g(is)i
(made)e(of)h(a)g(number)e(capability)-5 b(.)28 b(The)22
b(latenc)o(y)f(of)g(this)i(operation)d(\(200Mhz)337 766
y(Pentium)30 b(Pro\))f(is)h(3.69)f Fy(\026)p FM(S.)h(This)g(compares)e
(f)o(a)n(v)n(orably)g(with)i(the)g(best)g(tuned)f(v)n(ariant)f
(\(Linux\))g(of)i(the)f(equi)n(v)n(alent)337 916 y(UNIX)21
b(path,)e(which)h(tak)o(es)g(3.00)p Fy(\026)p FM(S.)462
1068 y(The)f(k)o(ernel)f(capability)h(in)m(v)n(ocation)e(cost)j(is)g
(actually)e(some)n(what)h FI(higher)h FM(than)f(the)g(minimal)g
(interprocess)f(in)m(v)n(oca-)337 1217 y(tion)i(cost.)26
b(There)19 b(are)h(three)g(reasons)g(for)f(this:)410
1389 y Fw(\017)41 b FM(Interprocess)18 b(in)m(v)n(ocation)h(is)i(an)f
(e)o(xtremely)e(important)h(case)i(and)e(has)i(been)e(carefully)g(hand)
g(optimized.)410 1557 y Fw(\017)41 b FM(The)17 b(general)g(in)m(v)n
(ocation)f(path)h(must)h(handle)f(a)h(number)e(of)h(possibilities)h
(that)g(do)f(not)h(occur)f(in)h(the)f(f)o(ast)i(IPC)f(path.)410
1726 y Fw(\017)41 b FM(The)21 b(x86)f(is)j(has)e(a)h(v)o(ery)f(small)g
(number)f(of)h(re)o(gisters,)g(with)h(the)f(consequence)f(that)h(much)g
(of)g(the)g(state)h(managed)493 1876 y(by)e(the)g(general)f(path)h
(cannot)f(be)h(k)o(ept)g(in)g(re)o(gisters)g(by)g(the)g(compiler)-5
b(.)337 2205 y FG(9.2.3)99 b(Inter)o(pr)n(ocess)27 b(In)l(v)o(ocation)
337 2416 y FM(Interprocess)e(in)m(v)n(ocation)f(is)j(by)f(f)o(ar)f(the)
i(most)f(frequently)d(performed)h(capability)h(in)m(v)n(ocation)f(in)i
(a)h(w)o(orking)d(ER)m(OS)337 2565 y(system.)i(In)20
b(practice,)f(such)h(in)m(v)n(ocations)e(may)i(be)g(di)n(vided)f(into)h
(tw)o(o)g(cate)o(gories:)410 2736 y Fw(\017)41 b FM(Control)19
b(transfer)h(in)m(v)n(ocations)e(con)m(v)o(e)o(ying)f(a)k(minimum)d(of)
i(state)h(that)f(can)g(be)g(transferred)f(via)h(re)o(gisters.)410
2905 y Fw(\017)41 b FM(Bulk)19 b(data)h(mo)o(v)o(ement,)d(in)j(which)f
(data)h(is)g(transferred)e(using)h(the)h(optional)e(string)i(ar)o
(gument)d(to)j(the)g(IPC)g(in)m(v)n(oca-)493 3055 y(tion)i(and)f
(metadata)h(is)h(con)m(v)o(e)o(yed)c(in)j(re)o(gisters.)31
b(Data)23 b(transfer)e(in)h(such)g(in)m(v)n(ocations)f(is)i(generally)e
(one)g(w)o(ay;)j(the)493 3204 y(response)19 b(in)m(v)n(ocation)f
(typically)i(carries)g(only)f(a)i(status)f(code.)337
3489 y FJ(Contr)o(ol)f(T)-6 b(ransfer)21 b(IPCs)337 3700
y FM(ER)m(OS)i(implements)e(v)n(ariable)f(size)j(address)e(spaces)h
(using)f(se)o(gment)g(enforced)f(protection)g(in)i(order)e(to)i(impro)o
(v)o(e)e(per)n(-)337 3849 y(formance.)31 b(In)23 b(consequence,)e
(there)h(are)h(tw)o(o)g(cate)o(gories)f(of)g(transfer)g(to)h(consider:)
30 b(transfers)22 b(that)h(require)e(a)j(modi\002-)337
3999 y(cation)g(of)f(the)h(address)g(space)g(re)o(gister)f(and)g
(transfers)g(that)h(do)g(not.)35 b(In)24 b(addition,)f(it)i(is)g
(useful)e(to)h(e)o(xplore)e(ho)n(w)h(these)337 4148 y(transfers)d
(compose,)f(because)g(the)h(heap)g(e)o(xtension)f(operation)f(relies)j
(on)e(this)i(composition.)462 4300 y(T)-7 b(o)19 b(measure)f(these,)g
(three)h(benchmarks)d(ha)n(v)o(e)i(been)g(constructed.)k(The)d(\002rst)
g(performs)e(a)i(call)g(and)f(return)f(between)337 4450
y(tw)o(o)26 b(lar)o(ge)d(spaces.)40 b(The)24 b(second)g(performs)f(a)i
(call)h(from)e(a)h(lar)o(ge)f(space)g(to)h(a)h(small)f(space)g(that)g
(returns)f(to)h(the)g(lar)o(ge)337 4599 y(space.)h(The)20
b(third)g(test)h(e)o(xamines)e(transiti)n(vity:)25 b(lar)o(ge)19
b(space)i(A)f(to)h(small)g(space)f(to)h(lar)o(ge)e(space)h(B)i(to)e
(small)h(space)f(and)337 4749 y(back)g(to)g(lar)o(ge)g(space)g(A.)g(No)
g(data)g(string)g(is)h(transferred)e(in)h(these)g(tests.)27
b(The)19 b(results)i(are)f(sho)n(wn)g(in)g(T)-7 b(able)20
b(9.2.)462 4901 y(It)30 b(has)f(become)f(customary)g(in)h(IPC)h
(performance)d(measurements)h(to)h(report)f(one-w)o(ay)g(latencies)h
(by)g(di)n(viding)337 5050 y(round)17 b(trip)i(latencies)f(in)h(tw)o
(o.)24 b(By)19 b(this)g(metric)f(the)h(ER)m(OS)g(results)g(are)f(quite)
g(good,)f(b)n(ut)i(the)f(resulting)g(measurement)f(is)337
5200 y(misleading.)24 b(It)c(is)h(v)o(ery)e(rare)g(for)g(a)h(client)g
(to)g(call)g(a)g(service)g(without)f(obtaining)f(some)h(reply)-5
b(.)24 b(As)d(such,)e(the)h(round)e(trip)2056 5410 y(143)p
eop
%%Page: 144 160
144 159 bop 37 31 3563 7 v 37 105 a FJ(T)-8 b(able)22
b(9.2)d FM(Interprocess)g(control)g(transfer)g(latenc)o(y)p
37 143 3563 4 v 1435 312 a FJ(Round-T)-6 b(rip)100 b(L1)20
b(Miss)236 b(L2)20 b(Miss)702 412 y(T)-8 b(est)22 b(case)419
b(Latency)236 b(Equi)o(v)o(alents)100 b(Equi)o(v)o(alents)702
512 y FM(Lar)o(ge-Lar)o(ge)317 b(7.16)19 b Fy(\026)p
FM(S)261 b(120)392 b(35)702 611 y(Lar)o(ge-Small)317
b(5.60)19 b Fy(\026)p FM(S)261 b(93)434 b(28)702 711
y(Lar)o(ge-Small-Lar)o(ge)95 b(15.05)19 b Fy(\026)p FM(S)219
b(251)392 b(75)p 37 844 V 37 1105 a(latenc)o(y)20 b(more)g(accurately)f
(captures)h(the)h(true)f(o)o(v)o(erhead)e(of)i(interprocess)g(in)m(v)n
(ocation.)k(F)o(or)c(purposes)g(of)g(comparati)n(v)o(e)37
1254 y(cost)i(e)n(v)n(aluation,)d(the)i(table)g(also)h(sho)n(ws)f(the)g
(number)e(of)i(L1)g(misses)h(and)f(L2)g(misses)h(that)f(could)f(be)h
(processed)f(in)i(the)37 1404 y(same)f(amount)e(of)h(time.)37
1708 y FJ(Bulk)i(Data)d(IPCs)37 1925 y FM(Bulk)28 b(data)f(transfers)g
(mo)o(v)o(e)f(strings)i(from)e(one)h(process)h(to)f(another)-5
b(.)46 b(The)27 b(ER)m(OS)h(capability)f(in)m(v)n(ocation)e(interf)o
(ace)37 2074 y(permits)e(up)g(to)h(65536)d(bytes)i(to)h(be)f(mo)o(v)o
(ed)e(in)i(a)h(single)f(in)m(v)n(ocation.)33 b(The)22
b(cost)i(of)f(small)h(transfers)e(is)j(dominated)c(by)37
2223 y(the)26 b(cost)f(of)g(conte)o(xt)f(switching,)i(b)n(ut)f(lar)o
(ger)f(transfers)h(are)g(dominated)e(by)i(the)g(cost)h(of)e(the)i(cop)o
(y)e(itself.)41 b(Figure)24 b(9.1)37 2373 y(compares)18
b(the)h(cost)g(of)f(the)h(ER)m(OS)g(IPC)h(operation)c(to)j(the)g(cost)g
(of)g(a)g FI(bcopy)p FM(\(\))e(operation)f(mo)o(ving)h(the)i(same)g
(number)e(of)37 2522 y(bytes.)p 37 2659 3563 7 v 37 2732
a FJ(Figur)o(e)j(9.1)f FM(ER)m(OS)i(b)n(ulk)f(data)g(IPC)h(latenc)o(y)p
37 2770 3563 4 v 298 2870 a
 23681433 8288501 3289088 3289088 26970521 11577589 startTexFig
 298 2870 a
%%BeginDocument: ipc.lat.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: ipc.lat.eps
%%Creator: gnuplot 3.5 (pre 3.6) patchlevel beta 347
%%CreationDate: Sat May  1 10:49:13 1999
%%DocumentFonts: (atend)
%%BoundingBox: 50 50 410 176
%%Orientation: Portrait
%%EndComments
/gnudict 120 dict def
gnudict begin
/Color false def
/Solid false def
/gnulinewidth 5.000 def
/userlinewidth gnulinewidth def
/vshift -46 def
/dl {10 mul} def
/hpt_ 31.5 def
/vpt_ 31.5 def
/hpt hpt_ def
/vpt vpt_ def
/M {moveto} bind def
/L {lineto} bind def
/R {rmoveto} bind def
/V {rlineto} bind def
/vpt2 vpt 2 mul def
/hpt2 hpt 2 mul def
/Lshow { currentpoint stroke M
  0 vshift R show } def
/Rshow { currentpoint stroke M
  dup stringwidth pop neg vshift R show } def
/Cshow { currentpoint stroke M
  dup stringwidth pop -2 div vshift R show } def
/UP { dup vpt_ mul /vpt exch def hpt_ mul /hpt exch def
  /hpt2 hpt 2 mul def /vpt2 vpt 2 mul def } def
/DL { Color {setrgbcolor Solid {pop []} if 0 setdash }
 {pop pop pop Solid {pop []} if 0 setdash} ifelse } def
/BL { stroke gnulinewidth 2 mul setlinewidth } def
/AL { stroke gnulinewidth 2 div setlinewidth } def
/UL { gnulinewidth mul /userlinewidth exch def } def
/PL { stroke userlinewidth setlinewidth } def
/LTb { BL [] 0 0 0 DL } def
/LTa { AL [1 dl 2 dl] 0 setdash 0 0 0 setrgbcolor } def
/LT0 { PL [] 1 0 0 DL } def
/LT1 { PL [4 dl 2 dl] 0 1 0 DL } def
/LT2 { PL [2 dl 3 dl] 0 0 1 DL } def
/LT3 { PL [1 dl 1.5 dl] 1 0 1 DL } def
/LT4 { PL [5 dl 2 dl 1 dl 2 dl] 0 1 1 DL } def
/LT5 { PL [4 dl 3 dl 1 dl 3 dl] 1 1 0 DL } def
/LT6 { PL [2 dl 2 dl 2 dl 4 dl] 0 0 0 DL } def
/LT7 { PL [2 dl 2 dl 2 dl 2 dl 2 dl 4 dl] 1 0.3 0 DL } def
/LT8 { PL [2 dl 2 dl 2 dl 2 dl 2 dl 2 dl 2 dl 4 dl] 0.5 0.5 0.5 DL } def
/Pnt { stroke [] 0 setdash
   gsave 1 setlinecap M 0 0 V stroke grestore } def
/Dia { stroke [] 0 setdash 2 copy vpt add M
  hpt neg vpt neg V hpt vpt neg V
  hpt vpt V hpt neg vpt V closepath stroke
  Pnt } def
/Pls { stroke [] 0 setdash vpt sub M 0 vpt2 V
  currentpoint stroke M
  hpt neg vpt neg R hpt2 0 V stroke
  } def
/Box { stroke [] 0 setdash 2 copy exch hpt sub exch vpt add M
  0 vpt2 neg V hpt2 0 V 0 vpt2 V
  hpt2 neg 0 V closepath stroke
  Pnt } def
/Crs { stroke [] 0 setdash exch hpt sub exch vpt add M
  hpt2 vpt2 neg V currentpoint stroke M
  hpt2 neg 0 R hpt2 vpt2 V stroke } def
/TriU { stroke [] 0 setdash 2 copy vpt 1.12 mul add M
  hpt neg vpt -1.62 mul V
  hpt 2 mul 0 V
  hpt neg vpt 1.62 mul V closepath stroke
  Pnt  } def
/Star { 2 copy Pls Crs } def
/BoxF { stroke [] 0 setdash exch hpt sub exch vpt add M
  0 vpt2 neg V  hpt2 0 V  0 vpt2 V
  hpt2 neg 0 V  closepath fill } def
/TriUF { stroke [] 0 setdash vpt 1.12 mul add M
  hpt neg vpt -1.62 mul V
  hpt 2 mul 0 V
  hpt neg vpt 1.62 mul V closepath fill } def
/TriD { stroke [] 0 setdash 2 copy vpt 1.12 mul sub M
  hpt neg vpt 1.62 mul V
  hpt 2 mul 0 V
  hpt neg vpt -1.62 mul V closepath stroke
  Pnt  } def
/TriDF { stroke [] 0 setdash vpt 1.12 mul sub M
  hpt neg vpt 1.62 mul V
  hpt 2 mul 0 V
  hpt neg vpt -1.62 mul V closepath fill} def
/DiaF { stroke [] 0 setdash vpt add M
  hpt neg vpt neg V hpt vpt neg V
  hpt vpt V hpt neg vpt V closepath fill } def
/Pent { stroke [] 0 setdash 2 copy gsave
  translate 0 hpt M 4 {72 rotate 0 hpt L} repeat
  closepath stroke grestore Pnt } def
/PentF { stroke [] 0 setdash gsave
  translate 0 hpt M 4 {72 rotate 0 hpt L} repeat
  closepath fill grestore } def
/Circle { stroke [] 0 setdash 2 copy
  hpt 0 360 arc stroke Pnt } def
/CircleF { stroke [] 0 setdash hpt 0 360 arc fill } def
/C0 { BL [] 0 setdash 2 copy moveto vpt 90 450  arc } bind def
/C1 { BL [] 0 setdash 2 copy        moveto
       2 copy  vpt 0 90 arc closepath fill
               vpt 0 360 arc closepath } bind def
/C2 { BL [] 0 setdash 2 copy moveto
       2 copy  vpt 90 180 arc closepath fill
               vpt 0 360 arc closepath } bind def
/C3 { BL [] 0 setdash 2 copy moveto
       2 copy  vpt 0 180 arc closepath fill
               vpt 0 360 arc closepath } bind def
/C4 { BL [] 0 setdash 2 copy moveto
       2 copy  vpt 180 270 arc closepath fill
               vpt 0 360 arc closepath } bind def
/C5 { BL [] 0 setdash 2 copy moveto
       2 copy  vpt 0 90 arc
       2 copy moveto
       2 copy  vpt 180 270 arc closepath fill
               vpt 0 360 arc } bind def
/C6 { BL [] 0 setdash 2 copy moveto
      2 copy  vpt 90 270 arc closepath fill
              vpt 0 360 arc closepath } bind def
/C7 { BL [] 0 setdash 2 copy moveto
      2 copy  vpt 0 270 arc closepath fill
              vpt 0 360 arc closepath } bind def
/C8 { BL [] 0 setdash 2 copy moveto
      2 copy vpt 270 360 arc closepath fill
              vpt 0 360 arc closepath } bind def
/C9 { BL [] 0 setdash 2 copy moveto
      2 copy  vpt 270 450 arc closepath fill
              vpt 0 360 arc closepath } bind def
/C10 { BL [] 0 setdash 2 copy 2 copy moveto vpt 270 360 arc closepath fill
       2 copy moveto
       2 copy vpt 90 180 arc closepath fill
               vpt 0 360 arc closepath } bind def
/C11 { BL [] 0 setdash 2 copy moveto
       2 copy  vpt 0 180 arc closepath fill
       2 copy moveto
       2 copy  vpt 270 360 arc closepath fill
               vpt 0 360 arc closepath } bind def
/C12 { BL [] 0 setdash 2 copy moveto
       2 copy  vpt 180 360 arc closepath fill
               vpt 0 360 arc closepath } bind def
/C13 { BL [] 0 setdash  2 copy moveto
       2 copy  vpt 0 90 arc closepath fill
       2 copy moveto
       2 copy  vpt 180 360 arc closepath fill
               vpt 0 360 arc closepath } bind def
/C14 { BL [] 0 setdash 2 copy moveto
       2 copy  vpt 90 360 arc closepath fill
               vpt 0 360 arc } bind def
/C15 { BL [] 0 setdash 2 copy vpt 0 360 arc closepath fill
               vpt 0 360 arc closepath } bind def
/Rec   { newpath 4 2 roll moveto 1 index 0 rlineto 0 exch rlineto
       neg 0 rlineto closepath } bind def
/Square { dup Rec } bind def
/Bsquare { vpt sub exch vpt sub exch vpt2 Square } bind def
/S0 { BL [] 0 setdash 2 copy moveto 0 vpt rlineto BL Bsquare } bind def
/S1 { BL [] 0 setdash 2 copy vpt Square fill Bsquare } bind def
/S2 { BL [] 0 setdash 2 copy exch vpt sub exch vpt Square fill Bsquare } bind def
/S3 { BL [] 0 setdash 2 copy exch vpt sub exch vpt2 vpt Rec fill Bsquare } bind def
/S4 { BL [] 0 setdash 2 copy exch vpt sub exch vpt sub vpt Square fill Bsquare } bind def
/S5 { BL [] 0 setdash 2 copy 2 copy vpt Square fill
       exch vpt sub exch vpt sub vpt Square fill Bsquare } bind def
/S6 { BL [] 0 setdash 2 copy exch vpt sub exch vpt sub vpt vpt2 Rec fill Bsquare } bind def
/S7 { BL [] 0 setdash 2 copy exch vpt sub exch vpt sub vpt vpt2 Rec fill
       2 copy vpt Square fill
       Bsquare } bind def
/S8 { BL [] 0 setdash 2 copy vpt sub vpt Square fill Bsquare } bind def
/S9 { BL [] 0 setdash 2 copy vpt sub vpt vpt2 Rec fill Bsquare } bind def
/S10 { BL [] 0 setdash 2 copy vpt sub vpt Square fill 2 copy exch vpt sub exch vpt Square fill
       Bsquare } bind def
/S11 { BL [] 0 setdash 2 copy vpt sub vpt Square fill 2 copy exch vpt sub exch vpt2 vpt Rec fill
       Bsquare } bind def
/S12 { BL [] 0 setdash 2 copy exch vpt sub exch vpt sub vpt2 vpt Rec fill Bsquare } bind def
/S13 { BL [] 0 setdash 2 copy exch vpt sub exch vpt sub vpt2 vpt Rec fill
       2 copy vpt Square fill Bsquare } bind def
/S14 { BL [] 0 setdash 2 copy exch vpt sub exch vpt sub vpt2 vpt Rec fill
       2 copy exch vpt sub exch vpt Square fill Bsquare } bind def
/S15 { BL [] 0 setdash 2 copy Bsquare fill Bsquare } bind def
/D0 { gsave translate 45 rotate 0 0 S0 stroke grestore } bind def
/D1 { gsave translate 45 rotate 0 0 S1 stroke grestore } bind def
/D2 { gsave translate 45 rotate 0 0 S2 stroke grestore } bind def
/D3 { gsave translate 45 rotate 0 0 S3 stroke grestore } bind def
/D4 { gsave translate 45 rotate 0 0 S4 stroke grestore } bind def
/D5 { gsave translate 45 rotate 0 0 S5 stroke grestore } bind def
/D6 { gsave translate 45 rotate 0 0 S6 stroke grestore } bind def
/D7 { gsave translate 45 rotate 0 0 S7 stroke grestore } bind def
/D8 { gsave translate 45 rotate 0 0 S8 stroke grestore } bind def
/D9 { gsave translate 45 rotate 0 0 S9 stroke grestore } bind def
/D10 { gsave translate 45 rotate 0 0 S10 stroke grestore } bind def
/D11 { gsave translate 45 rotate 0 0 S11 stroke grestore } bind def
/D12 { gsave translate 45 rotate 0 0 S12 stroke grestore } bind def
/D13 { gsave translate 45 rotate 0 0 S13 stroke grestore } bind def
/D14 { gsave translate 45 rotate 0 0 S14 stroke grestore } bind def
/D15 { gsave translate 45 rotate 0 0 S15 stroke grestore } bind def
/DiaE { stroke [] 0 setdash vpt add M
  hpt neg vpt neg V hpt vpt neg V
  hpt vpt V hpt neg vpt V closepath stroke } def
/BoxE { stroke [] 0 setdash exch hpt sub exch vpt add M
  0 vpt2 neg V hpt2 0 V 0 vpt2 V
  hpt2 neg 0 V closepath stroke } def
/TriUE { stroke [] 0 setdash vpt 1.12 mul add M
  hpt neg vpt -1.62 mul V
  hpt 2 mul 0 V
  hpt neg vpt 1.62 mul V closepath stroke } def
/TriDE { stroke [] 0 setdash vpt 1.12 mul sub M
  hpt neg vpt 1.62 mul V
  hpt 2 mul 0 V
  hpt neg vpt -1.62 mul V closepath stroke } def
/PentE { stroke [] 0 setdash gsave
  translate 0 hpt M 4 {72 rotate 0 hpt L} repeat
  closepath stroke grestore } def
/CircE { stroke [] 0 setdash 
  hpt 0 360 arc stroke } def
/Opaque { gsave closepath 1 setgray fill grestore 0 setgray closepath } def
/DiaW { stroke [] 0 setdash vpt add M
  hpt neg vpt neg V hpt vpt neg V
  hpt vpt V hpt neg vpt V Opaque stroke } def
/BoxW { stroke [] 0 setdash exch hpt sub exch vpt add M
  0 vpt2 neg V hpt2 0 V 0 vpt2 V
  hpt2 neg 0 V Opaque stroke } def
/TriUW { stroke [] 0 setdash vpt 1.12 mul add M
  hpt neg vpt -1.62 mul V
  hpt 2 mul 0 V
  hpt neg vpt 1.62 mul V Opaque stroke } def
/TriDW { stroke [] 0 setdash vpt 1.12 mul sub M
  hpt neg vpt 1.62 mul V
  hpt 2 mul 0 V
  hpt neg vpt -1.62 mul V Opaque stroke } def
/PentW { stroke [] 0 setdash gsave
  translate 0 hpt M 4 {72 rotate 0 hpt L} repeat
  Opaque stroke grestore } def
/CircW { stroke [] 0 setdash 
  hpt 0 360 arc Opaque stroke } def
/BoxFill { gsave Rec 1 setgray fill grestore } def
end
%%EndProlog
gnudict begin
gsave
50 50 translate
0.050 0.050 scale
0 setgray
newpath
(Helvetica) findfont 140 scalefont setfont
1.000 UL
LTb
560 420 M
63 0 V
6409 0 R
-63 0 V
476 420 M
(0) Rshow
560 742 M
63 0 V
6409 0 R
-63 0 V
476 742 M
(50) Rshow
560 1064 M
63 0 V
6409 0 R
-63 0 V
-6493 0 R
(100) Rshow
560 1386 M
63 0 V
6409 0 R
-63 0 V
-6493 0 R
(150) Rshow
560 1708 M
63 0 V
6409 0 R
-63 0 V
-6493 0 R
(200) Rshow
560 2030 M
63 0 V
6409 0 R
-63 0 V
-6493 0 R
(250) Rshow
560 2352 M
63 0 V
6409 0 R
-63 0 V
-6493 0 R
(300) Rshow
560 420 M
0 63 V
0 1869 R
0 -63 V
560 280 M
(16) Cshow
1099 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(32) Cshow
1639 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(64) Cshow
2178 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(128) Cshow
2717 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(256) Cshow
3257 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(512) Cshow
3796 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(1024) Cshow
4335 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(2048) Cshow
4875 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(4096) Cshow
5414 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(8192) Cshow
5953 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(16384) Cshow
6493 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(32768) Cshow
7032 420 M
0 63 V
0 1869 R
0 -63 V
0 -2009 R
(65536) Cshow
1.000 UL
LTb
560 420 M
6472 0 V
0 1932 V
-6472 0 V
560 420 L
0 1386 M
currentpoint gsave translate 90 rotate 0 0 M
(microseconds) Cshow
grestore
3796 140 M
(Payload \(bytes\)) Cshow
1.000 UP
1.000 UL
LT0
1902 1708 M
(bcopy\(\)) Rshow
1986 1708 M
399 0 V
2717 431 M
540 4 V
539 10 V
539 17 V
540 12 V
539 105 V
539 126 V
540 251 V
539 527 V
2717 431 Pls
3257 435 Pls
3796 445 Pls
4335 462 Pls
4875 474 Pls
5414 579 Pls
5953 705 Pls
6493 956 Pls
7032 1483 Pls
2185 1708 Pls
1.000 UP
1.000 UL
LT1
1902 1568 M
(EROS IPC) Rshow
1986 1568 M
399 0 V
2717 495 M
540 2 V
539 3 V
539 7 V
540 28 V
539 158 V
539 196 V
540 389 V
539 782 V
2717 495 Crs
3257 497 Crs
3796 500 Crs
4335 507 Crs
4875 535 Crs
5414 693 Crs
5953 889 Crs
6493 1278 Crs
7032 2060 Crs
2185 1568 Crs
stroke
grestore
end
showpage
%%Trailer
%%DocumentFonts: Helvetica

%%EndDocument

 endTexFig
 37 4023 3563 4 v 37 4505 a Fz(9.3)119 b(POSIX)31 b(Comparison)f
(Measur)n(ements)37 4751 y FM(The)19 b(construction)e(of)h(a)i(POSIX)f
(compatibility)e(box)h(remains)g(future)g(w)o(ork.)24
b(Until)19 b(this)g(is)h(done,)e(a)h(direct)g(comparison)37
4901 y(using)c(established)g(POSIX)h(benchmarks)d(remains)i
(infeasible.)22 b(What)16 b FI(can)f FM(be)g(done)g(at)g(this)h(stage)g
(is)g(to)g(determine)e(what)37 5050 y(operations)25 b(are)h
(performance)d(critical)j(in)h(a)f(POSIX)h(implementation,)e(implement)
g(these)h(operations)f(using)g(ER)m(OS)37 5200 y(objects)c(and)f
(programs,)f(and)h(measure)f(the)i(resulting)f(implementations.)k
(While)d(less)h(than)e(perfect,)f(this)j(comparison)1756
5410 y(144)p eop
%%Page: 145 161
145 160 bop 337 108 a FM(pro)o(vides)16 b(a)i(strong)f(indicator)f(of)i
(the)f(performance)e(that)j(might)f(be)g(e)o(xpected)f(from)h(a)h
(complete)e(POSIX)i(compatibility)337 257 y(implementation.)462
418 y(The)24 b FI(lmbenc)o(h)g FM([McV93)n(])h(benchmark)d(suite)j(w)o
(as)g(constructed)e(by)h(observing)f(performance)e(critical)k
(operations)337 568 y(in)c(real)f(POSIX)h(applications)e(and)h
(constructing)e(microbenchmarks)f(that)k(measure)e(the)h(performance)e
(of)i(these)g(oper)n(-)337 717 y(ations.)26 b(By)21 b(constructing)d
(ER)m(OS)j(implementations)d(of)i(these)h(services)f(and)g(performing)e
(equi)n(v)n(alent)g(measurements,)337 866 y(a)32 b(reasonable)d
(\002rst)j(order)d(indicator)h(of)g(ER)m(OS)i(\223compatibility)d
(box\224)g(performance)f(on)j(these)g(operations)e(can)i(be)337
1016 y(obtained.)462 1177 y(Speaking)19 b(broadly)-5
b(,)18 b(the)i(lmbench)e(suite)j(can)f(be)g(di)n(vided)f(into)h(a)g(fe)
n(w)h(cate)o(gories;)410 1366 y Fw(\017)41 b FI(System)21
b FM(benchmarks,)e(which)h(e)n(v)n(aluate)h(the)g(performance)d(of)j
(the)g(underlying)d(machine.)27 b(These)21 b(f)o(acilitate)g(com-)493
1516 y(parati)n(v)o(e)e(e)n(v)n(aluation)g(across)i(implementations)d
(of)j(the)f(same)h(system)g(architecture.)k(While)c(I)f(report)g(these)
h(num-)493 1665 y(bers)32 b(as)h(a)g(calibration)d(of)i(the)h(hardw)o
(are)e(used)h(in)g(the)g(e)n(v)n(aluation,)i(I)e(will)h(not)f(consider)
f(them)h(further)-5 b(.)60 b(All)493 1815 y(benchmarks)25
b(sho)n(wn)i(here)h(were)g(run)f(on)g(the)h(same)g(machine,)g(and)g(as)
g(such)g(the)g(hardw)o(are)e(performance)f(is)k(a)493
1964 y(neutral)19 b(f)o(actor)h(in)g(the)g(comparison.)410
2142 y Fw(\017)41 b FI(Network)20 b FM(benchmarks,)15
b(which)i(e)o(xpose)f(ho)n(w)h(ef)n(fecti)n(v)o(ely)f(the)h(measured)f
(operating)g(system)i(interacts)f(with)g(other)493 2291
y(systems.)32 b(T)-7 b(o)23 b(date,)g(ER)m(OS)g(has)g(no)f(netw)o
(orking)e(implementation,)h(and)h(the)h(absence)f(of)g(this)h
(comparison)d(is)k(by)493 2441 y(f)o(ar)c(the)g(most)g(important)f
(shortcoming)f(in)i(the)g(current)f(e)n(v)n(aluation.)410
2618 y Fw(\017)41 b FI(POSIX)33 b FM(benchmarks,)e(which)f(e)o(xplore)f
(the)h(performance)e(of)i(v)n(arious)f(POSIX)i(operations)e(that)i(ha)n
(v)o(e)f(pro)o(v)o(en)493 2768 y(critical)23 b(in)f(e)o(xisting)g
(applications.)31 b(Modeling)21 b(these)i(operations)e(is)j(the)f
(principal)e(focus)h(of)g(the)h(benchmarking)493 2917
y(ef)n(fort.)337 3106 y(In)h(the)g(discussion)g(that)g(follo)n(ws,)g(I)
g(will)h(focus)e(on)g(se)n(v)o(eral)h(of)f(the)h(POSIX)h(benchmarks,)d
(and)h(more)g(speci\002cally)h(on)337 3256 y(the)g(subset)f(of)h(these)
f(that)h(are)f(in-memory)e(benchmarks.)32 b(A)24 b(comparison)d(of)j
(netw)o(ork)e(performance)e(w)o(ould)j(also)h(be)337
3405 y(appropriate,)18 b(b)n(ut)i(as)h(noted,)e(ER)m(OS)i(does)f(not)g
(yet)g(ha)n(v)o(e)f(a)i(TCP/IP)g(implementation)d(with)i(which)g(to)g
(compare.)462 3566 y(Of)g(the)g(in-memory)e(POSIX)j(benchmark)c(set,)k
(the)f(critical)g(measurements)f(are)h(those)g(that)g(e)o(xamine)f
(interprocess)337 3716 y(communication)j(speed,)i(process)f(creation,)h
(page)f(f)o(ault)h(handling,)f(and)g(\002le)i(creation.)35
b(F)o(or)23 b(each)h(of)g(the)g(POSIX)g(ab-)337 3865
y(stractions)19 b(tested)f(by)g(these)h(benchmarks,)d(I)j(ha)n(v)o(e)e
(constructed)g(equi)n(v)n(alent)g(ER)m(OS)h(abstractions)g(and)g
(benchmarks.)k(In)337 4015 y(addition)i(to)h(these)g(benchmarks,)e(I)i
(ha)n(v)o(e)f(assembled)g(a)h(benchmark)d(that)j(e)o(xamines)f(the)g
(cost)h(of)g(gro)n(wing)e(the)h(heap.)337 4164 y(The)g(last)g(is)g
FI(not)h FM(a)e(critical)h(metric)f(in)g(current)g(POSIX)g(systems,)i
(b)n(ut)e(has)h(pro)o(v)o(en)d(to)i(be)h(a)f(source)g(of)g(serious)g
(perfor)n(-)337 4314 y(mance)c(de\002ciencies)h(in)g(pre)n(vious)e(dek)
o(ernelized)f(systems)j(such)g(as)g(Mach.)25 b(It)20
b(is)g(therefore)e(important)g(to)i(demonstrate)337 4463
y(that)h(the)f(ER)m(OS)h(implementation)d(is)j(\223f)o(ast)f(enough.)-6
b(\224)337 4823 y FG(9.3.1)99 b(In-memory)26 b(Benchmarks)337
5050 y FM(T)-7 b(able)19 b(9.3)f(sho)n(ws)h(the)g(in-memory)d(POSIX)k
(benchmarks)c(and)i(their)h(ER)m(OS)g(equi)n(v)n(alents.)k(Each)18
b(of)h(these)g(benchmarks)337 5200 y(is)j(e)o(xplained)c(belo)n(w)-5
b(.)2056 5410 y(145)p eop
%%Page: 146 162
146 161 bop 37 31 3563 7 v 37 105 a FJ(T)-8 b(able)22
b(9.3)d FM(In-memory)e(POSIX)k(benchmarks)p 37 143 3563
4 v 586 312 a FJ(Benchmark)663 b(Linux)21 b(\(2.0.30\))97
b(ER)n(OS)586 412 y FM(T)m(ri)n(vial)20 b(system)g(call)465
b(3.00)19 b Fy(\026)p FM(S)334 b(3.68)19 b Fy(\026)p
FM(S)586 512 y(Null)h(I/O)799 b(4.20)19 b Fy(\026)p FM(S)334
b(4.03)19 b Fy(\026)p FM(S)586 611 y(P)o(age)h(v)n(alidation)565
b(122)20 b Fy(\026)p FM(S)354 b(8.08)19 b Fy(\026)p FM(S)586
711 y(Heap)h(gro)n(wth)647 b(77.90)19 b Fy(\026)p FM(S)292
b(69.07)18 b Fy(\026)p FM(S)586 810 y(Pipe)i(Latenc)o(y)642
b(25.00)19 b Fy(\026)p FM(S)292 b(18.65)18 b Fy(\026)p
FM(S)586 910 y(Pipe)i(Bandwidth)544 b(96)20 b(Mbyte/sec)145
b(114.60)18 b(Mbyte/sec)586 1010 y(Directed)i(Conte)o(xt)f(Switch)h
(\(0k\))98 b(5.05)19 b Fy(\026)p FM(S)334 b(3.58)19 b
Fy(\026)p FM(S)i(\(Lar)o(ge-Lar)o(ge\))586 1109 y(Process)f(Creation)
517 b(3.99)19 b(ms)333 b(2.79)19 b(ms)p 37 1242 V 37
1507 a FJ(T)-6 b(ri)o(vial)21 b(System)f(Call)37 1727
y FM(The)k(tri)n(vial)g(system)g(call)g(benchmark)d(measures)i(the)h
(cost)g(to)g(enter)f(the)h(k)o(ernel)f(and)g(demultiple)o(x)f(the)i
(requested)e(op-)37 1876 y(eration.)38 b(In)24 b(the)g(Linux)g(test,)i
(the)f(system)f(call)h(used)g(is)g FI(g)o(etppid)r FM(\(\),)f(which)g
(cannot)f(be)i(implemented)d(by)j(a)g(user)f(le)n(v)o(el)37
2026 y(library)-5 b(.)24 b(The)19 b(ER)m(OS)h(test,)h(as)f(pre)n
(viously)e(described)g(in)i(Section)g(9.2.2,)e(in)m(v)n(ok)o(es)h(a)h
(zero)f(number)f(capability)h(to)g(obtain)37 2175 y(its)j(type.)37
2488 y FJ(Null)g(I/O)37 2708 y FM(The)i(tri)n(vial)g(system)g(call)g
(benchmark)d(measures)i(the)h(cost)g(to)g(enter)f(the)h(k)o(ernel)f
(and)g(demultiple)o(x)f(the)i(requested)e(op-)37 2858
y(eration.)42 b(The)26 b(distinction)g(between)f(this)i(test)g(and)e
(the)i(tri)n(vial)f(system)g(call)h(test)g(is)g(that)f(this)h(test)g
(must)f(tra)n(v)o(erse)g(the)37 3007 y(respecti)n(v)o(e)j(object)g
(location)g(logic)g(of)g(the)h(tw)o(o)g(systems.)54 b(The)29
b(test)h(then)g(performs)d(an)j(operation)e(that)h(the)h(object)37
3157 y(system)21 b(can)f(le)o(gitimately)f(optimize)g(in)i(such)f(a)g
(w)o(ay)h(as)f(to)h(a)n(v)n(oid)f(performing)d(an)o(y)i(actual)h(data)g
(motion.)162 3314 y(In)g(the)h(Linux)e(test,)j(the)e(operation)f
(performed)f(is)j(a)g(zero-length)d(read)i(on)h(a)g(test)g(\002le.)27
b(The)20 b(ER)m(OS)h(test)g(performs)e(a)37 3463 y(zero-length)f(read)i
(on)g(a)g(page)g(capability)-5 b(.)37 3776 y FJ(P)o(age)20
b(V)-8 b(alidation)37 3996 y FM(The)30 b(page)g(v)n(alidation)f(test)i
(measures)f(the)g(cost)h(to)f(construct)f(mapping)g(table)h(entries)g
(for)g(objects)g(whose)g(state)h(is)37 4146 y(already)f(in)i(memory)-5
b(.)55 b(The)31 b(Linux)f(v)o(ersion)g(of)h(this)g(benchmark)e(creates)
i(a)g(small)h(\002le)g(\(small)f(enough)e(to)i(stay)g(in)37
4295 y(memory\),)18 b(memory)h(maps)h(this)h(\002le,)f(unmaps)f(it,)i
(remaps)e(it,)i(and)f(then)f(mak)o(es)h(a)h(pass)g(to)f(sum)g(the)h
(data)f(in)g(the)g(\002le.)162 4452 y(The)26 b(equi)n(v)n(alent)e(ER)m
(OS)i(benchmark)d(constructs)i(a)h(memory)f(object)g(and)g(inserts)h
(this)h(memory)d(object)h(into)h(the)37 4602 y(benchmark)i(process')h
(address)h(space,)i(which)d(is)i(a)g(lar)o(ge)e(address)g(space.)55
b(F)o(or)29 b(reasons)h(pre)n(viously)e(described)g(in)37
4751 y(Section)j(9.2.1,)h(simply)f(unmapping)d(and)i(remapping)f(the)i
(object)f(does)h(not)f(pro)o(vide)f(a)j(directly)e(comparable)f(test)37
4901 y(because)21 b(the)g(page)g(tables)g(containing)e(the)j(object)e
(mappings)g(are)h(not)g(actually)f(destro)o(yed.)27 b(The)21
b(number)e(reported)g(in)37 5050 y(the)i(table)g(abo)o(v)o(e)e(is)i
(the)g(number)d(obtained)i(by)g(e)o(xplicitly)f(tearing)h(do)n(wn)g
(the)g(memory)f(object)h(suf)n(\002ciently)g(to)g(destro)o(y)37
5200 y FI(all)h FM(mappings.)1756 5410 y(146)p eop
%%Page: 147 163
147 162 bop 462 108 a FM(The)16 b(resulting)f(comparison)f(is)i(hea)n
(vily)g(biased)f(against)h(ER)m(OS.)g(In)f(practice,)h(a)h(memory)d
(object)h(that)h(w)o(as)h(intended)337 257 y(for)24 b(reuse)f(w)o(ould)
g(not)h(be)g(e)o(xplicitly)e(torn)h(apart)h(in)g(this)g(f)o(ashion.)35
b(T)-7 b(able)24 b(9.4)f(sho)n(ws)h(a)g(more)f(realistic)h(picture)f
(of)h(the)337 407 y(performance)18 b(that)i(might)g(be)g(e)o(xpected)e
(from)h(the)i(ER)m(OS)f(implementation)e(in)j(practice.)p
337 570 3563 7 v 337 644 a FJ(T)-8 b(able)22 b(9.4)d
FM(P)o(age)h(v)n(alidation)f(latencies)p 337 682 3563
4 v 869 851 a FJ(Benchmark)196 b(Linux)21 b(\(2.0.30\))96
b(ER)n(OS)21 b(\(teardo)o(wn\))97 b(ER)n(OS)21 b(\(actual\))869
951 y FM(P)o(age)f(v)n(alidation)98 b(122)19 b Fy(\026)p
FM(S)354 b(8.08)19 b Fy(\026)p FM(S)473 b(0.29)19 b Fy(\026)p
FM(S)p 337 1084 V 337 1585 a FJ(Heap)h(Gr)o(o)o(wth)337
1828 y FM(The)i(heap)g(gro)n(wth)f(benchmark)f(measures)i(the)g(cost)g
(to)h(gro)n(w)e(a)i(memory)e(re)o(gion)f(by)i(a)h(single)f(page.)31
b(In)22 b(both)f(POSIX)337 1977 y(and)e(ER)m(OS)h(systems,)g(this)f
(operation)f(is)i(most)f(commonly)e(induced)h(by)h(calls)h(to)f
FI(malloc)p FM(\(\))f(that)h(in)h(turn)e(call)i(the)f
FI(sbrk)q FM(\(\))337 2127 y(system)i(call.)k(An)20 b(equi)n(v)n(alent)
f(ef)n(fect)h(is)h(seen)f(when)g(the)g(stack)g(must)g(be)g(gro)n(wn)f
(do)n(wnw)o(ards)g(by)h(one)f(page.)462 2296 y(POSIX)31
b(systems)h(typically)e(satisfy)h(heap)f(gro)n(wth)f(requests)i(by)f
(allocating)g(a)h(page)g(from)e(the)i(sw)o(ap)g(area)g(and)337
2445 y(appending)23 b(this)j(page)f(to)g(the)h(end)e(of)h(the)h(memory)
d(object.)40 b(The)25 b(page)g(in)g(question)f(is)j(kno)n(wn)c(to)j(be)
f(initially)g(zero,)337 2595 y(so)e(no)f(disk)g(I/O)g(is)h(required)d
(to)i(allocate)g(it.)32 b(An)22 b(in-memory)d(bitmap)j(of)f(allocated)h
(sw)o(ap)g(pages)g(must)g(be)g(updated)e(to)337 2744
y(indicate)g(that)g(the)h(corresponding)16 b(sw)o(ap)21
b(page)e(is)i(no)n(w)f(allocated.)462 2913 y(The)e(equi)n(v)n(alent)e
(ER)m(OS)i(operation)e(is)j(considerably)d(more)h(complicated)f(in)j
(its)g(implementation.)j(When)17 b(the)h(page)337 3063
y(f)o(ault)g(occurs,)f(the)h(k)o(ernel)f(redirects)g(the)h(f)o(ault)f
(to)h(a)g(memory)e(k)o(eeper)m(,)h(which)g(in)h(turn)f(b)n(uys)g(the)h
(necessary)f(storage)g(from)337 3212 y(a)24 b(space)g(bank.)33
b(In)23 b(order)f(to)i(implement)e(space)h(bank)g(destruction,)f(the)i
(space)f(bank)f(tracks)i(storage)e(on)h(a)h(per)n(-object)337
3362 y(basis)f(in)g(a)g(binary)e(tree)h(structure.)30
b(The)22 b(space)h(bank)e(returns)g(the)i(requested)e(storage)h(to)g
(the)g(k)o(eeper)m(,)g(which)f(places)i(it)337 3511 y(in)i(the)f
(memory)f(object)g(and)h(returns)f(control)g(to)i(the)f(user)g
(application.)35 b(The)24 b(\002gure)g(reported)e(is)j(for)f(a)g(heap)g
(gro)n(wth)337 3661 y(page)c(f)o(ault)g(tak)o(en)g(by)g(a)g(lar)o(ge)f
(address)h(space.)337 4040 y FJ(Pipe)h(Latency)f(and)g(Band)o(width)337
4283 y FM(The)e(pipe)f(latenc)o(y)g(test)i(measures)e(the)h(speed)f
(with)h(which)f(data)h(can)g(be)f(inserted)h(into)f(a)h(pipe.)24
b(In)17 b(ER)m(OS,)h(a)h(pipe)e(equi)n(v-)337 4433 y(alent)j(is)h
(constructed)c(using)i(an)h(interv)o(ening)d(process.)24
b(The)c(essential)g(moral)e(of)i(this)g(story)f(is)i(that)e(pipe)g(b)n
(uf)n(fers)g(lar)o(ger)337 4582 y(than)h(half)g(the)h(L1)f(data)g
(cache)g(size)g(are)h(counterproducti)n(v)o(e;)15 b(the)21
b(cost)f(of)g(cache)g(misses)h(considerably)d(outweighs)i(the)337
4732 y(cost)h(of)f(conte)o(xt)f(switching)g FI(if)33
b FM(the)21 b(conte)o(xt)e(switch)h(implementation)e(is)j(f)o(ast)g
(enough.)462 4901 y(The)f(pipe)g(bandwidth)f(test)i(measures)f(the)h
(rate)f(at)h(which)f(data)g(can)h(be)f(mo)o(v)o(ed)e(through)h(a)i
(pipe)f(from)f(one)h(process)337 5050 y(to)g(another)-5
b(.)23 b(The)c(dif)n(ference)e(between)i(the)g(tw)o(o)g(numbers)f(is)i
(almost)f(entirely)g(due)f(to)i(the)f(dif)n(ference)e(in)i(b)n(uf)n
(fering)e(and)337 5200 y(conte)o(xt)i(switch)i(o)o(v)o(erheads.)2056
5410 y(147)p eop
%%Page: 148 164
148 163 bop 37 108 a FJ(Dir)o(ected)20 b(Context)f(Switch)37
331 y FM(The)32 b(conte)o(xt)f(switch)i(test)g(measures)f(the)g(speed)g
(with)g(which)g(control)f(can)h(be)g(transferred)f(from)g(one)h
(process)f(to)37 481 y(another)-5 b(.)24 b(F)o(or)19
b(directness)g(of)g(comparison,)f(the)h(ER)m(OS)h(\002gure)f(sho)n(wn)f
(is)j(for)d(a)i(conte)o(xt)e(switch)i(between)f(lar)o(ge)f(spaces;)37
630 y(Linux)i(does)g(not)f(implement)g(an)o(y)h(equi)n(v)n(alent)e(to)j
(small)f(spaces.)162 789 y(The)g(number)e(reported)h(for)g(ER)m(OS)i
(is)g(simply)f(half)g(of)g(the)g(zero)f(payload)g(IPC)i(number)d
(reported)h(in)h(T)-7 b(able)20 b(9.2.)37 1113 y FJ(Pr)o(ocess)g(Cr)o
(eation)37 1336 y FM(The)j(process)g(creation)f(benchmark)e(e)o
(xamines)i(the)h(cost)g(to)g(start)h(a)f(ne)n(w)g(process)g(running)e
(a)i(dif)n(ferent)e(binary)h(image)37 1486 y(than)e(the)g(creator)-5
b(.)25 b(In)20 b(POSIX,)g(this)h(is)g(accomplished)d(by)i(a)h
FI(fork)q FM(\(\))f(call)h(follo)n(wed)d(immediately)h(in)i(the)f
(child)g(by)f(a)i(call)37 1635 y(to)k FI(e)n(xec)p FM(\(\).)37
b(The)24 b(ER)m(OS)h(implementation)d(is)j(to)g(request)e(that)i(a)g
(constructor)d(instantiate)i(a)h(ne)n(w)f(cop)o(y)g(of)g(the)g(desired)
37 1785 y(program.)162 1944 y(Note)19 b(that)h(this)f(is)i
FI(not)f FM(a)g(direct)f(comparison,)e(in)i(that)g(the)h(operations)d
(are)j(not)f(done)f(in)h(the)g(same)h(w)o(ay)-5 b(.)24
b(The)19 b(ER)m(OS)37 2093 y(approach)g(requires)g(coordinated)e
(interaction)i(between)h(four)f(processes)h(\(constructor)m(,)d
(process)j(creator)m(,)f(space)h(bank,)37 2243 y(and)h(benchmark)e
(program\),)g(and)i(the)g(program)e(constructed)h(v)n(alidates)h(a)g
(considerable)f(number)f(of)j(pages)e(within)i(its)37
2392 y(address)k(space)f(before)g(control)f(is)j(returned)d(to)h(the)h
(caller)g(\(more)e(space)i(bank)f(calls\).)41 b(The)26
b(number)e(sho)n(wn)h(should)37 2542 y(therefore)e(considerably)g
FI(e)n(xceed)k FM(the)e(cost)g(of)f(implementing)f FI(fork)q
FM(+)p FI(e)n(xec)i FM(in)g(a)g(POSIX)g(emulator)-5 b(.)38
b(Indi)n(vidually)22 b(f)o(ast)37 2691 y(operations)c(do)g(not)h(al)o
(w)o(ays)g(compose)f(gracefully)f(to)i(yield)f(f)o(ast)i
(implementations)d(of)h(higher)g(le)n(v)o(el)g(abstractions.)24
b(The)37 2840 y(k)o(e)o(y)c(point)g(here)f(is)i(to)g(note)e(that)i(the)
f(ER)m(OS)g(operations)f(compose)g(well.)37 3189 y FG(9.3.2)99
b(File)25 b(Latencies)37 3413 y FM(Files)f(do)e(not)g(play)g(as)h
(important)d(a)j(role)f(in)g(ER)m(OS)h(as)g(the)o(y)f(do)g(in)g(Linux;)
g(the)h(equi)n(v)n(alent)d(usage)i(is)h(con\002ned)e(to)i(data)37
3562 y(serialization)17 b(for)f(purposes)f(of)i(interchange.)k(T)-7
b(o)17 b(approximate)d(the)j(cost)g(of)g(\002le)g(manipulation,)e(a)i
(\223\002le)g(system\224)g(object)37 3711 y(w)o(as)24
b(implemented)d(that)i(e)o(xports)f(objects)g(whose)h(semantics)g(is)h
(essentially)f(that)g(of)f(traditional)g(\002les.)34
b(The)22 b(resulting)37 3861 y(latencies)f(are)f(sho)n(wn)f(in)i(T)-7
b(able)20 b(9.5.)p 37 3988 3563 7 v 37 4062 a FJ(T)-8
b(able)22 b(9.5)d FM(File)i(creation)e(latencies)p 37
4083 3563 4 v 1108 4252 a FJ(File)i(Size)141 b(Linux)21
b(\(2.0.30\))96 b(ER)n(OS)1108 4352 y FM(0)21 b(Kbytes)140
b(74.00)18 b Fy(\026)p FM(S)292 b(52.05)19 b Fy(\026)p
FM(S)1108 4452 y(1)i(Kbytes)140 b(80.58)18 b Fy(\026)p
FM(S)292 b(95.50)19 b Fy(\026)p FM(S)1108 4551 y(4)i(Kbytes)140
b(88.81)18 b Fy(\026)p FM(S)292 b(114.00)18 b Fy(\026)p
FM(S)1108 4651 y(10)i(Kbytes)99 b(105.37)18 b Fy(\026)p
FM(S)250 b(221.84)18 b Fy(\026)p FM(S)p 37 4784 V 162
5050 a(These)g(results)h(are)f(the)h(only)e(signi\002cantly)h
(disappointing)e(results)i(disco)o(v)o(ered)e(so)j(f)o(ar)-5
b(.)25 b(There)17 b(are)i(tw)o(o)f(reasons)g(for)37 5200
y(the)j(performance)c(sho)n(wn.)1756 5410 y(148)p eop
%%Page: 149 165
149 164 bop 462 108 a FM(The)25 b(main)g(source)f(of)h(de)o(gradation)e
(is)j(that)g(the)f(string)g(transfers)g(are)g(not)g(making)f(use)h(of)g
(the)h(f)o(ast)g(path.)39 b(A)26 b(b)n(ug)337 257 y(in)f(the)g(current)
e(implementation)f(is)j(causing)f(a)h(page)e(table)i(entry)e(on)h(the)h
(recipient)e(side)i(of)f(the)h(transfer)e(to)i(become)337
407 y(in)m(v)n(alidated.)35 b(The)24 b(ef)n(fect)f(of)h(this)h(b)n(ug)e
(is)i(that)f(the)g(f)o(ast)h(path)f(in)m(v)n(ok)o(es)f(the)h(slo)n(w)g
(path)g(in)g(order)f(to)h(get)g(the)g(page)g(table)337
556 y(entry)i(reconstructed.)40 b(The)25 b(resulting)g(dif)n(ference)f
(in)i(performance)e(accounts)h(for)g(nearly)g(all)h(of)g(the)g(high)f
(o)o(v)o(erhead)337 705 y(sho)n(wn)15 b(in)h(this)g(benchmark.)21
b(Note)15 b(that)g(this)h(b)n(ug)f(does)h FI(not)g FM(in)m(v)n(alidate)
e(the)i(basic)f(premise;)i(the)e(remaining)f(benchmarks)337
855 y(clearly)20 b(demonstrate)f(that)h(b)n(ulk)g(data)g(transfers)f
(with)i(adequate)e(bandwidth)f(are)i(possible.)462 1004
y(The)k(second)f(issue)h(is)h(structural.)35 b(Because)24
b(ER)m(OS)g(lacks)g(a)h(scatter/gather)d(mechanism)g(in)i(its)h(IPC)g
(system,)g(the)337 1154 y(ER)m(OS)f(implementation)c(must)j(cop)o(y)e
(the)i(data)f(twice:)31 b(once)22 b(into)g(the)h(recei)n(v)o(e)e(b)n
(uf)n(fer)g(of)i(the)f(\002le)h(system)g(implemen-)337
1303 y(tation)d(and)e(a)i(second)f(time)g(into)g(the)h(\223of)n
(\002cial\224)f(locations)f(within)i(the)f(\002le)h(system)g(object.)k
(The)19 b(corresponding)d(Linux)337 1453 y(benchmark)k(measures)i(the)g
(time)h(to)f(cop)o(y)f(the)h(data)h(to)f(the)g(b)n(uf)n(fer)f(cache,)h
(from)f(which)h(\(hopefully\))d(the)k(data)f(will)h(be)337
1602 y(directly)g(copied)f(by)g(DMA)i(to)f(the)g(de)n(vice.)33
b(The)23 b(discrepanc)o(y)d(in)k(performance)c(sho)n(wn)i(here)h
(suggests)g(strongly)e(that)337 1751 y(data)g(cache)e(contention)g(is)i
(imposing)e(signi\002cant)g(mar)o(ginal)g(cost.)337 2106
y Fz(9.4)119 b(Closing)31 b(Comments)337 2342 y FM(ER)m(OS)f(deli)n(v)o
(ers)e(considerably)f(better)h(performance)e(than)j(an)o(y)f(pre)n
(vious)f(capability)h(system)h(for)f(which)h(measure-)337
2491 y(ments)k(are)f(a)n(v)n(ailable.)61 b(This)33 b(is)g(because)f
(the)g(ER)m(OS)h(objects)f(and)g(protection)f(architecture)f(map)i
(directly)g(to)h(the)337 2641 y(entities)21 b(supported)d(by)i(the)g
(hardw)o(are,)f(which)g(is)j(a)e(signi\002cant)g(departure)e(from)h
(pre)n(vious)g(systems.)462 2790 y(W)m(ith)i(the)g(bene\002t)f(of)g
(hindsight,)f(the)i(omission)f(of)h(scatter/gather)e(from)g(the)i(ER)m
(OS)g(IPC)g(mechanism)f(w)o(as)h(a)g(mis-)337 2940 y(tak)o(e.)29
b(Both)22 b(in)f(the)h(\002le)g(system)g(benchmark)d(and)i(in)g
(partially)g(completed)f(user)h(le)n(v)o(el)g(netw)o(orking)f
(implementations,)337 3089 y(the)27 b(absence)e(of)h(a)h
(scatter/gather)d(mechanism)h(pro)o(v)o(ed)f(to)i(be)g(a)h(source)e(of)
h(signi\002cant)g(frustration.)41 b(It)26 b(is)h(no)n(w)f(well)337
3238 y(established)20 b(that)f(netw)o(ork)g(protocol)f(implementations)
g(are)h(hea)n(vily)g(de)o(graded)e(by)j(mar)o(ginal)d(data)j(copies.)k
(The)c(latest)337 3388 y(generation)27 b(of)h(the)g(ER)m(OS)g(IPC)h
(design)f(anticipates)g(this)g(change,)h(and)f(will)g(support)f(its)i
(compatible)e(introduction)337 3537 y(when)20 b(time)g(permits.)462
3687 y(The)f(main)g(point)f(established)h(by)f(these)h(measurements)f
(is)i(that)f(ER)m(OS)h(of)n(fers)e(acceptable)g(performance)e(on)j
(three)337 3836 y(criteria:)38 b(its)27 b(nati)n(v)o(e)f(primiti)n(v)o
(e)f(operations)f(are)j(quite)f(f)o(ast,)i(the)o(y)d(compose)g
(acceptably)g(to)i(pro)o(vide)d(acceptably)h(f)o(ast)337
3986 y(higher)k(le)n(v)o(el)g(services)g(for)g(nati)n(v)o(e)f
(applications,)j(and)e(with)g(the)h(e)o(xception)d(of)i(\002le)h(I/O)g
(the)o(y)f(are)g(good)f(enough)f(to)337 4135 y(construct)20
b(emulations)f(that)h(signi\002cantly)f(outperform)f(the)i(equi)n(v)n
(alent)e FI(native)i FM(abstractions)f(in)i(other)e(systems.)2056
5410 y(149)p eop
%%Page: 150 166
150 165 bop 1756 5410 a FM(150)p eop
%%Page: 151 167
151 166 bop 337 835 a FD(Chapter)45 b(10)337 1375 y FK(Related)52
b(W)-15 b(ork)337 1857 y FM(F)o(or)19 b(an)g(o)o(v)o(ervie)n(w)e(of)h
(capability)g(architecture)f(and)i(design,)f(e)o(xcellent)g(co)o(v)o
(erage)e(may)i(be)h(found)e(in)i([Geh82)n(].)25 b(A)19
b(more)337 2006 y(detailed)h(surv)o(e)o(y)f(of)h(v)n(arious)f(early)g
(capability)h(systems)g(may)g(be)g(found)f(in)h([Le)n(v84)n(].)462
2156 y(Se)n(v)o(eral)31 b(systems)h(ha)n(v)o(e)f(in\003uenced)f(or)h
(directly)g(impacted)f(the)i(architecture,)h(design,)g(or)e
(implementation)f(of)337 2306 y(ER)m(OS.)i(These)f(range)f(from)g(CAP)j
(and)d(HYDRA/C.mmp,)k(perhaps)c(the)h(best)h(kno)n(wn)d(of)i(the)g
(original)g(capability)337 2455 y(systems,)21 b(to)f(more)g(recent)f
(microk)o(ernel)f(designs)i(such)g(as)h(Mach)f(and)f(L4.)462
2605 y(Similarly)-5 b(,)18 b(there)f(ha)n(v)o(e)h(been)f(pre)n(vious)g
(ef)n(forts)g(to)i(pro)o(vide)d(formal)h(models)g(for)h(authority)f
(and)g(information)f(trans-)337 2755 y(fer)i(in)f(capability)f
(systems,)j(and)d(pre)n(vious)g(attempts)i(to)f(arri)n(v)o(e)f(at)i
(proofs)e(of)h(correctness)g(for)f(security)h(policies)g(in)h(such)337
2904 y(systems.)462 3054 y(In)h(this)g(chapter)f(I)i(re)n(vie)n(w)e
(selected)h(related)g(w)o(ork)f(in)i(these)f(areas,)g(with)g(an)g(e)o
(ye)g(to)n(w)o(ard)f(understanding)e(ho)n(w)j(such)337
3203 y(w)o(ork)h(relates)g(to)h(ER)m(OS)f(and)g(ho)n(w)g(ER)m(OS)g(dif)
n(fers)g(from)f(what)h(has)g(gone)g(before.)337 3561
y Fz(10.1)119 b(A)-6 b(uthority)31 b(and)g(Inf)m(ormation)e(Flo)o(w)337
3798 y FM(Se)n(v)o(eral)e(authors)g(ha)n(v)o(e)g(proposed)e(models)i
(for)g(information)e(\003o)n(w)j([Coh77)n(,)g(Den76)n(,)g(Bel73a)o(,)g
(Bel73b)o(,)g(Bel74)o(])g(and)337 3947 y(access)33 b(rights)f(leakage.)
60 b(Feiertag)32 b([Fei77)o(])g(considers)g(the)g(interactions)f
(between)g(information)f(\003o)n(w)i(and)g(access)337
4097 y(rights,)23 b(b)n(ut)f(in)h(a)g(highly)e(restricti)n(v)o(e)h
(system)h(model.)30 b(Harrison)22 b(et)h(al.)32 b(ha)n(v)o(e)22
b(sho)n(wn)g(that)g(access)h(control)f(list)h(systems)337
4246 y(cannot)d(pre)n(v)o(ent)e(information)g(transmission)h(between)h
(principals)f([Har76)n(].)337 4545 y FG(10.1.1)99 b(T)-9
b(ak)o(e-Grant)337 4751 y FM(The)28 b(most)g(directly)g(rele)n(v)n(ant)
e(access)j(model)e(for)h(ER)m(OS)g(is)h(the)f FI(tak)o(e-gr)o(ant)g
FM(model)f([Jon76)n(,)i(Sn)o(y77)n(],)h(described)c(in)337
4901 y(detail)31 b(in)g(Section)f(4.1.)55 b(Bishop)31
b(and)f(Sn)o(yder)f([Bis79)o(])i(ha)n(v)o(e)f(e)o(xamined)f(the)h
(information)f(\003o)n(w)h(consequences)f(of)337 5050
y(access)f(right)f(propagation)d(in)k(the)f FI(tak)o(e-gr)o(ant)g
FM(model.)46 b FI(T)-8 b(ak)o(e-gr)o(ant)28 b FM(appears)e(to)i(be)f
(the)g(\002rst)h(attempt)f(to)h(formalize)337 5200 y(access)f(rights.)
41 b(The)25 b(techniques)g(and)g(approach)f(are)h(instructi)n(v)o(e,)h
(and)f(ha)n(v)o(e)g(been)g(lar)o(gely)f(ignored)g(in)i(more)f(recent)
2056 5410 y(151)p eop
%%Page: 152 168
152 167 bop 37 108 a FM(language)15 b(based)g(security)g(w)o(ork)g
([Bal97)o(,)h(Isl97)o(,)g(W)-7 b(al97].)24 b(The)15 b
FI(tak)o(e-gr)o(ant)h FM(model)e(is)j(similar)f(enough)e(to)i(the)f
FI(diminish-)37 257 y(tak)o(e)21 b FM(model)e(to)h(w)o(arrant)g(e)o
(xtended)e(discussion.)162 412 y(My)29 b(original)f(formulation)e(of)j
(an)g(access)g(rights)g(model)f(for)g FI(SW)35 b FM(w)o(as)30
b(performed)c(without)i(kno)n(wledge)f(of)i(the)37 562
y FI(tak)o(e-gr)o(ant)e FM(model.)42 b(In)26 b(the)g(interest)g(of)g
(framing)f(the)h(ne)n(w)g(model)f(in)h(the)h(conte)o(xt)e(of)h(pre)n
(vious)e(w)o(ork,)j(I)f(e)n(v)o(entually)37 711 y(reformulated)18
b FI(diminish-tak)o(e)h FM(follo)n(wing)f(the)i(style)h(and)e(terms)h
(of)g(the)g FI(tak)o(e-gr)o(ant)g FM(model.)k(The)c(essential)g(dif)n
(ferences)37 860 y(between)c(the)h(tw)o(o)g(models)f(are)g
FI(diminish-tak)o(e)p FM(')-5 b(s)16 b(inclusion)f(of)i(indirection)d
(and)i(weak)h(access)g(rights,)g(and)f(the)g(dif)n(ferent)37
1010 y(handling)j(of)h(the)g FJ(call)g FM(operation.)37
1311 y FJ(Indir)o(ect)h(Refer)o(ence)37 1527 y FM(Indirect)26
b(reference)f(has)i(been)e(used)i(by)f(e)n(v)o(ery)f(capability)h
(system)h(b)n(uilt)f(to)h(date.)44 b(All)27 b(current)e(memory)g
(protection)37 1677 y(mechanisms)c(incorporate)e(some)i(form)g(of)g
(address)g(mapping)e(mechanism)h(that)i(uses)g(indirection,)e(and)g
(all)i(operating)37 1826 y(systems)31 b(b)n(uilt)f(on)f(these)h
(mechanisms)f(incorporate)e(some)j(interf)o(ace)f(by)g(which)g(this)h
(mapping)e(metadata)h(may)h(be)37 1976 y(modi\002ed)18
b(by)g(suitably)g(authorized)f(programs.)23 b(The)18
b(inability)g(to)h(model)e(the)i(impact)f(of)h(such)f(metadata)g(on)g
(the)h(access)37 2125 y(model)h(is)h(a)g(serious)f(limitation)f(in)i
FI(tak)o(e-gr)o(ant)q FM(.)162 2280 y(Mark)28 b(Miller)h(has)g(noted)f
(that)h(both)f(indirection)f(and)h(weak)h(reference)e(can)i(be)f
(modeled)g(by)g(injecting)g(trusted)37 2429 y(processes)20
b(into)f(the)g(tak)o(e-grant)f(model.)23 b(This)d(approach)d(requires)h
(that)i(proofs)e(of)h(correctness)f(be)i(made)e(for)h(the)g(algo-)37
2579 y(rithms)g(e)o(x)o(ecuted)d(by)i(such)g(processes,)g(and)g(also)h
(that)f(the)g(interjection)f(of)h(the)h(agent)e(code)h(be)g(completely)
f(transparent)37 2728 y(to)26 b(the)f(caller)-5 b(.)41
b(The)25 b(approach)e(breaks)h(do)n(wn)g(if)i(a)g(capability)e(type)h
(checking)e(operation)h(is)i(included)e(in)h(the)g(system)37
2878 y(design.)37 3179 y FJ(W)-5 b(eak)20 b(Access)37
3395 y FM(W)-7 b(eak)19 b(access)g(guarantees)e(transiti)n(v)o(e)h
(read-only)e(access.)25 b(This)18 b(pro)o(vides)f(a)i(means)f(to)h
(allo)n(w)f(a)h(con\002ned)e(subsystem)g(to)37 3545 y(safely)24
b(use)g(preb)n(uilt)e(capability)h(structures)g(without)g(e)o(xhausti)n
(v)o(ely)e(e)o(xamining)h(the)h(content)g(of)g(those)g(structures.)35
b(In)37 3694 y(particular)m(,)19 b(this)i(greatly)e(simpli\002es)i(the)
f(construction)e(of)i(memory)e(objects.)162 3849 y(If)31
b(the)f(structures)g(to)h(be)f(shared)g(can)h(be)f(statically)h
(constructed)e(prior)h(to)h(client)f(e)o(x)o(ecution,)h(it)h(is)f
(possible)f(to)37 3999 y(achie)n(v)o(e)c(the)h(same)g(result)g(by)g
(abstracting)e(up)i(one)f(le)n(v)o(el)h(and)f(using)g(trusted)h
(construction)e(agents)h(that)h(obe)o(y)f(some)37 4148
y(suitably)d(restricted)g(language)f(for)h(structure)f(assembly)-5
b(.)34 b(These)24 b(agents)f(b)n(uild)g(structures)g(follo)n(wing)e(a)j
(speci\002cation)37 4297 y(pro)o(vided)e(by)i(the)g(de)n(v)o(eloper)m
(,)f(b)n(ut)h(to)h(which)e(the)i(de)n(v)o(eloper')-5
b(s)22 b(agents)i(ha)n(v)o(e)f(no)h(direct)g(access.)38
b(The)24 b(main)g(ar)o(gument)37 4447 y(against)d(this)i(approach)c(is)
k(the)e(signi\002cant)g(increase)g(in)h(number)e(and)h(comple)o(xity)e
(of)j(objects)f(that)h(must)f(be)h(correctly)37 4596
y(implemented)d(to)h(ensure)g(that)g(information)e(does)i(not)f(leak)i
(across)f(unauthorized)d(boundaries.)162 4751 y(A)h(second)g(concern)e
(with)i(this)g(approach)e(arises)j(in)f(conte)o(xts)f(requiring)f
(dynamically)g(generated)g(content,)h(such)h(as)37 4901
y(cop)o(y-on-write)f(beha)n(vior)-5 b(.)23 b(In)c(the)g(current)f(ER)m
(OS)i(design,)e(the)i(virtual)e(cop)o(y)h(k)o(eeper)f(may)g(be)i
(trusted)e(by)h(virtue)g(of)g(the)37 5050 y(f)o(act)24
b(that)f(it)g(contains)g(no)f(initial)h(mutable)f(capabilities)h
(\(this)g(is)h(a)f(constructi)n(v)o(e)e(ar)o(gument\))g(and)h(that)h
(its)h(authority)d(to)37 5200 y(access)g(the)f(underlying)e(address)i
(space)g(is)h(by)f(w)o(ay)g(of)g(a)g(weak)g(capability)-5
b(.)24 b(In)19 b(the)i(absence)e(of)h(the)g(weak)g(mechanism,)1756
5410 y(152)p eop
%%Page: 153 169
153 168 bop 337 108 a FM(a)26 b(cop)o(y)e(of)h(the)g(input)f(space)h(w)
o(ould)f(need)g(to)i(be)e(made)h(at)g(the)g(time)g(it)h(is)g(frozen,)f
(which)f(w)o(ould)g(carry)g(a)i(substantial)337 257 y(performance)18
b(penalty)-5 b(.)337 551 y FJ(The)22 b(Call)e(Operation)337
765 y FM(As)f(originally)d(described)g(in)h([Jon76)n(],)h(the)g
FI(tak)o(e-gr)o(ant)f FM(model)g(included)f(a)i FJ(call)f
FM(operation)f(that)h(created)g(a)h(ne)n(w)f(process)337
914 y(in)29 b(stack-lik)o(e)f(f)o(ashion.)50 b(In)28
b(later)h(descriptions)e(of)i(the)f(model,)i(this)f(operation)e(w)o(as)
i(dropped;)i(all)e(of)g(the)f(beha)n(vior)337 1064 y(supported)19
b(by)i(the)g FJ(call)g FM(operation)e(as)j(originally)d(described)g(w)o
(as)j(possible)f(gi)n(v)o(en)e(only)i(the)g(other)f(access)h(rights.)27
b(The)337 1213 y(original)e(description)g(of)g(the)h
FJ(call)g FM(operation)f(imposed)f(stack)j(discipline,)f(that)g
(eliminated)f(the)h FI(tak)o(e-gr)o(ant)g FM(model')-5
b(s)337 1362 y(ability)20 b(to)h(model)e(coroutine)f(beha)n(vior)-5
b(.)462 1516 y(The)18 b(real)h(challenge)f(in)h(the)f
FJ(call)h FM(operation,)e(which)h(w)o(as)i(not)e(addressed)g(in)h(an)o
(y)f(of)g(the)h FI(tak)o(e-gr)o(ant)g FM(literature,)f(w)o(as)337
1666 y(the)27 b(f)o(act)g(that)g(coroutine)d(call)j(is)h(a)f(re\003e)o
(xi)n(v)o(e)e(operation;)j(the)f(ability)f(to)h(reply)f(to)h(the)f
(caller)h(means)f(that)h(call)g(rights)337 1815 y(are)f(bidirectional.)
41 b FI(Diminish-tak)o(e)25 b FM(addresses)h(this)g(point)g(fully)-5
b(,)26 b(and)f(demonstrates)g(that)h(it)h(does)f(not)f(substantially)
337 1964 y(change)19 b(the)i(ability)f(of)f(a)i(system)f(to)h(restrict)
f(information)e(\003o)n(w)-5 b(.)337 2284 y FG(10.1.2)99
b(Multile)o(v)o(el)24 b(Security)337 2497 y FM(Denning)30
b(proposed)e(a)j(lattice)g(model)f(for)g(information)e(\003o)n(w)j
([Den76)n(])g(that)g(described)e(the)i(possible)f(information)337
2646 y(transfer)22 b(in)g(multile)n(v)o(el)g(secure)g(systems)g([Fei77)
o(].)32 b(The)22 b(proof)f(of)h(con\002nement)e(presented)h(for)h(ER)m
(OS)g(is)i(a)f(precursor)337 2796 y(step)h(to)g(multile)n(v)o(el)f
(security)-5 b(.)33 b(Only)24 b(when)f(the)g(communications)e(of)i(a)h
(process)f(can)h(be)f(completely)f(constrained)g(by)337
2945 y(con\002nement)e(can)g(one)h(be)o(gin)f(to)h(safely)g(relax)f
(the)i(communication)c(constraints)i(to)h(permit)g(upw)o(ard)e
(communication)337 3095 y(within)h(a)h(lattice)g(if)f(the)g(lattice)h
(polic)o(y)e(is)i(desired.)462 3248 y(P)o(aul)i(Kar)o(ger)e([Kar88)n(])
i(has)g(asserted)f(that)h(an)g(unmodi\002ed)d(capability)i(system)h
(cannot)e(enforce)g(con\002nement.)31 b(In)337 3398 y(light)22
b(of)g(the)g(f)o(act)g(that)g(this)g(is)h(the)f(only)f(outstanding)f
(contradiction)g(in)i(the)g(literature)f(to)h(the)g(proof)e(presented)h
(in)h(this)337 3547 y(dissertation,)f(I)g(discussed)f(this)i(point)e
(in)h(depth)f(with)h(Kar)o(ger)e(in)i(person.)26 b(It)21
b(emer)o(ged)e(that)i(his)g(w)o(orking)e(de\002nition)h(of)337
3697 y(con\002nement)d(w)o(as)h(dif)n(ferent)f(from)g(the)h(one)f(used)
h(in)g(this)h(dissertation,)f(and)f(that)h(by)g(\223unmodi\002ed)d
(capability)j(system\224)337 3846 y(he)i(meant)g(a)g(capability)f
(system)h(as)h(de\002ned)e(by)g(V)-9 b(an)20 b(Horn)f(in)h([Den66)n(].)
25 b(His)c(assertion)f(should)f(therefore)f(be)i(tak)o(en)f(to)337
3996 y(mean)h(that)g(a)h FI(tak)o(e-gr)o(ant)f FM(system)g(cannot)f
(enforce)g(multile)n(v)o(el)g(security)-5 b(.)462 4149
y(The)17 b(root)g(of)h(the)g(problem)e(lies)i(in)g(the)g(f)o(act)g
(that)f(a)h FI(tak)o(e-gr)o(ant)g FM(system)g(allo)n(ws)g(capabilities)
f(to)h(be)g(transferred)e(from)337 4299 y(a)23 b(less)g(secure)e
(compartment)e(to)j(a)g(more)f(secure)h(compartment.)27
b(These)22 b(capabilities)f(can)h(then)f(be)h(used)f(by)h(the)f(more)
337 4448 y(restricted)27 b(program)e(to)i(write)h(data)f(that)g(is)h
(accessible)f(to)h(the)f(less)h(secure)f(program.)44
b(In)26 b(ER)m(OS,)i(the)f(combination)337 4598 y(of)22
b(branding)d(and)h(weak)o(ening)g(can)h(be)g(used)g(to)h(construct)e
(reference)g(monitors)g(that)h(restrict)h(do)n(wnw)o(ard)d(information)
337 4747 y(\003o)n(w)-5 b(.)28 b(An)21 b(upw)o(ard-transferred)c
(directory)i(object,)h(for)h(e)o(xample,)e(can)i(be)g(detected)f(as)i
(such)f(by)f(the)h(monitor)m(,)e(and)i(can)337 4897 y(be)g
(encapsulated)d(by)i(a)h(directory)e(monitor)f(that)j(returns)e
(monitored)f(\002les.)27 b(These)20 b(monitored)e(\002les)j(in)g(turn)e
(guarantee)337 5046 y(that)i(writes)f(to)h(these)f(\002les)h(are)f(not)
g(permitted.)462 5200 y(While)d(the)f(introduction)d(of)j(such)g
(reference)e(monitors)h(does)g(allo)n(w)h(multile)n(v)o(el)f(security)h
(to)g(be)g(enforced,)f(Kar)o(ger')-5 b(s)2056 5410 y(153)p
eop
%%Page: 154 170
154 169 bop 37 108 a FM(objection)22 b(remains)h(accurate)f(in)h(the)h
(sense)f(that)h(the)f(correctness)f(of)h(this)h(solution)e(relies)h(on)
g(the)g(correctness)g(of)g(the)37 257 y(monitors,)c(and)h(this)h
(correctness)e(cannot)g(be)h(sho)n(wn)f(within)h(the)h(access)f(model.)
37 587 y FG(10.1.3)99 b(B)m(AN)25 b(Logic)37 804 y FM(The)c(B)m(AN)h
(logic)e([Bur90)n(,)i(Aba91)n(])f(is)h(a)f(logic)g(and)f(accompan)o
(ying)d(semantics)k(for)f(authentication)f(protocols.)26
b(These)37 953 y(protocols)h(operate)g(by)h(e)n(v)n(olving)e(a)j
(commonly)c(held)j(set)h(of)f(beliefs)g(between)f(tw)o(o)h(or)g(more)f
(parties)h(based)g(on)g(the)37 1102 y(e)o(xchange)20
b(of)h(v)n(arious)g(pieces)h(of)f(protected)g(information.)27
b(The)21 b(end)g(goal)h(is)g(for)f(all)i(parties)e(to)h(agree)f(on)h
(the)f(identity)37 1252 y(of)f(a)h(principal.)162 1407
y(B)m(AN)h(logic)f(does)g(not)g(mak)o(e)g(assumptions)g(about)f(the)i
(authority)d(to)j(transmit)f(information.)26 b(Indeed,)20
b(a)i(particular)37 1557 y(concern)f(of)g(authentication)f(protocols)g
(is)j(to)f(defend)e(against)h FI(unauthorized)h FM(communications.)27
b(The)21 b(purpose)f(of)i(the)37 1706 y(B)m(AN)h(logic)d(is)i(to)g(e)o
(xamine)d(whether)h(beliefs)h(e)n(v)n(olving)f(from)g(the)h(steps)h(of)
f(a)g(particular)f(authentication)f(protocol)h(are)37
1856 y(well)h(founded.)162 2011 y(If)c(\223principals)f(must)h(be)f
(authenticated\224)f(is)j(tak)o(en)f(to)g(be)g(a)g(security)f(polic)o
(y)-5 b(,)16 b(the)h(B)m(AN)h(logic)e(pro)o(vides)f(a)j(mechanis-)37
2161 y(m)j(for)g(determining)d(whether)i(a)h(particular)f(algorithm)f
(for)h(authentication)f(is)j(correct.)k(It)21 b(should)f(be)g(noted,)g
(ho)n(we)n(v)o(er)m(,)37 2310 y(that)g(the)f(logic)g(itself)h(rests)g
(on)f(se)n(v)o(eral)f(assumptions)h(detailed)g(in)g([Bur94)n(],)h(and)e
(one)h(that)g(is)i(not:)j(the)19 b(assumption)f(that)37
2460 y(encryption)k(k)o(e)o(ys)h(can)h(be)g(k)o(ept)f(secret.)36
b(In)24 b(the)g(absence)f(of)h(a)g(means)f(for)h(controlling)d
(information)h(\003o)n(w)-5 b(,)24 b(the)g(ability)37
2609 y(to)f(satisfy)f(this)h(assumption)e(must)h(be)g(treated)g(with)g
(sk)o(epticism.)30 b(The)22 b(con\002nement)e(proof)h(of)h(Chapter)f(6)
h(sho)n(ws)g(that)37 2759 y(encryption)i(k)o(e)o(ys)i(can)f(be)h
(protected)f(by)g(members)g(of)g(the)h FI(SW)33 b FM(f)o(amily)-5
b(.)41 b(Con)m(v)o(ersely)-5 b(,)24 b(the)i(proofs)f(of)h([Har76)n(])g
(sho)n(w)37 2908 y(that)21 b(equi)n(v)n(alent)d(protection)h(is)i
(either)f(undecidable)d(or)j(infeasible)g(in)g(access)h(list)g
(systems.)37 3297 y Fz(10.2)119 b(Corr)n(ectness)30 b(of)f
(Con\002nement:)39 b(PSOS)37 3544 y FM(T)-7 b(o)25 b(my)f(kno)n
(wledge,)f(the)i(proof)e(of)h(correctness)f(for)h(con\002nement)f
(presented)g(in)h(Chapters)h(5)f(and)g(6)h(is)g(the)f(\002rst)i(suc-)37
3693 y(cessful)k(proof)f(of)g(its)i(kind.)53 b(Prior)29
b(to)h(this)h(proof,)f(the)g(only)f(attempt)g(to)h(arri)n(v)o(e)f(at)h
(a)h(proof)d(of)h(this)i(kind)e(is)i(PSOS)37 3842 y([Neu80)n(].)162
3998 y(PSOS)i(is)h(a)f(capability)e(system)i(constructed)d(at)j(SRI)g
(in)g(the)f(mid)h(1970s.)60 b(The)32 b(PSOS)i(team)e(created)g(both)f
(a)37 4147 y(formal)25 b(speci\002cation)f(language)g(\(SPECIAL,)h(the)
g(SPECI\002cation)g(and)g(Assertion)g(Language\))e(and)i(a)g(de)n(v)o
(elopment)37 4297 y(methodology)c(\(HDM\))j(for)f(secure)h(systems,)h
(and)f(used)g(these)g(to)g(construct)f(a)h(pro)o(v)n(ably)e(multile)n
(v)o(el)h(secure)h(system.)37 4446 y(Along)g(the)f(w)o(ay)-5
b(,)25 b(the)o(y)e(b)n(uilt)h(a)g(number)e(of)i(impressi)n(v)o(e)f
(automated)f(theorem)h(pro)o(ving)e(tools.)36 b(Their)24
b(report)e(includes)37 4596 y(both)28 b(the)g(critical)g(portions)f(of)
h(the)g(system)g(speci\002cation)g(and)f(a)i(proof)d(sk)o(etch)i(of)g
(the)g(security)g(properties)e(of)i(this)37 4745 y(system.)162
4901 y(Unfortunately)-5 b(,)28 b(the)h(proof)e(sk)o(etch)i(outlined)f
(in)h([Neu80)n(])h(is)g(\003a)o(wed.)51 b(The)28 b(proof)g(sk)o(etched)
g(in)h(that)h(document)37 5050 y(demonstrates)15 b(that)i(the)f
(speci\002cation)f(as)i(written)f(in)g(SPECIAL)h(matches)e(the)i
(desired)e(security)h(properties,)f(b)n(ut)h(it)h(f)o(ails)37
5200 y(to)24 b(demonstrate)d(that)i(the)g(operational)d(semantics)j(of)
g(the)g(system)g(architecture)e(actually)h(satis\002es)j(the)e
(speci\002cation.)1756 5410 y(154)p eop
%%Page: 155 171
155 170 bop 337 108 a FM(Indeed,)18 b(the)i(whole)f(approach)e(w)o(as)j
(abandoned)d(in)i(f)o(a)n(v)n(or)g(of)g(the)h(Secure)f(Ada)g(T)-7
b(ar)o(get)18 b([Boe85)o(].)25 b(The)19 b FI(SW)25 b
FM(proof)18 b(is)j(the)337 257 y(\002rst)g(proof)e(to)h(accomplish)f
(this.)337 620 y Fz(10.3)119 b(Capability)31 b(Systems)337
858 y FM(No)16 b(discussion)f(of)g(related)g(w)o(ork)g(on)g(a)h
(capability)e(system)i(w)o(ould)f(be)g(complete)f(without)h(addressing)
f(the)i(Uni)n(v)o(ersity)e(of)337 1007 y(California')-5
b(s)23 b(CAL/TSS,)g(the)g(Cambridge)e(CAP)j(system,)g(and)e(Carne)o
(gie)g(Mellon')-5 b(s)22 b(HYDRA/C.mmp)h(ef)n(fort.)32
b(Since)337 1156 y(ER)m(OS)21 b(is)g(architecturally)e(deri)n(v)o(ed)f
(from)h(K)n(e)o(yK)n(OS,)g(I)i(also)f(describe)f(the)i(dif)n(ferences)d
(between)i(these)g(tw)o(o)g(systems.)337 1460 y FG(10.3.1)99
b(CAL/TSS)337 1668 y FM(The)28 b(CAL)g(system)g([Le)n(v84)n(])g
(predated)e(HYDRA)j(and)e(Multics,)j(and)d(w)o(as)h(borro)n(wed)e(from)
h(hea)n(vily)g(by)g(both.)47 b(The)337 1817 y(project)19
b(w)o(as)h(halted)f(before)f(producing)e(a)k(fully)f(usable)g(system,)g
(so)h(it)g(is)g(dif)n(\002cult)f(to)g(dra)o(w)g(performance)d
(conclusions)337 1967 y(from)31 b(the)g(result.)59 b(Lik)o(e)31
b(HYDRA/C.mmp,)i(CAL)f(is)h(a)e(pure)g(capability)f(system.)59
b(Also)32 b(lik)o(e)f(HYDRA,)h(its)h(most)337 2116 y(interesting)20
b(attrib)n(ute)g(for)f(the)h(purposes)f(of)h(this)h(dissertation)e(is)j
(its)f(messaging)e(system.)462 2267 y(CAL)f(pro)o(vides)d(tw)o(o)j
(message)f(types:)23 b FI(e)o(vents)17 b FM(and)g FI(oper)o(ations)p
FM(.)22 b(An)17 b FJ(e)o(v)o(ent)g FM(is)h(a)g(single)f(w)o(ord)f
(message)h(transmitted)337 2416 y(on)k(an)f(e)n(v)o(ent)g(channel.)25
b(Each)c(channel)e(pro)o(vides)g(storage)h(for)g(a)h(\002x)o(ed)f
(number)f(of)i(e)n(v)o(ents,)f(and)g(a)h(process)f(can)h(recei)n(v)o(e)
337 2566 y(in)g(either)e(blocking)f(or)i(non-blocking)c(f)o(ashion)j
(on)h(multiple)f(e)n(v)o(ent)g(channels.)24 b(If)c(the)g(e)n(v)o(ent)f
(channel)g(is)i(full,)f(the)f(e)n(v)o(ent)337 2715 y(is)j(lost.)j(The)
20 b(balance)f(of)h(the)g(discussion)g(here)g(will)h(focus)e(on)h
(operations.)462 2866 y(The)j(closest)i(analogue)d(to)h(a)i(message)e
(in)h(CAL)g(is)h(the)f FJ(operation)p FM(.)34 b(An)24
b(operation)e(is)i(performed)d(by)j(in)m(v)n(oking)d(a)337
3016 y(capability)c(with)h(a)g(list)h(of)e(parameters.)23
b(The)17 b(parameter)f(list)j(is)g(b)n(undled)d(up)h(into)g(a)h
(message)g(and)f(send)g(to)h(the)g(recipient)337 3165
y(domain.)26 b(The)20 b(underlying)e(assumption)h(of)i(this)g(model)f
(is)i(that)e(capability)g(in)m(v)n(ocations)f(follo)n(w)h(a)h
(call/return)f(style)h(of)337 3314 y(usage.)462 3465
y(The)26 b(most)g(notable)f(dif)n(ference)f(between)h(the)h(CAL)h
(messaging)e(system)h(and)f(the)i(HYDRA)f(messaging)f(system)337
3615 y(lies)d(in)e(what)g(w)o(as)h(remo)o(v)o(ed:)410
3783 y Fw(\017)41 b FM(CAL)19 b(has)g(no)f(notion)g(of)g(ports)g(or)h
(channels.)k(A)c(message)g(is)g(sent)g(to)g(a)g(domain.)k(The)c
(capability)e(names)i(the)f(entry)493 3933 y(point)h(in)i(the)f(domain)
f(at)h(which)g(the)g(recipient)f(thread)h(should)f(resume.)410
4100 y Fw(\017)41 b FM(CAL)20 b(messages)f(ha)n(v)o(e)g(no)g
(embodiment)f(outside)h(of)g(the)g(sending)g(and)g(recei)n(ving)f
(process.)24 b(The)19 b(message)g(has)h(no)493 4250 y(independent)d
(identity)-5 b(.)410 4417 y Fw(\017)41 b FM(Messages)17
b(are)g(unb)n(uf)n(fered.)k(If)d(the)f(recipient)f(domain)g(is)i(una)n
(v)n(ailable,)e(the)h(sender)g(will)h(block)e(until)h(the)h(recipient)
493 4567 y(is)j(a)n(v)n(ailable)f(to)g(process)g(the)g(operation.)337
4735 y(As)h(a)g(result)f(of)g(these)h(simpli\002cations,)e(the)h(CAL)h
(messaging)e(system)i(is)g(considerably)d(f)o(aster)i(than)g(that)g(of)
g(HYDRA.)462 4913 y FJ(P)o(ayload)87 b FM(A)30 b(CAL)f(message)f
(consists)i(of)e(an)h(unbounded)c(number)i(of)h FI(par)o(ameter)o(s)p
FM(,)i(each)f(of)f(which)g(may)h(be)337 5062 y(a)i(w)o(ord)f(or)g(a)h
(capability)-5 b(.)1119 5032 y FC(1)1206 5062 y FM(Capabilities)31
b(reside)f(in)h(system-managed)d(trusted)h(storage,)j(and)e(are)h
(named)e(by)h(their)p 337 5121 1425 4 v 337 5176 a FB(1)404
5200 y FA(I)17 b(elide)h(the)g(comple)o(xities)i(of)d(\223\002x)o
(ed\224)i(capabilities)i(and)c(parameter)i(w)o(ords)f(because)g(the)o
(y)g(do)f(not)h(bear)g(on)f(the)h(problems)f(of)g(message)h(transport.)
2056 5410 y FM(155)p eop
%%Page: 156 172
156 171 bop 37 108 a FM(capability)20 b(list)h(slot)g(number)-5
b(.)162 289 y FJ(In)m(v)o(ocation)94 b FM(The)35 b(CAL)h(messaging)f
(system)h(supplies)f(a)h(procedural)d(discipline)i(for)f(message)i(in)m
(v)n(ocation.)37 439 y(While)25 b(HYDRA)h(implemented)c(operations)h
(called)h FJ(Send)p FM(,)i FJ(Recei)o(v)o(e)f FM(and)e
FJ(Reply)p FM(,)j(and)e(these)g(were)h(frequently)d(used)37
588 y(according)g(to)i(a)g(call/return)e(discipline,)i(the)g(entire)f
(description)f(of)h(CAL)i(operations)d(is)i(framed)e(in)i(terms)g(of)f
(in)m(v)n(ok-)37 738 y(ing)i(a)h(service)e(and)h(blocking)e(for)h(a)i
(response.)38 b(One)25 b(of)f(the)h(stated)h(objecti)n(v)o(es)e(of)g
(the)h(CAL)h(design)e(w)o(as)i(to)f(adopt)f(a)37 887
y(client/serv)o(er)19 b(model)h(of)g(application)e(construction,)g(and)
i(the)g(message)g(design)g(w)o(as)h(constructed)d(accordingly)-5
b(.)162 1069 y FJ(Thr)o(eading)89 b FM(In)29 b(contrast)g(to)g(HYDRA,)h
(recipients)f(in)g(CAL)h(are)f(acti)n(v)n(ated)g(by)g(thread)f
(migration)g(associated)37 1219 y(with)d(the)f(operation)e(rather)h
(than)g(performing)e(a)k FJ(Recei)o(v)o(e)e FM(operation.)35
b(The)23 b(occupanc)o(y)f(of)h(a)i(domain)d(is)j(captured)d(in)37
1368 y(per)n(-domain)g(runtime)g(state)j(information,)d(and)h
(operation)f(queueing)f(is)k(done)e(when)g(the)g(recei)n(ving)g(domain)
f(is)i(b)n(usy)-5 b(.)37 1517 y(This)21 b(is)g(analogous)d(to)j(the)f
FI(available)f FM(state)i(of)f(ER)m(OS.)162 1671 y(Lampson)c
(identi\002es)h(a)h(fe)n(w)f(aspects)g(of)g(the)g(CAL)h(system)g(that)f
(could)f(be)h(impro)o(v)o(ed)e(with)i(the)g(bene\002t)g(of)g(hindsight)
37 1820 y([Lam76)n(].)25 b(Most)c(signi\002cantly)-5
b(,)18 b(he)i(suggests)g(that)f(the)h(concepts)f(of)h(domains)f(and)g
(processes,)g(which)h(were)g(separated)37 1969 y(for)j(reasons)g(of)h
(ef)n(\002cienc)o(y)-5 b(,)22 b(should)g(ha)n(v)o(e)h(been)g
(uni\002ed.)34 b(This)23 b(w)o(ould)g(ha)n(v)o(e)g(eliminated)g(the)g
(need)g(for)g(tw)o(o)h(indepen-)37 2119 y(dent)i(messaging)e(systems,)k
(resulting)c(in)i(considerable)e(simpli\002cation)h(of)g(the)h
(underlying)d(system.)41 b(This)26 b(idea)g(w)o(as)37
2268 y(incorporated)18 b(in)i(K)n(e)o(yK)n(OS,)f(and)h(w)o(as)h
(carried)e(forw)o(ard)g(into)h(ER)m(OS.)37 2585 y FG(10.3.2)99
b(CAP)37 2797 y FM(CAP)28 b(is)g(a)f(capability)f(system)h(implemented)
d(in)j(microcoded)e(hardw)o(are)g([W)m(il79)o(])i(at)g(Cambridge)e(Uni)
n(v)o(ersity)-5 b(.)43 b(The)37 2947 y(CAP)17 b(project)e(started)h(in)
g(1970)e(as)j(an)f(in)m(v)o(estigation)d(of)j(memory)e(protection)g
(architectures,)h(and)g(most)h(of)g(its)h(capability)37
3096 y(structures)j(consequently)e(focus)h(on)h(memory)e(objects.)25
b(Much)19 b(of)h(the)g(memory)e(architecture)h(of)h(the)g(later)g(x86)f
(f)o(amily)37 3246 y(is)i(anticipated)e(in)g(the)h(CAP)h(design.)j(A)c
(discussion)f(of)h(the)f(protection)f(architecture)g(of)i(CAP)g(is)h
(sk)o(etched)e(in)g([Her78)o(].)162 3399 y(As)27 b(with)f(ER)m(OS,)h
(capabilities)f(and)g(data)g(in)g(CAP)h(are)f(partitioned.)42
b(In)26 b(CAP)-9 b(,)27 b(this)f(partitioning)f(is)i(enforced)d(by)37
3548 y(tagging)19 b(each)h(memory)f(se)o(gment)g(with)h(a)h(type)f(bit)
g(indicating)f(whether)g(it)i(contains)e(capabilities)h(or)g(data.)162
3701 y(One)29 b(of)g(the)g(more)f(interesting)g(aspects)h(of)g(the)g
(CAP)h(memory)d(architecture)h(is)i(the)f(incorporation)d(of)i
FI(r)m(elative)37 3851 y(capabilities)p FM(.)49 b(The)29
b(process)f(model)f(of)i(CAP)g(assumed)f(nested)g(processes)h
(\(similar)f(to)h(the)f(nested)g(process)g(model)37 4000
y(currently)17 b(e)o(xplored)f(by)h(F)o(ord)h(and)f(Lepreau)g([F)o
(or98a)m(,)i(F)o(or98b)m(]\).)24 b(The)18 b(initial)h(memory)d(of)i(lo)
n(wer)f(le)n(v)o(el)h(processes)g(w)o(as)37 4150 y(most)k(commonly)e
(allocated)h(from)f(the)i(memory)e(of)i(its)g(parent)f(process.)29
b(In)21 b(practice)h(this)g(nesting)f(ne)n(v)o(er)f(e)o(xceeded)g(a)37
4299 y(depth)25 b(of)g(tw)o(o)g(in)g(the)g(CAP)i(system,)f(and)f
(indirection)e(costs)j(associated)f(with)g(relati)n(v)o(e)f
(capabilities)h(were)g(therefore)37 4449 y(ne)n(v)o(er)19
b(fully)h(e)o(xplored.)162 4602 y(The)f(unit)g(of)g(protection)f(in)h
(CAP)i(is)f(the)f FI(pr)l(otected)g(pr)l(ocedur)m(e)p
FM(.)24 b(In)19 b(modern)e(terminology)-5 b(,)16 b(a)k(protected)e
(procedure)37 4751 y(is)29 b(best)f(thought)f(of)g(as)i(a)f(module)e
(accompanied)g(by)h(a)h(set)h(of)f(authorities.)46 b(Protected)27
b(procedures)f(are)i(\002ner)f(grain)37 4901 y(than)d(processes)g(in)g
(CAP)-9 b(,)25 b(and)f(processes)g(may)g(e)o(xport)e(to)j(other)e
(processes)h(the)g(ability)g(to)g(directly)g(call)g(a)h(protected)37
5050 y(procedure)30 b(that)i(it)h(contains.)60 b(Cook)31
b([Coo78)n(])i(e)o(xplores)d(the)i(cost)h(of)f(this)g(in)m(v)n(ocation)
e(mechanism,)k(normalizing)37 5200 y(results)23 b(to)g(the)g(cost)f(of)
h(a)g(memory)d(reference.)31 b(A)23 b(protected)e(in)m(v)n(ocation)f
(passing)i(one)g(capability)g(and)g(returning)e(one)1756
5410 y(156)p eop
%%Page: 157 173
157 172 bop 337 108 a FM(capability)27 b(with)i(no)e(other)g(payload)g
(took)g(222.3)f(memory)g(reference)h(times.)48 b(In)28
b(e)n(v)n(aluating)e(this)j(cost,)h(it)f(must)f(be)337
257 y(remembered)f(that)i(CAP)h(implemented)d(no)i(data)g(cache,)h(and)
f(that)g(this)g(number)e(is)j(therefore)d(a)j(multiple)e(of)h
FI(main)337 407 y FM(memory)23 b(reference.)36 b(While)25
b(comparisons)e(are)h(necessarily)g(suspect)g(in)h(light)f(of)g(the)h
(dif)n(ferences)d(between)i(the)g(tw)o(o)337 556 y(architectures,)j
(the)f(nearest)g(equi)n(v)n(alent)f(ER)m(OS)i(implementation)d(\(which)
i(transfers)g(and)f(returns)h(four)f(capabilities\))337
705 y(tak)o(es)c(110)e(main)h(memory)f(times)h(to)h(perform)d(a)i(call)
h(and)f(return.)337 1012 y FG(10.3.3)99 b(HYDRA/C.mmp)337
1221 y FM(The)21 b(most)f(notable)g(characteristic)f(of)h(Hydra)g(is)h
(its)h(no)o(v)o(el)d(messaging)g(architecture.)24 b(This)d
(architecture)e(stands)i(at)g(the)337 1370 y(opposite)h(e)o(xtreme)e
(to)j(the)f(ER)m(OS)h(design)e(around)f(most)j(ax)o(es:)29
b(it)23 b(is)g(connection)d(oriented,)h(uses)h(b)n(uf)n(fered)f
(messages,)337 1519 y(and)f(implements)f(both)h(multicast)g(and)g
(unbounded)c(payloads.)462 1671 y(The)26 b(HYDRA)i(messaging)d
(architecture)g([W)l(ul81)o(])h(is)i(b)n(uilt)f(around)d(four)i
(concepts:)37 b FI(ports)p FM(,)28 b FI(connections)p
FM(,)e FI(mes-)337 1820 y(sa)o(g)o(es)p FM(,)f(and)f
FI(r)m(eplies)p FM(.)36 b(Ports)24 b(pro)o(vide)e(the)i(endpoints)e
(for)h(a)h(connection.)34 b(Input)22 b(and)i(output)e(ports)i(are)f
(distinguished,)337 1970 y(and)c(an)g(arbitrary)f(number)g(of)h(output)
f(connections)f(can)i(be)g(made)g(to)g(a)h(single)f(input)g(port)f(\(f)
o(an-in=1,)g(f)o(an-out=man)o(y\).)337 2119 y(The)31
b(message)g(subsystem)g(is)h(b)n(uilt)g(on)f(a)g(store)h(and)e(forw)o
(ard)g(model.)57 b(Collecti)n(v)o(ely)-5 b(,)33 b(these)e(features)g
(support)f(the)337 2269 y(construction)19 b(of)h(an)g(essentially)g
(arbitrary)f(message)h(topology)-5 b(,)17 b(up)j(to)g(and)g(including)e
(circular)h(paths.)462 2420 y(Hydra)e(messages)h(ha)n(v)o(e)f(unique)g
(identities.)24 b(Receipt)18 b(of)g(a)g(message)g(means)g(that)g(the)g
(message)g(has)g(been)f(placed)g(in)337 2569 y(a)22 b(\223message)f
(slot,)-6 b(\224)23 b(b)n(ut)e(does)g(not)g(imply)g(that)h(the)f
(message)g(data)h(has)f(been)g(copied)f(into)h(the)h(recei)n(v)o(er)e
(address)h(space.)337 2719 y(A)k(recei)n(ving)c(process)i(possesses)i
(a)f(dynamically)d(sized)j(pool)f(of)g(message)g(slots,)i(and)e(copies)
g(the)h(message)f(payload)337 2868 y(into)d(its)i(address)d(space)i
(when)e(it)i(reads)f(the)g(message.)462 3020 y(A)j(HYDRA)f(domain)f
(can)h(recei)n(v)o(e)f(a)h(message,)h(e)o(xamine)d(and)i(modify)e(its)j
(content,)f(and)f(then)h(forw)o(ard)e(the)i(same)337
3169 y(message)f(\(in)f(the)g(sense)h(of)f(ha)n(ving)g(the)g(same)h
(identity\))e(through)f(an)j(output)e(port)g(to)i(\(possibly)e(more)h
(than)g(one\))f(other)337 3318 y(domain\(s\).)k(Each)18
b(message)g(contains)g(a)h(\223reply)e(stack,)-6 b(\224)19
b(which)f(is)h(essentially)g(a)f(list)i(of)e(all)h(of)f(the)h
(processes)f(that)g(ha)n(v)o(e)337 3468 y(performed)f(a)j
FJ(send)g FM(on)f(the)h(message.)k(Replies)c(can)f(be)g(directed)g(to)g
(the)h(most)f(recent)g(sender)m(,)f(or)h(to)g(an)o(y)g(sender)g(on)g
(the)337 3617 y(reply)h(stack.)462 3769 y(W)m(ith)e(the)g(bene\002t)f
(of)g(hindsight,)g(W)l(ulf)h(et.)24 b(al.)h(identi\002ed)17
b(se)n(v)o(eral)g(weaknesses)g(in)h(the)g(Hydra)f(message)g(subsystem)
337 3918 y([W)l(ul81)o(].)462 4096 y FJ(Complexity)81
b FM(The)21 b(comple)o(xity)f(of)h(the)h(topology)e(features,)h(in)h(W)
l(ulf)5 b(')-5 b(s)22 b(vie)n(w)-5 b(,)21 b(led)h(to)g(a)g(cumbersome)e
(interf)o(ace.)337 4246 y(In)k(addition,)f(the)h(distinction)f(between)
g(ports)g(and)h(channels)f(did)g(not)h(mesh)f(well)i(with)f(the)f
(protection)f(architecture.)337 4395 y(W)l(ulf)f(notes)f(that)h(the)f
(capabilities)g(in)m(v)n(olv)o(ed)f(named)g(ports,)h(and)g(one)g(often)
g(w)o(anted)f(to)i(manipulate)e(a)i(\(port,)e(channel\))337
4545 y(pair)d(to)h(forw)o(ard)d(a)j(channel.)22 b(This)17
b(w)o(as)g(dif)n(\002cult)e(because)h(\(port,)f(channel\))g(pairs)h
(were)g(not)g(separately)f(named)g(entities.)462 4723
y FJ(Second)h(Class)h(Citizens)76 b FM(Messages)16 b(in)g(Hydra)f(are)h
(not)f(\223objects,)-6 b(\224)16 b(which)g(means)f(that)h(the)o(y)f
(cannot)g(be)h(migrated)337 4872 y(to)24 b(secondary)e(storage.)36
b(One)23 b(consequence)f(is)j(that)e(messages)h(often)f(clog)h(the)g
(system')-5 b(s)24 b(main)f(memory)-5 b(.)34 b(In)24
b(W)l(ulf)5 b(')-5 b(s)337 5022 y(vie)n(w)g(,)20 b(the)g(solution)f(w)o
(as)i(to)g(mak)o(e)f(messages)g(persistent,)g(\002rst)h(class)g
(objects.)462 5200 y FJ(T)o(imed)32 b(Recei)o(v)o(e)91
b FM(Messages)31 b(are)g(recei)n(v)o(ed)e(by)i(domains)f(which)g(are)h
(assumed)f(to)h(be)g(running)e(and)h(acti)n(v)o(ely)2056
5410 y(157)p eop
%%Page: 158 174
158 173 bop 37 108 a FM(w)o(aiting)20 b(for)g(a)g(message)g(to)g(arri)n
(v)o(e)f(\(i.e.)25 b(there)19 b(is)i(a)f FJ(Recei)o(v)o(e)g
FM(service)g(call\).)25 b(In)20 b(hindsight,)e(the)i(designers)f
(wished)h(for)f(a)37 257 y(mechanism)g(to)i(bound)d(the)i(amount)f(of)h
(time)g(that)h(such)f(a)g(domain)f(w)o(ould)h(be)g(tied)g(do)n(wn)f(w)o
(aiting)h(on)g(a)g(port.)162 438 y FJ(Messages)i(vs.)28
b(Calls)81 b FM(W)l(ulf)21 b(notes)g(that)g(messages)g(were)g(actually)
g(f)o(aster)g(than)g(the)g(procedure)d(call)k(mechanism)37
587 y(in)j(Hydra,)g(which)e(led)i(people)e(to)i(b)n(uild)f(man)o(y)f
(small)i(protection)e(domains)h(in)g(preference)f(to)h(using)g
(procedures.)36 b(In)37 737 y(retrospect,)21 b(he)g(notes)g(that)g(de)n
(v)o(elopment)e(ener)o(gies)g(w)o(ould)i(ha)n(v)o(e)g(been)f(better)h
(spent)g(on)g(impro)o(ving)d(the)j(performance)37 886
y(of)f(the)h(call)f(instruction)f(than)h(implementing)e(such)i(a)g
(rich)g(connecti)n(v)o(e)e(f)o(abric.)162 1067 y FJ(P)o(ayload)88
b FM(Messages)29 b(in)g(Hydra)g(are)f(of)h(unbounded)d(length.)50
b(W)l(ulf)30 b(et)f(al.)52 b(note)29 b(that)g(the)g(common)e(cases)j
(of)37 1216 y(message)e(sends)f(were)g(\002le)h(block)f(transmission)f
(and)h(transmission)g(of)g(tw)o(o)h(to)f(three)g(parameters,)h(which)f
(suggests)37 1366 y(that)19 b(a)g(small)f(bounded)e(message)i(might)g
(ha)n(v)o(e)f(resulted)h(in)g(a)h(simpler)f(and)g(more)f(ef)n
(\002cient)h(system.)24 b(Gi)n(v)o(en)18 b(the)g(trend)f(to)37
1515 y(smaller)22 b(and)g(smaller)f(domains)g(that)h(w)o(as)h(e)n
(vident)d(in)i(Hydra,)f(the)h(ability)g(to)g(send)f(more)g(than)h(one)f
(capability)g(within)37 1664 y(a)g(message)f(w)o(ould)g(ha)n(v)o(e)f
(been)h(of)g(v)n(alue.)37 1977 y FG(10.3.4)99 b(K)n(eyK)m(OS)37
2189 y FM(ER)m(OS)31 b(is)f(a)h(direct)e(architectural)f(descendant)g
(of)i(the)g(K)n(e)o(yK)n(OS)e(system)i([Bom92)o(,)g(Har85)n(].)54
b(Architecturally)-5 b(,)30 b(the)37 2338 y(dif)n(ferences)21
b(between)g(the)h(tw)o(o)g(systems)h(are)f(lar)o(gely)f(e)n(v)n
(olutionary)-5 b(.)27 b(The)22 b(ER)m(OS)h(capability)e(in)m(v)n
(ocation)f(mechanism)37 2488 y(has)k(been)e(completely)g(redesigned)f
(in)i(the)g(w)o(ak)o(e)g(of)g(subsequent)e(adv)n(ances)h(by)g(Liedtk)o
(e)h([Lie93)n(])g(and)g(F)o(ord)f([F)o(or93)n(],)37 2637
y(and)h(transparent)e(address)i(space)g(multiple)o(xing)e([Lie95)n(])i
(has)h(been)e(implemented)f(in)i(the)g(x86)g(v)o(ersion)e(of)i(the)g
(ER)m(OS)37 2787 y(k)o(ernel.)162 2939 y(The)c(main)h(contrib)n(utions)
e(of)h(ER)m(OS)h(relati)n(v)o(e)f(to)h(K)n(e)o(yK)n(OS)f(are)h(a)g
(more)f(capable)g(IPC)h(implementation,)d(the)j(proof)37
3089 y(of)g(correctness)g(for)f(the)h(K)n(e)o(yK)n(OS)g(con\002nement)e
(mechanism,)h(and)g(a)i(more)e(careful)g(performance)f(analysis.)37
3461 y Fz(10.4)119 b(Access)30 b(Contr)n(ol)g(List)f(Extensions)37
3702 y FM(Abadi)c(et.)42 b(al)26 b(describe)e(an)i(e)o(xtended)d
(access)j(control)f(list)h(mechanism)e(in)i([Aba93)n(])g(with)f(se)n(v)
o(eral)g(adv)n(antages)f(o)o(v)o(er)37 3852 y(the)e(base)g(model.)28
b(Their)21 b(paper)g(introduces)f(the)h(notion)g(of)g(\223role)g
(based\224)g(authorization,)f(in)i(which)f(an)g(access)h(list)h(for)37
4001 y(object)i Fy(o)h FM(can)e(say)h(that)g Fy(o)h FM(is)g(accessable)
e(to)h(a)h(principal)d Fy(p)j FM(acting)e(in)h(role)f
Fy(r)29 b FM(\(written)24 b Fy(pasr)r FM(\),)i(b)n(ut)f(not)g(to)g
(principal)e Fy(p)37 4150 y FM(acting)j(in)g(other)f(roles.)41
b(The)25 b(paper)g(addresses)h(both)f(the)g(completeness)g(of)g(the)h
(access)g(list)h(speci\002cation)e(language)37 4300 y(and)d(the)g
(resulting)f(le)o(gal)h(transformations)d(and)j(simpli\002cations)f(on)
h(access)h(lists)g(that)f(are)g(feasible)g(and)g(safe.)30
b(It)23 b(does)37 4449 y(not)d(e)o(xplore)f(whether)g(higher)n(-le)n(v)
o(el)f(security)i(policies)g(can)g(be)g(enforced)e(using)i(role-based)e
(access)j(control)e(lists.)162 4602 y(While)31 b(role-based)d(access)j
(control)e(lists)j(do)e(not)f(fully)h(address)g(the)g(issue)h(of)f
(least)h(pri)n(vile)o(ge)d(the)o(y)i(go)g(a)g(long)37
4751 y(w)o(ay)e(to)n(w)o(ard)e(solving)g(the)h(practical)f(problem.)44
b(In)27 b(a)g(role-based)e(system,)k(one)d(can)h(de\002ne)g(an)g
FI(untrusted)h FM(role,)g(and)37 4901 y(run)22 b(untrusted)e(softw)o
(are)i(under)e(the)i(role)g Fy(my)s(sel)r(f)29 b(as)22
b(untr)r(usted)p FM(,)g(thereby)f(restricting)g(the)h(access)g(rights)g
(a)n(v)n(ailable)37 5050 y(to)28 b(that)g(softw)o(are.)48
b(Role-based)27 b(access)h(control)f(lists)i(do)e(not)h(address)f(an)o
(y)g(of)h(the)f(other)g(requirements)f(of)i(10.1)e(\(a)37
5200 y(reproduction)17 b(of)j(Figure)g(1.1\).)1756 5410
y(158)p eop
%%Page: 159 175
159 174 bop 337 31 3563 7 v 337 105 a FJ(Figur)o(e)20
b(10.1)f FM(Basic)i(properties)e(supported)f(by)i(capabilities)p
337 143 3563 4 v 337 300 a FJ(Least)h(Pri)o(vilege)40
b FM(Programs)19 b(should)g(ha)n(v)o(e)h(no)g(more)f(authority)g(than)g
(the)o(y)h(require.)337 416 y FJ(Selecti)o(v)o(e)h(Access)f(Right)g
(Delegation)40 b FM(A)24 b(program)d(that)i(possesses)g(authority)f
(should)g(be)h(able)g(to)g(selecti)n(v)o(ely)f(dele-)493
516 y(gate)d(that)i(authority)d(to)j(its)g(component)c(subprograms.)493
615 y(It)j(must)g(be)h(possible)e(to)i(run)e(components)f(with)j
(lesser)f(authority)f(than)h(that)g(of)g(their)g(principal.)337
732 y FJ(Rights)h(T)-6 b(ransfer)20 b(Contr)o(ol)40 b
FM(A)18 b(\(sub\)program)d(should)i(be)h(able)f(to)i(recei)n(v)o(e)d
(additional)h(authority)f(only)i(if)g(that)g(author)n(-)493
831 y(ity)i(is)h(granted)e(via)h(an)g(e)o(xplicitly)g(authorized)e
(channel.)337 947 y FJ(Inf)n(ormation)i(T)-6 b(ransfer)20
b(Contr)o(ol)40 b FM(A)19 b(\(sub\)program)c(should)j(be)g(able)h(to)g
(e)o(xchange)d(informatoin)g(only)i(by)g(w)o(ay)h(of)g(an)493
1047 y(e)o(xplicitly)g(authorized)f(channel.)337 1163
y FJ(Endogenous)j(V)-8 b(eri\002cation)40 b FM(It)18
b(must)g(be)g(possible)f(to)h(v)o(erify)f(from)g(within)g(the)h(system)
g(itself)h(that)f(certain)f(restrictions)493 1263 y(on)j(rights)f
(transfer)h(and)f(information)f(\003o)n(w)i(are)h(met.)493
1362 y(In)d(man)o(y)e(systems,)j(such)f(tests)h(are)f(possible)g(only)f
(if)h(the)h(e)o(xaminer)d(is)j(in)f(a)h(position)e(to)h(stand)g
(outside)f(the)h(system)493 1462 y(and)h(e)o(xamine)g(all)i(of)f(its)h
(state)g(at)g(some)f(instant.)p 337 1566 V 462 1821 a(Selecti)n(v)o(e)
25 b(access)g(right)g(dele)o(gation)e(is)j(not)e(supported)g(by)g
(role-based)g(access)h(control)f(lists,)k(because)c FI(access)h
FM(to)337 1970 y(an)j(object)f(is)h(dif)n(ferent)e(from)h
FI(contr)l(ol)g FM(of)g(that)h(object.)46 b(T)-7 b(o)27
b(selecti)n(v)o(ely)g(dele)o(gate)f(access,)k(the)d(principal)g(must)g
(ha)n(v)o(e)337 2119 y(suf)n(\002cient)h(authority)e(to)h(modify)f(the)
i(access)g(control)f(lists)i(on)e(the)g(dele)o(gated)f(objects.)47
b(This)28 b(could)f(be)g(resolv)o(ed)f(if)337 2269 y(a)h(notion)e(of)h
(role)g(\223membership\224)e(or)i(dominance)f(were)h(introduced,)f(and)
h(if)g(an)o(y)g(user)g(were)g(authorized)e(to)j(add)f(an)337
2418 y(access)21 b(list)h(entry)d(con)m(v)o(e)o(ying)e(a)j(subset)h(of)
f(the)g(authority)e(the)o(y)i(already)f(hold.)462 2570
y(The)35 b(role-based)e(access)i(control)f(model)g(similarly)h(does)g
(not)f(pro)o(vide)f(for)i(the)f(restriction)h(of)f(access)i(rights)337
2720 y(transfer)-5 b(.)47 b(It)28 b(remains)f(possible)g(within)g(this)
h(model)f(for)g(a)h(third)f(party)g(who)g(controls)f(an)i(object)f(to)g
(grant)g(rights)g(to)337 2869 y Fy(p)d(as)g(untr)r(usted)p
FM(,)g(for)f(e)o(xample.)33 b(The)23 b(model)f(therefore)g(does)h(not)g
(defend)f(well)i(against)e(trojan)h(horses.)34 b(Because)24
b(it)337 3019 y(cannot)f(restrict)g(the)h(transfer)e(of)h(access)h
(rights,)g(it)g(cannot)e(restrict)i(the)f(transfer)g(of)g(information)e
(between)h(colluding)337 3168 y(parties.)462 3320 y(Finally)-5
b(,)24 b(role-based)e(access)i(control)f(lists)i(do)e(not)h(pro)o(vide)
d(for)j(ef)n(\002cient)f(endogenous)e(v)o(eri\002cation.)34
b(While)24 b(it)h(is)337 3470 y(possible)j(for)g(a)g(program)e(to)j
(scan)f(the)g(initial)h(state)f(of)g(the)g(system)h(to)f(determine)f
(that)h Fy(p)g(as)h(untr)r(usted)f FM(does)g(not)337
3619 y(ha)n(v)o(e)e(undesirable)d(access)k(rights,)f(there)f(is)i(no)e
(w)o(ay)h(to)f(pre)n(v)o(ent)f(those)i(access)g(rights)f(from)g
(changing)e(as)k(e)o(x)o(ecution)337 3769 y(proceeds.)337
4139 y Fz(10.5)119 b(Micr)n(ok)o(er)n(nels)337 4379 y
FM(T)-7 b(w)o(o)21 b(microk)o(ernel)d(systems)j(are)f(particularly)e
(rele)n(v)n(ant)h(to)i(the)f(ER)m(OS)h(system:)k(L4)20
b(and)g(Mach)f(v)o(ersion)g(4.)337 4690 y FG(10.5.1)99
b(L4)337 4901 y FM(L4)23 b(is)g(a)g(small)g(microk)o(ernel)d(designed)h
(with)i(one)f(o)o(v)o(erriding)d(goal:)29 b(constructing)21
b(the)h(f)o(astest)i(IPC)f(mechanism)e(pos-)337 5050
y(sible)26 b(without)f(sacri\002cing)g(protection.)39
b(L4)25 b(pro)o(vides)f(no)h(process)g(model,)g(no)h(memory)d
(management)g(services,)k(no)337 5200 y(scheduler)m(,)21
b(no)h(de)n(vice)f(dri)n(v)o(ers,)g(and)g(no)h(persistent)f(store.)30
b(It)23 b(is)g(intended)d(that)i(all)h(of)e(these)h(will)h(be)f
(implemented)e(by)2056 5410 y(159)p eop
%%Page: 160 176
160 175 bop 37 108 a FM(non-microk)o(ernel)17 b(applications.)162
259 y(The)26 b(most)g(interesting)g(aspect)g(of)g(L4)g(is)i(its)f
(careful)e(attention)h(to)g(the)h(systemic)f(interactions)f(between)h
(address)37 409 y(spaces,)c(data)g(motion,)e(and)h(inteprocess)g
(communication)d(\(IPC\))k(ef)n(\002cienc)o(y)-5 b(.)27
b(The)21 b(result)h(is)g(an)g(IPC)g(mechanism)e(that)37
558 y(is)i(currently)c(the)i(f)o(astest)h(implementation)d(in)j(e)o
(xistence)e(on)h(all)h(platforms)e(supported)f(by)i(L4.)162
709 y(Liedtk)o(e')-5 b(s)18 b(success)g(in)h(this)f(w)o(ork)g(directly)
f(prompted)f(ER)m(OS')-5 b(s)19 b(re-e)n(v)n(alution)c(of)j(the)g
(capability)f(in)m(v)n(ocation)g(mech-)37 859 y(anism.)25
b(The)19 b(research)g(question)f(posed)h(by)g(ER)m(OS)h(w)o(as)h
(whether)d(similar)i(ef)n(\002ciencies)f(could)g(be)g(obtained)f(under)
g(tw)o(o)37 1008 y(additional)h(constraints:)110 1178
y Fw(\017)41 b FM(In)m(v)n(ocation)13 b(must)j(be)g(restricted)g(to)g
(those)g(holding)e(an)i(authorizing)e(capability)-5 b(.)22
b(L4)16 b(allo)n(ws)g(an)o(y)f(process)h(to)g(in)m(v)n(ok)o(e)193
1328 y(an)o(y)j(other)h(process.)110 1496 y Fw(\017)41
b FM(All)27 b(capability)e(in)m(v)n(ocations)g(must)h(continue)f(to)h
(obe)o(y)f(the)h(same)h(interf)o(ace,)g(which)e(is)j(essential)e(to)h
(supporting)193 1645 y(transparent)18 b(reference)h(monitors.)162
1815 y(One)j(point)f(that)h(Liedtk)o(e)f(ar)o(gued)e(w)o(as)k
(essential)f(to)g(the)g(performance)d(achie)n(v)o(ed)h(by)h(L4)h(w)o
(as)g(to)g(k)o(eep)g(the)f(critical)37 1965 y(w)o(orking)d(set)i
(small.)25 b(Gi)n(v)o(en)18 b(that)i(the)f(ER)m(OS)g(k)o(ernel)g
(implements)f(a)h(process)g(model,)f(\003e)o(xible)h(memory)e
(management,)37 2114 y(a)28 b(persistent)e(store,)i(and)e(de)n(vice)g
(dri)n(v)o(ers,)h(there)f(w)o(as)h(reason)f(to)h(question)e(whether)h
(a)h(similarly)g(small)g(w)o(orking)e(set)37 2264 y(could)20
b(be)g(achie)n(v)o(ed.)162 2415 y(W)-7 b(ork)25 b(on)f(the)h(\002rst)h
(ER)m(OS)f(IPC)h(redesign)e(basically)h(sho)n(wed)f(that)h(it)g(can)g
([Sha96c)n(].)40 b(That)24 b(v)o(ersion)g(is)i(c)o(ycle)e(for)37
2565 y(c)o(ycle)e(comparable)e(to)i(L4)g(in)g(terms)g(of)g
(performance.)27 b(While)22 b(the)g(latest)h(generation)d(of)i(the)g
(ER)m(OS)g(IPC)h(mechanism)37 2714 y(has)e(not)f(yet)g(been)f(as)i
(carefully)e(optimized,)g(comparable)f(results)i(should)g(be)g(achie)n
(v)n(able)e(in)j(the)f(current)f(design.)162 2866 y(A)k(Linux)e(port)g
(has)h(been)g(b)n(uilt)g(on)g(top)f(of)h(the)g(L4)g(nucleus)g([H)5
b(\250)-33 b(ar97)n(].)31 b(This)22 b(port)f(demonstrates)g(the)h
(feasibility)g(of)37 3015 y(operating)e(system)h(rehosting,)f(b)n(ut)h
(runs)g(at)g(a)h(5\045)f(to)h(10\045)e(performance)f(penalty)h(relati)n
(v)o(e)g(to)h(Linux.)27 b(This)22 b(hit)f(comes)37 3164
y(primarily)c(from)g(the)h(f)o(act)g(that)g(the)f(Linux)g(memory)f
(management)g(logic)h(has)i(not)e(been)g(adapted)g(to)h(mak)o(e)f
(direct)h(use)g(of)37 3314 y(L4)i(primiti)n(v)o(es.)j(W)-7
b(ork)19 b(on)g(producing)e(such)i(an)g(inte)o(grated)f(port)g(is)i
(currently)e(underw)o(ay)f(\(personal)h(communication\).)162
3465 y(In)27 b(its)g(current)f(incarnation)f(as)i(IBM')-5
b(s)28 b(La)n(v)n(a)e(nucleus,)i(L4)e(remains)h(an)f(incomplete)g
(system.)45 b(While)27 b(L4')-5 b(s)27 b(IPC)37 3615
y(mechanism)22 b(is)i(e)o(xtremely)d(f)o(ast,)j(it)f(remains)g(unclear)
e(whether)h(its)i(memory)d(management)g(primiti)n(v)o(es)h(compose)f
(in)i(a)37 3764 y(suf)n(\002ciently)d(\003e)o(xible)f(f)o(ashion)h(to)g
(support)f(a)h(high)g(performance)d(decomposed)h(system)i(running)e(in)
j(nati)n(v)o(e)e(form.)37 4071 y FG(10.5.2)99 b(Mach)26
b(4)37 4280 y FM(Bryan)17 b(F)o(ord)e(pursued)g(a)i(redesign)f(and)g
(reimplementation)e(of)i(the)h(Mach)f(4)h(IPC)g(mechanism)e(in)i(the)g
(w)o(ak)o(e)f(of)h(Liedtk)o(e')-5 b(s)37 4430 y(success)28
b([F)o(or93)n(].)45 b(Mach')-5 b(s)27 b(IPC)g(implementation)e(has)i
(been)f(a)h(continuing)e(source)h(of)h(disappointment)d(within)j(the)37
4579 y(microk)o(ernel)22 b(community)-5 b(.)32 b(F)o(ord)22
b(e)o(xplored)f(what)j(bene\002t)e(might)h(result)h(if)f(message)g(b)n
(uf)n(fering)e(w)o(as)k(eliminated)d(and)37 4729 y(thread)e(migration)e
(were)i(introduced.)162 4880 y(While)g(remarkable)d(gains)h(arise)i
(from)e(these)h(tw)o(o)g(changes,)f(nothing)g(short)h(of)f(a)i
(complete)e(redesign)g(of)h(the)g(Mach)37 5030 y(IPC)i(interf)o(ace)f
(can)g(mak)o(e)g(it)g(competati)n(v)o(e.)j(There)d(are)g(tw)o(o)g
(basic)h(problems)d(with)j(the)f(Mach)g(design:)110 5200
y Fw(\017)41 b FM(There)20 b(are)h(simply)f(too)h(man)o(y)f(options.)26
b(The)20 b(number)g(of)g(interactions)g(between)g(the)h(IPC)h(in)m(v)n
(ocation)d(descriptor)1756 5410 y(160)p eop
%%Page: 161 177
161 176 bop 493 108 a FM(and)22 b(the)h(control)f(\003o)n(w)h(of)f(the)
h(IPC)h(implementation)c(preclude)i(good)f(instruction)h(cache)g
(density)h(in)g(the)f(critical)493 257 y(path.)410 423
y Fw(\017)41 b FM(Allocating)20 b(memory)g(during)g(IPC)i(destro)o(ys)f
(cache)g(locality)-5 b(.)27 b(The)21 b(Mach)g(in)m(v)n(ocation)f
(mechanism)g(requires)g(that)493 573 y(ne)n(w)31 b(\223slots\224)h(be)g
(allocated)e(in)i(the)f(recipient')-5 b(s)31 b(port)g(table,)j(which)d
(requires)g(that)g(the)h(table)f(be)h(searched)e(for)493
722 y(a)n(v)n(ailable)19 b(slots)i(and)f(potentially)f(gro)n(wn)g
(dynamically)-5 b(.)462 888 y(F)o(ord)16 b(w)o(as)i(e)o(xtremely)e
(generous)g(with)h(his)h(insights)f(and)f(e)o(xperience)g(resulting)g
(from)g(this)i(implementation.)k(W)m(ith-)337 1037 y(out)e(the)h
(bene\002t)e(of)h(his)h(comments,)e(it)i(is)g(unlik)o(ely)e(that)h(ER)m
(OS)h(w)o(ould)e(ha)n(v)o(e)h(achie)n(v)o(ed)e(its)j(current)e
(performance.)337 1392 y Fz(10.6)119 b(Closing)30 b(Comments)337
1628 y FM(The)c(discussion)f(of)h(related)f(w)o(ork)g(has)i(omitted)e
(some)g(systems)i(that)f(ar)o(guably)d(should)i(be)h(included.)40
b(Chorus)25 b(Sys-)337 1777 y(t)5 b(\036)-33 b(emes,)34
b(for)c(e)o(xample,)h(has)g(implemented)e(a)i(descriptor)e(oriented)g
(distrib)n(uted)h(system)h(b)n(uilt)f(on)h(a)g(nucleus)e(with)i(a)337
1927 y(relati)n(v)o(ely)26 b(high)g(performance)e(in)m(v)n(ocation)h
(mechanism)g([Roz91)o(].)45 b(Lik)o(e)26 b(Mach,)i(Chorus)e(e)n(v)n
(olv)o(ed)g(from)f(monolith-)337 2076 y(ic)k(systems,)g(and)f(the)f
(performance)e(of)i(the)h(tw)o(o)g(systems)g(is)h(roughly)c
(comparable.)46 b(A)28 b(comparison)e(of)h(the)h(tw)o(o)g(is)337
2226 y(a)n(v)n(ailable)20 b(in)h(the)f(literature.)k(Chorus)c(had)f(no)
h(direct)g(impact)g(on)f(ER)m(OS.)462 2375 y(Little)30
b(is)h(to)f(be)g(gained)e(by)i(an)f(e)o(xhausti)n(v)o(e)f(surv)o(e)o(y)
g(of)i(prior)f(operating)f(systems.)54 b(Instead,)31
b(I)f(ha)n(v)o(e)f(chosen)g(to)337 2524 y(focus)22 b(here)h(on)f(w)o
(ork)g(that)g(either)h(directly)e(in\003uenced)g(ER)m(OS)i(or)g(so)g
(closely)f(bears)g(on)h(the)f(issues)i(addressed)d(in)i(this)337
2674 y(dissertation)d(that)g(comparati)n(v)o(e)e(e)n(v)n(aluation)h(is)
i(required.)2056 5410 y(161)p eop
%%Page: 162 178
162 177 bop 1756 5410 a FM(162)p eop
%%Page: 163 179
163 178 bop 1873 1831 a FD(P)n(art)45 b(V)1625 2371 y
FK(Conclusion)2056 5410 y FM(163)p eop
%%Page: 164 180
164 179 bop eop
%%Page: 165 181
165 180 bop 337 834 a FD(Chapter)45 b(11)337 1374 y FK(Conclusions)54
b(and)d(Futur)l(e)g(W)-15 b(ork)337 1855 y FM(This)21
b(dissertation)e(mak)o(es)h(four)g(primary)e(contrib)n(utions:)410
2016 y Fw(\017)41 b FM(The)21 b FI(Diminish-T)-8 b(ak)o(e)20
b FM(access)i(model,)e(an)h(e)o(xtension)f(of)h(the)g(capability)f
(access)i(model)e(proposed)f(by)i(Jones,)g(Lip-)493 2165
y(ton,)26 b(and)f(Sn)o(yder)g(and)g(enhanced)f(by)h(Bishop)g(to)h
(address)f(object)h(metadata,)g(opaque)e(indirection,)h(and)g(certain)
493 2315 y(additional)19 b(access)h(checks.)410 2475
y Fw(\017)41 b FI(SW)p FM(,)22 b(a)h(formal)e(model)h(of)g(capability)g
(architectures)f(that)h(allo)n(ws)h(precise)f(statements)h(to)f(be)h
(made)e(about)h(access)493 2625 y(and)e(operations.)27
b(Using)21 b FI(SW)p FM(,)g(it)h(is)g(possible)f(to)g(pro)o(v)o(e)f
(that)h(the)g(conditions)f(imposed)g(by)h(some)g(implementation)493
2774 y(actually)i(enforce)g(the)h(security)g(polic)o(y)f(the)o(y)g(are)
h(designed)f(to)h(support.)36 b FI(SW)30 b FM(is)25 b(the)f(\002rst)h
(formal)e(model)g(of)h(an)o(y)493 2923 y(complete,)29
b(general)e(purpose)g(operating)g(system)h(architecture)f(for)h(which)g
(such)g(proofs)f(ha)n(v)o(e)h(been)g(f)o(a)n(v)n(orably)493
3073 y(completed;)18 b(pre)n(viously)h(successful)h(proof)e(ef)n(forts)
i(ha)n(v)o(e)f(pro)o(v)o(en)f(only)h(ne)o(gati)n(v)o(e)f(results.)410
3233 y Fw(\017)41 b FM(The)21 b(ER)m(OS)h(operating)e(system,)h(a)h
(realization)f(of)g(the)h FI(SW)27 b FM(model)21 b(that)h(is)g(co)o(v)o
(ered)e(by)h(both)f(the)i(SW)g(model)f(and)493 3383 y(the)f(proof)f(of)
g(con\002nement)g(presented)g(here.)410 3543 y Fw(\017)41
b FM(The)22 b(ER)m(OS)g(implementation,)f(which)g(yields)h(measured)f
(performance)f(competati)n(v)o(e)g(with,)j(and)e(in)i(man)o(y)e(cases)
493 3693 y(e)o(xceeding,)d(the)i(performance)d(of)j(con)m(v)o
(entionally)d(architected)h(A)m(CL-based)i(operating)e(systems)j(and)e
(microk)o(er)n(-)493 3842 y(nels.)55 b(Neither)30 b(the)g(use)g(of)g
(capabilities)g(nor)g(aggressi)n(v)o(e)e(dek)o(ernelization)g(needs)i
(to)g(be)g(a)h(limiting)f(f)o(actor)f(in)493 3992 y(system)20
b(performance.)337 4342 y Fz(11.1)119 b(The)30 b Fk(Diminish-T)-11
b(ak)l(e)32 b Fz(Access)d(Model)337 4577 y FM(The)18
b FI(tak)o(e-gr)o(ant)f FM(access)h(model)f([Jon76)n(])h(as)g(e)o
(xtended)e(by)h([Bis79)o(])h(is)g(the)g(most)g(commonly)d(referenced)g
(access)j(model)337 4726 y(for)28 b(understanding)c(access)29
b(and)e(authority)f(transfer)h(in)g(capability)g(systems.)48
b(When)28 b(applied)e(to)i(real)g(systems,)i(the)337
4876 y FI(tak)o(e-gr)o(ant)21 b FM(model)e(e)o(xhibits)g(se)n(v)o(eral)
h(shortcomings:)410 5039 y Fw(\017)41 b FM(It)20 b(does)g(not)g(model)f
(opaque)g(indirection.)410 5200 y Fw(\017)41 b FM(It)20
b(therefore)f(does)h(not)f(model)h(systems)g(that)h(support)d(dek)o
(ernelized)h(mapping)f(management.)2056 5410 y(165)p
eop
%%Page: 166 182
166 181 bop 110 108 a Fw(\017)41 b FM(It)18 b(does)f(not)h(incorporate)
d(access)j(rights)g(suf)n(\002cient)f(to)h(enforce)e(a)i(basic)g
(security)f(polic)o(y:)23 b(the)18 b(con\002nement)e(polic)o(y)193
257 y([Lam73)n(].)110 430 y Fw(\017)41 b FM(It)20 b(does)g(not)g
(incorporate)e(access)j(rights)f(suf)n(\002cient)f(to)i(model)e(secure)
h(cop)o(y)f(on)h(write)g(implementations.)110 603 y Fw(\017)41
b FM(As)21 b(originally)d(stated,)j(it)f(incorporates)f(hierarchical)f
(assumptions)i(about)f(process)g(in)m(v)n(ocations.)162
792 y(The)e FI(Diminish-T)-8 b(ak)o(e)16 b FM(access)i(model)e(e)o
(xtends)g(the)h FI(tak)o(e-gr)o(ant)g FM(with)g(tw)o(o)g(small)h(e)o
(xtensions,)e(indirection)f(and)i(weak)37 941 y(access,)j(and)e
(incorporates)e(a)j(more)f(\003e)o(xible)g(interprocess)f
(communication)f(mechanism.)23 b(The)18 b(e)o(xtensions)f(bridge)h(the)
37 1091 y(gap)h(from)g(the)h(original)e(model)h(to)h(the)g(beha)n(vior)
e(of)i(real)g(systems,)g(in)g(particular)e(to)i(the)g(beha)n(vior)e(of)
h(\002le)i(systems)f(and)37 1240 y(memory)i(mapping.)32
b(The)23 b(more)f(\003e)o(xible)g(interprocess)g(communication)e
(mechanism)i(subsumes)h(the)g(cases)h(co)o(v)o(ered)37
1390 y(by)c(the)g(original)g(model)f(b)n(ut)h(also)h(accounts)e(for)g
(the)i(IPC)f(beha)n(vior)f(of)h(a)h(lar)o(ger)d(number)h(of)h
(capability)f(systems.)162 1546 y(This)f(model)g(is)h(ultimately)e
(what)i(prompted)d(the)i(proof)e(attempt)i(that)h(resulted)e(in)i
FI(SW)24 b FM(and)18 b(the)g(con\002nement)e(proof)37
1696 y(presented)j(in)i(this)f(dissertation.)37 2090
y Fz(11.2)119 b Fk(SW)37 b Fz(Model)37 2339 y FI(SW)i
FM(is)34 b(a)f(formal)e(model)h(of)g(the)g(objects,)k(actions,)f(and)d
(operational)e(semantics)j(of)f(a)h(broad)e(class)i(of)g(capability)37
2488 y(systems.)39 b(No)25 b(pre)n(vious)e(model)h(at)h(this)g(le)n(v)o
(el)g(of)f(detail)h(has)g(pre)n(viously)e(been)h(articulated.)37
b(The)24 b FI(SW)31 b FM(allo)n(ws)25 b(allo)n(ws)37
2638 y(precise)i(statements)f(to)h(be)f(made)g(about)f(access)i(and)f
(operations.)42 b FI(SW)33 b FM(therefore)25 b(mak)o(es)h(it)h
(possible)f(to)h(pro)o(v)o(e)d(that)37 2787 y(the)i(conditions)f
(imposed)f(by)i(some)f(implementation)f(actually)h(enforce)f(the)i
(security)f(polic)o(y)g(the)o(y)g(are)h(designed)e(to)37
2937 y(support.)41 b FI(SW)32 b FM(de\002nes)25 b(a)h(f)o(amily)f(of)h
(capability)e(systems,)k(of)d(which)g(an)o(y)g(realization)g
(satis\002es)i(the)f(pro)o(v)o(en)d(security)37 3086
y(properties.)162 3243 y(Con)m(vincing)33 b(informal)h(ar)o(guments)g
(ha)n(v)o(e)g(e)o(xisted)h(both)g(for)g([Boe84)n(,)h(Kar88)o(,)f(K)n(e)
o(y86)n(])h(and)f(against)g([Boe84)n(,)37 3392 y(Kar88)o(])22
b(the)g(feasibility)g(of)g(enforcing)e(the)i(con\002nement)e(polic)o(y)
h(with)h(v)n(arious)f(capability)g(systems.)32 b(While)22
b(a)h(formal)37 3542 y(treatment)d(e)o(xists)i([Har76)n(])f(sho)n(wing)
f(that)h(access)g(control)f(list)i(systems)f FI(cannot)g
FM(enforce)e(con\002nement,)g(no)i(compara-)37 3691 y(ble)g(formal)e
(treatment)g(has)i(been)e(gi)n(v)o(en)g(to)h(capability)f(systems)i
(before)e(no)n(w)-5 b(.)162 3848 y(In)24 b(collaboration)d(with)j(Sam)g
(W)-7 b(eber)m(,)25 b(I)f(ha)n(v)o(e)f(pro)o(v)o(en)f(that)i
(capability)f(systems)h(modeled)e(by)i FI(SW)30 b FM(can)24
b(enforce)e(a)37 3997 y(non-tri)n(vial)e(security)h(polic)o(y:)27
b(the)22 b(con\002nement)e(polic)o(y)g([Lam73)n(].)30
b FI(SW)e FM(is)22 b(the)g(\002rst)g(formal)f(model)g(of)g(an)o(y)g
(complete,)37 4146 y(general)30 b(purpose)f(operating)f(system)j
(architecture)e(for)h(which)g(such)g(proofs)f(ha)n(v)o(e)h(been)g
(successfully)f(completed.)37 4296 y(Pre)n(vious)g(attempts)g(to)g(pro)
o(v)o(e)e(such)i(properties)f(using)g(theorem)g(pro)o(ving)f(or)i
(model)f(checking)f(ha)n(v)o(e)i(f)o(ailed)g(due)f(to)37
4445 y(the)h(size)h(of)f(the)g(problem.)49 b(Attempts)29
b(to)g(pro)o(v)o(e)e(such)i(properties)e(for)i(access)g(list)h(based)f
(protection)e(models)h(ha)n(v)o(e)37 4595 y(sho)n(wn)21
b(that)f(the)h(problem)e(in)i(such)g(models)f(is)i(in)f(general)f
(undecidable,)e(and)i(that)h(in)g(the)g(decidable)f(cases)h(the)g
(access)37 4744 y(list)28 b(model)e(does)g FI(not)i FM(enforce)d(the)i
(desired)f(properties)f([Har76)n(].)44 b FI(SW)33 b FM(and)26
b(the)h(accompan)o(ying)c(proof)i(sho)n(w)h(that)h(a)37
4894 y(pre)n(viously)19 b(untried)h(speci\002cation)f(and)h(proof)f
(strate)o(gy)h(yields)h(to)g(relati)n(v)o(ely)e(straightforw)o(ard)f
(proofs)h(about)h(security)37 5043 y(policies.)162 5200
y(The)h(proof)e(presented)h(here)h(is)h(the)f(\002rst)h(successful)f
(formal)f(treatment)g(of)h(the)g(issue.)28 b(It)22 b(sho)n(ws)f(that)g
(in)h(capability)1756 5410 y(166)p eop
%%Page: 167 183
167 182 bop 337 108 a FM(systems)31 b(with)e(a)h(\002nite)g(number)e
(of)h(objects,)i(the)f(problem)e(is)i(decidable,)g(and)f(the)h(proof)e
(sho)n(ws)h(that)h(with)g(minor)337 257 y(modi\002cation,)19
b(capability)g(systems)i FI(can)e FM(enforce)g(non-tri)n(vial)f
(security)i(policies.)337 605 y Fz(11.3)119 b(ER)l(OS)31
b(Operating)g(System)337 841 y FM(The)26 b(Extremely)f(Reliable)h
(Operating)f(System)h(\(ER)m(OS\))g(is)h(one)f(realization)f(of)h(an)g
(SW)h(system.)43 b(This)26 b(dissertation)337 990 y(discusses)h(the)g
(ER)m(OS)g(virtual)f(machine)f(architecture)g(of)h(ER)m(OS,)g(and)g
(describes)g(ho)n(w)g(the)g(capabilities)h(de\002ned)e(by)337
1140 y(that)c(architecture)d(are)i(mapped)e(to)i FI(SW)6
b FM(.)20 b(By)h(virtue)e(of)g(this)i(mapping,)d(the)i(ER)m(OS)g
(design)f(is)i(co)o(v)o(ered)d(by)h(both)h(the)f(SW)337
1289 y(model)h(and)f(the)i(proof)d(of)i(con\002nement)e(presented)h
(here.)462 1439 y(ER)m(OS)29 b(is)h(therefore)e(the)h(\002rst)g
(operating)e(system)j(whose)e(architecture)g(has)h(been)f(formally)g
(sho)n(wn)g(to)h(enforce)337 1588 y(useful)20 b(security)f(policies.)25
b(While)20 b(further)e(w)o(ork)h(is)i(needed)e(to)h(carry)e(this)j
(proof)d(through)g(to)i(the)f(silicon,)h(this)g(proof)f(is)337
1737 y(a)i(signi\002cant)f(adv)n(ance)e(in)j(the)f(state)h(of)f(the)g
(art)g(for)g(formal)f(operating)f(system)j(analysis.)337
2086 y Fz(11.4)119 b(ER)l(OS)31 b(Implementation)337
2321 y FM(Finally)-5 b(,)20 b(this)g(dissertation)g(presents)f(a)i
(prototype)c(implementation)h(of)i(the)g(ER)m(OS)g(system)g(on)g(the)g
(Intel)g(x86)f(machine)337 2471 y(architecture.)48 b(By)28
b(mapping)f(ER)m(OS)h(virtual)g(machine)f(abstractions)g(to)h(hardw)o
(are-supported)c(objects,)30 b(this)e(imple-)337 2620
y(mentation)c(yields)g(measured)f(performance)f(competati)n(v)o(e)h
(with,)i(and)f(in)h(man)o(y)e(cases)j(e)o(xceeding,)d(the)h
(performance)337 2769 y(of)g(con)m(v)o(entionally)c(architected)i(A)m
(CL-based)g(operating)g(systems)i(and)f(microk)o(ernels.)32
b(The)24 b(quantitati)n(v)o(e)d(e)n(v)n(aluation)337
2919 y(presented)16 b(here)h(sho)n(ws)g(that)g(neither)f(the)h(use)g
(of)g(capabilities)f(nor)h(aggressi)n(v)o(e)e(dek)o(ernelization)g
(needs)i(to)g(be)g(a)g(limiting)337 3068 y(f)o(actor)j(in)g(system)h
(performance.)462 3218 y(As)g(a)g(result)f(of)g(this)h(prototype)c(and)
j(e)n(v)n(aluation,)e(it)j(is)g(no)n(w)f(kno)n(wn)f(that:)410
3377 y Fw(\017)41 b FM(F)o(ast)21 b(capability)e(systems)i(are)f
(feasible)g(on)f(commodity)f(hardw)o(are.)410 3536 y
Fw(\017)41 b FM(Dek)o(ernelized)18 b(systems)j(can)f(meet,)g(and)f
(sometimes)h(e)o(xceed,)f(monolithic)g(system)h(performance.)410
3695 y Fw(\017)41 b FM(Pro)o(viding)18 b(security)h(neet)h(not)g
(penalize)g(performance.)462 3855 y(The)i(ER)m(OS)h(prototype)d(is)j(a)
g(monolithic)d(implementation;)h(the)i(k)o(ernel)e(incorporates)f(de)n
(vice)i(dri)n(v)o(er)f(and)g(storage)337 4004 y(management)h(function)f
(that)i(is)i(traditionally)c(e)o(xported)g(from)h(microk)o(ernel)g
(systems.)34 b(ER)m(OS)24 b(is)g(also)g(dek)o(ernelized:)337
4154 y(both)k(memory)e(object)h(management)f(and)i(storage)f
(allocation)g(is)i(performed)c FI(outside)j FM(the)g(k)o(ernel.)47
b(Such)28 b(a)g(system)337 4303 y(might)20 b(be)g(e)o(xpected)f(to)h
(suf)n(fer)f(from)h(the)g(weaknesses)g(of)g(both)f(designs.)462
4452 y(By)33 b(structuring)d(the)i(implementation)e(as)j(layers)f(of)g
(successi)n(v)o(ely)g(more)f(generic)g(representations)f(and)i(using)
337 4602 y(cache-lik)o(e)c(consistenc)o(y)f(management)f(mechanisms)i
([Sha96b)n(],)i(the)f(ER)m(OS)g(implementation)d(matches)i(the)h(inter)
n(-)337 4751 y(process)21 b(communication)c(performance)h(of)i(microk)o
(ernel)f(systems)i(such)f(as)i(L4)e([Lie93)o(])g(\(as)h(discussed)g(in)
g([Sha96c)n(]\))337 4901 y(and)26 b(carefully)f(constructed)g
(real-time)g(systems)i(such)f(as)h(QNX)g([Hil92)o(])g(\(whose)e(IPC)i
(times)g(are)f(slo)n(wer)g(than)g(L4\).)337 5050 y(At)21
b(the)f(same)f(time,)h(the)g(ER)m(OS)g(operating)e(system)i(meets)g
(and)f(sometimes)g(e)o(xceeds)g(the)h(performance)d(of)i(monolithic)337
5200 y(systems)i(as)g(discussed)f(in)g(Chapter)g(9.)2056
5410 y(167)p eop
%%Page: 168 184
168 183 bop 37 108 a Fz(11.5)119 b(Futur)n(e)31 b(W)-9
b(ork)37 349 y FM(While)23 b(the)f(preliminary)e(results)i(from)f(ER)m
(OS)h(are)g(promising,)e(only)h(a)i(small)f(fraction)f(of)g(the)h(w)o
(ork)f(applied)g(to)h(com-)37 499 y(peting)e(research)f(projects)h
(else)n(where)g(has)g(been)g(applied)f(to)h(ER)m(OS.)h(Se)n(v)o(eral)e
(areas)i(need)e(further)g(e)o(xploration)f(before)37
648 y(ER)m(OS)j(can)f(stand)g(up)g(f)o(a)n(v)n(orably)f(to)h(non-e)o
(xpert)d(e)n(v)n(aluation.)37 937 y FJ(POSIX)k(En)m(vir)o(onment)37
1149 y FM(Before)f(ER)m(OS)h(can)g(usefully)e(be)i(deplo)o(yed)d(to)j
(a)g(broad)e(audience,)g(the)i(POSIX)g(compatibility)e(en)m(vironment)e
(must)k(be)37 1299 y(completed.)33 b(This)23 b(is)h(essential)g(for)e
(self)i(hosting.)33 b(More)23 b(important,)f(it)i(is)g(essential)f(to)h
(allo)n(w)f(an)g(\223apples)g(to)g(apples\224)37 1448
y(e)n(v)n(aluation)c(of)h(ER)m(OS)h(to)f(be)g(made)g(relati)n(v)o(e)f
(to)h(other)g(systems.)162 1601 y(A)f(partial)f(start)i(on)e(a)h
(compatibility)e(en)m(vironment)e(\(Dion)o(ysix\))i(w)o(as)i(undertak)o
(en)d(by)j(Uni)n(v)o(ersity)e(of)h(Pennsylv)n(ania)37
1750 y(under)o(graduates)12 b(in)k(1993.)22 b(At)16 b(the)f(time,)i(ER)
m(OS)f(w)o(as)g(not)f(suf)n(\002ciently)g(stable)h(to)f(support)f(this)
i(ef)n(fort,)f(and)g(the)h(Dion)o(ysix)37 1900 y(project)k(w)o(as)h
(set)g(aside.)k(The)20 b(Dion)o(ysix)f(design)g(is)i(basically)f
(sound,)f(and)h(should)f(be)h(carried)f(through.)37 2189
y FJ(Netw)o(orking)h(Support)37 2401 y FM(A)25 b(second)f(requirement)e
(for)i(broad)f(deplo)o(yment)f(is)k(an)e(implementation)e(of)i(the)h
(usual)f(and)g(customary)f(netw)o(orking)37 2550 y(support.)i(An)c(ef)n
(\002cient)f(implementation)e(of)j(TCP/IP)g(in)g(a)g(dek)o(ernelized)d
(en)m(vironment)g(presents)i(serious)g(challenges;)37
2700 y(address)i(space)g(based)g(protection)e(mechanisms)h(induce)g
(additional)f(data)i(copies,)g(and)f(such)h(copies)g(are)g(well)g(kno)n
(wn)37 2849 y(to)30 b(be)g(signi\002cant)f(and)g(e)o(xpensi)n(v)o(e)f
(in)i(the)g(conte)o(xt)e(of)i(netw)o(orking)d(implementations.)52
b(Ultimately)-5 b(,)31 b(it)f(may)f(pro)o(v)o(e)37 2999
y(necessary)20 b(to)g(inte)o(grate)f(such)h(support)f(within)h(the)g
(ER)m(OS)h(k)o(ernel.)37 3288 y FJ(J)o(a)n(v)o(a)e(En)m(vir)o(onment)37
3500 y FM(A)k(possible)e(direction)g(to)g(pursue)g(for)g(ER)m(OS)h(is)h
(the)f(creation)e(of)i(a)g(high)f(performance)e(protected)h(Ja)n(v)n(a)
i(en)m(vironment.)37 3649 y(While)32 b(man)o(y)f(attempts)g(ha)n(v)o(e)
g(been)g(made)f(to)i(augment)e(Ja)n(v)n(a)i(with)f(serious)h
(protection,)g(most)f(of)g(the)h(potentially)37 3799
y(promising)24 b(attempts)i(ha)n(v)o(e)f(been)g(b)n(uilt)h(on)f(POSIX)h
(platforms,)f(which)g(are)h(quite)f(slo)n(w)h(at)g(the)g(essential)g
(supporting)37 3948 y(operations.)162 4101 y(A)21 b(nati)n(v)o(e)e
(protected)f(Ja)n(v)n(a)i(platform)f(implemented)f(on)i(ER)m(OS)g(does)
g(not)f(require)g(full)h(POSIX)g(compatibility)-5 b(,)18
b(and)37 4250 y(could)k(tak)o(e)h(adv)n(antage)e(of)i(ER)m(OS')-5
b(s)24 b(greater)e(ef)n(\002cienc)o(y)f(at)j(protection)d(oriented)g
(operations.)32 b(It)23 b(w)o(ould)f(also)i(pro)o(vide)37
4400 y(a)d(basis)g(for)f(direct)g(comparison)e(across)i(platforms)g
(pro)o(vided)d(that)k(the)f(same)h(JIT)f(compilation)f(technology)f(w)o
(as)j(used)37 4549 y(in)g(both)e(implementations.)37
4838 y FJ(In)m(v)o(estigation)g(of)h(Demultiplexing)37
5050 y FM(One)29 b(question)e(that)h(has)h(seen)f(limited)g(attention)f
(in)i(the)f(message)g(oriented)f(microk)o(ernel)f(literature)i(is)h
(the)f(impact)37 5200 y(of)d(eliminating)f(the)h(POSIX)h
FI(select)q FM(\(\))f(system)h(call.)40 b(The)24 b FI(select)q
FM(\(\))i(call)f(allo)n(ws)h(a)f(single)g(process)g(to)g(w)o(ait)h(for)
e(e)n(v)o(ents)1756 5410 y(168)p eop
%%Page: 169 185
169 184 bop 337 108 a FM(of)24 b(interest)f(on)g(a)g(lar)o(ge)g(number)
e(of)i(simultaneous)f(descriptors.)33 b(The)23 b FI(select)q
FM(\(\))h(mechanism)e(eliminates)h(the)h(need)e(for)337
257 y(lar)o(ge)e(numbers)g(of)g(threads)g(and)g(therefore)f(reduces)h
(the)h(cost)g(of)g(coordinating)d(data)j(access)g(among)e(these)i
(threads.)26 b(It)337 407 y(remains)20 b(to)g(be)h(seen)f(what)g(o)o(v)
o(erhead)e(is)j(induced)d(if)j(multiple)e(threads)h(must)g(be)g(used)g
(instead.)462 556 y(The)j FI(select)q FM(\(\))g(operation)e(is)j(not)f
(readily)f(implemented)f(in)i(systems)h(relying)e(on)g(user)h
(de\002ned)f(objects.)33 b(First,)25 b(the)337 705 y(operations)j
(performed)e(by)i(these)h(objects)g(cannot)f(be)g(readily)g
(classi\002ed)i(as)f(\223input,)h(output,)g(other\224)e(as)h(the)g
(select)337 855 y(interf)o(ace)h(desires.)54 b(Second,)31
b(the)f(necessary)f(operations)f(to)i(allo)n(w)g(a)g(user)g(de\002ned)f
(object)g(to)h(\223communicate\224)e(its)337 1004 y(a)n(v)n(ailability)
20 b(to)g(other)g(processes)g(may)f(carry)h(higher)f(cost)h(than)g(the)
g(ob)o(vious)e(multithreaded)g(design.)337 1275 y FJ(P)n(erf)n(ormance)
i(of)f(Checkpointing)h(and)h(P)n(ersistence)337 1481
y FM(ER)m(OS)e(implements)d(a)i(v)o(ery)e(dif)n(ferent)g(type)h(of)h
(store)f(than)g(has)h(become)e(customary)g(in)i(other)f(systems,)h(and)
f(a)h(dif)n(ferent)337 1630 y(approach)f(to)i(stabilizing)f(user)h
(data.)24 b(It)19 b(has)h(been)e(suggested)f(that)i(the)g(checkpoint)e
(mechanism)g(induces)h(unnecessary)337 1780 y(o)o(v)o(erhead,)25
b(in)h(that)f(a)i(f)o(air)e(portion)f(of)i(the)g(data)f(included)g(in)g
(a)i(gi)n(v)o(en)d(snapshot)h(is)i(ephemeral)d(or)h(ef)n(\002ciently)g
(recon-)337 1929 y(structable.)31 b(No)22 b(quantitati)n(v)o(e)e(e)n(v)
n(aluation)h(has)h(been)f(done)h(to)g(compare)e(this)j(o)o(v)o(erhead)d
(to)i(the)g(o)o(v)o(erhead)d(of)j(metadata)337 2078 y(I/O,)f(nor)e(is)i
(it)g(immediately)e(clear)h(what)g(the)g(right)g(criterion)f(for)h
(comparison)e(should)h(be.)462 2228 y(A)g(related)f(issue)h(is)g(the)f
(f)o(act)h(the)f(ER)m(OS)h(k)o(ernel)f(has)g(v)o(ery)g(limited)g(kno)n
(wledge)e(of)i(the)h(high)e(le)n(v)o(el)h(semantics)g(of)h(the)337
2377 y(objects)h(it)h(is)g(loading)d(from)h(the)h(disk.)25
b(It)20 b(does)g(not,)f(for)g(e)o(xample,)g(ha)n(v)o(e)g(an)o(y)g(ob)o
(vious)f(place)i(to)g(stand)g(where)f(it)i(is)g(able)337
2527 y(to)26 b(notice)e(that)h(access)h(to)f(a)h(particular)d(memory)h
(object)g(is)i(sequential,)f(and)g(that)g(performance)d(might)i
(therefore)g(be)337 2676 y(impro)o(v)o(ed)e(by)i(prefetching.)35
b(It)25 b(w)o(ould)f(be)g(interesting)f(to)i(in)m(v)o(estigate)d(both)i
(user)n(-hinted)f(prefetch)g(and)h(mechanisms)337 2826
y(for)c(dynamic)f(prefetch)f(adapti)n(vity)-5 b(.)2056
5410 y(169)p eop
%%Page: 170 186
170 185 bop 1756 5410 a FM(170)p eop
%%Page: 171 187
171 186 bop 337 834 a FD(A)l(ppendix)43 b(A)337 1374
y FK(Pr)l(ocess)53 b(Root)f(Lay)-5 b(out)52 b(f)-5 b(or)51
b(Intel)h(x86)p 337 1854 3563 7 v 337 1928 a FJ(T)-8
b(able)22 b(A.1)e FM(Domain)f(root)g(layout)h(for)f(Intel)h(x86)f(F)o
(amily)p 337 1966 3563 4 v 929 2135 a FJ(Slot)99 b(Content)660
b(Slot)99 b(Content)p 879 2168 2439 4 v 929 2238 a FM(0)196
b(Schedule)641 b(16)154 b(FR0)929 2338 y(1)196 b(K)n(eeper)708
b(17)154 b(FR1)929 2437 y(2)196 b(Address)19 b(Space)456
b(18)154 b(FR2)929 2537 y(3)196 b(Zero)19 b(Number)g(\()p
FI(r)m(eserved)r FM(\))136 b(19)154 b(FR3)929 2637 y(4)196
b(Brand)743 b(20)154 b(FR4)929 2736 y(5)196 b(F)o(ault)20
b(Code,)g(F)o(ault)g(Info)210 b(21)154 b(FR5)1167 2836
y(Run)20 b(State,)g(Process)h(Flags)929 2936 y(6)196
b(ECX,)20 b(EDI,)g(DS,)h(ES)315 b(22)154 b(FR6)929 3035
y(7)196 b(EDX,)20 b(ESI,)g(FS,)h(GS)329 b(23)154 b(FR7)929
3135 y(8)196 b(EAX,)20 b(EBX,)g(EBP)376 b(24)154 b(FDP)-9
b(,)21 b(FDS,)f(FCTRL)2352 3234 y(FST)-8 b(A)f(TUS,)20
b(FT)-8 b(A)m(G)929 3334 y(9)196 b(EIP)-9 b(,)19 b(ESP)-9
b(,)21 b(CS,)g(SS)380 b(25)154 b(FIP)-9 b(,)20 b(FCS,)i(FOPCODE)929
3434 y(10)154 b(EFLA)m(GS)636 b(26)154 b(Zero)20 b(Number)929
3533 y(11)154 b(in)m(vT)-7 b(ype,)18 b(in)m(vK)n(e)o(y)-5
b(,)18 b(sndLen)119 b(27)154 b(Zero)20 b(Number)929 3633
y(12)154 b(sndPtr)m(,)19 b(sndK)n(e)o(ys,)g(rcvK)n(e)o(ys)98
b(28)154 b(Zero)20 b(Number)929 3733 y(13)154 b(Schedule)19
b(Capability)275 b(29)154 b(Zero)20 b(Number)929 3832
y(14)154 b(Schedule)19 b(Capability)275 b(30)154 b(Zero)20
b(Number)929 3932 y(15)154 b(Schedule)19 b(Capability)275
b(31)154 b(Capability)20 b(Re)o(gisters)g(Anne)o(x)p
879 3965 V 337 4068 3563 4 v 2056 5410 a(171)p eop
%%Page: 172 188
172 187 bop 1756 5410 a FM(172)p eop
%%Page: 173 189
173 188 bop 337 907 a FK(Bibliograph)m(y)337 1398 y FM([Aba91])109
b(M.)20 b(Abadi)g(and)g(M.)h(T)l(uttle,)f(\223)-7 b(A)22
b(Semantics)e(for)g(a)h(Logic)f(of)g(Authentication.)-6
b(\224)18 b FI(Pr)l(oceedings)h(of)i(the)g(T)-8 b(enth)725
1548 y(Annual)18 b(A)n(CM)j(Symposium)e(on)h(Principles)g(of)g(Distrib)
n(uted)g(Computing)f FM(pp.)h(201\226216,)d(August)i(1991.)337
1724 y([Aba93])109 b(Martin)21 b(Abadi,)h(Michael)g(Burro)n(ws,)f
(Butler)h(Lampson,)f(and)h(Gordon)e(D.)i(Plotkin.)f(\223)-7
b(A)23 b(Calculus)f(for)g(Ac-)725 1874 y(cess)h(Control)e(in)h(Distrib)
n(uted)g(Systems.)-6 b(\224)22 b FI(A)n(CM)g(T)-5 b(r)o(ansactions)22
b(on)g(Pr)l(o)o(gr)o(amming)e(Langua)o(g)o(es)h(and)g(Sys-)725
2023 y(tems)g FM(v)n(ol.)f(15,)f(no.)h(4,)g(September)f(1993.)337
2199 y([Arb97])118 b(W)-8 b(.)24 b(A.)f(Arbaugh,)f(D.)i(J.)f(F)o(arber)
m(,)g(and)f(J.)i(M.)f(Smith)g(\223)-7 b(A)24 b(Secure)f(and)f(Reliable)
i(Bootstrap)e(Architecture.)-6 b(\224)725 2349 y FI(Pr)l(oceedings)24
b(of)i(the)g(1997)e(IEEE)h(Symposium)f(on)h(Security)g(and)g(Privacy)g
FM(May)-5 b(,)26 b(1997,)f(Oakland,)h(CA,)725 2498 y(USA.)337
2674 y([Bal97])133 b(Dirk)16 b(Balf)o(anz)g(and)g(Li)h(Gong,)e
(\223Experience)g(with)h(Secure)g(Multi-Processing)f(in)h(Ja)n(v)n(a.)
-6 b(\224)17 b(T)-6 b(echnical)15 b(Report)725 2824 y(no.)k(560-97,)f
(Department)h(of)h(Computer)f(Science,)g(Princeton)g(Uni)n(v)o(ersity)
-5 b(.)337 3000 y([Bel73a])96 b(D.)29 b(E.)g(Bell.)h(\223Secure)e
(Computer)f(Systems:)43 b(Mathematical)28 b(F)o(oundations.)-6
b(\224)27 b(ESD-TR-73-278,)h(v)n(ol)h(1,)725 3150 y(ESD/AFSD,)h
(Hanscom)e(AFB,)i(Bedford,)g(Mass.,)i(April)d(1974)f(\(MTR)i(2547,)g(v)
n(ol.)f(1,)i(MITRE)e(Corp.,)725 3299 y(Bedford,)18 b(Mass\).)337
3475 y([Bel73b])91 b(D.)25 b(E.)g(Bell.)h(\223Secure)e(Computer)g
(Systems:)35 b(A)25 b(Mathematical)f(Model.)-6 b(\224)25
b(ESD-TR-73-278,)d(v)n(ol)j(2,)h(ES-)725 3625 y(D/AFSD,)d(Hanscom)f
(AFB,)h(Bedford,)f(Mass.,)h(April)f(1974)g(\(MTR)g(2547,)g(v)n(ol.)g
(2,)h(MITRE)f(Corp.,)h(Bed-)725 3774 y(ford,)c(Mass\).)337
3950 y([Bel74])133 b(D.)25 b(E.)g(Bell.)g(\223Secure)f(Computer)f
(Systems:)35 b(A)25 b(Re\002nement)f(of)g(the)h(Mathematical)f(Model.)
-6 b(\224)24 b(ESD-TR-)725 4100 y(73-278,)30 b(v)n(ol)g(3,)j(ESD/AFSD,)
d(Hanscom)f(AFB,)i(Bedford,)g(Mass.,)i(April)d(1974)f(\(MTR)h(2547,)h
(v)n(ol.)f(3,)725 4249 y(MITRE)20 b(Corp.,)f(Bedford,)g(Mass\).)337
4426 y([Bis79])138 b(Matt)21 b(Bishop.)g(\223The)f(T)m(ransfer)g(of)h
(Information)d(and)j(Authority)e(in)i(a)h(Protection)e(System.)-6
b(\224)21 b FI(Pr)l(oceedings)725 4575 y(of)28 b(the)g(7th)f(A)n(CM)h
(Symposium)e(on)i(Oper)o(ating)e(Systems)i(Principles)p
FM(,)h(published)e(as)h FI(Oper)o(ating)e(System)725
4724 y(Re)o(vie)o(w)p FM(,)20 b(V)-11 b(ol)20 b(13,)g(No)g(4,)g(Dec)g
(1979,)f(pp.)h(45-54.)337 4901 y([Boe84])114 b(W)-8 b(.)38
b(E.)f(Boebert.)g(\223On)g(the)g(Inability)f(of)h(an)g(Unmodi\002ed)f
(Capability)g(Machine)h(to)g(Enforce)f(the)h(*-)725 5050
y(property)-5 b(.)f(\224)22 b FI(Pr)l(oceedings)i(of)h(the)g(7th)g
(DoD/NBS)g(COmputer)g(Security)g(Confer)m(ence)p FM(.)f(pp.)g(291-293,)
g(Na-)725 5200 y(tional)c(Bureau)f(of)h(Standards,)f(Gaithersb)n(ur)o
(g,)f(MD,)i(USA)h(24-26)d(September)h(1984.)2056 5410
y(173)p eop
%%Page: 174 190
174 189 bop 37 108 a FM([Boe85])114 b(W)-8 b(.)33 b(E.)f(Boebert,)i(W)
-8 b(.)33 b(D.)f(Y)-9 b(oung,)33 b(and)e(R.)i(Y)-11 b(.)32
b(Kain.)g(\223Secure)f(Computing:)47 b(The)31 b(Secure)h(Ada)f(T)-7
b(ar)o(get)425 257 y(Approach\224)18 b FI(Scienti\002c)h(Hone)n
(yweller)p FM(.)g(6\(2\):1-27,)e(July)j(1985.)37 445
y([Bom92])86 b(Allen)22 b(C.)h(Bomber)o(ger)m(,)c(A.)j(Peri)h(Frantz,)f
(W)m(illiam)g(S.)h(Frantz,)f(Ann)f(C.)i(Hardy)-5 b(,)21
b(Norman)f(Hardy)-5 b(,)21 b(Charles)425 594 y(R.)k(Landau,)f(Jonathan)
f(S.)h(Shapiro.)f(\223The)h(K)n(e)o(yK)n(OS)g(NanoK)n(ernel)e
(Architecture,)-6 b(\224)24 b FI(Pr)l(oceedings)f(of)i(the)425
744 y(USENIX)k(W)-8 b(orkshop)30 b(on)g(Micr)l(o-K)m(ernels)h(and)e
(Other)h(K)m(ernel)h(Ar)m(c)o(hitectur)m(es)p FM(.)e(USENIX)h
(Association.)425 893 y(April)20 b(1992.)e(pp)i(95-112.)37
1081 y([Bur61])123 b(Burroughs)30 b(Corporation.)g FI(The)i(Descriptor)
g(\226)g(a)g(De\002nition)f(of)h(the)g(B5000)f(Information)f(Pr)l
(ocessing)425 1230 y(System)p FM(.)20 b(February)-5 b(,)18
b(1961,)g(The)i(Burroughs)e(Corporation:)24 b(Detroit.)19
b(Bulletin)i(no.)e(5000-20002-P)-9 b(.)37 1418 y([Bur90])123
b(Michael)15 b(Burro)n(ws,)g(Martin)g(Abadi,)h(and)f(Roger)g(Needham.)f
FI(A)h(Lo)o(gic)g(of)h(A)n(uthentication)d FM(February)-5
b(,)14 b(1990,)425 1567 y(Digital)20 b(Equipment)e(Corporation,)g
(Systems)j(Research)f(Center)-5 b(.)20 b(Research)g(Report)g(39.)37
1755 y([Bur94])123 b(Michael)23 b(Burro)n(ws,)g(Martin)f(Abadi,)h(and)g
(Roger)f(Needham.)g FI(The)h(Scope)f(of)h(A)h(Lo)o(gic)f(of)g(A)n
(uthentication)425 1905 y FM(May)-5 b(,)29 b(1994,)f(Digital)g
(Equipment)d(Corporation,)j(Systems)g(Research)f(Center)-5
b(.)28 b(Appendix)e(to)i(Research)425 2054 y(Report)20
b(39.)37 2242 y([Che93])114 b(J.)21 b(Bradle)o(y)e(Chen)h(and)g(Brian)g
(N.)h(Bershad.)f(\223The)f(Impact)h(of)g(Operating)f(System)h
(Structure)f(on)h(Memory)425 2391 y(System)g(Performance\224)e
FI(Pr)l(oc.)i(14th)f(SOSP)p FM(,)h(December)f(1993.)37
2579 y([Coh77])109 b(E.)31 b(Cohen.)f(\223Information)e(T)m
(ransmission)i(in)h(Sequential)f(Programs.)-6 b(\224)30
b FI(Pr)l(oceedings)f(of)j(the)f(6th)f(A)n(CM)425 2728
y(Symposium)c(on)h(Oper)o(ating)f(Systems)i(Principles)p
FM(,)g(published)e(as)i FI(Oper)o(ating)e(System)i(Re)o(vie)o(w)p
FM(,)g(V)-11 b(ol)28 b(11,)425 2878 y(No)20 b(5,)g(No)o(v)g(1977,)e
(pp.)i(133-140.)37 3066 y([Col88])128 b(Robert)21 b(P)-9
b(.)22 b(Col)o(well,)h(Edw)o(ard)e(F)-7 b(.)22 b(Gehringer)m(,)e(E.)i
(Douglas)f(Jensen,)h(\223Performance)e(Ef)n(fects)h(of)h(Architec-)425
3215 y(tural)c(Comple)o(xity)g(in)h(the)f(Intel)h(432.)-6
b(\224)18 b FI(A)n(CM)h(T)-5 b(r)o(ansactions)18 b(on)h(Computer)f
(Systems)p FM(,)h FJ(6)p FM(\(3\),)f(August)g(1988,)425
3364 y(pp.)h(296\226339.)37 3552 y([Coo78])109 b(D.)23
b(J.)h(Cook.)e(\223The)g(Cost)i(of)f(Using)f(the)h(CAP)h(Computer')-5
b(s)22 b(Protection)g(F)o(acilities.)-6 b(\224)24 b FI(Oper)o(ating)d
(Systems)425 3702 y(Re)o(vie)o(w)f FM(V)-11 b(ol.)20
b(12)g(P)o(art)g(2)h(Pg)f(26.)37 3889 y([Den66])109 b(J.)18
b(B.)h(Dennis)e(and)h(E.)g(C.)g(V)-9 b(an)18 b(Horn,)f(\223Programming)
e(Semantics)i(for)h(Multiprogrammed)c(Computation-)425
4039 y(s\224)21 b(in)f FI(Communications)f(of)h(the)g(A)n(CM)p
FM(,)g(v)n(ol.)g(9,)g(pp.)g(143\226154,)d(March)i(1966.)37
4226 y([Den76])109 b(Dorothy)22 b(E.)j(Denning.)d(\223)-7
b(A)26 b(Lattice)e(Model)g(of)g(Information)e(Flo)n(w\224)i(in)h
FI(Communications)d(of)j(the)f(A)n(CM)p FM(,)425 4376
y(v)n(ol.)c(19,)f(No.)h(5,)g(pp.)g(236\226243,)d(May)j(1976.)37
4564 y([DOD83])68 b(U.S.)119 b(Department)f(of)h(Defense.)g
FI(T)-5 b(rusted)120 b(Computer)f(System)g(Evaluation)f(Cri-)425
4713 y(teria)p FM(.)145 b(CSC-STD-00l-83.)f(Supersceded)f(in)j(1985)e
(by)h(DoD)g(5200.28-STD.)425 4862 y Fn
(http://www.radium.ncsc.mil/tpep/lib)o(rary/)o(rainb)o(ow/ind)o(ex.ht)o
(ml)p FM(])37 5050 y([F)o(or93])133 b(Bryan)20 b(F)o(ord)g(and)h(Jay)g
(Lepreau,)e(\223Ev)n(olving)h(Mach)g(3.0)g(to)i(a)f(Migrating)f
(Threads)f(Model,)-6 b(\224)21 b FI(Pr)l(oceedings)425
5200 y(of)f(the)g(W)-5 b(inter)22 b(USENIX)d(Confer)m(ence)p
FM(,)g(January)g(1994.)1756 5410 y(174)p eop
%%Page: 175 191
175 190 bop 337 108 a FM([F)o(or98a])96 b(Bryan)20 b(F)o(ord,)f(Mik)o
(e)i(Hibler)m(,)f(Jay)g(Lepreau,)f(P)o(atrick)h(T)l(ullman,)g(Godmar)f
(Beck,)i(Stephen)e(Cla)o(wson.)i(\223Mi-)725 257 y(crok)o(ernels)28
b(Meet)j(Recursi)n(v)o(e)e(V)-5 b(irtual)30 b(Machines.)-6
b(\224)29 b(in)h FI(Pr)l(oceedings)f(of)i(the)f(USENIX)f(Symposium)g
(on)725 407 y(Oper)o(ating)19 b(Systems)h(Design)g(and)g
(Implementation)p FM(,)d(Oct.)k(1996.)337 578 y([F)o(or98b])91
b(Bryan)20 b(F)o(ord,)f(Sai)i(Susarla.)f(\223CPU)h(Inheritance)d
(Scheduling.)-6 b(\224)19 b(in)h FI(Pr)l(oceedings)f(of)i(the)f(USENIX)
g(Sympo-)725 728 y(sium)g(on)g(Oper)o(ating)f(Systems)i(Design)f(and)f
(Implementation)p FM(,)f(Oct.)i(1996.)337 899 y([Fei77])142
b(R.)30 b(J.)f(Feiertag,)i(K.)e(N.)h(Le)n(vitt,)h(and)d(L.)h(Robinson,)
h(\223Pro)o(ving)d(Multile)n(v)o(el)i(Security)f(of)h(a)g(System)h(De-)
725 1049 y(sign.)-6 b(\224)25 b FI(Pr)l(oceedings)f(of)h(the)h(6th)e(A)
n(CM)i(Symposium)e(on)h(Oper)o(ating)e(Systems)j(Principles)p
FM(,)g(published)e(as)725 1198 y FI(Oper)o(ating)19 b(System)h(Re)o
(vie)o(w)p FM(,)g(V)-11 b(ol)20 b(11,)g(No)g(5,)g(No)o(v)g(1977,)e(pp.)
i(57-65.)337 1370 y([Gan94])109 b(Gre)o(gory)22 b(R.)k(Ganger)d(and)h
(Y)-8 b(ale)25 b(N.)f(P)o(att.)h(\223Metadata)f(Update)g(Performance)e
(in)j(File)g(Systems\224)g(in)g FI(Pr)l(o-)725 1519 y(ceedings)h(of)i
(the)f(USENIX)g(Symposium)g(on)g(Oper)o(ating)f(Systems)h(Design)h(and)
e(Implementation)p FM(,)h(No)o(v)-5 b(.)725 1668 y(1994,)18
b(pp.)i(49-60.)337 1840 y([Geh82])109 b(Edw)o(ard)17
b(F)-7 b(.)20 b(Gehringer)-5 b(.)17 b FI(Capability)h(Ar)m(c)o
(hitectur)m(es)g(and)f(Small)i(Objects.)f FM(UMI)h(Research)f(Press,)i
(Uni)n(v)o(er)n(-)725 1989 y(sity)h(Micro\002lms)e(International,)f
(Ann)i(Arbor)m(,)e(Michigan,)h(USA.)337 2161 y([Gra93])123
b(Jim)17 b(Gray)f(and)g(Andreas)f(Reuter)-5 b(.)17 b
FI(T)-5 b(r)o(ansaction)15 b(Pr)l(ocessing)o(,)i(Concepts)f(and)g(T)-8
b(ec)o(hnolo)o(gy)p FM(.)14 b(Mor)o(gan)g(Kauf-)725 2310
y(mann.)19 b(1993.)337 2482 y([Har85])123 b(Norman)19
b(Hardy)-5 b(.)18 b(\223The)i(K)n(e)o(yK)n(OS)f(Architecture\224)g
FI(Oper)o(ating)g(Systems)h(Re)o(vie)o(w)p FM(.)g(Oct.)g(1985,)f(pp)h
(8-25.)337 2654 y([Har76])123 b(Michael)18 b(A.)g(Harrison,)f(W)-7
b(alter)19 b(L.)f(Ruzzo,)g(and)g(Jef)n(fre)o(y)e(D.)j(Ullman.)e
(\223Protection)g(in)h(Operating)f(System-)725 2803 y(s.)-6
b(\224)21 b FI(Communications)d(of)j(the)f(A)n(CM)s FM(,)g(V)-11
b(ol)21 b(19)f(No)g(8,)g(pp.)f(461-471,)f(August)h(1976.)337
2975 y([H)5 b(\250)-33 b(ar97])123 b(Hermann)23 b(H)5
b(\250)-33 b(artig,)25 b(Michael)f(Hohmuth,)g(Jochen)g(Liedtk)o(e,)g
(Sebastian.)h(Sch)7 b(\250)-35 b(onber)o(g,)22 b(Jean)j(W)-7
b(olter)i(.)25 b(\223The)725 3124 y(Performance)19 b(of)h
Fy(\026)p FM(-K)n(ernel-based)f(Systems.)-6 b(\224)21
b FI(16th)f(A)n(CM)i(Symposium)d(on)i(Oper)o(ating)e(Systems)j(Princi-)
725 3274 y(ples)e(\(SOSP)f('97\))p FM(,)g(October)g(5-8,)h(1997,)e
(Saint-Malo,)h(France.)337 3445 y([Hei94])128 b(Gernot)17
b(Heiser)m(,)h(K)n(e)n(vin)f(Elphinstone,)g(Stephen)g(Russel,)i(Jerry)e
(V)-11 b(ochteloo.)17 b(\223Mungi:)23 b(A)18 b(Distrib)n(uted)g(Sin-)
725 3595 y(gle)h(Address-Space)e(Operating)g(System.)-6
b(\224)18 b FI(Pr)l(oceedings)g(of)h(the)g(17th)e(A)n(ustr)o(aliasion)h
(Computer)g(Science)725 3744 y(Confer)m(ence)p FM(,)h(A)m(CM,)h(pp)g
(271-280,)d(Christchurch,)i(Ne)n(w)h(Zealand,)f(Jan.)h(1994.)337
3916 y([Her78])123 b(A.)23 b(J.)g(Herbert.)e(\223)-7
b(A)23 b(Ne)n(w)g(Protection)f(Architecture)f(for)g(the)i(Cambridge)e
(Capability)h(Computer)-5 b(.)f(\224)21 b FI(Oper)n(-)725
4065 y(ating)e(Systems)i(Re)o(vie)o(w)f FM(V)-11 b(ol.)20
b(12)g(P)o(art)g(1)h(Pg)f(24.)337 4237 y([He)n(w73])93
b(C.)28 b(He)n(witt,)h(P)-9 b(.)27 b(Bishop,)i(R.)e(Steiger)g(\223)-7
b(A)28 b(Uni)n(v)o(ersal)e(Modular)g(Actor)h(F)o(ormalism)f(for)h
(Arti\002cial)g(Intelli-)725 4386 y(gence,)-6 b(\224)30
b FI(Pr)l(oceedings)e(of)i(the)f(1973)f(International)e(J)n(oint)j
(Confer)m(ence)f(on)h(Arti\002cial)g(Intellig)o(ence)p
FM(,)h(pp)725 4535 y(235-246)337 4707 y([He)n(w77])93
b(C.)28 b(He)n(witt.)f(\223V)-5 b(ie)n(wing)26 b(Control)h(Structure)e
(as)j(P)o(atterns)f(of)g(P)o(assing)g(Messages,)-6 b(\224)29
b FI(J)n(ournal)d(of)h(Arti\002cial)725 4856 y(Intellig)o(ence)p
FM(,)19 b(V)-11 b(ol)20 b(8)g(No)h(3,)f(pp)f(323-364)337
5028 y([Hil92])142 b(Dan)20 b(Hildebrand,)e FI(An)i(Ar)m(c)o(hitectur)o
(al)f(Overvie)o(w)i(of)f(QNX)p FM(,)g(QNX)h(Softw)o(are)f(Systems)g
(Ltd.,)g(1992.)337 5200 y([IEEE])151 b FI(P)-7 b(ortable)20
b(Oper)o(ating)e(System)j(Interface)e(\(POSIX\))g(Standar)m(d)p
FM(.)f(IEEE)h(Standard)g(1003.1)2056 5410 y(175)p eop
%%Page: 176 192
176 191 bop 37 108 a FM([Isl97])165 b(Nayeem)20 b(Islam,)h(Rangachari)f
(Anand,)g(T)m(rent)h(Jae)o(ger)m(,)f(and)g(Josyula)h(R.)h(Rao,)f(\223)
-7 b(A)22 b(Fle)o(xible)f(Security)f(Sys-)425 257 y(tem)g(for)g(Using)g
(Internet)f(Content.)-6 b(\224)19 b FI(IEEE)h(Softwar)m(e)p
FM(,)f(Sept)i(1997,)d(pp.)i(52-59)37 417 y([Jon76])132
b(A)18 b(K.)f(Jones,)h(R.)g(J.)g(Lipton,)f(and)g(L.)g(Sn)o(yder)-5
b(.)16 b(\223)-7 b(A)19 b(Linear)d(T)m(ime)i(Algorithm)d(for)i
(Deciding)g(Security)-5 b(.)f(\224)16 b FI(Pr)l(oc.)425
567 y(17th)j(Symposium)g(on)h(F)-9 b(oundations)18 b(of)i(Computer)g
(Science)p FM(,)f(Houston,)g(T)-6 b(e)o(xas,)20 b(1976)e(pp.)i(33-41)37
727 y([Kar88])123 b(P)o(aul)19 b(Kar)o(ger)-5 b(.)18
b FI(Impr)l(o)o(ving)g(Security)h(and)f(P)-7 b(erformance)19
b(for)h(Capability)e(Systems)p FM(,)i(T)-6 b(echnical)18
b(Report)h(No.)425 876 y(149,)g(Uni)n(v)o(ersity)g(of)h(Cambridge)e
(Computer)h(Laboratory)-5 b(,)17 b(October)i(1988)g(\(Ph.)h(D.)h
(thesis\).)37 1036 y([K)n(es85])121 b(K)n(estrel)20 b(Institute.)g
FI(The)g(REFINE)1429 1006 y Fa(TM)1534 1036 y FI(User')m(s)h(Guide)p
FM(,)e(1985)37 1197 y([K)n(e)o(y86])112 b(K)n(e)o(y)20
b(Logic,)f(Inc.)g FI(U)n(.S.)h(P)-7 b(atent)20 b(4,584,639:)h(Computer)
f(Security)g(System)p FM(.)37 1357 y([Lam71])95 b(Butler)22
b(W)-8 b(.)23 b(Lampson.)d(\223Protection.)-6 b(\224)21
b FI(Pr)l(oceedings)f(of)j(the)f(5th)f(Princeton)g(Symposium)g(on)g
(Information)425 1506 y(Sciences)i(and)h(Systems)g FM(March)g(1971,)f
(pp.)h(437-443;)f(reprinted)g(in)h FI(Oper)o(ating)f(System)h(Re)o(vie)
o(w)p FM(,)h(V)-11 b(ol)25 b(8,)425 1656 y(No)20 b(1,)g(Jan)h(1974,)d
(pp.)i(18-24.)37 1816 y([Lam73])95 b(Butler)25 b(W)-8
b(.)26 b(Lampson.)d(\223)-7 b(A)26 b(Note)f(on)g(the)g(Con\002nement)e
(Problem.)-6 b(\224)24 b FI(Communications)g(of)h(the)g(A)n(CM)g
FM(V)-11 b(ol)425 1965 y(16,)19 b(No)i(10,)e(1973)37
2125 y([Lam76])95 b(Butler)18 b(W)-8 b(.)18 b(Lampson)f(and)g(Ho)n(w)o
(ard)f(E.)i(Stur)o(gis.)f(\223Re\003ections)h(on)f(an)g(Operating)g
(System)g(Design.)-6 b(\224)18 b FI(Com-)425 2275 y(munications)h(of)h
(the)g(A)n(CM)h FM(V)-11 b(ol)20 b(19,)g(No)g(5,)g(May)g(1976.)37
2435 y([Lan92])118 b(Charles)25 b(R.)h(Landau.)e(\223The)h(Checkpoint)f
(Mechanism)g(in)h(K)n(e)o(yK)n(OS,)-6 b(\224)25 b FI(Pr)l(oceedings)f
(of)h(the)h(Second)d(In-)425 2584 y(ternational)g(W)-8
b(orkshop)23 b(on)h(Object)g(Orientation)f(in)h(Oper)o(ating)f(Systems)
p FM(.)h(IEEE.)g(September)e(1992.)h(pp)425 2734 y(86-91.)37
2894 y([Lan93])118 b(W)m(illiam)36 b(S.)h(Frantz)f(and)f(Charles)i(R.)g
(Landau,)h(\223Object)e(Oriented)f(T)m(ransaction)g(Processing)g(in)i
(the)425 3043 y(K)n(e)o(yK)n(OS)31 b(Microk)o(ernel\224,)j
FI(Pr)l(oceedings)d(of)i(the)f(USENIX)g(W)-8 b(orkshop)32
b(on)g(Micr)l(o-K)m(ernels)i(and)d(Other)425 3193 y(K)m(ernel)21
b(Ar)m(c)o(hitectur)m(es)p FM(,)e(USENIX)h(Association,)g(September)f
(1993.)37 3353 y([Le)n(v84])120 b(Henry)19 b(M.)h(Le)n(vy)-5
b(.)19 b FI(Capability-Based)f(Computer)i(Systems)p FM(.)g(Digital)h
(Press.)f(1984.)37 3513 y([Lie93])137 b(Jochen)22 b(Liedtk)o(e.)h
(\223Impro)o(ving)d(IPC)k(by)e(K)n(ernel)h(Design.)-6
b(\224)23 b FI(Pr)l(oceedings)f(of)i(the)f(14th)f(A)n(CM)i(Symposium)
425 3662 y(on)c(Oper)o(ating)e(System)j(Principles)p
FM(,)f(A)m(CM)g(1993.)37 3823 y([Lie95])137 b(Jochen)30
b(Liedtk)o(e.)g FI(Impr)l(o)o(ved)g(Addr)m(ess-Space)f(Switc)o(hing)h
(on)g(P)-7 b(entium)31 b(Pr)l(ocessor)o(s)h(by)e(T)-5
b(r)o(anspar)m(ently)425 3972 y(Multiple)n(xing)19 b(User)i(Addr)m(ess)
g(Spaces)p FM(,)e(GMD)h(TR)h(933,)e(No)o(v)o(ember)f(1995.)37
4132 y([Lie97])137 b(Jochen)17 b(Liedtk)o(e,)h(K)n(e)n(vin)f
(Elphinstone,)g(Sebastian)h(Sch)7 b(\250)-35 b(onber)o(g,)16
b(Hermann)g(H)5 b(\250)-33 b(artig,)18 b(Gernot)g(Heiser)m(,)g(Nay-)425
4282 y(eem)j(Islam,)h(and)f(T)m(rent)g(Jae)o(ger)-5 b(.)21
b(\223)-7 b(Achie)n(v)o(ed)21 b(IPC)h(Performance)d(\(Still)k(the)e(F)o
(oundation)e(F)o(or)j(Ef)n(\002cienc)o(y)-5 b(.)f(\224)425
4431 y(in)20 b FI(Pr)l(oc.)g(HotOS-VI)p FM(,)f(Cape)h(Cod,)g(MA,)g
(USA,)h(May)f(1997.)37 4591 y([McV93])77 b(Larry)20 b(McV)-11
b(o)o(y)-5 b(,)20 b(and)h(C.)h(Staelin.)f(\223lmbench:)26
b(Portable)20 b(T)-7 b(ools)21 b(for)g(Performance)e(Analysis\224)i(in)
g FI(Pr)l(oceed-)425 4741 y(ings)f(of)g(the)h(1996)d(USENIX)i(T)-8
b(ec)o(hnical)19 b(Confer)m(ence)p FM(.)h(San)g(Die)o(go,)f(CA,)i
(January)e(1996,)f(pp.)i(279-295.)37 4901 y([Mer93])109
b(C.)31 b(W)-8 b(.)31 b(Mercer)m(,)g(S.)g(Sa)n(v)n(age)f(and)f(H.)i(T)
-7 b(okuda.)28 b(\223Processor)i(Capacity)g(Reserv)o(es:)45
b(An)30 b(Abstraction)f(for)425 5050 y(Managing)16 b(Processor)i
(Usage.)-6 b(\224)18 b(in)g FI(Pr)l(oc.)g(4th)g(W)-8
b(orkshop)18 b(on)f(W)-8 b(orkstation)18 b(Oper)o(ating)f(Systems)p
FM(,)i(October)425 5200 y(1993.)1756 5410 y(176)p eop
%%Page: 177 193
177 192 bop 337 108 a FM([Mil97])128 b(Mark)19 b(Miller)-5
b(.)21 b FI(Computer)f(Security:)k(F)-6 b(act)20 b(F)-9
b(orum)20 b(F)-5 b(r)o(ame)o(work)725 257 y Fn
(http://www.caplet.com/security/taxo)o(nomy/)337 430
y FM([Mot86])109 b(Motorola,)18 b(Inc.)i FI(MC68851)f(P)-7
b(a)o(g)o(ed)19 b(Memory)i(Mana)o(g)o(ement)d(Unit)j(User')m(s)f
(Manual)p FM(,)f(Motorola,)g(Inc.)337 604 y([Neu80])109
b(P)-9 b(.)24 b(G.)h(Neumann,)e(R.)i(S.)g(Bo)o(yer)m(,)f(R.)h(J.)g
(Feiertag,)g(K.)g(N.)f(Le)n(vitt,)h(and)f(L.)g(Robinson.)f
FI(A)i(Pr)l(o)o(vably)e(Secur)m(e)725 753 y(Oper)o(ating)31
b(System:)50 b(The)33 b(System,)i(Its)e(Applications,)h(and)e(Pr)l
(oofs)p FM(.)h(Computer)e(Science)h(Laboratory)725 903
y(Report)20 b(CSL-116,)f(Second)g(Edition,)g(May)h(7,)g(1980,)e(SRI)j
(International.)337 1076 y([Or)o(g83])119 b(Elliott)20
b(I.)f(Or)o(ganick,)e FI(A)j(Pr)l(o)o(gr)o(ammer')m(s)f(V)-6
b(ie)o(w)19 b(of)h(the)g(Intel)f(432)g(System)g FM(McGra)o(w-Hill)g
(Book)g(Compan)o(y)-5 b(,)725 1225 y(1983.)337 1399 y([Roz91])114
b(M.)16 b(Rozier)m(,)h(V)-11 b(.)17 b(Abrossimo)o(v)-5
b(,)15 b(F)-7 b(.)17 b(Armand,)f(I.)g(Boule,)h(M.)g(Gien,)g(M.)f
(Guillemont,)g(F)-7 b(.)17 b(Hermann,)f(C.)h(Kaiser)m(,)725
1548 y(S.)j(Langlois,)f(P)-9 b(.)19 b(Leonard,)f(and)h(W)-8
b(.)21 b(Neuhauser)m(,)d FI(Overvie)o(w)i(of)f(the)h(Chorus)g(Distrib)n
(uted)g(System)p FM(,)f(Chorus)725 1697 y(Systemes,)h(1991.)337
1871 y([Sal75])142 b(Jerome)20 b(H.)i(Saltzer)f(and)f(Michael)h(D.)g
(Schroeder)-5 b(.)20 b(\223The)g(Protection)g(of)h(Information)d(in)k
(Computer)d(Sys-)725 2020 y(tems.)-6 b(\224)20 b FI(Pr)l(oceedings)f
(of)i(the)f(IEEE)p FM(,)f(63\(9\):1278-1308,)14 b(September)19
b(1975.)337 2193 y([Sel95])142 b(M.)21 b(Seltzer)m(,)g(K.)h(Smith,)f
(H.)h(Balakrishnan,)e(J.)i(Chang,)f(S.)g(McManis,)g(and)g(V)-11
b(.)22 b(P)o(admanabhan,)c(\223File)k(Sys-)725 2343 y(tem)c(Logging)e
(v)o(ersus)i(Clustering:)24 b(A)18 b(Performance)e(Comparison\224,)h
FI(Pr)l(oceedings)g(of)h(the)g(1995)f(USENIX)725 2492
y(T)-8 b(ec)o(hnical)19 b(Confer)m(ence)p FM(,)g(January)g(1995,)g(Ne)n
(w)h(Orleans,)g(LA,)g(pp.)g(249\226264.)337 2666 y([Sha96a])86
b(Jonathan)24 b(S.)i(Shapiro.)d FI(The)j(ER)m(OS)e(Object)h(Refer)m
(ence)g(Manual)p FM(.)f(In)h(progress.)f(Draft)h(a)n(v)n(ailable)f(via)
i(the)725 2815 y(ER)m(OS)21 b(home)e(page)g(at)i Fn
(http://www.eros-os.org)337 2988 y FM([Sha96b])81 b(Jonathan)14
b(S.)i(Shapiro,)f(Da)n(vid)g(J.)h(F)o(arber)m(,)e(and)h(Jonathan)f(M.)h
(Smith.)g(\223State)h(Caching)f(in)g(the)g(ER)m(OS)h(K)n(ernel)725
3138 y(\226)22 b(Implementing)e(Ef)n(\002cient)i(Orthogonal)f
(Persistence)h(in)h(a)g(Pure)f(Capability)g(System\224,)h
FI(Pr)l(oceedings)e(of)725 3287 y(the)f(7th)g(International)e(W)-8
b(orkshop)20 b(on)f(P)-7 b(er)o(sistent)22 b(Object)e(Systems)p
FM(,)g(Cape)h(May)-5 b(,)19 b(N.J.)h(1996)337 3460 y([Sha96c])86
b(Jonathan)18 b(S.)i(Shapiro,)e(Da)n(vid)h(J.)g(F)o(arber)m(,)f
(Jonathan)g(M.)h(Smith.)g(\223The)g(Measured)f(Performance)f(of)i(a)h
(F)o(ast)725 3610 y(Local)g(IPC\224.)h FI(Pr)l(oceedings)e(of)i(the)f
(5th)g(International)e(W)-8 b(orkshop)20 b(on)h(Object)f(Orientation)f
(in)i(Oper)o(ating)725 3759 y(Systems)p FM(,)f(Seattle,)h(W)-7
b(ashington,)19 b(No)o(v)o(ember)f(1996,)g(IEEE)337 3933
y([Sha97a])86 b(Jonathan)29 b(S.)j(Shapiro.)d FI(ER)m(OS:)g(A)j
(Capability)d(System)p FM(.)i(Department)e(of)i(Computer)e(and)h
(Information)725 4082 y(Science)20 b(T)-6 b(echnical)19
b(Report)h(MS-CIS-97-04,)e(Uni)n(v)o(ersity)g(of)i(Pennsylv)n(ania,)f
(1997.)337 4255 y([Sha98a])86 b(Jonathan)34 b(S.)i(Shapiro)f(and)g
(Chris)h(Peterson.)f FI(F)-9 b(or)m(esight)35 b(Institute)g(Computer)g
(Security)h(F)-6 b(act)35 b(F)-9 b(orum)725 4405 y Fn
(http://crit.org/\230foresight/CSFactFo)o(rum.h)o(tml)337
4578 y FM([Sha98b])81 b(Jonathan)179 b(S.)i(Shapiro.)e
FI(The)h(ER)m(OS)g(Sour)m(ce)f(W)-8 b(eb)p FM(.)181 b(A)-6
b(v)n(ailable)179 b(at)725 4727 y Fn
(http://eros.cis.upenn.edu/\230eros)337 4901 y FM([Sn)o(y77])119
b(La)o(wrence)24 b(Sn)o(yder)-5 b(.)24 b(\223On)i(the)f(Synthesis)h
(and)f(Analysis)h(of)f(Protection)g(Systems.)-6 b(\224)25
b FI(Pr)l(oceedings)g(of)h(the)725 5050 y(6th)c(A)n(CM)g(Symposium)f
(on)g(Oper)o(ating)g(Systems)i(Principles)p FM(,)f(published)e(as)j
FI(Oper)o(ating)e(System)h(Re)o(vie)o(w)p FM(,)725 5200
y(V)-11 b(ol)20 b(11,)g(No)g(5,)g(No)o(v)g(1977,)e(pp.)i(141-150.)2056
5410 y(177)p eop
%%Page: 178 194
178 193 bop 37 108 a FM([T)-7 b(an86])125 b(A.)26 b(S.)f(T)-7
b(annenbaum,)24 b(S.)i(J.)g(Mullender)m(,)f(and)g(R.)h(v)n(an)f
(Renesse.)g(\223Using)h(Sparse)f(Capabilities)h(in)f(a)h(Dis-)425
257 y(trib)n(uted)32 b(Operating)f(System.)-6 b(\224)32
b FI(Pr)l(oceedings)f(of)i(the)g(9th)f(International)e(Symposium)h(on)h
(Distrib)n(uted)425 407 y(Computing)19 b(Systems)p FM(.)h(IEEE.)f(pp.)h
(558-563.)d(1986.)37 573 y([W)-7 b(al97])117 b(D.)29
b(S.)g(W)-7 b(allach,)32 b(D.)d(Balf)o(anz,)i(D.)e(Dean,)h(and)f(E.)g
(W)-8 b(.)30 b(Felten.)e(\223Extensible)g(security)h(architectures)e
(for)425 722 y(Ja)n(v)n(a.)-6 b(\224)23 b FI(Pr)l(oceedings)f(of)h(the)
h(16th)e(A)n(CM)h(Symposium)f(on)h(Oper)o(ating)f(Systems)h(Principles)
p FM(,)h(Saint-Malo,)425 871 y(France,)19 b(October)g(1997.)37
1037 y([W)m(il79])127 b(M.)29 b(V)-11 b(.)29 b(W)m(ilk)o(es)h(and)e(R.)
h(M.)g(Needham)f FI(The)h(Cambridg)o(e)f(CAP)h(Computer)f(and)g(its)i
(Oper)o(ating)d(System)425 1187 y FM(Else)n(vier)20 b(North)f(Holland,)
g(1979.)37 1353 y([W)l(ul81])109 b(W)m(illiam)21 b(A.)f(W)l(ulf,)h(Ro)o
(y)f(Le)n(vin,)f(and)h(Samuel)g(P)-9 b(.)21 b(Harbison.)e
FI(HYDRA/C.mmp:)25 b(An)20 b(Experimental)g(Com-)425
1502 y(puter)g(System)g FM(McGra)o(w)g(Hill,)g(1981.)1756
5410 y(178)p eop
%%Page: 179 195
179 194 bop 337 989 a FK(Glossary)358 1513 y FJ(access)21
b(contr)o(ol)e(list)150 b FM(An)25 b(access)h(control)d(mechanism)h(in)
i(which)e(e)n(v)o(ery)g(object)h(has)g(a)g(list)i(of)e(pairs)g(of)f
(the)i(form)637 1613 y(\(user)m(,)17 b(access)g(rights\))f(attached)g
(to)h(it)h(.)24 b(Access)17 b(to)g(an)g(object)f(is)i(granted)d(or)h
(denied)g(according)f(to)i(the)f(identity)637 1713 y(of)k(the)h(user)f
(who)f(is)j(running)c(the)i(program.)358 1912 y FJ(A)-5
b(CL)151 b FI(see)21 b FJ(access)f(contr)o(ol)f(list)358
2111 y(addr)o(ess)i(space)149 b FM(In)24 b(ER)m(OS,)f(the)h(address)f
(space)h(of)f(a)h(process)f(is)i(the)e(memory)f(object)h(designated)f
(by)i(the)f(capa-)637 2211 y(bility)e(in)f(the)g(address)g(space)g
(slot)h(of)f(the)g(process')-5 b(s)20 b(process)g(root)f(node.)358
2410 y FJ(allocation)g(cache)149 b FM(A)21 b(locality)f(mechanism)f
(used)h(by)f(the)i(space)f(bank.)358 2609 y FJ(allocation)f(count)149
b FM(The)26 b(mechanism)f(by)h(which)f(ER)m(OS)i(objects)e(are)h
(rescinded.)42 b(The)26 b(allocation)f(count)g(tracks)637
2709 y(the)h(number)e(of)i(times)g(that)g(a)g(gi)n(v)o(en)f(object)g
(has)h(been)f(allocated.)41 b(This)26 b(number)e(is)j(recorded)d(in)i
(both)f(the)637 2809 y(object)g(and)f(its)h(capabilities.)38
b(If)25 b(the)f(tw)o(o)h(counts)f(do)g(not)h(match,)g(the)f(capability)
g(has)h(been)f(rescinded)f(and)637 2908 y(con)m(v)o(e)o(ys)c(no)g
(authority)-5 b(.)358 3107 y FJ(a)n(v)o(ailable)149 b
FM(A)18 b(process)f(state.)25 b(In)18 b(order)f(to)h(be)f(in)m(v)n(ok)o
(ed)g(by)g(a)h(start)h(capability)-5 b(,)17 b(a)h(process)f(must)h(be)g
(in)g(the)g FI(available)637 3207 y FM(state.)41 b(If)25
b(the)g(process)f(is)i(not)f(in)g(the)h(a)n(v)n(ailable)e(state)i(when)
e(the)i(start)f(capability)f(is)i(in)m(v)n(ok)o(ed,)f(the)g(caller)g
(is)637 3307 y(block)o(ed)19 b(until)h(the)g(recipient)g(becomes)f(a)n
(v)n(ailable.)358 3506 y FJ(biased)i(log)f(segment)g(size)150
b FM(The)21 b(mechanism)f(used)h(to)g(encode)f(the)h(span)g(of)f(a)i
(memory)d(tree)i(within)g(a)h(capability)637 3606 y(to)j(that)f(tree.)
36 b(The)23 b(biased)h(log)f(se)o(gment)g(size)i(is)f(de\002ned)f(as)i
Fy(l)r(og)2581 3618 y Fs(16)2650 3606 y Fx(\()p Fy(nP)12
b(ag)s(es)p Fx(\))21 b(+)g(2)p FM(,)j(where)g Fy(nP)12
b(ag)s(es)23 b FM(is)i(the)637 3705 y(maximum)19 b(number)f(of)i(pages)
g(that)g(\002t)h(in)g(a)f(memory)f(object)g(of)h(this)h(size.)358
3904 y FJ(blss)151 b FI(see)21 b FJ(biased)g(log)f(segment)g(size)358
4104 y(brand)150 b FM(In)24 b(ER)m(OS,)g(the)g(means)g(for)f(process)g
(identity)h(v)o(eri\002cation.)34 b(The)24 b(brand)e(is)j(a)g
(capability)e(installed)g(in)i(the)637 4203 y(process)i(root)f(at)i
(the)e(time)h(it)h(is)g(created,)f(and)g(is)h(inaccessible)e(to)h
(either)g(the)g(process)f(or)h(its)h(clients.)45 b(The)637
4303 y(brand)19 b(can)h(therefore)f(be)h(used)g(to)g(con\002rm)f(that)h
(the)h(process)e(runs)h(a)h(speci\002c)f(program.)358
4502 y FJ(call)154 b FM(A)20 b(call)f(in)m(v)n(ocation)d(in)m(v)n(ok)o
(es)i(a)h(capability)-5 b(,)18 b(passing)g(a)h(resume)f(capability)g
(to)g(the)h(in)m(v)n(ok)o(er)e(as)i(its)h(last)g(capabil-)637
4602 y(ity)h(ar)o(gument.)h(The)e(caller)g(remains)f(block)o(ed)g(in)h
(the)g FI(waiting)g FM(state)h(until)f(this)g(resume)f(k)o(e)o(y)h(is)h
(in)m(v)n(ok)o(ed.)i(The)637 4701 y(normal)c(usage)h(of)g(this)h(in)m
(v)n(ocation)d(is)j(in)g(the)f(style)g(of)g(a)h(synchronous)c(remote)j
(procedure)d(call.)358 4901 y FJ(call)k(count)149 b FM(All)29
b(processes)g(\(actually)f(their)g(process)h(root)f(node\))f(nodes)h
(ha)n(v)o(e)g(a)h(call)h(count)e(that)g(records)g(ho)n(w)637
5000 y(man)o(y)23 b(times)i(the)f(process)f(has)i(been)e(the)h(tar)o
(get)f(of)h(a)g(call)h(in)m(v)n(ocation.)34 b(The)24
b(resume)f(capability)g(generated)637 5100 y(by)29 b(the)f
FJ(call)h FM(also)g(contains)e(a)i(call)g(count.)49 b(If)29
b(the)f(tw)o(o)h(counts)f(do)g(not)g(match,)i(the)e(resume)g
(capability)g(is)637 5200 y(in)m(v)n(alid.)2056 5410
y(179)p eop
%%Page: 180 196
180 195 bop 58 108 a FJ(capabilities)20 b(annex)150 b
FM(A)20 b(node)f(named)g(by)h(the)g(process)g(root)g(that)g(holds)g
(the)g(per)n(-process)f(capability)g(re)o(gisters.)58
307 y FJ(capability)149 b FM(A)28 b(capability)f(designates)h(an)g
(object)f(and)h(a)g(set)h(of)f(authorized)e(operations)g(\(an)i(interf)
o(ace\))e(to)i(that)337 407 y(object.)52 b(Possession)29
b(of)g(a)h(capability)e(is)i(a)g(necessary)e(and)h(suf)n(\002cient)f
(proof)g(of)h(authority)e(to)j(in)m(v)n(ok)o(e)e(the)337
506 y(authorized)19 b(operations)f(on)i(the)g(designated)f(object.)58
705 y FJ(capability)h(page)149 b FM(A)20 b(page-sized)f(unit)h(of)g
(storage)f(that)i(contains)e(capabilities.)58 905 y FJ(capability)h
(partitioning)148 b FM(A)27 b(mechanism)f(for)g(pre)n(v)o(enting)f(for)
o(gery)f(of)i(capabilities.)45 b(In)27 b(a)g(system)g(that)g(imple-)337
1004 y(ments)19 b(capability)f(partitioning,)e(no)j(data)f(operation)f
(can)i(directly)e(alter)i(the)g(representation)d(of)j(an)o(y)f
(capabil-)337 1104 y(ity)-5 b(.)58 1303 y FJ(capability)20
b(r)o(egister)148 b FM(A)24 b(re)o(gister)e(that)i(holds)f(a)g
(capability)-5 b(.)33 b(In)23 b(the)g(current)f(ER)m(OS)i
(implementation,)e(capability)337 1403 y(re)o(gisters)e(are)g
(implemented)f(by)g(pri)n(vile)o(ged)g(softw)o(are.)58
1602 y FJ(checkpoint)150 b FM(A)20 b(mechanism)f(by)h(which)g
(transparent)e(persistence)i(is)h(achie)n(v)o(ed.)58
1801 y FJ(con\002nement)g(pr)o(operty)148 b FM(A)21 b(property)d
(describing)h(the)i(communications)d(that)j(are)g(possible)f(to)h(a)g
(running)e(a)i(pro-)337 1901 y(gram.)k(A)20 b(program)e(is)j(said)g(to)
f(be)g FI(con\002ned)h FM(if)f(it)h(can)f(transmit)g(information)e
(only)h(on)h(authorized)e(channels.)58 2100 y FJ(constructor)149
b FM(The)21 b(mechanism)g(by)h(which)f(ne)n(w)h(processes)g(are)g(most)
g(commonly)e(instantiated.)30 b(Such)22 b(a)h(ne)n(wly-)337
2200 y(created)18 b(process)g(is)h(called)f(the)g FI(yield)j
FM(of)d(the)g(constructor)-5 b(.)23 b(Constructors)17
b(can)h(also)h(determine)e(whether)g(their)337 2299 y(yield)j(is)h
(con\002ned.)58 2499 y FJ(context)e(cache)149 b FM(A)31
b(cache)e(of)g(the)h(re)o(gister)f(state)h(of)f(acti)n(v)o(e)h
(processes.)53 b(The)29 b(conte)o(xt)f(cache)h(is)i(optimized)d(for)337
2598 y(sa)n(ving)20 b(and)g(restoring)f(process)h(re)o(gisters)f(when)h
(processes)g(enter)g(and)f(lea)n(v)o(e)h(the)g(k)o(ernel.)58
2798 y FJ(data)g(page)149 b FM(A)21 b(page-size)e(unit)h(of)g(storage)f
(that)h(contains)g(data.)58 2997 y FJ(de)h(facto)e(access)150
b FM(The)20 b(access)h(rights)g(that)f(are)h(a)n(v)n(ailable)f(to)h(a)g
(process)f(when)g(collusion)g(with)g(other)g(processes)h(is)337
3096 y(tak)o(en)f(into)g(account.)58 3296 y FJ(de)h(jur)o(e)f(access)
150 b FM(The)19 b(access)i(rights)f(that)g(a)h(process)f(holds)f(by)h
(virtue)g(of)f(the)i(capabilities)f(that)g(it)h(possesses.)58
3495 y FJ(dek)o(er)o(nelized)150 b FM(An)25 b(operating)e(system)j(in)f
(which)f(polic)o(y)g(is)i(implemented)d(outside)i(of)g(the)g(k)o(ernel)
f(is)i(said)f(to)h(be)337 3595 y(dek)o(ernelized.)d(In)18
b(particular)m(,)f(dek)o(ernelized)f(systems)j(implement)e(page)h(f)o
(ault)g(handling,)e(\002le)j(handling,)e(and)337 3694
y(sometimes)j(storage)g(allocation,)f(outside)g(of)h(the)h(k)o(ernel.)
58 3893 y FJ(depend)g(table)150 b FM(The)18 b(mechanism)g(by)h(which)g
(a)g(mapping)f(from)g(capability)g(slots)i(to)f(page)g(table)g(entries)
g(is)h(record-)337 3993 y(ed.)25 b(If)18 b(a)g(generated)f(page)g
(table)h(entry)g(depends)e(on)i(the)g(capability)g(stored)f(in)i(some)f
(particular)e(slot,)j(an)f(entry)337 4093 y(recording)g(this)j
(dependenc)o(y)c(is)k(added)e(to)i(the)f(depend)e(table.)58
4292 y FJ(designate)149 b FM(T)-7 b(o)28 b(name.)45 b(A)27
b(capability)g(designates)f(an)h(object.)46 b(I)27 b(ha)n(v)o(e)g(a)n
(v)n(oided)f(the)h(term)g(\223name\224)f(because)h(the)337
4392 y(term)20 b(\223name\224)g(means)g(too)f(man)o(y)g(things)h(to)h
(too)e(man)o(y)g(readers.)58 4591 y FJ(dir)o(ect)h(access)150
b FM(The)19 b(direct)g(access)h(rights)f(of)g(a)h(process)f(in)h(the)f
FI(SW)26 b FM(model)18 b(are)i(the)f FI(de)h(jur)m(e)f
FM(access)h(rights)f(associ-)337 4690 y(ated)i(with)f(that)g(process.)
58 4890 y FJ(discr)o(ete)149 b FM(A)28 b(capability)f(is)h(discrete)g
(if)g(it)g(cannot)e(be)i(used)f(to)h(mutate)f(an)g(object)g(either)g
(directly)g(or)g(indirectly)-5 b(.)337 4989 y(Capabilities)21
b(to)f(frozen)f(constructors)g(whose)h(yield)f(is)i(discrete)f(are)h
(considered)d(discrete.)58 5189 y FJ(discrim)151 b FM(A)22
b(k)o(ernel-implemented)c(service)k(that)g(answers)g(whether)f(a)h
(capability)f(is)i(discrete.)29 b(Discrim)22 b(also)g(that)1756
5410 y(180)p eop
%%Page: 181 197
181 196 bop 637 108 a FM(allo)n(ws)21 b(tw)o(o)f(capabilities)g(to)h
(be)f(compared)e(for)h(identity)-5 b(.)358 307 y FJ(endogenous)149
b FM(In)20 b(economic)f(models,)g(a)i(v)n(ariable)e(or)h(f)o(actor)f
(is)j(one)d(that)h(is)i(within)e(the)g(model)f(at)i(hand.)358
506 y FJ(endogenous)f(v)o(eri\002cation)149 b FM(The)19
b(ability)h(to)h(v)o(erify)e(a)h(property)e(from)h(inside)h(the)h
(system.)358 705 y FJ(ER)n(OS)g(virtual)e(machine)150
b FM(The)23 b(portion)e(of)h(the)h(ER)m(OS)h(architecture)d(that)i(is)h
(\223primiti)n(v)o(e,)-6 b(\224)21 b(in)i(the)g(sense)h(that)f(the)637
805 y(operating)28 b(system)h(is)i(b)n(uilt)e(on)g(top)g(of)g(it.)52
b(The)29 b(ER)m(OS)h(virtual)f(machine)f(is)i(generally)e(implemented)f
(by)637 905 y(supervisor)19 b(code.)358 1104 y FJ(exception)h(handler)
149 b FM(In)24 b(ER)m(OS,)g(either)f(a)i(memory)d(k)o(eeper)h(or)g(a)h
(process)g(k)o(eeper)-5 b(.)35 b(Process)24 b(e)o(xceptions)e(are)i
(en-)637 1204 y(capsulated)c(by)f(the)i(k)o(ernel)e(and)h(redirected)e
(to)j(the)f(appropriate)e(k)o(eeper)-5 b(.)358 1403 y
FJ(exclusi)o(v)o(ely)20 b(held)150 b FM(An)16 b(object)f(is)i(e)o
(xclusi)n(v)o(ely)d(held)h(by)h(a)g(process)f(if)h(no)f(other)g
(process)h(has)g(access)g(to)g(it.)24 b(This)16 b(term)637
1502 y(is)23 b(commonly)c(broadened)g(to)j(allo)n(w)g(the)f(object)g
(to)h(be)g(held)f(by)g(subprocesses)g(that)g(are)h(in)f(turn)g(e)o
(xclusi)n(v)o(ely)637 1602 y(held.)k(That)20 b(is,)h(\223e)o(xclusi)n
(v)o(ely)d(held\224)i(really)f(means)h(controlled)f(e)o(xclusi)n(v)o
(ely)f(by)i(the)g(initial)g(holder)-5 b(.)358 1801 y
FJ(fault)20 b(code)149 b FM(A)21 b(per)n(-process)e(re)o(gister)g
(describing)g(the)h(type)g(of)g(f)o(ault)g(most)g(recently)f(tak)o(en)h
(by)g(this)h(process.)358 2001 y FJ(fault)f(inf)n(o)149
b FM(A)27 b(per)n(-process)d(re)o(gister)h(containing)f(additional)h
(information)e(necessary)i(to)i(the)e(processing)g(of)h(the)637
2100 y(currently)21 b(outstanding)g(f)o(ault.)32 b(Most)23
b(commonly)d(used)i(to)h(identify)e(the)i(address)f(associated)g(with)h
(the)g(f)o(ault)637 2200 y(described)c(by)h(the)g(f)o(ault)g(code)g(re)
o(gister)-5 b(.)358 2399 y FJ(faulted)20 b(\003ag)149
b FM(A)20 b(per)n(-process)e(\003ag)i(indicating)e(whether)h(the)g(f)o
(ault)h(code)e(and)h(f)o(ault)h(info)f(re)o(gisters)g(should)f(be)i
(hon-)637 2499 y(ored.)358 2698 y FJ(glossary)149 b FM(A)21
b(collection)e(of)h(terms)g(and)f(associated)h(de\002nitions.)358
2897 y FJ(GNOSIS)150 b(G)p FM(reat)20 b FJ(N)p FM(e)n(w)g
FJ(O)p FM(perating)f FJ(S)p FM(ystem)h FJ(i)p FM(n)g(the)g
FJ(S)p FM(k)o(y)-5 b(.)24 b(Predecessor)c(to)g(K)n(e)o(yK)n(OS.)358
3096 y FJ(hazard)g(mask)150 b FM(A)22 b(bit)g(mask)g(identifying)e(all)
i(of)f(the)h(reasons)f(why)g(a)h(conte)o(xt)f(switch)h(to)g(a)g(gi)n(v)
o(en)e(conte)o(xt)h(cannot)637 3196 y(be)d(tri)n(vially)f(performed.)22
b(This)17 b(mask)h(is)g(used)g(to)g(indicate)f(when)g(e)o(xtended)e
(process)j(preparation)d(is)j(required)637 3296 y(before)h(a)i(process)
f(can)g(be)g(resumed.)358 3495 y FJ(initial)h(capabilities)149
b FM(The)22 b(set)g(of)g(capabilities)g(initially)g(held)f(by)h(a)h
(process.)29 b(If)22 b(the)g(initial)h(capabilities)f(are)f(con-)637
3595 y(\002ned,)f(the)g(process)g(is)h(con\002ned.)358
3794 y FJ(inter)o(pr)o(ocess)f(communication)149 b FM(The)23
b(mechanism)f(by)h(which)f(one)h(process)g(directly)f(transmits)i
(information)c(to)637 3893 y(another)-5 b(.)48 b(In)28
b(ER)m(OS,)h(interprocess)d(communication)g(operations)g(are)i
(performed)e(by)i(in)m(v)n(oking)e(a)i(start)h(or)637
3993 y(resume)20 b(capability)-5 b(.)358 4192 y FJ(in)m(v)o(ocation)148
b FM(The)25 b(action)h(by)f(which)g(the)h(holder)e(of)i(a)g(capability)
e(causes)i(an)g(operation)e(authorized)g(by)h(that)h(ca-)637
4292 y(pability)i(to)h(be)f(performed)e(on)i(the)h(designated)e
(object.)49 b(This)29 b(operation)e(is)i(generally)e(mapped)g(to)i
(some)637 4392 y(pri)n(vile)o(ged)19 b(instruction)g(or)g(system)i
(call)f(trap)g(of)g(the)g(hardw)o(are)f(architecture.)358
4591 y FJ(IPC)150 b FI(see)21 b FJ(inter)o(pr)o(ocess)f(communication)
358 4790 y(k)o(eeper)150 b FM(A)17 b(process)f(that)h(performs)d(e)o
(xception)h(handling)f(for)i(another)f(process.)23 b(If)17
b(the)f(k)o(eeper)g(is)h(a)g(memory)d(k)o(eep-)637 4890
y(er)m(,)23 b(the)f(k)o(eeper)f(is)i(designated)d(by)i(a)g(memory)f
(object,)g(and)h(may)f(recei)n(v)o(e)g(f)o(aults)i(for)e(an)o(y)g
(process)h(accessing)637 4989 y(that)f(memory)e(object.)24
b(If)d(the)f(k)o(eeper)f(is)j(a)e(process)g(k)o(eeper)m(,)f(it)i(is)g
(designated)e(by)h(the)h(process)f(k)o(eeper)f(slot)i(of)637
5089 y(one)f(or)g(more)f(processes.)2056 5410 y(181)p
eop
%%Page: 182 198
182 197 bop 58 108 a FJ(k)o(er)o(nel)21 b(capability)149
b FM(A)19 b(capability)f(to)h(a)g(service)f(that)h(is)h(directly)e
(implemented)f(by)h(the)h(ER)m(OS)g(k)o(ernel,)f(as)i(distinct)337
207 y(from)30 b(a)g(capability)f(to)i(an)f(object)f(that)i(is)g
(persistent.)54 b(In)30 b(theory)-5 b(,)31 b(the)f(holder)f(of)h(a)g(k)
o(ernel-implemented)337 307 y(service)f(cannot)e(tell)i(that)g(this)g
(service)f(is)h(actually)f(implemented)f(by)h(the)h(k)o(ernel.)49
b(In)28 b(practice)g(there)g(are)337 407 y(v)n(arious)20
b(w)o(ays)g(by)g(which)g(this)g(can)g(be)g(disco)o(v)o(ered.)58
606 y FJ(k)o(ey)155 b FM(A)25 b(capability)-5 b(.)34
b(The)24 b(term)g(\223k)o(e)o(y\224)f(is)h(easier)g(to)g(say)-5
b(,)25 b(and)e(is)i(widely)e(used)h(in)g(both)f(the)h(K)n(e)o(yK)n(OS)f
(and)g(ER)m(OS)337 705 y(documentation)18 b(and)h(code.)58
905 y FJ(k)o(eybits)150 b FM(A)29 b(k)o(ernel)e(capability)g(that)h
(returns)g(the)g(bit)g(representation)e(of)i(a)g(passed)g(capability)-5
b(.)48 b(This)28 b(service)g(is)337 1004 y(presently)20
b(used)g(only)f(by)h(the)g FJ(k)o(eyset)g FM(service,)g(and)f(is)j(not)
d(generally)g(accessible.)58 1204 y FJ(K)n(eyK)n(OS)148
b FM(Predecessor)19 b(to)i(ER)m(OS)58 1403 y FJ(malf)n(ormed)149
b FM(A)23 b(process)e(is)i(malformed)d(if)i(it)g(is)h(missing)f
(required)e(anne)o(x)h(nodes)g(and/or)f(certain)i(constraints)f(on)337
1502 y(the)i(v)n(alues)f(of)f(capability)h(slots)h(ha)n(v)o(e)e(not)h
(been)g(honored.)28 b(Malformed)20 b(processes)i(do)g(not)g(initiate)g
(instruc-)337 1602 y(tions)f(or)f(generate)f(e)o(xceptions.)58
1801 y FJ(memory)h(object)149 b FM(An)25 b(object)g(that)g(pro)o(vides)
f(a)i(mapping)d(from)i(of)n(fsets)g(to)g(pages.)40 b(In)26
b(ER)m(OS,)f(memory)f(objects)337 1901 y(serv)o(e)c(as)h(both)e
(\002les)j(and)d(address)h(spaces.)58 2100 y FJ(metaconstructor)148
b FM(The)20 b(constructor)e(of)i(all)h(constructors.)58
2299 y FJ(monolithic)149 b FM(A)23 b(monolithic)d(operating)g(system)i
(is)h(one)f(that)g(implements)f(the)h(majority)e(of)i(system)g
(services)g(and)337 2399 y(policies)f(within)e(the)i(k)o(ernel.)58
2598 y FJ(node)150 b FM(A)17 b(unit)g(of)g(storage)f(containing)f(a)j
(\002x)o(ed-size)e(array)g(of)h(capabilities,)g(an)g(allocation)f
(count,)g(and)h(a)g(call)h(count.)58 2798 y FJ(node)j(pot)149
b FM(An)26 b(on-disk)f(page)h(frame)g(that)g(contains)g(some)g(number)f
(of)h(nodes)f(and)h(their)g(associated)h(allocation)337
2897 y(and)20 b(call)h(counts.)58 3096 y FJ(number)151
b FM(In)16 b(ER)m(OS,)g(a)h(\002x)o(ed-size)e(unsigned)g(quantity)g
(contained)g(in)h(a)h(number)e(capability)-5 b(.)22 b(Number)15
b(capabilities)337 3196 y(are)21 b(used)f(to)g(store)g(the)g(data)g(re)
o(gister)g(v)n(alues)g(for)f(a)i(process.)58 3395 y FJ(object)f
(identi\002er)150 b FI(see)20 b FJ(OID)58 3595 y(OID)150
b(O)p FM(bject)24 b FJ(id)p FM(enti\002er)-5 b(.)39 b(A)25
b(unique)e(object)h(identi\002er)g(is)h(assigned)f(to)h(e)n(v)o(ery)e
(node,)h(data)h(page,)g(and)f(capability)337 3694 y(page.)43
b(The)26 b(identi\002er)f(consists)i(of)f(a)g(disk)g(frame)g
(identi\002er)f(and)h(an)g(object)g(inde)o(x)f(relati)n(v)o(e)g(to)h
(the)h(frame.)337 3794 y(The)20 b(object)g(identi\002er)g(serv)o(es)g
(both)f(to)h(name)g(the)g(object)g(and)f(to)i(ef)n(\002ciently)e
(locate)h(it)h(on)f(the)g(disk.)337 3943 y(A)h(capability)e(to)i(one)e
(of)h(these)h(objects)f(contains)f(its)i(OID)g(and)e(an)h(allocation)g
(or)f(call)i(count.)58 4143 y FJ(opaque)f(capability)149
b FM(A)33 b(capability)e(to)h(a)h(node)e(whose)h(slots)h(cannot)e(be)h
(e)o(xamined)f(by)g(the)i(holder)-5 b(.)60 b(Opaque)337
4242 y(capabilities)33 b(are)f(used)h(when)f(a)h(single)f(program)f
(must)i(support)e(a)i(lar)o(ge)f(number)e(of)j(logically)f(distinct)337
4342 y(objects.)58 4541 y FJ(order)20 b(code)150 b FM(An)19
b(inde)o(x)f(indicating)f(which)i(of)f(the)i(operations)d(authorized)g
(by)i(a)g(capability)f(is)i(to)f(be)g(in)m(v)n(ok)o(ed.)k(By)337
4641 y(con)m(v)o(ention,)c(the)j(v)n(alue)g(transmitted)f(in)h(data)f
(re)o(gister)h(zero)f(of)g(an)o(y)g(in)m(v)n(ocation)f(is)j
(interpreted)d(as)j(the)f(order)337 4740 y(code.)58 4940
y FJ(page)149 b FI(see)21 b FJ(data)f(page)f FM(or)h
FJ(capability)g(page)1756 5410 y FM(182)p eop
%%Page: 183 199
183 198 bop 358 108 a FJ(page)20 b(pot)149 b FM(An)23
b(on-disk)e(page)h(frame)f(that)i(contains)e(the)i(allocation)e(counts)
h(associated)g(with)h(a)f(gi)n(v)o(en)g(run)f(of)h(on-)637
207 y(disk)f(page)e(frames.)358 407 y FJ(potential)h(access)149
b FM(The)21 b(potential)f(access)i(rights)e(of)h(a)g(process)g(in)g
(the)g FI(SW)27 b FM(model)20 b(are)h(the)g(access)h(rights)e(that)i
(the)637 506 y(process)e(can)g(obtain)g(by)f(a)i(combination)d(of)i
(performing)d(operations)i(and)g(collusion)g(with)i(other)e(processes.)
358 705 y FJ(pr)o(epar)o(ed)g(capability)149 b FM(A)23
b(prepared)c(capability)i(is)i(an)f(object)g(capability)f(whose)g
(designated)g(object)g(is)i(in)f(mem-)637 805 y(ory)e(and)g(is)h
(pointed)e(to)h(directly)f(by)h(the)g(capability)-5 b(.)358
1004 y FJ(prime)21 b(space)g(bank)150 b FM(The)25 b(manager)g(of)h(all)
h(storage.)42 b(All)27 b(space)f(banks)f(are)h(descended)f(from)g(the)h
(prime)g(space)637 1104 y(bank.)358 1303 y FJ(primordial)20
b(system)h(image)149 b FM(The)29 b(hand-crafted)e(system)j(image)f
(from)g(which)g(an)g(ER)m(OS)h(system)g(\002rst)g(be)o(gins)637
1403 y(e)o(x)o(ecution.)358 1602 y FJ(primordial)20 b(zer)o(o)g(space)
150 b FM(A)32 b(maximal)f(size)h(memory)e(object)i(populated)d
(entirely)i(by)h(zeros.)59 b(Most)32 b(memory)637 1702
y(objects)20 b(are)h(ultimately)e(cop)o(y-on-write)e(deri)n(v)n(ati)n
(v)o(es)i(of)h(the)g(primordial)e(zero)i(space.)358 1901
y FJ(pr)o(ocess)150 b FM(An)20 b(abstract)g(interf)o(ace)f(on)h(a)g
(suitable)h(arrangement)c(of)j(nodes.)358 2100 y FJ(pr)o(ocess)g
(capability)149 b FM(A)25 b(capability)e(designating)f(a)j(node)e(and)g
(authorizing)f(manipulation)g(of)i(that)g(node)f(via)i(the)637
2200 y(process)17 b(abstraction)e(interf)o(ace.)23 b(Process)16
b(capabilities)h(do)f(not)g(con)m(v)o(e)o(y)e(the)i(authority)f(to)i(e)
o(xamine)e(or)h(modify)637 2299 y(the)21 b(brand)e(slot.)358
2499 y FJ(pr)o(ocess)h(cr)o(eator)148 b FM(A)24 b(user)f(de\002ned)f
(object)h(that)g(tak)o(es)g(a)h(space)f(bank,)g(creates)g(a)h(process)e
(and)h(returns)f(a)i(process)637 2598 y(capability)17
b(to)h(these)g(processes.)24 b(All)18 b(processes)g(created)f(by)g(a)h
(gi)n(v)o(en)e(process)i(creator)e(ha)n(v)o(e)i(the)f(same)h(brand.)358
2798 y FJ(pr)o(ocess)i(cr)o(eator)f(cr)o(eator)147 b
FM(A)21 b(user)f(de\002ned)f(object)h(that)g(f)o(abricates)g(ne)n(w)g
(process)g(creators.)358 2997 y FJ(pr)o(ocess)g(\003ags)h(r)o(egister)
148 b FM(A)26 b(re)o(gister)f(recording)e(the)j(state)g(of)f(a)h
(process)f(\()p FI(available)p FM(,)g FI(running)p FM(,)g(or)g
FI(waiting)p FM(\))g(and)637 3096 y(the)c(f)o(aulted)e(\003ag.)358
3296 y FJ(pr)o(ocess)h(r)o(oot)148 b FM(The)24 b(node)f(that)h(serv)o
(es)g(as)h(the)f(root)g(of)g(a)g(process.)36 b(All)25
b(process,)f(start,)i(and)d(resume)h(capabilities)637
3395 y(that)d(name)e(the)i(process)e(designate)h(the)g(process)g(root)f
(node.)358 3595 y FJ(pr)o(ocess)h(tool)149 b FM(A)21
b(k)o(ernel)e(capability)g(that)i(intercon)m(v)o(erts)c(between)j
(processes)g(and)f(nodes.)358 3794 y FJ(pr)o(otospace)148
b FM(An)24 b(immutable)e(address)h(space)g(whose)g(program)f(is)i(just)
g(cle)n(v)o(er)f(enough)e(to)j(initialize)f(a)h(ne)n(w)g(pro-)637
3893 y(cess.)358 4093 y FJ(range)149 b FM(A)30 b(contiguously)c
(numbered)h(sequence)h(of)h(objects.)51 b(Ranges)29 b(occup)o(y)f
(contiguous)f(storage)i(on)f(one)h(or)637 4192 y(more)20
b(disks.)358 4392 y FJ(r)o(ead)g(hazard)149 b FM(A)19
b(mark)o(er)f(indicating)f(that)i(the)g(content)e(of)i(a)g(capability)f
(slot)h(is)h(cached,)e(and)g(that)h(the)f(cache)h(must)637
4491 y(be)27 b(\003ushed)f(before)f(a)i(correct)e(v)n(alue)h(can)g(be)h
(read)e(from)h(this)h(capability)e(slot.)44 b(A)27 b(capability)f(read)
g(hazard)637 4591 y(implies)21 b(a)f(capability)g(write)g(hazard.)358
4790 y FJ(r)o(egister)f(annex)150 b FM(A)26 b(node)e(named)h(by)g(a)h
(process)f(root)g(containing)f(data)h(re)o(gister)g(v)n(alues)g(for)g
(which)g(there)g(is)i(no)637 4890 y(room)20 b(within)f(the)i(process)e
(root.)358 5089 y FJ(r)o(escind)150 b FM(The)19 b(operation)f(that)h
(in)m(v)n(alidates)g(all)h(outstanding)d(capabilities)i(to)h(a)g(node,)
e(data)h(page,)g(capability)f(page.)2056 5410 y(183)p
eop
%%Page: 184 200
184 199 bop 58 108 a FJ(r)o(esult)20 b(code)150 b FM(A)28
b(v)n(alue)e(indicating)g(the)i(status)g(of)f(some)g(in)m(v)n(ocation,)
g(either)g(success)h(or)f(some)g(speci\002c)g(f)o(ailure.)337
207 y(By)21 b(con)m(v)o(ention,)d(the)i(v)n(alue)g(returned)f(in)h
(data)h(re)o(gister)f(zero)f(of)i(an)o(y)e(in)m(v)n(ocation)g(is)i
(interpreted)e(as)i(the)g(order)337 307 y(code.)58 506
y FJ(r)o(esume)g(capability)148 b FM(A)21 b(capability)e(designating)f
(a)i(user)g(de\002ned)f(object)g(whose)h(process)g(is)g(in)g(the)g
FI(waiting)g FM(state.)337 606 y(Resume)h(capabilities)f(are)g(f)o
(abricated)f(by)g(performing)f(a)i FJ(call)h FM(in)m(v)n(ocation)d(on)i
(a)g(capability)-5 b(.)58 805 y FJ(r)o(etur)o(n)149 b
FM(A)19 b(return)f(in)m(v)n(ocation)f(performs)g(an)i(operation)e(on)i
(a)g(capability)f(and)g(causes)h(the)g(in)m(v)n(ok)o(er)e(to)i(be)g
(placed)f(in)337 905 y(the)j FI(available)d FM(state.)26
b(The)20 b(in)m(v)n(ok)o(er)f(is)i(block)o(ed)d(until)i(it)h(is)h(ne)o
(xt)d(in)m(v)n(ok)o(ed.)58 1104 y FJ(r)o(etur)o(ner)149
b FM(A)19 b(k)o(ernel)f(capability)g(that)i(returns)e(whate)n(v)o(er)f
(ar)o(guments)g(are)i(passed)g(to)g(the)g(resume)f(capability)g(in)i
(the)337 1204 y(last)j(transmitted)e(capability)g(re)o(gister)-5
b(.)29 b(This)22 b(service)f(can)h(be)f(used)h(to)g(permute)e
(capability)h(re)o(gisters)g(and/or)337 1303 y(data)g(and)e(to)i
(perform)d(a)i(guaranteed)e(non-blocking)f(return)i(to)h(a)h(caller)-5
b(.)58 1502 y FJ(running)150 b FM(A)21 b(process)f(in)g(the)g
FI(running)f FM(state)i(has)f(been)g(in)m(v)n(ok)o(ed)e(and)i(is)h
(currently)e(occupied)f(by)i(a)g(thread.)58 1702 y FJ(send)151
b FM(A)18 b(send)f(in)m(v)n(ocation)e(performs)h(an)h(operation)f(on)h
(a)h(capability)-5 b(.)22 b(The)c(in)m(v)n(ok)o(er)d(remains)i(in)h
(the)f FI(running)f FM(state,)337 1801 y(and)k(does)g(not)g(recei)n(v)o
(e)f(a)i(reply)e(to)h(the)h FJ(send)g FM(in)m(v)n(ocation.)58
2001 y FJ(space)g(bank)150 b FM(A)18 b(user)h(de\002ned)e(object)h
(that)g(allocates)g(and)g(deallocates)g(persistent)g(objects.)24
b(In)18 b(the)g(current)f(imple-)337 2100 y(mentation,)22
b(all)i(space)e(banks)g(are)h(realized)f(by)h(a)g(single)f(process)h
(that)g(endea)n(v)n(ours)e(to)i(assure)f(some)h(de)o(gree)337
2200 y(of)d(locality)g(across)g(allocations.)58 2399
y FJ(start)g(capability)149 b FM(A)18 b(capability)g(designating)e(a)j
(user)f(de\002ned)f(object.)24 b(When)18 b(in)m(v)n(ok)o(ed,)f(mak)o
(es)h(no)g(progress)f(until)337 2499 y(that)k(user)f(de\002ned)f
(object)h(enters)g(the)g FI(available)f FM(state.)58
2698 y FJ(superrange)149 b FM(A)21 b(range)e(capability)g(con)m(v)o(e)o
(ying)d(authority)j(to)h(f)o(abricate)f(a)h(capability)f(to)h(an)o(y)f
(object)h(in)g(the)g(persis-)337 2798 y(tent)i(store,)g(and/or)e(to)h
(rescind)g(an)o(y)g(object)g(in)g(the)h(store.)29 b(In)21
b(the)g(current)f(implementation,)g(only)g(the)i FJ(prime)337
2897 y(space)f(bank)g FM(holds)e(the)i(superrange)d(capability)-5
b(.)58 3096 y FJ(super)o(visor)21 b(mode)149 b FM(A)24
b(processor)e(mode)h(permitting)f(so-called)g(\223pri)n(vile)o(ged\224)
f(instructions.)33 b(The)23 b(ER)m(OS)h(virtual)337 3196
y(machine)c(implementation)d(typically)j(e)o(x)o(ecutes)f(instructions)
g(in)h(supervisor)f(mode.)58 3395 y FJ(thr)o(ead)149
b FM(The)24 b(unit)g(of)g(acti)n(v)n(ation)f(in)h(the)g(ER)m(OS)h
(virtual)e(machine)g(implementation.)35 b(All)25 b(processes)f(in)g
(the)g FI(run-)337 3495 y(ning)h FM(state)i(are)e(occupied)f(by)i(a)g
(thread.)40 b(Attempts)26 b(to)g(acti)n(v)n(ate)f(this)h(thread)f
(will,)i(if)f(necessary)-5 b(,)26 b(cause)g(the)337 3595
y(associated)20 b(process)g(to)h(be)f(f)o(aulted)f(into)h(memory)-5
b(.)58 3794 y FJ(unpr)o(epar)o(ed)20 b(capability)148
b FM(An)22 b(unprepared)d(capability)i(is)i(an)f(object)f(capability)g
(whose)g(designated)g(object)g(may)337 3893 y(or)f(may)g(not)g(be)g(in)
g(memory)-5 b(.)23 b(Unprepared)18 b(capabilities)i(must)g(be)g
(prepared)e(before)h(the)o(y)h(can)g(be)g(used.)58 4093
y FJ(user)h(de\002ned)g(object)149 b FM(An)20 b(object)g(implemented)e
(by)i(a)h(program)d(rather)h(than)h(by)f(the)i(ER)m(OS)f(virtual)g
(machine.)58 4292 y FJ(user)h(mode)150 b FM(A)17 b(processor)e(mode)h
(prohibiting)e(so-called)h(\223pri)n(vile)o(ged\224)g(instructions.)22
b(ER)m(OS)17 b(processes)f(typically)337 4392 y(e)o(x)o(ecute)j
(instructions)h(in)g(user)g(mode.)58 4591 y FJ(virtual)g(copy)g(space)
149 b FM(A)26 b(memory)d(object)i(that)g(is)h(a)f(virtual)g(cop)o(y)f
(of)h(some)g(pre-e)o(xisting)e(memory)g(object.)39 b(The)337
4690 y(pre-e)o(xisting)32 b(object)i(is)g(immutable;)40
b(a)34 b(modi\002cation)f(to)h(an)o(y)f(page)g(within)h(that)g(object)f
(causes)h(a)g(ne)n(w)-5 b(,)337 4790 y(writable)32 b(page)f(to)g(be)h
(allocated)f(whose)g(initial)h(content)f(is)h(a)g(cop)o(y)f(of)g(the)h
(corresponding)c(page)j(of)h(the)337 4890 y(original)20
b(object.)58 5089 y FJ(waiting)149 b FM(A)26 b(process)g(in)f(the)h
FI(waiting)f FM(state)i(has)f(performed)d(a)j FJ(call)g
FM(operation)d(on)j(a)g(capability)-5 b(,)25 b(and)g(is)i(block)o(ed)
337 5189 y(pending)19 b(in)m(v)n(ocation)f(of)i(the)g(generated)f
(resume)g(capability)-5 b(.)1756 5410 y(184)p eop
%%Page: 185 201
185 200 bop 358 108 a FJ(well-f)n(ormed)20 b(pr)o(ocess)149
b FM(A)24 b(process)e(is)i(well-formed)e(if)h(it)h(meets)f(the)g
(minimal)g(constraints)f(to)h(be)h(interpreted)d(as)637
207 y(a)26 b(v)n(alid)e(process)g(re)o(gister)g(image.)38
b(A)25 b(process)f(must)h(be)g(well)g(formed)e(in)i(order)e(to)i
(initiate)g(instructions)f(or)637 307 y(generate)19 b(e)o(xceptions.)
358 506 y FJ(write)h(hazard)149 b FM(A)18 b(mark)o(er)e(indicating)g
(that)h(the)g(content)g(of)g(a)g(capability)f(slot)i(is)g(cached,)f
(and)f(that)i(the)f(cache)g(must)637 606 y(be)k(in)m(v)n(alidated)d
(before)h(this)h(slot)h(can)f(safely)g(be)g(o)o(v)o(erwritten.)2056
5410 y(185)p eop
%%Page: 186 202
186 201 bop 37 579 a FK(Index)37 997 y FM(access)21 b(rights)204
1097 y(selecti)n(v)o(e)e(dele)o(gation,)f(2,)i(205)37
1197 y(access)h(control)204 1297 y(lattice)f(model,)f(196)204
1398 y(SW)i(model,)e(114)37 1498 y(access)i(control)e(list)204
1598 y(vs.)25 b(component)18 b(softw)o(are,)h(1)37 1698
y(access)i(control)e(list)204 1799 y(vs.)25 b(con\002nement,)18
b(13)204 1899 y(vs.)25 b(con\002nement,)18 b(12)37 1999
y(access)j(graph,)e(73)37 2099 y(access)i(matrix,)f(73)37
2200 y(access)h(re)n(v)n(ocation,)d FI(see)j FM(re)n(v)n(ocation)37
2300 y(access)g(rights)204 2400 y(and)e(shared)h(structures,)f(82)204
2500 y(call)h(right,)g(87)204 2600 y(de)g(f)o(acto,)f(11,)h(76)204
2701 y(de)g(jure,)f(11,)h(76)204 2801 y(dele)o(gation,)d(36)204
2901 y(direct,)i(74\22676)204 3001 y(grant,)g FJ(71)p
FM(,)g FJ(77)204 3102 y FM(indirect,)g(82,)g(84)204 3202
y(initial)h(authority)-5 b(,)18 b(74)204 3302 y(intrinsic)h(self)i
(right,)e(79)204 3402 y(potential,)g(74\22676)204 3503
y(read,)g FJ(71)p FM(,)g(76)204 3603 y(selecti)n(v)o(e)g(re)n(v)n
(ocation,)g(81)204 3703 y(symmetry)-5 b(,)18 b(74)204
3803 y(tak)o(e,)i FJ(71)p FM(,)f FJ(77)204 3904 y FM(transiti)n(vity)-5
b(,)18 b(76)204 4004 y(weak,)h(114)204 4104 y(write,)h
FJ(71)p FM(,)f(76)37 4204 y(address)h(translation,)f
FI(see)i FM(memory)-5 b(,)18 b(translation)37 4305 y(allocation)i
(count,)f FJ(130)p FM(,)g(169)37 4405 y(architecture)g(neutralizing)f
(platform,)h(178)37 4598 y(benchmark)204 4698 y(ER)m(OS,)h(179\226184)
287 4799 y(address)f(v)n(alidation,)g(181\226182)287
4899 y(interprocess)f(in)m(v)n(ocation,)h(183\226184)287
4999 y(k)o(ernel)g(capability)g(in)m(v)n(ocation,)f(182\226183)204
5099 y(lmbench,)g(185)204 5200 y(POSIX,)i(178,)f(185\226191)2213
997 y(conte)o(xt)g(switch,)h(189)2213 1097 y(\002le)h(creation)e(and)h
(I/O,)g(190\226191)2213 1197 y(heap)g(gro)n(wth,)e(188\226189)2213
1297 y(null)i(I/O,)g(187)2213 1398 y(page)g(v)n(alidation,)e
(187\226188)2213 1498 y(pipe)i(measurements,)e(189)2213
1598 y(process)i(creation,)f(190)2213 1698 y(tri)n(vial)h(system)h
(call,)f(187)1964 1799 y(bootstrap,)f(51\22655)2130 1899
y(ER)m(OS)i(startup,)e(139)2130 1999 y(secure,)h(52)1964
2192 y(CAL/TSS,)h(15,)e(199\226200)1964 2293 y(CAP)-9
b(,)21 b(200\226201)1964 2393 y(capability)-5 b(,)19
b FJ(21)2130 2493 y FM(allocation)g(count,)g FJ(130)2130
2593 y FM(capage)g(capability)-5 b(,)19 b FJ(24)2130
2694 y FM(comparison,)f(44)2130 2794 y(discretion,)h(45)2130
2894 y(discrim)h(capability)-5 b(,)18 b FJ(44)2130 2994
y FM(f)o(ault)i(capability)-5 b(,)19 b FJ(37)2130 3095
y FM(interpretation)f(of)i(OID,)g(168)2130 3195 y(in)m(v)n(ocation,)e
(22)2213 3295 y(and)i(dele)o(gation,)d(36)2213 3395 y(and)j(space)g
(bank,)f(57)2213 3496 y(as)i(transaction,)e(127\226128)2213
3596 y(call,)h(22,)g(35)2213 3696 y(call)h(suppression,)d(43)2213
3796 y(e)o(xception)g(handling,)g(37\22638)2213 3897
y(indirect,)h(43)2213 3997 y(in)m(v)n(ocation)f(types,)i(22,)g(27,)f
(35)2213 4097 y(in)m(v)n(ocation)f(types)i(and)g(process)g(states,)h
(36)2213 4197 y(mutual)e(e)o(xclusion,)g(34)2213 4297
y(object)h(pinning,)e(128,)h(133\226134)2213 4398 y(opaque,)f(43)2213
4498 y(process)i(states,)h(22,)e(34)2213 4598 y(return,)g(22,)g(35)2213
4698 y(send,)h(22,)f(35)2213 4799 y(user)h(de\002ned)f(objects,)h
(153\226160)2130 4899 y(k)o(e)o(ybits)g(capability)-5
b(,)18 b FJ(44)2130 4999 y FM(node)h(capability)-5 b(,)19
b FJ(26)2130 5099 y FM(number)f(capability)-5 b(,)19
b FJ(23)2130 5200 y FM(object)h(hierarchy)-5 b(,)17 b(47)1756
5410 y(186)p eop
%%Page: 187 203
187 202 bop 504 108 a FM(opaque,)18 b(27,)h(43)504 207
y(page)g(capability)-5 b(,)19 b FJ(24)504 307 y FM(partitioning,)f(25,)
h(102)504 407 y(preparation,)e(129\226133)504 507 y(prepared,)g(131)504
607 y(process)i(capability)-5 b(,)19 b FJ(32)504 707
y FM(process)g(tool,)h FJ(32\22633)p FM(,)e(58)504 807
y(range)h(capability)-5 b(,)18 b FJ(46)504 906 y FM(resume)h
(capability)-5 b(,)19 b FJ(35\22636)504 1006 y FM(returner)f
(capability)-5 b(,)19 b FJ(45)504 1106 y FM(schedule)g(capability)-5
b(,)18 b FJ(30)504 1206 y FM(span)h(encoding,)f(41)504
1306 y(start)i(capability)-5 b(,)19 b FJ(34\22635)p FM(,)f(79)587
1406 y(vs.)25 b(entry)19 b(ports,)h(79)504 1505 y(superrange)e
(capability)-5 b(,)18 b(47)504 1605 y(type)h(encoding,)f(132\226133)504
1705 y(unfor)o(geability)-5 b(,)16 b(22\22623)504 1805
y(weak)o(en)j(transformation,)e FJ(28)587 1905 y FM(diminish)i
(operation,)f(86\22687)337 2005 y(capability)i(page,)f
FI(see)i FM(object,)e(capability)g(page)337 2105 y(capability)h(system)
504 2204 y FI(see)g(also)g FM(ER)m(OS)504 2304 y FI(see)g(also)g
FM(GNOSIS)504 2404 y FI(see)g(also)g FM(HYDRA/C.mmp)504
2504 y FI(see)g(also)g FM(K)n(e)o(yK)n(OS)504 2604 y
FI(see)g(also)g FM(i432)504 2704 y(challenges,)e(1)504
2803 y(dek)o(ernelization,)f(15\22616)504 2903 y(indirect)i
(translation,)g(15)504 3003 y(intrinsic)g(penalty)-5
b(,)19 b(14)504 3103 y(performance)e(issues,)k(14\22615)504
3203 y(persistent)f(store)g(design,)f(16)337 3303 y(checkpoint)g
(mechanism,)f(54,)i(127)337 3402 y(components)504 3502
y(design)f(using,)g(1)504 3602 y(security)g(requirements,)f(1)337
3702 y(con\002nement)504 3802 y(and)h(multile)n(v)o(el)g(security)-5
b(,)19 b(108)504 3902 y(and)g(nontrusted)f(binaries,)i(12)504
4002 y(authorized)e(channels,)h(109)504 4101 y(enforcement,)e(109)504
4201 y(informal)h(discussion,)i(11,)f(108\226110)504
4301 y(proof)f(outline,)h(110\226112)504 4401 y(PSOS,)h(198)504
4501 y(tak)o(e-grant)e(and,)h(71)504 4601 y(v)o(eri\002cation,)f
(112\226120)337 4700 y(constructor)m(,)g FJ(61\22664)p
FM(,)g(163)504 4800 y(access)i(rights)g(check,)f(121)504
4900 y(authentication,)e(62)504 5000 y(frozen,)h(61)504
5100 y(memory)g(object,)h(164\226165)504 5200 y(not)g(in)i(model,)e
(106)2430 108 y(protospace,)f(62)2430 208 y(relation)h(to)i(v)o
(eri\002cation)d(proof,)h(122\226123)2430 308 y(virtual)h(cop)o(y)f
(constructor)m(,)f(62)2264 408 y(conte)o(xt)h(cache,)g(137)2264
508 y(cop)o(y)g(on)h(write,)g FI(see)h FM(virtual)f(cop)o(y)f(space,)h
(128,)f(195)2264 700 y(data)h(page,)f FI(see)i FM(object,)f(data)g
(page)2264 801 y(de)g(jure)g(access)2430 901 y(\002rst)h(discussed,)f
(11)2264 1001 y(de)g(f)o(acto)g(access,)h(76)2430 1101
y(\002rst)g(discussed,)f(11)2430 1201 y(notation,)f(74)2430
1301 y(presumed)g(collusion,)g(75)2430 1402 y(symmetry)-5
b(,)18 b(74)2264 1502 y(de)i(jure)g(access,)h(76)2430
1602 y(notation,)e(74)2264 1702 y(dek)o(ernelization)f(performance,)f
(15\22616)2264 1802 y(dele)o(gation,)h(access)j(right,)e(2,)h(205)2264
1902 y(dele)o(gation,)e(access)j(right,)e(36)2264 2003
y(diminish-tak)o(e,)f FJ(84\22688)2430 2103 y FM(call)j(operation,)d
(195)2430 2203 y(call)j(right,)e(87)2430 2303 y(diminish)g(operation,)g
(86\22687)2430 2403 y(direct)h(access,)g(74\22676)2430
2503 y(indirect)f(access,)i(84,)f(194)2430 2604 y(no)g(de)g(f)o(acto)g
(indirection,)e(84)2430 2704 y(potential)h(access,)i(74\22676,)d(86)
2430 2804 y(summary)-5 b(,)18 b(89)2430 2904 y(vs.)25
b(tak)o(e-grant,)19 b(194\226196)2430 3004 y(weak)h(access,)h(195)2264
3104 y(direct)f(access,)g(74\22676)2430 3205 y(computing)e(potential)h
(access,)i(75\22676)2264 3305 y(discrim)f(capability)-5
b(,)18 b(44)2264 3497 y(endogenous)f(v)o(eri\002cation,)i(2,)h(205)2264
3597 y(ER)m(OS)2430 3697 y FI(see)h(also)f FM(capability)f(system)2430
3797 y(application)g(focus,)g(177)2430 3897 y(benchmarks,)f
FI(see)j FM(benchmark)2430 3998 y(bootstrap,)e(51\22655,)f(139)2430
4098 y(checkpoint)g(mechanism,)h(54,)g(127)2430 4198
y(e)n(v)n(aluation)g(method,)f(178)2430 4298 y(implementation)2513
4398 y(cop)o(y)h(on)h(write,)g(128)2430 4498 y(object)g(store,)g
(127\226136)2513 4599 y(f)o(ault-in,)f(127,)g(129)2430
4699 y(operating)f(system,)j(69)2430 4799 y(operating)d(system,)j
FJ(50)2430 4899 y FM(performance)2513 4999 y(bottlenecks,)e(179\226184)
2513 5099 y(e)o(xplained,)f(125\226126)2430 5200 y(primordial)g(image,)
i(53,)f(55)2056 5410 y(187)p eop
%%Page: 188 204
188 203 bop 204 108 a FM(relationship)18 b(to)j(K)n(e)o(yK)n(OS,)e(198)
204 207 y(relationship)f(to)j(K)n(e)o(yK)n(OS,)e(177,)g(203)204
307 y(security)g(analysis)h(phases,)g(51\22652)204 407
y(virtual)f(machine)287 506 y(implementation,)e(125\226162)287
606 y(in)m(v)n(ocation,)h FI(see)i FM(capability)g(in)m(v)n(ocation)287
705 y(k)o(ernel)f(e)o(xit,)h(148)287 805 y(k)o(ernel)f(entry)-5
b(,)19 b(144\226145)287 905 y(k)o(ernel)g(e)o(xit,)h(145)287
1004 y(objects,)f FI(see)i FM(object)287 1104 y(operations,)d(20)37
1204 y(e)o(xclusi)n(v)o(ely)h(held,)g FJ(82)37 1381 y
FM(f)o(ault)i(capability)-5 b(,)18 b FJ(37)37 1480 y
FM(formal)i(model,)f(92\226107)204 1580 y(access)h(bidirection)f
(lemma,)g(94)204 1680 y(access)h(rights,)g(93\22697)204
1779 y(actions,)f(101\226102)204 1879 y(capabilities,)g(98)287
1978 y(resume)g(capabilities,)h(98\22699)204 2078 y(departures)e(from)h
(ER)m(OS,)i(106\226107)204 2178 y(destro)o(y)e(operation,)f(102)204
2277 y(indirection,)g(95)204 2377 y(model)h(state,)i(100)204
2477 y(naming,)d(93)204 2576 y(opaque)g(indirection,)g(95)204
2676 y(operational)g(semantics,)i(102\226106)204 2775
y(process)f(tool)h(semantics,)g(106\226107)204 2875 y(processes)f(vs.)
26 b(objects,)19 b(97)204 2975 y(read)g(and)h(write)g(operations,)f
(103)204 3074 y(restrict,)h(102)204 3174 y(rights,)f(indirection)g(vs.)
25 b(access,)c(96)204 3274 y(semantic)e(entities,)i(97\226100)204
3373 y(SW)g(access)g(rights,)e(96\22697)204 3473 y(transition)g
(relation,)g(103)204 3572 y(weak)g(right,)h(94)204 3672
y(weak)o(en,)f(96)37 3772 y(formal)h(v)o(eri\002cation)e(steps,)j(13,)e
(92)37 3949 y(GNOSIS,)i(51,)e(177)37 4126 y(HYDRA/C.mmp,)h(15,)g
(201\226203)37 4303 y(i432,)g(15)37 4403 y(information)e(transfer)i
(control,)e(2,)i(205)37 4502 y(information)e(\003o)n(w)204
4602 y(lattice)i(model,)f(196)204 4701 y(multile)n(v)o(el)g(security)-5
b(,)19 b(196)37 4801 y(initial)i(authority)-5 b(,)18
b(74)37 4901 y(interprocess)h(communication)204 5000
y(CAL/TSS,)h(199)204 5100 y(CAP)-9 b(,)20 b(201)204 5200
y(ER)m(OS,)g(22,)f(183\226184,)f(206)2130 108 y(HYDRA,)j(202)2130
207 y(L4,)f(206\226207)2130 307 y(Mach,)g(207)2130 407
y(need)g(for)f(scatter/gather)m(,)f(191)1964 506 y(IPC,)j
FI(see)g FM(interprocess)d(communication)1964 683 y(Ja)n(v)n(a,)i(178)
2130 783 y(compatibility)f(en)m(vironment,)e(215)1964
960 y(k)o(e)o(ybits)j(capability)-5 b(,)18 b(44)1964
1060 y(K)n(e)o(yK)n(OS,)h(15)2130 1159 y(checkpoint)f(mechanism,)h(54,)
g(127)2130 1259 y(compared)f(to)j(Mach,)e(15)2130 1358
y(k)o(ernel)g(team,)h(i)n(v)2130 1458 y(operating)e(en)m(vironments,)g
(51)2130 1558 y(primordial)g(image)i(construction,)e(53)2130
1657 y(relationship)h(to)h(ER)m(OS,)h(177,)e(198,)g(203)2130
1757 y(scheduling,)f(30)1964 1934 y(L3,)i FI(see)h FM(L4)1964
2034 y(L4,)f(206\226207)2130 2133 y(f)o(ast)h(IPC,)g(16)1964
2233 y(lattice)g(model,)e(196)1964 2333 y(least)i(pri)n(vile)o(ge,)d
(principle)h(of,)h(2,)g(205)1964 2432 y(Linux,)f(179)1964
2532 y(lmbench,)f(179,)i(185)1964 2631 y(login)f(authentication,)f(67)
1964 2809 y(Mach,)i(207)2130 2908 y(compared)e(to)j(Chorus,)e(16)2130
3008 y(compared)f(to)j(K)n(e)o(yK)n(OS,)e(15)2130 3107
y(def)o(ault)h(pager)m(,)e(16)2130 3207 y(e)o(xternal)h(pager)m(,)g
(186\226189)2130 3307 y(f)o(ast)i(IPC,)g(16)1964 3406
y(memory)2130 3506 y FI(see)g(also)f FM(memory)e(object)2130
3606 y(access)j(rights)2213 3705 y(indirect,)e(82)2130
3805 y(address)h(translation)2213 3904 y(performance,)d(181\226182)2130
4004 y(as)k(cache)f(of)g(object)f(store,)h(127\226136)2130
4104 y(e)o(xception)e(handling,)g(38)2130 4203 y(k)o(eepers,)h
FJ(42\22643)2130 4303 y FM(small)i(address)e(spaces,)i(183)2130
4403 y(translation,)e(39\22642)2213 4502 y(nai)n(v)o(e)g(tra)n(v)o
(ersal,)h(39)2213 4602 y(span)g(encoding,)e(41)1964 4701
y(memory)h(object,)g FJ(39\22643)2130 4801 y FM(address)h(space)g
(management,)e(148\226153)2130 4901 y(construction)g(of,)i(164\226165)
2130 5000 y(cop)o(y)f(on)h(write,)g(164,)f(165)2130 5100
y(demand)g(zero,)g(164)2130 5200 y(heaps,)h(165)1756
5410 y(188)p eop
%%Page: 189 205
189 204 bop 504 108 a FM(nai)n(v)o(e)19 b(tra)n(v)o(ersal,)g(39)504
208 y(span)g(encoding,)f(41)504 308 y(stacks,)i(165)337
408 y(MLS,)h FI(see)f FM(multile)n(v)o(el)g(security)337
509 y(model,)g FI(see)g FM(formal)f(model)337 609 y(multile)n(v)o(el)h
(security)-5 b(,)19 b(196\226197)504 709 y(vs.)25 b(capability)19
b(systems,)h(196)337 809 y(MVS,)h(non-con\002nement,)16
b(12)337 1003 y(node,)j FI(see)i FM(object,)f(node)337
1103 y(number)m(,)e FI(see)j FM(object,)f(number)337
1297 y(object)504 1397 y(capability)f(page,)g FJ(24)504
1497 y FM(constructor)m(,)e FI(see)k FM(constructor)504
1598 y(data)f(page,)f FJ(24)504 1698 y FM(miscellaneous,)f(43)504
1798 y(node,)g FJ(26)504 1898 y FM(number)m(,)f FJ(23)504
1999 y FM(primordial)h(image,)h(53,)h(55)504 2099 y(process,)f
FJ(28)504 2199 y FM(process)g(creator)m(,)g FI(see)i
FM(process)e(creator)504 2299 y(schedule,)g(30)504 2400
y(space)h(bank,)f FI(see)h FM(space)h(bank)504 2500 y(type)e(hierarchy)
-5 b(,)17 b(27)504 2600 y(vs)j(process)g(in)g(formal)f(model,)g(97)337
2700 y(object)h(store)504 2801 y(page)f(pot,)h(169)337
2901 y(object)g(store)504 3001 y(cop)o(y)f(on)h(write,)g(128)504
3101 y(metadata,)f(168\226170)504 3202 y(node)g(pot,)g(168)504
3302 y(object)g(pinning,)f(133\226134)504 3402 y(or)o(ganization,)e
(167)504 3502 y(vs.)25 b(garbage)18 b(collection,)h(134\226136)337
3603 y(object)h(system,)g(47)337 3703 y(Orange)g(Book,)f
FI(see)i FM(Rainbo)n(w)e(Series)337 3896 y(page,)h(capability)-5
b(,)18 b FI(see)j FM(object,)e(capability)h(page)337
3997 y(page,)g(data,)g FI(see)g FM(object,)g(data)g(page)337
4097 y(persistence)504 4197 y(and)f(disk)h(reliability)-5
b(,)19 b(54)504 4297 y(boot)g(process,)g(53)504 4398
y(checkpoint,)e(180)504 4498 y(checkpoint)h(mechanism,)g(54)337
4598 y(POSIX)504 4698 y(benchmark,)f(178,)i(185\226191)504
4799 y(compatibility)-5 b(,)17 b(178)504 4899 y(compatibility)h(box,)h
(177)504 4999 y(compatibility)f(en)m(vironment,)f(214)504
5099 y(impact)i(of)h FI(select)q FM(\(\),)h(215)504 5200
y(vs.)k(ER)m(OS)20 b(process,)g(28)2430 108 y(vs.)25
b(Ja)n(v)n(a,)c(215)2264 207 y(potential)e(access,)i(74\22676)2430
307 y(computation)d(of,)i(75\22676)2430 407 y(construction,)e(77)2264
507 y(presumed)h(collusion,)g(75)2430 607 y(and)h(trusted)f(code,)h(75)
2264 707 y(prime)f(space)i(bank,)e FI(see)h FM(space)g(bank,)f(prime)h
(bank)2264 807 y(principle)2430 906 y(endogenous)d(v)o(eri\002cation,)i
(2,)h(205)2430 1006 y(information)e(transfer)h(control,)g(2,)h(205)2430
1106 y(least)h(pri)n(vile)o(ge,)d(2,)i(205)2430 1206
y(rights)g(transfer)f(control,)g(2,)h(205)2430 1306 y(selecti)n(v)o(e)g
(dele)o(gation,)e(2,)i(205)2264 1406 y(process,)g FJ(28)2430
1505 y FI(see)h(also)f FM(process)g(tool)2430 1605 y(amplify)-5
b(,)18 b(33)2430 1705 y(authentication,)g(59)2430 1805
y(constructor)m(,)g FI(see)j FM(constructor)2430 1905
y(conte)o(xt)2513 2005 y(preparation,)d(141\226142)2430
2105 y(conte)o(xt)h(cache,)g(137)2430 2204 y(creation)2513
2304 y(f)o(abrication,)f(32)2513 2404 y(process)i(creator)m(,)e
FJ(59\22660)2513 2504 y FM(process)i(creator)f(creator)m(,)g
FJ(60)2430 2604 y FM(destruction,)g(59)2430 2704 y(e)o(xception)f
(handling,)g(36\22639)2430 2803 y(f)o(ault-related)h(re)o(gisters,)g
(37)2430 2903 y(hazard)g(mask,)h(137\226138)2430 3003
y(identi\002cation,)f(59)2430 3103 y(process)h(capability)-5
b(,)18 b FJ(32)2430 3203 y FM(re)o(gister)i(sa)n(v)o(e,)g(136,)f
(143\226148)2430 3303 y(re)o(gister)h(set,)g(29)2430
3402 y(reserv)o(ed)f(slots,)i(29)2430 3502 y(scheduling,)d(30)2430
3602 y(states,)j(22,)f(34,)f(36)2430 3702 y(thread)g(initiation,)h(142)
2430 3802 y(thread)f(acti)n(v)n(ation,)g(138)2430 3902
y(thread)g(initiation,)h(139)2430 4002 y(well-formed,)e(31)2264
4101 y(proof)2430 4201 y(access)j(control,)e(121)2430
4301 y(access)i(control)e(model,)g(114)2430 4401 y(access)i
(relationship,)d(115)2430 4501 y(accessed)i(relation,)f
FJ(111)2430 4601 y FM(and)h(ER)m(OS)g(constructor)m(,)e(122)2430
4700 y(authority)h(reduction)f(lemma,)h(118)2430 4800
y(correctness,)g(121)2430 4900 y(direct)h(access)h(realtion,)e(116)2430
5000 y(direct)h(access)h(relation,)e FJ(115)2430 5100
y FM(formal)g(model,)g(92\226107)2430 5200 y(mutable)g(relation,)g
FJ(117)2056 5410 y FM(189)p eop
%%Page: 190 206
190 205 bop 204 108 a FM(mutable)19 b(set,)i FJ(110)204
208 y FM(mutated)e(relation,)g FJ(111)204 308 y FM(non-modeled)d
(state,)21 b(120)204 408 y(potential)e(access)i(relation,)e
FJ(116\226117)204 508 y FM(PSOS,)h(198)204 608 y(read,)f
FJ(113)204 709 y FM(readable)f(relation,)i FJ(117)204
809 y FM(readable)e(set,)j FJ(110)204 909 y FM(readfrom,)c
FJ(113)204 1009 y FM(requirements)h(statement,)h(120)204
1109 y(steps,)h(13,)g(92)204 1209 y(system)g(state,)h(118)204
1310 y(v)o(eri\002cation,)d(112\226120)204 1410 y(weak)h(access,)i(114)
204 1510 y(wroteto,)e FJ(113)37 1610 y FM(protospace,)g
FI(see)h FM(constructor)m(,)e(protospace)37 1710 y(PSOS,)j(198)37
1902 y(Rainbo)n(w)f(Series,)g(177)37 2003 y(range)204
2103 y(capability)-5 b(,)18 b(46)287 2203 y(disk)i(realization,)f(168)
204 2303 y(superrange,)e(47)37 2403 y(range)j(capability)-5
b(,)18 b(46)37 2503 y(ranges)204 2604 y(disk)i(or)o(ganization,)c
(167\226169)204 2704 y(duple)o(xing,)h(168\226170)204
2804 y(object)i(frame)h(types,)f(168\226170)204 2904
y(range)g(header)m(,)f(168)37 3004 y(recursion,)h(34,)g(240)37
3104 y(red-black)g(tree,)h(172)37 3205 y(reference)f(monitor)m(,)f(47,)
i(109)37 3305 y(reference)f(monitor)m(,)f(89,)i(180,)f(206)37
3405 y(reference)g(monitors,)g(197)37 3505 y(rescind,)h(formal)f
(model,)g(102)37 3605 y(resource)g(management,)f(16,)i(55\22658,)e
(170\226173)204 3705 y(accountability)g(of)i(storage,)f(16)37
3806 y(returner)g(capability)-5 b(,)19 b(45)37 3906 y(re)n(v)n
(ocation,)g(selecti)n(v)o(e,)g(81)37 4006 y(rights)h(transfer)g
(control,)e(2,)i(205)37 4198 y(session)h(management,)d
FJ(66\22667)37 4298 y FM(space)j(bank,)e FJ(55\22658)204
4398 y FM(allocation)g(cache,)g(171)204 4498 y(allocation)g(strate)o
(gy)-5 b(,)18 b(170\226173)204 4599 y(allocation)h(tracking,)f
(172\226173)204 4699 y(and)h(ephemeral)g(storage,)g(58)204
4799 y(and)g(indirect)h(in)m(v)n(ocation,)e(57)204 4899
y(authentication,)f(57)204 4999 y(design)i(challenges,)g(166)204
5099 y(fragmentation)e(in)j(deallocation,)f(173)204 5200
y(idealized)g(design,)g(170)2130 108 y(implementation,)f(166\226174)
2130 207 y(locality)-5 b(,)19 b(170,)g(171,)g(173)2130
307 y(prime)h(bank,)e(57)1964 407 y(storage)i(accountability)-5
b(,)17 b(16)1964 506 y(SW)-8 b(,)21 b FI(see)g FM(formal)e(model)1964
689 y(tak)o(e-grant,)f(71,)i FJ(72\22680)p FM(,)e(194\226196)2130
788 y(access)j(graph,)d(73)2130 888 y(and)i(con\002nement,)e(71)2130
988 y(call)j(right,)e(73,)h(87)2130 1087 y(direct)g(access,)g(74\22676)
2130 1187 y(grant)f(right,)h FJ(71)2130 1287 y FM(limitations,)g
(80\22683)2130 1386 y(notation,)f(73)2130 1486 y(potential)g(access,)i
(74\22676)2130 1585 y(read)f(right,)f FJ(71)2130 1685
y FM(tak)o(e)h(right,)g FJ(71)2130 1785 y FM(vs.)25 b(diminish-tak)o
(e,)19 b(72,)g(194\226196)2130 1884 y(write)h(right,)g
FJ(71)1964 1984 y FM(threads,)f(138)2130 2084 y(acti)n(v)n(ation,)g
(138)2130 2183 y(initiation,)g(139\226142)1964 2366 y(virtual)h(cop)o
(y)2130 2465 y(address)g(space,)g FJ(64\22666)2213 2565
y FM(implementation,)e(164\226166)2213 2665 y(tra)n(v)o(ersal,)i(165)
2130 2764 y(algorithm,)e(64)2130 2864 y(constructor)m(,)g(62)1964
2964 y(VMS,)i(non-con\002nement,)d(12)1964 3146 y(W)m(indo)n(ws)j
(95/NT)-6 b(,)19 b(non-con\002nement,)d(12)1756 5410
y(190)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
