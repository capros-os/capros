<html>
<head>
  <title>CapROS kdb Reference</title>
</head>

<BODY BGCOLOR="#fff0ff" text="#000000" link="#0000ee" vlink="#551a8b" alink="#ff0000">
<div class=nocss>
  <br class=nocss>&nbsp;
</div>
<table>
  <tr>
    <td width="10%" valign=top class=toc>
      <b>UP</b>
      <br>&nbsp;
      <br><a href="../../capros.html"><em>CapROS home</em></a> 
      <br>&nbsp;
      <br><a href="Cover.html"><em>Kernel Development
      Guide</em></a> 
    </td>
    <td width=5%>&nbsp;</td>
    <td valign=top>
      <center>
	<H1 class=title><tt>kdb</tt> Reference</H1>
	<div class=nocss>
	  <br class=nocss>&nbsp;
	</div>
      </center>
      <h2>Name</h2>
      <p><b>kdb</b> -- Kernel Debugger</p>
      <h2>Description</h2>
      <b>kdb</b> is based on the Mach kernel debugger ddb.<p>
      Typing control-alt-d while CapROS is running will cause the kernel
      debugger to be entered.<p>
      This documentation is incomplete. 
      Try <a href="http://www.gsp.com/cgi-bin/man.cgi?section=4&topic=ddb">this link</a>
      for a formatted "man page", giving a description of most commands.
      Here are a few useful commands:
      <dl>
        <dt>help
        <dd>Print a list of commands.
        <dt>trace
        <dd>Print a stack trace.
        <dt>c
        <dd>Continue execution
        <dt>debug inttrap y
        <dt>debug inttrap n
        <dd>Turns the "dbg_inttrap" flag on and off. When on, the debugger
            is entered at the beginning of the interrupt/trap handler.
            The flag is off by default.
        <dt>debug wild y
        <dt>debug wild n
        <dd>If the kernel is configured with DBG_WILD_PTR defined, this
            command turns the "dbg_wild_ptr" flag on and off. 
            When on, the kernel does extensive checking of pointers.
            If configured, the flag is on by default.
        <dt>node &lt;OID&gt;
        <dd>Print the node with the specified OID.
        <dt>show
        <dd>Without any arguments, this command prints a list of arguments
            you can give. Here are explanations of some of them:
          <p>
          <dl>
          <dt>show inv
          <dd>If an CapROS invocation is active, this command prints 
              some information in the inv structure.
          <dt>show entry
          <dd>If an CapROS invocation is active, this command prints
              the information in the inv.entry structure.
          <dt>show exit
          <dd>If an CapROS invocation is active, this command prints
              the information in the inv.exit structure.
          <dt>show invokee
          <dd>If an CapROS invocation is active, this command prints
              the context of the invokee.
          <dt>show cckeys
          <dd>Print the key registers of the current thread.
          <dt>show invkeys
          <dd>If an CapROS invocation is active, this command prints
              the key registers of the invokee.
          <dt>show key &lt;address&gt
          <dd>Print the key at the specified address.
          <dt>show cckr [&lt;address&gt]
          <dd>Print all the keys that refer to the process
              context at the specified address (the keyring of the context).
              If no address is specified, this command prints
              the information for the current thread.
          <dt>show thread [&lt;address&gt]
          <dd>Print the thread at the specified address.
              If no address is specified, this command prints
              the current thread.
          <dt>show uthreads
          <dd>Print all the threads.
          <dt>show ctxt [&lt;address&gt;]
          <dd>Print the process context at the specified address.
              If no address is specified, this command prints the current
              thread's context.
          <dt>show sa &lt;address&gt
          <dd>Print the registers in the fixregs_t
              save area at the specified address.
          <dt>show node &lt;address&gt;
          <dd>Print the node at the specified address.
          <dt>show nodes
          <dd>Print information about all the nodes in memory.
          <dt>show pages
          <dd>Print information about all the pages in memory.
          </dl>
      </dl>
    </td>
    <td valign=top width=15%>&nbsp;</td>
  </tr>
</table>
      <hr>
<table>
<tr valign=top>
  <td width=92>
<a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=132228&amp;type=1" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>
  </td>
  <td>
  <em>Copyright 2000, 2001 by The EROS Group,
      2005, 2006 by Strawberry Development Group.  All rights reserved.
	      For terms of redistribution, see the <a
      href="../../legal/license/GPL.html">GNU General Public License</a></em>
   </td>
</tr>
</table>
</body>
</html>
